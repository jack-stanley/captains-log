/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CaptainsLogPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// node_modules/@google/genai/dist/web/index.mjs
var BaseModule = class {
};
function formatMap(templateString, valueMap) {
  const regex = /\{([^}]+)\}/g;
  return templateString.replace(regex, (match, key) => {
    if (Object.prototype.hasOwnProperty.call(valueMap, key)) {
      const value = valueMap[key];
      return value !== void 0 && value !== null ? String(value) : "";
    } else {
      throw new Error(`Key '${key}' not found in valueMap.`);
    }
  });
}
function setValueByPath(data, keys, value) {
  for (let i = 0; i < keys.length - 1; i++) {
    const key = keys[i];
    if (key.endsWith("[]")) {
      const keyName = key.slice(0, -2);
      if (!(keyName in data)) {
        if (Array.isArray(value)) {
          data[keyName] = Array.from({ length: value.length }, () => ({}));
        } else {
          throw new Error(`Value must be a list given an array path ${key}`);
        }
      }
      if (Array.isArray(data[keyName])) {
        const arrayData = data[keyName];
        if (Array.isArray(value)) {
          for (let j = 0; j < arrayData.length; j++) {
            const entry = arrayData[j];
            setValueByPath(entry, keys.slice(i + 1), value[j]);
          }
        } else {
          for (const d of arrayData) {
            setValueByPath(d, keys.slice(i + 1), value);
          }
        }
      }
      return;
    } else if (key.endsWith("[0]")) {
      const keyName = key.slice(0, -3);
      if (!(keyName in data)) {
        data[keyName] = [{}];
      }
      const arrayData = data[keyName];
      setValueByPath(arrayData[0], keys.slice(i + 1), value);
      return;
    }
    if (!data[key] || typeof data[key] !== "object") {
      data[key] = {};
    }
    data = data[key];
  }
  const keyToSet = keys[keys.length - 1];
  const existingData = data[keyToSet];
  if (existingData !== void 0) {
    if (!value || typeof value === "object" && Object.keys(value).length === 0) {
      return;
    }
    if (value === existingData) {
      return;
    }
    if (typeof existingData === "object" && typeof value === "object" && existingData !== null && value !== null) {
      Object.assign(existingData, value);
    } else {
      throw new Error(`Cannot set value for an existing key. Key: ${keyToSet}`);
    }
  } else {
    data[keyToSet] = value;
  }
}
function getValueByPath(data, keys) {
  try {
    if (keys.length === 1 && keys[0] === "_self") {
      return data;
    }
    for (let i = 0; i < keys.length; i++) {
      if (typeof data !== "object" || data === null) {
        return void 0;
      }
      const key = keys[i];
      if (key.endsWith("[]")) {
        const keyName = key.slice(0, -2);
        if (keyName in data) {
          const arrayData = data[keyName];
          if (!Array.isArray(arrayData)) {
            return void 0;
          }
          return arrayData.map((d) => getValueByPath(d, keys.slice(i + 1)));
        } else {
          return void 0;
        }
      } else {
        data = data[key];
      }
    }
    return data;
  } catch (error) {
    if (error instanceof TypeError) {
      return void 0;
    }
    throw error;
  }
}
function tModel(apiClient, model) {
  if (!model || typeof model !== "string") {
    throw new Error("model is required and must be a string");
  }
  if (apiClient.isVertexAI()) {
    if (model.startsWith("publishers/") || model.startsWith("projects/") || model.startsWith("models/")) {
      return model;
    } else if (model.indexOf("/") >= 0) {
      const parts = model.split("/", 2);
      return `publishers/${parts[0]}/models/${parts[1]}`;
    } else {
      return `publishers/google/models/${model}`;
    }
  } else {
    if (model.startsWith("models/") || model.startsWith("tunedModels/")) {
      return model;
    } else {
      return `models/${model}`;
    }
  }
}
function tCachesModel(apiClient, model) {
  const transformedModel = tModel(apiClient, model);
  if (!transformedModel) {
    return "";
  }
  if (transformedModel.startsWith("publishers/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/${transformedModel}`;
  } else if (transformedModel.startsWith("models/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/publishers/google/${transformedModel}`;
  } else {
    return transformedModel;
  }
}
function tPart(apiClient, origin) {
  if (origin === null || origin === void 0) {
    throw new Error("PartUnion is required");
  }
  if (typeof origin === "object") {
    return origin;
  }
  if (typeof origin === "string") {
    return { text: origin };
  }
  throw new Error(`Unsupported part type: ${typeof origin}`);
}
function tParts(apiClient, origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("PartListUnion is required");
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tPart(apiClient, item));
  }
  return [tPart(apiClient, origin)];
}
function _isContent(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "parts" in origin && Array.isArray(origin.parts);
}
function _isFunctionCallPart(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "functionCall" in origin;
}
function _isUserPart(origin) {
  if (origin === null || origin === void 0) {
    return false;
  }
  if (_isFunctionCallPart(origin)) {
    return false;
  }
  return true;
}
function _areUserParts(origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    return false;
  }
  return origin.every(_isUserPart);
}
function tContent(apiClient, origin) {
  if (origin === null || origin === void 0) {
    throw new Error("ContentUnion is required");
  }
  if (_isContent(origin)) {
    return origin;
  }
  if (_isUserPart(origin)) {
    return {
      role: "user",
      parts: tParts(apiClient, origin)
    };
  } else {
    return {
      role: "model",
      parts: tParts(apiClient, origin)
    };
  }
}
function tContentsForEmbed(apiClient, origin) {
  if (!origin) {
    return [];
  }
  if (apiClient.isVertexAI() && Array.isArray(origin)) {
    return origin.flatMap((item) => {
      const content = tContent(apiClient, item);
      if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
        return [content.parts[0].text];
      }
      return [];
    });
  } else if (apiClient.isVertexAI()) {
    const content = tContent(apiClient, origin);
    if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
      return [content.parts[0].text];
    }
    return [];
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tContent(apiClient, item));
  }
  return [tContent(apiClient, origin)];
}
function _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts) {
  if (accumulatedParts.length === 0) {
    return;
  }
  if (_areUserParts(accumulatedParts)) {
    result.push({
      role: "user",
      parts: tParts(apiClient, accumulatedParts)
    });
  } else {
    result.push({
      role: "model",
      parts: tParts(apiClient, accumulatedParts)
    });
  }
  accumulatedParts.length = 0;
}
function _handleCurrentPart(apiClient, result, accumulatedParts, currentPart) {
  if (_isUserPart(currentPart) === _areUserParts(accumulatedParts)) {
    accumulatedParts.push(currentPart);
  } else {
    _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
    accumulatedParts.length = 0;
    accumulatedParts.push(currentPart);
  }
}
function tContents(apiClient, origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("contents are required");
  }
  if (!Array.isArray(origin)) {
    return [tContent(apiClient, origin)];
  }
  const result = [];
  const accumulatedParts = [];
  for (const content of origin) {
    if (_isContent(content)) {
      _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
      result.push(content);
    } else if (typeof content === "string" || typeof content === "object" && !Array.isArray(content)) {
      _handleCurrentPart(apiClient, result, accumulatedParts, content);
    } else if (Array.isArray(content)) {
      _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
      result.push({
        role: "user",
        parts: tParts(apiClient, content)
      });
    } else {
      throw new Error(`Unsupported content type: ${typeof content}`);
    }
  }
  _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
  return result;
}
function processSchema(apiClient, schema) {
  if (!apiClient.isVertexAI()) {
    if ("default" in schema) {
      throw new Error("Default value is not supported in the response schema for the Gemini API.");
    }
  }
  if ("anyOf" in schema) {
    if (schema["anyOf"] !== void 0) {
      for (const subSchema of schema["anyOf"]) {
        processSchema(apiClient, subSchema);
      }
    }
  }
  if ("items" in schema) {
    if (schema["items"] !== void 0) {
      processSchema(apiClient, schema["items"]);
    }
  }
  if ("properties" in schema) {
    if (schema["properties"] !== void 0) {
      for (const subSchema of Object.values(schema["properties"])) {
        processSchema(apiClient, subSchema);
      }
    }
  }
}
function tSchema(apiClient, schema) {
  processSchema(apiClient, schema);
  return schema;
}
function tSpeechConfig(apiClient, speechConfig) {
  if (typeof speechConfig === "object" && "voiceConfig" in speechConfig) {
    return speechConfig;
  } else if (typeof speechConfig === "string") {
    return {
      voiceConfig: {
        prebuiltVoiceConfig: {
          voiceName: speechConfig
        }
      }
    };
  } else {
    throw new Error(`Unsupported speechConfig type: ${typeof speechConfig}`);
  }
}
function tTool(apiClient, tool) {
  return tool;
}
function tTools(apiClient, tool) {
  if (!Array.isArray(tool)) {
    throw new Error("tool is required and must be an array of Tools");
  }
  return tool;
}
function resourceName(client, resourceName2, resourcePrefix, splitsAfterPrefix = 1) {
  const shouldAppendPrefix = !resourceName2.startsWith(`${resourcePrefix}/`) && resourceName2.split("/").length === splitsAfterPrefix;
  if (client.isVertexAI()) {
    if (resourceName2.startsWith("projects/")) {
      return resourceName2;
    } else if (resourceName2.startsWith("locations/")) {
      return `projects/${client.getProject()}/${resourceName2}`;
    } else if (resourceName2.startsWith(`${resourcePrefix}/`)) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourceName2}`;
    } else if (shouldAppendPrefix) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourcePrefix}/${resourceName2}`;
    } else {
      return resourceName2;
    }
  }
  if (shouldAppendPrefix) {
    return `${resourcePrefix}/${resourceName2}`;
  }
  return resourceName2;
}
function tCachedContentName(apiClient, name) {
  if (typeof name !== "string") {
    throw new Error("name must be a string");
  }
  return resourceName(apiClient, name, "cachedContents");
}
function tBytes(apiClient, fromImageBytes) {
  if (typeof fromImageBytes !== "string") {
    throw new Error("fromImageBytes must be a string");
  }
  return fromImageBytes;
}
function tFileName(apiClient, fromName) {
  if (typeof fromName !== "string") {
    throw new Error("fromName must be a string");
  }
  if (fromName.startsWith("files/")) {
    return fromName.split("files/")[1];
  }
  return fromName;
}
function partToMldev$1(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["videoMetadata"]) !== void 0) {
    throw new Error("videoMetadata parameter is not supported in Gemini API.");
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function functionDeclarationToMldev$1(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["response"]) !== void 0) {
    throw new Error("response parameter is not supported in Gemini API.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToMldev$1() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToMldev$1(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$1());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToMldev$1(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev$1(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function createCachedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev$1(apiClient, item);
      })));
    } else {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev$1(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev$1(apiClient, fromToolConfig));
  }
  return toObject;
}
function createCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], createCachedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function updateCachedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], updateCachedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function listCachedContentsConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listCachedContentsConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromExample = getValueByPath(fromObject, ["example"]);
  if (fromExample != null) {
    setValueByPath(toObject, ["example"], fromExample);
  }
  const fromPattern = getValueByPath(fromObject, ["pattern"]);
  if (fromPattern != null) {
    setValueByPath(toObject, ["pattern"], fromPattern);
  }
  const fromDefault = getValueByPath(fromObject, ["default"]);
  if (fromDefault != null) {
    setValueByPath(toObject, ["default"], fromDefault);
  }
  const fromMaxLength = getValueByPath(fromObject, ["maxLength"]);
  if (fromMaxLength != null) {
    setValueByPath(toObject, ["maxLength"], fromMaxLength);
  }
  const fromMinLength = getValueByPath(fromObject, ["minLength"]);
  if (fromMinLength != null) {
    setValueByPath(toObject, ["minLength"], fromMinLength);
  }
  const fromMinProperties = getValueByPath(fromObject, [
    "minProperties"
  ]);
  if (fromMinProperties != null) {
    setValueByPath(toObject, ["minProperties"], fromMinProperties);
  }
  const fromMaxProperties = getValueByPath(fromObject, [
    "maxProperties"
  ]);
  if (fromMaxProperties != null) {
    setValueByPath(toObject, ["maxProperties"], fromMaxProperties);
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function functionDeclarationToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], schemaToVertex$1(apiClient, fromResponse));
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToVertex$1() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToVertex$1(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToVertex$1());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToVertex$1(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToVertex$1(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function createCachedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex$1(apiClient, item);
      })));
    } else {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex$1(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToVertex$1(apiClient, fromToolConfig));
  }
  return toObject;
}
function createCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], createCachedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function updateCachedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], updateCachedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function listCachedContentsConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listCachedContentsConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function cachedContentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (fromExpireTime != null) {
    setValueByPath(toObject, ["expireTime"], fromExpireTime);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function deleteCachedContentResponseFromMldev() {
  const toObject = {};
  return toObject;
}
function listCachedContentsResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    if (Array.isArray(fromCachedContents)) {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents.map((item) => {
        return cachedContentFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents);
    }
  }
  return toObject;
}
function cachedContentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (fromExpireTime != null) {
    setValueByPath(toObject, ["expireTime"], fromExpireTime);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function deleteCachedContentResponseFromVertex() {
  const toObject = {};
  return toObject;
}
function listCachedContentsResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    if (Array.isArray(fromCachedContents)) {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents.map((item) => {
        return cachedContentFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents);
    }
  }
  return toObject;
}
var PagedItem;
(function(PagedItem2) {
  PagedItem2["PAGED_ITEM_BATCH_JOBS"] = "batchJobs";
  PagedItem2["PAGED_ITEM_MODELS"] = "models";
  PagedItem2["PAGED_ITEM_TUNING_JOBS"] = "tuningJobs";
  PagedItem2["PAGED_ITEM_FILES"] = "files";
  PagedItem2["PAGED_ITEM_CACHED_CONTENTS"] = "cachedContents";
})(PagedItem || (PagedItem = {}));
var Pager = class {
  constructor(name, request, response, params) {
    this.pageInternal = [];
    this.paramsInternal = {};
    this.requestInternal = request;
    this.init(name, response, params);
  }
  init(name, response, params) {
    var _a, _b;
    this.nameInternal = name;
    this.pageInternal = response[this.nameInternal] || [];
    this.idxInternal = 0;
    let requestParams = { config: {} };
    if (!params) {
      requestParams = { config: {} };
    } else if (typeof params === "object") {
      requestParams = Object.assign({}, params);
    } else {
      requestParams = params;
    }
    if (requestParams["config"]) {
      requestParams["config"]["pageToken"] = response["nextPageToken"];
    }
    this.paramsInternal = requestParams;
    this.pageInternalSize = (_b = (_a = requestParams["config"]) === null || _a === void 0 ? void 0 : _a["pageSize"]) !== null && _b !== void 0 ? _b : this.pageInternal.length;
  }
  initNextPage(response) {
    this.init(this.nameInternal, response, this.paramsInternal);
  }
  /**
   * Returns the current page, which is a list of items.
   *
   * @remarks
   * The first page is retrieved when the pager is created. The returned list of
   * items could be a subset of the entire list.
   */
  get page() {
    return this.pageInternal;
  }
  /**
   * Returns the type of paged item (for example, ``batch_jobs``).
   */
  get name() {
    return this.nameInternal;
  }
  /**
   * Returns the length of the page fetched each time by this pager.
   *
   * @remarks
   * The number of items in the page is less than or equal to the page length.
   */
  get pageSize() {
    return this.pageInternalSize;
  }
  /**
   * Returns the parameters when making the API request for the next page.
   *
   * @remarks
   * Parameters contain a set of optional configs that can be
   * used to customize the API request. For example, the `pageToken` parameter
   * contains the token to request the next page.
   */
  get params() {
    return this.paramsInternal;
  }
  /**
   * Returns the total number of items in the current page.
   */
  get pageLength() {
    return this.pageInternal.length;
  }
  /**
   * Returns the item at the given index.
   */
  getItem(index) {
    return this.pageInternal[index];
  }
  /**
   * Returns an async iterator that support iterating through all items
   * retrieved from the API.
   *
   * @remarks
   * The iterator will automatically fetch the next page if there are more items
   * to fetch from the API.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * for await (const file of pager) {
   *   console.log(file.name);
   * }
   * ```
   */
  [Symbol.asyncIterator]() {
    return {
      next: async () => {
        if (this.idxInternal >= this.pageLength) {
          if (this.hasNextPage()) {
            await this.nextPage();
          } else {
            return { value: void 0, done: true };
          }
        }
        const item = this.getItem(this.idxInternal);
        this.idxInternal += 1;
        return { value: item, done: false };
      },
      return: async () => {
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * Fetches the next page of items. This makes a new API request.
   *
   * @throws {Error} If there are no more pages to fetch.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * let page = pager.page;
   * while (true) {
   *   for (const file of page) {
   *     console.log(file.name);
   *   }
   *   if (!pager.hasNextPage()) {
   *     break;
   *   }
   *   page = await pager.nextPage();
   * }
   * ```
   */
  async nextPage() {
    if (!this.hasNextPage()) {
      throw new Error("No more pages to fetch.");
    }
    const response = await this.requestInternal(this.params);
    this.initNextPage(response);
    return this.page;
  }
  /**
   * Returns true if there are more pages to fetch from the API.
   */
  hasNextPage() {
    var _a;
    if (((_a = this.params["config"]) === null || _a === void 0 ? void 0 : _a["pageToken"]) !== void 0) {
      return true;
    }
    return false;
  }
};
var Outcome;
(function(Outcome2) {
  Outcome2["OUTCOME_UNSPECIFIED"] = "OUTCOME_UNSPECIFIED";
  Outcome2["OUTCOME_OK"] = "OUTCOME_OK";
  Outcome2["OUTCOME_FAILED"] = "OUTCOME_FAILED";
  Outcome2["OUTCOME_DEADLINE_EXCEEDED"] = "OUTCOME_DEADLINE_EXCEEDED";
})(Outcome || (Outcome = {}));
var Language;
(function(Language2) {
  Language2["LANGUAGE_UNSPECIFIED"] = "LANGUAGE_UNSPECIFIED";
  Language2["PYTHON"] = "PYTHON";
})(Language || (Language = {}));
var Type;
(function(Type2) {
  Type2["TYPE_UNSPECIFIED"] = "TYPE_UNSPECIFIED";
  Type2["STRING"] = "STRING";
  Type2["NUMBER"] = "NUMBER";
  Type2["INTEGER"] = "INTEGER";
  Type2["BOOLEAN"] = "BOOLEAN";
  Type2["ARRAY"] = "ARRAY";
  Type2["OBJECT"] = "OBJECT";
})(Type || (Type = {}));
var HarmCategory;
(function(HarmCategory2) {
  HarmCategory2["HARM_CATEGORY_UNSPECIFIED"] = "HARM_CATEGORY_UNSPECIFIED";
  HarmCategory2["HARM_CATEGORY_HATE_SPEECH"] = "HARM_CATEGORY_HATE_SPEECH";
  HarmCategory2["HARM_CATEGORY_DANGEROUS_CONTENT"] = "HARM_CATEGORY_DANGEROUS_CONTENT";
  HarmCategory2["HARM_CATEGORY_HARASSMENT"] = "HARM_CATEGORY_HARASSMENT";
  HarmCategory2["HARM_CATEGORY_SEXUALLY_EXPLICIT"] = "HARM_CATEGORY_SEXUALLY_EXPLICIT";
  HarmCategory2["HARM_CATEGORY_CIVIC_INTEGRITY"] = "HARM_CATEGORY_CIVIC_INTEGRITY";
})(HarmCategory || (HarmCategory = {}));
var HarmBlockMethod;
(function(HarmBlockMethod2) {
  HarmBlockMethod2["HARM_BLOCK_METHOD_UNSPECIFIED"] = "HARM_BLOCK_METHOD_UNSPECIFIED";
  HarmBlockMethod2["SEVERITY"] = "SEVERITY";
  HarmBlockMethod2["PROBABILITY"] = "PROBABILITY";
})(HarmBlockMethod || (HarmBlockMethod = {}));
var HarmBlockThreshold;
(function(HarmBlockThreshold2) {
  HarmBlockThreshold2["HARM_BLOCK_THRESHOLD_UNSPECIFIED"] = "HARM_BLOCK_THRESHOLD_UNSPECIFIED";
  HarmBlockThreshold2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  HarmBlockThreshold2["BLOCK_NONE"] = "BLOCK_NONE";
  HarmBlockThreshold2["OFF"] = "OFF";
})(HarmBlockThreshold || (HarmBlockThreshold = {}));
var Mode;
(function(Mode2) {
  Mode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  Mode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(Mode || (Mode = {}));
var FinishReason;
(function(FinishReason2) {
  FinishReason2["FINISH_REASON_UNSPECIFIED"] = "FINISH_REASON_UNSPECIFIED";
  FinishReason2["STOP"] = "STOP";
  FinishReason2["MAX_TOKENS"] = "MAX_TOKENS";
  FinishReason2["SAFETY"] = "SAFETY";
  FinishReason2["RECITATION"] = "RECITATION";
  FinishReason2["OTHER"] = "OTHER";
  FinishReason2["BLOCKLIST"] = "BLOCKLIST";
  FinishReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
  FinishReason2["SPII"] = "SPII";
  FinishReason2["MALFORMED_FUNCTION_CALL"] = "MALFORMED_FUNCTION_CALL";
  FinishReason2["IMAGE_SAFETY"] = "IMAGE_SAFETY";
})(FinishReason || (FinishReason = {}));
var HarmProbability;
(function(HarmProbability2) {
  HarmProbability2["HARM_PROBABILITY_UNSPECIFIED"] = "HARM_PROBABILITY_UNSPECIFIED";
  HarmProbability2["NEGLIGIBLE"] = "NEGLIGIBLE";
  HarmProbability2["LOW"] = "LOW";
  HarmProbability2["MEDIUM"] = "MEDIUM";
  HarmProbability2["HIGH"] = "HIGH";
})(HarmProbability || (HarmProbability = {}));
var HarmSeverity;
(function(HarmSeverity2) {
  HarmSeverity2["HARM_SEVERITY_UNSPECIFIED"] = "HARM_SEVERITY_UNSPECIFIED";
  HarmSeverity2["HARM_SEVERITY_NEGLIGIBLE"] = "HARM_SEVERITY_NEGLIGIBLE";
  HarmSeverity2["HARM_SEVERITY_LOW"] = "HARM_SEVERITY_LOW";
  HarmSeverity2["HARM_SEVERITY_MEDIUM"] = "HARM_SEVERITY_MEDIUM";
  HarmSeverity2["HARM_SEVERITY_HIGH"] = "HARM_SEVERITY_HIGH";
})(HarmSeverity || (HarmSeverity = {}));
var BlockedReason;
(function(BlockedReason2) {
  BlockedReason2["BLOCKED_REASON_UNSPECIFIED"] = "BLOCKED_REASON_UNSPECIFIED";
  BlockedReason2["SAFETY"] = "SAFETY";
  BlockedReason2["OTHER"] = "OTHER";
  BlockedReason2["BLOCKLIST"] = "BLOCKLIST";
  BlockedReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
})(BlockedReason || (BlockedReason = {}));
var TrafficType;
(function(TrafficType2) {
  TrafficType2["TRAFFIC_TYPE_UNSPECIFIED"] = "TRAFFIC_TYPE_UNSPECIFIED";
  TrafficType2["ON_DEMAND"] = "ON_DEMAND";
  TrafficType2["PROVISIONED_THROUGHPUT"] = "PROVISIONED_THROUGHPUT";
})(TrafficType || (TrafficType = {}));
var Modality;
(function(Modality2) {
  Modality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  Modality2["TEXT"] = "TEXT";
  Modality2["IMAGE"] = "IMAGE";
  Modality2["AUDIO"] = "AUDIO";
})(Modality || (Modality = {}));
var MediaResolution;
(function(MediaResolution2) {
  MediaResolution2["MEDIA_RESOLUTION_UNSPECIFIED"] = "MEDIA_RESOLUTION_UNSPECIFIED";
  MediaResolution2["MEDIA_RESOLUTION_LOW"] = "MEDIA_RESOLUTION_LOW";
  MediaResolution2["MEDIA_RESOLUTION_MEDIUM"] = "MEDIA_RESOLUTION_MEDIUM";
  MediaResolution2["MEDIA_RESOLUTION_HIGH"] = "MEDIA_RESOLUTION_HIGH";
})(MediaResolution || (MediaResolution = {}));
var DynamicRetrievalConfigMode;
(function(DynamicRetrievalConfigMode2) {
  DynamicRetrievalConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  DynamicRetrievalConfigMode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(DynamicRetrievalConfigMode || (DynamicRetrievalConfigMode = {}));
var FunctionCallingConfigMode;
(function(FunctionCallingConfigMode2) {
  FunctionCallingConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  FunctionCallingConfigMode2["AUTO"] = "AUTO";
  FunctionCallingConfigMode2["ANY"] = "ANY";
  FunctionCallingConfigMode2["NONE"] = "NONE";
})(FunctionCallingConfigMode || (FunctionCallingConfigMode = {}));
var SafetyFilterLevel;
(function(SafetyFilterLevel2) {
  SafetyFilterLevel2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  SafetyFilterLevel2["BLOCK_NONE"] = "BLOCK_NONE";
})(SafetyFilterLevel || (SafetyFilterLevel = {}));
var PersonGeneration;
(function(PersonGeneration2) {
  PersonGeneration2["DONT_ALLOW"] = "DONT_ALLOW";
  PersonGeneration2["ALLOW_ADULT"] = "ALLOW_ADULT";
  PersonGeneration2["ALLOW_ALL"] = "ALLOW_ALL";
})(PersonGeneration || (PersonGeneration = {}));
var ImagePromptLanguage;
(function(ImagePromptLanguage2) {
  ImagePromptLanguage2["auto"] = "auto";
  ImagePromptLanguage2["en"] = "en";
  ImagePromptLanguage2["ja"] = "ja";
  ImagePromptLanguage2["ko"] = "ko";
  ImagePromptLanguage2["hi"] = "hi";
})(ImagePromptLanguage || (ImagePromptLanguage = {}));
var FileState;
(function(FileState2) {
  FileState2["STATE_UNSPECIFIED"] = "STATE_UNSPECIFIED";
  FileState2["PROCESSING"] = "PROCESSING";
  FileState2["ACTIVE"] = "ACTIVE";
  FileState2["FAILED"] = "FAILED";
})(FileState || (FileState = {}));
var FileSource;
(function(FileSource2) {
  FileSource2["SOURCE_UNSPECIFIED"] = "SOURCE_UNSPECIFIED";
  FileSource2["UPLOADED"] = "UPLOADED";
  FileSource2["GENERATED"] = "GENERATED";
})(FileSource || (FileSource = {}));
var MaskReferenceMode;
(function(MaskReferenceMode2) {
  MaskReferenceMode2["MASK_MODE_DEFAULT"] = "MASK_MODE_DEFAULT";
  MaskReferenceMode2["MASK_MODE_USER_PROVIDED"] = "MASK_MODE_USER_PROVIDED";
  MaskReferenceMode2["MASK_MODE_BACKGROUND"] = "MASK_MODE_BACKGROUND";
  MaskReferenceMode2["MASK_MODE_FOREGROUND"] = "MASK_MODE_FOREGROUND";
  MaskReferenceMode2["MASK_MODE_SEMANTIC"] = "MASK_MODE_SEMANTIC";
})(MaskReferenceMode || (MaskReferenceMode = {}));
var ControlReferenceType;
(function(ControlReferenceType2) {
  ControlReferenceType2["CONTROL_TYPE_DEFAULT"] = "CONTROL_TYPE_DEFAULT";
  ControlReferenceType2["CONTROL_TYPE_CANNY"] = "CONTROL_TYPE_CANNY";
  ControlReferenceType2["CONTROL_TYPE_SCRIBBLE"] = "CONTROL_TYPE_SCRIBBLE";
  ControlReferenceType2["CONTROL_TYPE_FACE_MESH"] = "CONTROL_TYPE_FACE_MESH";
})(ControlReferenceType || (ControlReferenceType = {}));
var SubjectReferenceType;
(function(SubjectReferenceType2) {
  SubjectReferenceType2["SUBJECT_TYPE_DEFAULT"] = "SUBJECT_TYPE_DEFAULT";
  SubjectReferenceType2["SUBJECT_TYPE_PERSON"] = "SUBJECT_TYPE_PERSON";
  SubjectReferenceType2["SUBJECT_TYPE_ANIMAL"] = "SUBJECT_TYPE_ANIMAL";
  SubjectReferenceType2["SUBJECT_TYPE_PRODUCT"] = "SUBJECT_TYPE_PRODUCT";
})(SubjectReferenceType || (SubjectReferenceType = {}));
var MediaModality;
(function(MediaModality2) {
  MediaModality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  MediaModality2["TEXT"] = "TEXT";
  MediaModality2["IMAGE"] = "IMAGE";
  MediaModality2["VIDEO"] = "VIDEO";
  MediaModality2["AUDIO"] = "AUDIO";
  MediaModality2["DOCUMENT"] = "DOCUMENT";
})(MediaModality || (MediaModality = {}));
var StartSensitivity;
(function(StartSensitivity2) {
  StartSensitivity2["START_SENSITIVITY_UNSPECIFIED"] = "START_SENSITIVITY_UNSPECIFIED";
  StartSensitivity2["START_SENSITIVITY_HIGH"] = "START_SENSITIVITY_HIGH";
  StartSensitivity2["START_SENSITIVITY_LOW"] = "START_SENSITIVITY_LOW";
})(StartSensitivity || (StartSensitivity = {}));
var EndSensitivity;
(function(EndSensitivity2) {
  EndSensitivity2["END_SENSITIVITY_UNSPECIFIED"] = "END_SENSITIVITY_UNSPECIFIED";
  EndSensitivity2["END_SENSITIVITY_HIGH"] = "END_SENSITIVITY_HIGH";
  EndSensitivity2["END_SENSITIVITY_LOW"] = "END_SENSITIVITY_LOW";
})(EndSensitivity || (EndSensitivity = {}));
var ActivityHandling;
(function(ActivityHandling2) {
  ActivityHandling2["ACTIVITY_HANDLING_UNSPECIFIED"] = "ACTIVITY_HANDLING_UNSPECIFIED";
  ActivityHandling2["START_OF_ACTIVITY_INTERRUPTS"] = "START_OF_ACTIVITY_INTERRUPTS";
  ActivityHandling2["NO_INTERRUPTION"] = "NO_INTERRUPTION";
})(ActivityHandling || (ActivityHandling = {}));
var TurnCoverage;
(function(TurnCoverage2) {
  TurnCoverage2["TURN_COVERAGE_UNSPECIFIED"] = "TURN_COVERAGE_UNSPECIFIED";
  TurnCoverage2["TURN_INCLUDES_ONLY_ACTIVITY"] = "TURN_INCLUDES_ONLY_ACTIVITY";
  TurnCoverage2["TURN_INCLUDES_ALL_INPUT"] = "TURN_INCLUDES_ALL_INPUT";
})(TurnCoverage || (TurnCoverage = {}));
var GenerateContentResponse = class {
  /**
   * Returns the concatenation of all text parts from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the text from the first
   * one will be returned.
   * If there are non-text parts in the response, the concatenation of all text
   * parts will be returned, and a warning will be logged.
   * If there are thought parts in the response, the concatenation of all text
   * parts excluding the thought parts will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'Why is the sky blue?',
   * });
   *
   * console.debug(response.text);
   * ```
   */
  get text() {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning text from the first one.");
    }
    let text = "";
    let anyTextPartText = false;
    const nonTextParts = [];
    for (const part of (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) !== null && _h !== void 0 ? _h : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "text" && fieldName !== "thought" && (fieldValue !== null || fieldValue !== void 0)) {
          nonTextParts.push(fieldName);
        }
      }
      if (typeof part.text === "string") {
        if (typeof part.thought === "boolean" && part.thought) {
          continue;
        }
        anyTextPartText = true;
        text += part.text;
      }
    }
    if (nonTextParts.length > 0) {
      console.warn(`there are non-text parts ${nonTextParts} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`);
    }
    return anyTextPartText ? text : void 0;
  }
  /**
   * Returns the function calls from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the function calls from
   * the first one will be returned.
   * If there are no function calls in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const controlLightFunctionDeclaration: FunctionDeclaration = {
   *   name: 'controlLight',
   *   parameters: {
   *   type: Type.OBJECT,
   *   description: 'Set the brightness and color temperature of a room light.',
   *   properties: {
   *     brightness: {
   *       type: Type.NUMBER,
   *       description:
   *         'Light level from 0 to 100. Zero is off and 100 is full brightness.',
   *     },
   *     colorTemperature: {
   *       type: Type.STRING,
   *       description:
   *         'Color temperature of the light fixture which can be `daylight`, `cool` or `warm`.',
   *     },
   *   },
   *   required: ['brightness', 'colorTemperature'],
   *  };
   *  const response = await ai.models.generateContent({
   *     model: 'gemini-2.0-flash',
   *     contents: 'Dim the lights so the room feels cozy and warm.',
   *     config: {
   *       tools: [{functionDeclarations: [controlLightFunctionDeclaration]}],
   *       toolConfig: {
   *         functionCallingConfig: {
   *           mode: FunctionCallingConfigMode.ANY,
   *           allowedFunctionNames: ['controlLight'],
   *         },
   *       },
   *     },
   *   });
   *  console.debug(JSON.stringify(response.functionCalls));
   * ```
   */
  get functionCalls() {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning function calls from the first one.");
    }
    const functionCalls = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.functionCall).map((part) => part.functionCall).filter((functionCall) => functionCall !== void 0);
    if ((functionCalls === null || functionCalls === void 0 ? void 0 : functionCalls.length) === 0) {
      return void 0;
    }
    return functionCalls;
  }
  /**
   * Returns the first executable code from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the executable code from
   * the first one will be returned.
   * If there are no executable code in the response, undefined will be
   * returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.executableCode);
   * ```
   */
  get executableCode() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning executable code from the first one.");
    }
    const executableCode = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.executableCode).map((part) => part.executableCode).filter((executableCode2) => executableCode2 !== void 0);
    if ((executableCode === null || executableCode === void 0 ? void 0 : executableCode.length) === 0) {
      return void 0;
    }
    return (_j = executableCode === null || executableCode === void 0 ? void 0 : executableCode[0]) === null || _j === void 0 ? void 0 : _j.code;
  }
  /**
   * Returns the first code execution result from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the code execution result from
   * the first one will be returned.
   * If there are no code execution result in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.codeExecutionResult);
   * ```
   */
  get codeExecutionResult() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning code execution result from the first one.");
    }
    const codeExecutionResult = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.codeExecutionResult).map((part) => part.codeExecutionResult).filter((codeExecutionResult2) => codeExecutionResult2 !== void 0);
    if ((codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult.length) === 0) {
      return void 0;
    }
    return (_j = codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult[0]) === null || _j === void 0 ? void 0 : _j.output;
  }
};
var EmbedContentResponse = class {
};
var GenerateImagesResponse = class {
};
var CountTokensResponse = class {
};
var ComputeTokensResponse = class {
};
var DeleteCachedContentResponse = class {
};
var ListCachedContentsResponse = class {
};
var ListFilesResponse = class {
};
var HttpResponse = class {
  constructor(response) {
    const headers = {};
    for (const pair of response.headers.entries()) {
      headers[pair[0]] = pair[1];
    }
    this.headers = headers;
    this.responseInternal = response;
  }
  json() {
    return this.responseInternal.json();
  }
};
var CreateFileResponse = class {
};
var DeleteFileResponse = class {
};
var Caches = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Creates a cached contents resource.
   *
   * @remarks
   * Context caching is only supported for specific models. See [Gemini
   * Developer API reference] (https://ai.google.dev/gemini-api/docs/caching?lang=node/context-cac)
   * and [Vertex AI reference] (https://cloud.google.com/vertex-ai/generative-ai/docs/context-cache/context-cache-overview#supported_models)
   * for more information.
   *
   * @param params - The parameters for the create request.
   * @return The created cached content.
   *
   * @example
   * ```ts
   * const contents = ...; // Initialize the content to cache.
   * const response = await ai.caches.create({
   *   model: 'gemini-1.5-flash',
   *   config: {
   *    'contents': contents,
   *    'displayName': 'test cache',
   *    'systemInstruction': 'What is the sum of the two pdfs?',
   *    'ttl': '86400s',
   *  }
   * });
   * ```
   */
  async create(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = createCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = createCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Gets cached content configurations.
   *
   * @param params - The parameters for the get request.
   * @return The cached content.
   *
   * @example
   * ```ts
   * await ai.caches.get({name: 'gemini-1.5-flash'});
   * ```
   */
  async get(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Deletes cached content.
   *
   * @param params - The parameters for the delete request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.caches.delete({name: 'gemini-1.5-flash'});
   * ```
   */
  async delete(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = deleteCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteCachedContentResponseFromVertex();
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = deleteCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteCachedContentResponseFromMldev();
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Updates cached content configurations.
   *
   * @param params - The parameters for the update request.
   * @return The updated cached content.
   *
   * @example
   * ```ts
   * const response = await ai.caches.update({
   *   name: 'gemini-1.5-flash',
   *   config: {'ttl': '7600s'}
   * });
   * ```
   */
  async update(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = updateCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = updateCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  async listInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listCachedContentsParametersToVertex(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listCachedContentsParametersToMldev(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m)
    return m.call(o);
  if (o && typeof o.length === "number")
    return {
      next: function() {
        if (o && i >= o.length)
          o = void 0;
        return { value: o && o[i++], done: !o };
      }
    };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}
function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = Object.create((typeof AsyncIterator === "function" ? AsyncIterator : Object).prototype), verb("next"), verb("throw"), verb("return", awaitReturn), i[Symbol.asyncIterator] = function() {
    return this;
  }, i;
  function awaitReturn(f) {
    return function(v) {
      return Promise.resolve(v).then(f, reject);
    };
  }
  function verb(n, f) {
    if (g[n]) {
      i[n] = function(v) {
        return new Promise(function(a, b) {
          q.push([n, v, a, b]) > 1 || resume(n, v);
        });
      };
      if (f)
        i[n] = f(i[n]);
    }
  }
  function resume(n, v) {
    try {
      step(g[n](v));
    } catch (e) {
      settle(q[0][3], e);
    }
  }
  function step(r) {
    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
  }
  function fulfill(value) {
    resume("next", value);
  }
  function reject(value) {
    resume("throw", value);
  }
  function settle(f, v) {
    if (f(v), q.shift(), q.length)
      resume(q[0][0], q[0][1]);
  }
}
function __asyncValues(o) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
    return this;
  }, i);
  function verb(n) {
    i[n] = o[n] && function(v) {
      return new Promise(function(resolve, reject) {
        v = o[n](v), settle(resolve, reject, v.done, v.value);
      });
    };
  }
  function settle(resolve, reject, d, v) {
    Promise.resolve(v).then(function(v2) {
      resolve({ value: v2, done: d });
    }, reject);
  }
}
function isValidResponse(response) {
  var _a;
  if (response.candidates == void 0 || response.candidates.length === 0) {
    return false;
  }
  const content = (_a = response.candidates[0]) === null || _a === void 0 ? void 0 : _a.content;
  if (content === void 0) {
    return false;
  }
  return isValidContent(content);
}
function isValidContent(content) {
  if (content.parts === void 0 || content.parts.length === 0) {
    return false;
  }
  for (const part of content.parts) {
    if (part === void 0 || Object.keys(part).length === 0) {
      return false;
    }
    if (part.text !== void 0 && part.text === "") {
      return false;
    }
  }
  return true;
}
function validateHistory(history) {
  if (history.length === 0) {
    return;
  }
  if (history[0].role !== "user") {
    throw new Error("History must start with a user turn.");
  }
  for (const content of history) {
    if (content.role !== "user" && content.role !== "model") {
      throw new Error(`Role must be user or model, but got ${content.role}.`);
    }
  }
}
function extractCuratedHistory(comprehensiveHistory) {
  if (comprehensiveHistory === void 0 || comprehensiveHistory.length === 0) {
    return [];
  }
  const curatedHistory = [];
  const length = comprehensiveHistory.length;
  let i = 0;
  let userInput = comprehensiveHistory[0];
  while (i < length) {
    if (comprehensiveHistory[i].role === "user") {
      userInput = comprehensiveHistory[i];
      i++;
    } else {
      const modelOutput = [];
      let isValid = true;
      while (i < length && comprehensiveHistory[i].role === "model") {
        modelOutput.push(comprehensiveHistory[i]);
        if (isValid && !isValidContent(comprehensiveHistory[i])) {
          isValid = false;
        }
        i++;
      }
      if (isValid) {
        curatedHistory.push(userInput);
        curatedHistory.push(...modelOutput);
      }
    }
  }
  return curatedHistory;
}
var Chats = class {
  constructor(modelsModule, apiClient) {
    this.modelsModule = modelsModule;
    this.apiClient = apiClient;
  }
  /**
   * Creates a new chat session.
   *
   * @remarks
   * The config in the params will be used for all requests within the chat
   * session unless overridden by a per-request `config` in
   * @see {@link types.SendMessageParameters#config}.
   *
   * @param params - Parameters for creating a chat session.
   * @returns A new chat session.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({
   *   model: 'gemini-2.0-flash'
   *   config: {
   *     temperature: 0.5,
   *     maxOutputTokens: 1024,
   *   }
   * });
   * ```
   */
  create(params) {
    return new Chat(this.apiClient, this.modelsModule, params.model, params.config, params.history);
  }
};
var Chat = class {
  constructor(apiClient, modelsModule, model, config = {}, history = []) {
    this.apiClient = apiClient;
    this.modelsModule = modelsModule;
    this.model = model;
    this.config = config;
    this.history = history;
    this.sendPromise = Promise.resolve();
    validateHistory(history);
  }
  /**
   * Sends a message to the model and returns the response.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessageStream} for streaming method.
   * @param params - parameters for sending messages within a chat session.
   * @returns The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessage({
   *   message: 'Why is the sky blue?'
   * });
   * console.log(response.text);
   * ```
   */
  async sendMessage(params) {
    var _a;
    await this.sendPromise;
    const inputContent = tContent(this.apiClient, params.message);
    const responsePromise = this.modelsModule.generateContent({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a = params.config) !== null && _a !== void 0 ? _a : this.config
    });
    this.sendPromise = (async () => {
      var _a2, _b;
      const response = await responsePromise;
      const outputContent = (_b = (_a2 = response.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content;
      const modelOutput = outputContent ? [outputContent] : [];
      this.recordHistory(inputContent, modelOutput);
      return;
    })();
    await this.sendPromise;
    return responsePromise;
  }
  /**
   * Sends a message to the model and returns the response in chunks.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessage} for non-streaming method.
   * @param params - parameters for sending the message.
   * @return The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessageStream({
   *   message: 'Why is the sky blue?'
   * });
   * for await (const chunk of response) {
   *   console.log(chunk.text);
   * }
   * ```
   */
  async sendMessageStream(params) {
    var _a;
    await this.sendPromise;
    const inputContent = tContent(this.apiClient, params.message);
    const streamResponse = this.modelsModule.generateContentStream({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a = params.config) !== null && _a !== void 0 ? _a : this.config
    });
    this.sendPromise = streamResponse.then(() => void 0);
    const response = await streamResponse;
    const result = this.processStreamResponse(response, inputContent);
    return result;
  }
  /**
   * Returns the chat history.
   *
   * @remarks
   * The history is a list of contents alternating between user and model.
   *
   * There are two types of history:
   * - The `curated history` contains only the valid turns between user and
   * model, which will be included in the subsequent requests sent to the model.
   * - The `comprehensive history` contains all turns, including invalid or
   *   empty model outputs, providing a complete record of the history.
   *
   * The history is updated after receiving the response from the model,
   * for streaming response, it means receiving the last chunk of the response.
   *
   * The `comprehensive history` is returned by default. To get the `curated
   * history`, set the `curated` parameter to `true`.
   *
   * @param curated - whether to return the curated history or the comprehensive
   *     history.
   * @return History contents alternating between user and model for the entire
   *     chat session.
   */
  getHistory(curated = false) {
    return curated ? extractCuratedHistory(this.history) : this.history;
  }
  processStreamResponse(streamResponse, inputContent) {
    var _a, _b;
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      var _c, e_1, _d, _e;
      const outputContent = [];
      try {
        for (var _f = true, streamResponse_1 = __asyncValues(streamResponse), streamResponse_1_1; streamResponse_1_1 = yield __await(streamResponse_1.next()), _c = streamResponse_1_1.done, !_c; _f = true) {
          _e = streamResponse_1_1.value;
          _f = false;
          const chunk = _e;
          if (isValidResponse(chunk)) {
            const content = (_b = (_a = chunk.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content;
            if (content !== void 0) {
              outputContent.push(content);
            }
          }
          yield yield __await(chunk);
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (!_f && !_c && (_d = streamResponse_1.return))
            yield __await(_d.call(streamResponse_1));
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      this.recordHistory(inputContent, outputContent);
    });
  }
  recordHistory(userInput, modelOutput) {
    let outputContents = [];
    if (modelOutput.length > 0 && modelOutput.every((content) => content.role === "model")) {
      outputContents = modelOutput;
    } else {
      outputContents.push({
        role: "model",
        parts: []
      });
    }
    this.history.push(userInput);
    this.history.push(...outputContents);
  }
};
function listFilesConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listFilesParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listFilesConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function fileStatusToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDetails = getValueByPath(fromObject, ["details"]);
  if (fromDetails != null) {
    setValueByPath(toObject, ["details"], fromDetails);
  }
  const fromMessage = getValueByPath(fromObject, ["message"]);
  if (fromMessage != null) {
    setValueByPath(toObject, ["message"], fromMessage);
  }
  const fromCode = getValueByPath(fromObject, ["code"]);
  if (fromCode != null) {
    setValueByPath(toObject, ["code"], fromCode);
  }
  return toObject;
}
function fileToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  const fromSizeBytes = getValueByPath(fromObject, ["sizeBytes"]);
  if (fromSizeBytes != null) {
    setValueByPath(toObject, ["sizeBytes"], fromSizeBytes);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromExpirationTime = getValueByPath(fromObject, [
    "expirationTime"
  ]);
  if (fromExpirationTime != null) {
    setValueByPath(toObject, ["expirationTime"], fromExpirationTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromSha256Hash = getValueByPath(fromObject, ["sha256Hash"]);
  if (fromSha256Hash != null) {
    setValueByPath(toObject, ["sha256Hash"], fromSha256Hash);
  }
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromDownloadUri = getValueByPath(fromObject, ["downloadUri"]);
  if (fromDownloadUri != null) {
    setValueByPath(toObject, ["downloadUri"], fromDownloadUri);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], fromState);
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    setValueByPath(toObject, ["source"], fromSource);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fileStatusToMldev(apiClient, fromError));
  }
  return toObject;
}
function createFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFile = getValueByPath(fromObject, ["file"]);
  if (fromFile != null) {
    setValueByPath(toObject, ["file"], fileToMldev(apiClient, fromFile));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function getFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function fileStatusFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDetails = getValueByPath(fromObject, ["details"]);
  if (fromDetails != null) {
    setValueByPath(toObject, ["details"], fromDetails);
  }
  const fromMessage = getValueByPath(fromObject, ["message"]);
  if (fromMessage != null) {
    setValueByPath(toObject, ["message"], fromMessage);
  }
  const fromCode = getValueByPath(fromObject, ["code"]);
  if (fromCode != null) {
    setValueByPath(toObject, ["code"], fromCode);
  }
  return toObject;
}
function fileFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  const fromSizeBytes = getValueByPath(fromObject, ["sizeBytes"]);
  if (fromSizeBytes != null) {
    setValueByPath(toObject, ["sizeBytes"], fromSizeBytes);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromExpirationTime = getValueByPath(fromObject, [
    "expirationTime"
  ]);
  if (fromExpirationTime != null) {
    setValueByPath(toObject, ["expirationTime"], fromExpirationTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromSha256Hash = getValueByPath(fromObject, ["sha256Hash"]);
  if (fromSha256Hash != null) {
    setValueByPath(toObject, ["sha256Hash"], fromSha256Hash);
  }
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromDownloadUri = getValueByPath(fromObject, ["downloadUri"]);
  if (fromDownloadUri != null) {
    setValueByPath(toObject, ["downloadUri"], fromDownloadUri);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], fromState);
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    setValueByPath(toObject, ["source"], fromSource);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fileStatusFromMldev(apiClient, fromError));
  }
  return toObject;
}
function listFilesResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromFiles = getValueByPath(fromObject, ["files"]);
  if (fromFiles != null) {
    if (Array.isArray(fromFiles)) {
      setValueByPath(toObject, ["files"], fromFiles.map((item) => {
        return fileFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["files"], fromFiles);
    }
  }
  return toObject;
}
function createFileResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromHttpHeaders = getValueByPath(fromObject, ["httpHeaders"]);
  if (fromHttpHeaders != null) {
    setValueByPath(toObject, ["httpHeaders"], fromHttpHeaders);
  }
  return toObject;
}
function deleteFileResponseFromMldev() {
  const toObject = {};
  return toObject;
}
var Files = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_FILES, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Uploads a file asynchronously to the Gemini API.
   * This method is not available in Vertex AI.
   * Supported upload sources:
   * - Node.js: File path (string) or Blob object.
   * - Browser: Blob object (e.g., File).
   *
   * @remarks
   * The `mimeType` can be specified in the `config` parameter. If omitted:
   *  - For file path (string) inputs, the `mimeType` will be inferred from the
   *     file extension.
   *  - For Blob object inputs, the `mimeType` will be set to the Blob's `type`
   *     property.
   * Somex eamples for file extension to mimeType mapping:
   * .txt -> text/plain
   * .json -> application/json
   * .jpg  -> image/jpeg
   * .png -> image/png
   * .mp3 -> audio/mpeg
   * .mp4 -> video/mp4
   *
   * This section can contain multiple paragraphs and code examples.
   *
   * @param params - Optional parameters specified in the
   *        `types.UploadFileParameters` interface.
   *         @see {@link types.UploadFileParameters#config} for the optional
   *         config in the parameters.
   * @return A promise that resolves to a `types.File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   * the `mimeType` can be provided in the `params.config` parameter.
   * @throws An error occurs if a suitable upload location cannot be established.
   *
   * @example
   * The following code uploads a file to Gemini API.
   *
   * ```ts
   * const file = await ai.files.upload({file: 'file.txt', config: {
   *   mimeType: 'text/plain',
   * }});
   * console.log(file.name);
   * ```
   */
  async upload(params) {
    if (this.apiClient.isVertexAI()) {
      throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");
    }
    return this.apiClient.uploadFile(params.file, params.config).then((response) => {
      const file = fileFromMldev(this.apiClient, response);
      return file;
    });
  }
  async listInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = listFilesParametersToMldev(this.apiClient, params);
      path = formatMap("files", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listFilesResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new ListFilesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async createInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createFileParametersToMldev(this.apiClient, params);
      path = formatMap("upload/v1beta/files", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = createFileResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new CreateFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Retrieves the file information from the service.
   *
   * @param params - The parameters for the get request
   * @return The Promise that resolves to the types.File object requested.
   *
   * @example
   * ```ts
   * const config: GetFileParameters = {
   *   name: fileName,
   * };
   * file = await ai.files.get(config);
   * console.log(file.name);
   * ```
   */
  async get(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = getFileParametersToMldev(this.apiClient, params);
      path = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = fileFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Deletes a remotely stored file.
   *
   * @param params - The parameters for the delete request.
   * @return The DeleteFileResponse, the response for the delete method.
   *
   * @example
   * The following code deletes an example file named "files/mehozpxf877d".
   *
   * ```ts
   * await ai.files.delete({name: file.name});
   * ```
   */
  async delete(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = deleteFileParametersToMldev(this.apiClient, params);
      path = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteFileResponseFromMldev();
        const typedResp = new DeleteFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function partToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["videoMetadata"]) !== void 0) {
    throw new Error("videoMetadata parameter is not supported in Gemini API.");
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["example"]) !== void 0) {
    throw new Error("example parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["pattern"]) !== void 0) {
    throw new Error("pattern parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["default"]) !== void 0) {
    throw new Error("default parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["maxLength"]) !== void 0) {
    throw new Error("maxLength parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["minLength"]) !== void 0) {
    throw new Error("minLength parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["minProperties"]) !== void 0) {
    throw new Error("minProperties parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["maxProperties"]) !== void 0) {
    throw new Error("maxProperties parameter is not supported in Gemini API.");
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function safetySettingToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["method"]) !== void 0) {
    throw new Error("method parameter is not supported in Gemini API.");
  }
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function functionDeclarationToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["response"]) !== void 0) {
    throw new Error("response parameter is not supported in Gemini API.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToMldev() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToMldev(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToMldev(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function prebuiltVoiceConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceName = getValueByPath(fromObject, ["voiceName"]);
  if (fromVoiceName != null) {
    setValueByPath(toObject, ["voiceName"], fromVoiceName);
  }
  return toObject;
}
function voiceConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromPrebuiltVoiceConfig = getValueByPath(fromObject, [
    "prebuiltVoiceConfig"
  ]);
  if (fromPrebuiltVoiceConfig != null) {
    setValueByPath(toObject, ["prebuiltVoiceConfig"], prebuiltVoiceConfigToMldev(apiClient, fromPrebuiltVoiceConfig));
  }
  return toObject;
}
function speechConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceConfig = getValueByPath(fromObject, ["voiceConfig"]);
  if (fromVoiceConfig != null) {
    setValueByPath(toObject, ["voiceConfig"], voiceConfigToMldev(apiClient, fromVoiceConfig));
  }
  return toObject;
}
function thinkingConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromIncludeThoughts = getValueByPath(fromObject, [
    "includeThoughts"
  ]);
  if (fromIncludeThoughts != null) {
    setValueByPath(toObject, ["includeThoughts"], fromIncludeThoughts);
  }
  const fromThinkingBudget = getValueByPath(fromObject, [
    "thinkingBudget"
  ]);
  if (fromThinkingBudget != null) {
    setValueByPath(toObject, ["thinkingBudget"], fromThinkingBudget);
  }
  return toObject;
}
function generateContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], schemaToMldev(apiClient, tSchema(apiClient, fromResponseSchema)));
  }
  if (getValueByPath(fromObject, ["routingConfig"]) !== void 0) {
    throw new Error("routingConfig parameter is not supported in Gemini API.");
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    if (Array.isArray(fromSafetySettings)) {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings.map((item) => {
        return safetySettingToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings);
    }
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, tTools(apiClient, fromTools).map((item) => {
        return toolToMldev(apiClient, tTool(apiClient, item));
      })));
    } else {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, fromTools));
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev(apiClient, fromToolConfig));
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], speechConfigToMldev(apiClient, tSpeechConfig(apiClient, fromSpeechConfig)));
  }
  if (getValueByPath(fromObject, ["audioTimestamp"]) !== void 0) {
    throw new Error("audioTimestamp parameter is not supported in Gemini API.");
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], thinkingConfigToMldev(apiClient, fromThinkingConfig));
  }
  return toObject;
}
function generateContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function embedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["requests[]", "taskType"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["requests[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["requests[]", "outputDimensionality"], fromOutputDimensionality);
  }
  if (getValueByPath(fromObject, ["mimeType"]) !== void 0) {
    throw new Error("mimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["autoTruncate"]) !== void 0) {
    throw new Error("autoTruncate parameter is not supported in Gemini API.");
  }
  return toObject;
}
function embedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    setValueByPath(toObject, ["requests[]", "content"], tContentsForEmbed(apiClient, fromContents));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], embedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  const fromModelForEmbedContent = getValueByPath(fromObject, ["model"]);
  if (fromModelForEmbedContent !== void 0) {
    setValueByPath(toObject, ["requests[]", "model"], tModel(apiClient, fromModelForEmbedContent));
  }
  return toObject;
}
function generateImagesConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["negativePrompt"]) !== void 0) {
    throw new Error("negativePrompt parameter is not supported in Gemini API.");
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  if (getValueByPath(fromObject, ["addWatermark"]) !== void 0) {
    throw new Error("addWatermark parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["enhancePrompt"]) !== void 0) {
    throw new Error("enhancePrompt parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateImagesParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateImagesConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getModelParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function countTokensConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["systemInstruction"]) !== void 0) {
    throw new Error("systemInstruction parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["tools"]) !== void 0) {
    throw new Error("tools parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["generationConfig"]) !== void 0) {
    throw new Error("generationConfig parameter is not supported in Gemini API.");
  }
  return toObject;
}
function countTokensParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], countTokensConfigToMldev(apiClient, fromConfig));
  }
  return toObject;
}
function imageToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["gcsUri"]) !== void 0) {
    throw new Error("gcsUri parameter is not supported in Gemini API.");
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generateVideosConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["fps"]) !== void 0) {
    throw new Error("fps parameter is not supported in Gemini API.");
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  if (getValueByPath(fromObject, ["resolution"]) !== void 0) {
    throw new Error("resolution parameter is not supported in Gemini API.");
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  if (getValueByPath(fromObject, ["pubsubTopic"]) !== void 0) {
    throw new Error("pubsubTopic parameter is not supported in Gemini API.");
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  if (getValueByPath(fromObject, ["enhancePrompt"]) !== void 0) {
    throw new Error("enhancePrompt parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateVideosParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToMldev(apiClient, fromImage));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateVideosConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromExample = getValueByPath(fromObject, ["example"]);
  if (fromExample != null) {
    setValueByPath(toObject, ["example"], fromExample);
  }
  const fromPattern = getValueByPath(fromObject, ["pattern"]);
  if (fromPattern != null) {
    setValueByPath(toObject, ["pattern"], fromPattern);
  }
  const fromDefault = getValueByPath(fromObject, ["default"]);
  if (fromDefault != null) {
    setValueByPath(toObject, ["default"], fromDefault);
  }
  const fromMaxLength = getValueByPath(fromObject, ["maxLength"]);
  if (fromMaxLength != null) {
    setValueByPath(toObject, ["maxLength"], fromMaxLength);
  }
  const fromMinLength = getValueByPath(fromObject, ["minLength"]);
  if (fromMinLength != null) {
    setValueByPath(toObject, ["minLength"], fromMinLength);
  }
  const fromMinProperties = getValueByPath(fromObject, [
    "minProperties"
  ]);
  if (fromMinProperties != null) {
    setValueByPath(toObject, ["minProperties"], fromMinProperties);
  }
  const fromMaxProperties = getValueByPath(fromObject, [
    "maxProperties"
  ]);
  if (fromMaxProperties != null) {
    setValueByPath(toObject, ["maxProperties"], fromMaxProperties);
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function safetySettingToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMethod = getValueByPath(fromObject, ["method"]);
  if (fromMethod != null) {
    setValueByPath(toObject, ["method"], fromMethod);
  }
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function functionDeclarationToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], schemaToVertex(apiClient, fromResponse));
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToVertex() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToVertex(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToVertex());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToVertex(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToVertex(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function prebuiltVoiceConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceName = getValueByPath(fromObject, ["voiceName"]);
  if (fromVoiceName != null) {
    setValueByPath(toObject, ["voiceName"], fromVoiceName);
  }
  return toObject;
}
function voiceConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromPrebuiltVoiceConfig = getValueByPath(fromObject, [
    "prebuiltVoiceConfig"
  ]);
  if (fromPrebuiltVoiceConfig != null) {
    setValueByPath(toObject, ["prebuiltVoiceConfig"], prebuiltVoiceConfigToVertex(apiClient, fromPrebuiltVoiceConfig));
  }
  return toObject;
}
function speechConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceConfig = getValueByPath(fromObject, ["voiceConfig"]);
  if (fromVoiceConfig != null) {
    setValueByPath(toObject, ["voiceConfig"], voiceConfigToVertex(apiClient, fromVoiceConfig));
  }
  return toObject;
}
function thinkingConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromIncludeThoughts = getValueByPath(fromObject, [
    "includeThoughts"
  ]);
  if (fromIncludeThoughts != null) {
    setValueByPath(toObject, ["includeThoughts"], fromIncludeThoughts);
  }
  const fromThinkingBudget = getValueByPath(fromObject, [
    "thinkingBudget"
  ]);
  if (fromThinkingBudget != null) {
    setValueByPath(toObject, ["thinkingBudget"], fromThinkingBudget);
  }
  return toObject;
}
function generateContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], schemaToVertex(apiClient, tSchema(apiClient, fromResponseSchema)));
  }
  const fromRoutingConfig = getValueByPath(fromObject, [
    "routingConfig"
  ]);
  if (fromRoutingConfig != null) {
    setValueByPath(toObject, ["routingConfig"], fromRoutingConfig);
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    if (Array.isArray(fromSafetySettings)) {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings.map((item) => {
        return safetySettingToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings);
    }
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, tTools(apiClient, fromTools).map((item) => {
        return toolToVertex(apiClient, tTool(apiClient, item));
      })));
    } else {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, fromTools));
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToVertex(apiClient, fromToolConfig));
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], speechConfigToVertex(apiClient, tSpeechConfig(apiClient, fromSpeechConfig)));
  }
  const fromAudioTimestamp = getValueByPath(fromObject, [
    "audioTimestamp"
  ]);
  if (fromAudioTimestamp != null) {
    setValueByPath(toObject, ["audioTimestamp"], fromAudioTimestamp);
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], thinkingConfigToVertex(apiClient, fromThinkingConfig));
  }
  return toObject;
}
function generateContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function embedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["instances[]", "task_type"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["instances[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["parameters", "outputDimensionality"], fromOutputDimensionality);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (parentObject !== void 0 && fromMimeType != null) {
    setValueByPath(parentObject, ["instances[]", "mimeType"], fromMimeType);
  }
  const fromAutoTruncate = getValueByPath(fromObject, ["autoTruncate"]);
  if (parentObject !== void 0 && fromAutoTruncate != null) {
    setValueByPath(parentObject, ["parameters", "autoTruncate"], fromAutoTruncate);
  }
  return toObject;
}
function embedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    setValueByPath(toObject, ["instances[]", "content"], tContentsForEmbed(apiClient, fromContents));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], embedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function generateImagesConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromAddWatermark = getValueByPath(fromObject, ["addWatermark"]);
  if (parentObject !== void 0 && fromAddWatermark != null) {
    setValueByPath(parentObject, ["parameters", "addWatermark"], fromAddWatermark);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  return toObject;
}
function generateImagesParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateImagesConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getModelParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function countTokensConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["generationConfig"], fromGenerationConfig);
  }
  return toObject;
}
function countTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], countTokensConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function computeTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function imageToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generateVideosConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromFps = getValueByPath(fromObject, ["fps"]);
  if (parentObject !== void 0 && fromFps != null) {
    setValueByPath(parentObject, ["parameters", "fps"], fromFps);
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromResolution = getValueByPath(fromObject, ["resolution"]);
  if (parentObject !== void 0 && fromResolution != null) {
    setValueByPath(parentObject, ["parameters", "resolution"], fromResolution);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromPubsubTopic = getValueByPath(fromObject, ["pubsubTopic"]);
  if (parentObject !== void 0 && fromPubsubTopic != null) {
    setValueByPath(parentObject, ["parameters", "pubsubTopic"], fromPubsubTopic);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  return toObject;
}
function generateVideosParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToVertex(apiClient, fromImage));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateVideosConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function citationMetadataFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citationSources"]);
  if (fromCitations != null) {
    setValueByPath(toObject, ["citations"], fromCitations);
  }
  return toObject;
}
function candidateFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], contentFromMldev(apiClient, fromContent));
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromMldev(apiClient, fromCitationMetadata));
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    setValueByPath(toObject, ["safetyRatings"], fromSafetyRatings);
  }
  return toObject;
}
function generateContentResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    if (Array.isArray(fromCandidates)) {
      setValueByPath(toObject, ["candidates"], fromCandidates.map((item) => {
        return candidateFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["candidates"], fromCandidates);
    }
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function contentEmbeddingFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromValues = getValueByPath(fromObject, ["values"]);
  if (fromValues != null) {
    setValueByPath(toObject, ["values"], fromValues);
  }
  return toObject;
}
function embedContentMetadataFromMldev() {
  const toObject = {};
  return toObject;
}
function embedContentResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromEmbeddings = getValueByPath(fromObject, ["embeddings"]);
  if (fromEmbeddings != null) {
    if (Array.isArray(fromEmbeddings)) {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings.map((item) => {
        return contentEmbeddingFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings);
    }
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], embedContentMetadataFromMldev());
  }
  return toObject;
}
function imageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function safetyAttributesFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function generatedImageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromMldev(apiClient, fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromMldev(apiClient, fromSafetyAttributes));
  }
  return toObject;
}
function generateImagesResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    if (Array.isArray(fromGeneratedImages)) {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages.map((item) => {
        return generatedImageFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages);
    }
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromMldev(apiClient, fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function tunedModelInfoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function modelFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["version"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromMldev(apiClient, fromTunedModelInfo));
  }
  const fromInputTokenLimit = getValueByPath(fromObject, [
    "inputTokenLimit"
  ]);
  if (fromInputTokenLimit != null) {
    setValueByPath(toObject, ["inputTokenLimit"], fromInputTokenLimit);
  }
  const fromOutputTokenLimit = getValueByPath(fromObject, [
    "outputTokenLimit"
  ]);
  if (fromOutputTokenLimit != null) {
    setValueByPath(toObject, ["outputTokenLimit"], fromOutputTokenLimit);
  }
  const fromSupportedActions = getValueByPath(fromObject, [
    "supportedGenerationMethods"
  ]);
  if (fromSupportedActions != null) {
    setValueByPath(toObject, ["supportedActions"], fromSupportedActions);
  }
  return toObject;
}
function countTokensResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  return toObject;
}
function videoFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["video", "uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "video",
    "encodedVideo"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev$1(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev$1(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromMldev$1(apiClient, fromResult));
  }
  return toObject;
}
function partFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function citationMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citations"]);
  if (fromCitations != null) {
    setValueByPath(toObject, ["citations"], fromCitations);
  }
  return toObject;
}
function candidateFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], contentFromVertex(apiClient, fromContent));
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromVertex(apiClient, fromCitationMetadata));
  }
  const fromFinishMessage = getValueByPath(fromObject, [
    "finishMessage"
  ]);
  if (fromFinishMessage != null) {
    setValueByPath(toObject, ["finishMessage"], fromFinishMessage);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    setValueByPath(toObject, ["safetyRatings"], fromSafetyRatings);
  }
  return toObject;
}
function generateContentResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    if (Array.isArray(fromCandidates)) {
      setValueByPath(toObject, ["candidates"], fromCandidates.map((item) => {
        return candidateFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["candidates"], fromCandidates);
    }
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromResponseId = getValueByPath(fromObject, ["responseId"]);
  if (fromResponseId != null) {
    setValueByPath(toObject, ["responseId"], fromResponseId);
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function contentEmbeddingStatisticsFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTruncated = getValueByPath(fromObject, ["truncated"]);
  if (fromTruncated != null) {
    setValueByPath(toObject, ["truncated"], fromTruncated);
  }
  const fromTokenCount = getValueByPath(fromObject, ["token_count"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function contentEmbeddingFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromValues = getValueByPath(fromObject, ["values"]);
  if (fromValues != null) {
    setValueByPath(toObject, ["values"], fromValues);
  }
  const fromStatistics = getValueByPath(fromObject, ["statistics"]);
  if (fromStatistics != null) {
    setValueByPath(toObject, ["statistics"], contentEmbeddingStatisticsFromVertex(apiClient, fromStatistics));
  }
  return toObject;
}
function embedContentMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromBillableCharacterCount = getValueByPath(fromObject, [
    "billableCharacterCount"
  ]);
  if (fromBillableCharacterCount != null) {
    setValueByPath(toObject, ["billableCharacterCount"], fromBillableCharacterCount);
  }
  return toObject;
}
function embedContentResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromEmbeddings = getValueByPath(fromObject, [
    "predictions[]",
    "embeddings"
  ]);
  if (fromEmbeddings != null) {
    if (Array.isArray(fromEmbeddings)) {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings.map((item) => {
        return contentEmbeddingFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings);
    }
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], embedContentMetadataFromVertex(apiClient, fromMetadata));
  }
  return toObject;
}
function imageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function safetyAttributesFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function generatedImageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromVertex(apiClient, fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromVertex(apiClient, fromSafetyAttributes));
  }
  const fromEnhancedPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromEnhancedPrompt != null) {
    setValueByPath(toObject, ["enhancedPrompt"], fromEnhancedPrompt);
  }
  return toObject;
}
function generateImagesResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    if (Array.isArray(fromGeneratedImages)) {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages.map((item) => {
        return generatedImageFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages);
    }
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromVertex(apiClient, fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function endpointFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["endpoint"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDeployedModelId = getValueByPath(fromObject, [
    "deployedModelId"
  ]);
  if (fromDeployedModelId != null) {
    setValueByPath(toObject, ["deployedModelId"], fromDeployedModelId);
  }
  return toObject;
}
function tunedModelInfoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, [
    "labels",
    "google-vertex-llm-tuning-base-model-id"
  ]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function modelFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["versionId"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromEndpoints = getValueByPath(fromObject, ["deployedModels"]);
  if (fromEndpoints != null) {
    if (Array.isArray(fromEndpoints)) {
      setValueByPath(toObject, ["endpoints"], fromEndpoints.map((item) => {
        return endpointFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["endpoints"], fromEndpoints);
    }
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (fromLabels != null) {
    setValueByPath(toObject, ["labels"], fromLabels);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromVertex(apiClient, fromTunedModelInfo));
  }
  return toObject;
}
function countTokensResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  return toObject;
}
function computeTokensResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTokensInfo = getValueByPath(fromObject, ["tokensInfo"]);
  if (fromTokensInfo != null) {
    setValueByPath(toObject, ["tokensInfo"], fromTokensInfo);
  }
  return toObject;
}
function videoFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex$1(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex$1(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, ["response"]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromVertex$1(apiClient, fromResult));
  }
  return toObject;
}
function liveConnectParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig !== void 0 && fromConfig !== null) {
    setValueByPath(toObject, ["setup"], liveConnectConfigToMldev(apiClient, fromConfig));
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel !== void 0) {
    setValueByPath(toObject, ["setup", "model"], fromModel);
  }
  return toObject;
}
function liveConnectParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig !== void 0 && fromConfig !== null) {
    setValueByPath(toObject, ["setup"], liveConnectConfigToVertex(apiClient, fromConfig));
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel !== void 0) {
    setValueByPath(toObject, ["setup", "model"], fromModel);
  }
  return toObject;
}
function liveServerMessageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromSetupComplete = getValueByPath(fromObject, [
    "setupComplete"
  ]);
  if (fromSetupComplete !== void 0) {
    setValueByPath(toObject, ["setupComplete"], fromSetupComplete);
  }
  const fromServerContent = getValueByPath(fromObject, [
    "serverContent"
  ]);
  if (fromServerContent !== void 0 && fromServerContent !== null) {
    setValueByPath(toObject, ["serverContent"], liveServerContentFromMldev(apiClient, fromServerContent));
  }
  const fromToolCall = getValueByPath(fromObject, ["toolCall"]);
  if (fromToolCall !== void 0 && fromToolCall !== null) {
    setValueByPath(toObject, ["toolCall"], liveServerToolCallFromMldev(apiClient, fromToolCall));
  }
  const fromToolCallCancellation = getValueByPath(fromObject, [
    "toolCallCancellation"
  ]);
  if (fromToolCallCancellation !== void 0 && fromToolCallCancellation !== null) {
    setValueByPath(toObject, ["toolCallCancellation"], liveServerToolCallCancellationFromMldev(apiClient, fromToolCallCancellation));
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != void 0 && fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], usageMetadataFromMldev(apiClient, fromUsageMetadata));
  }
  const fromGoAway = getValueByPath(fromObject, ["goAway"]);
  if (fromGoAway !== void 0 && fromGoAway !== null) {
    setValueByPath(toObject, ["goAway"], liveServerGoAwayFromMldev(fromGoAway));
  }
  const fromSessionResumptionUpdate = getValueByPath(fromObject, [
    "sessionResumptionUpdate"
  ]);
  if (fromSessionResumptionUpdate !== void 0 && fromSessionResumptionUpdate !== null) {
    setValueByPath(toObject, ["sessionResumptionUpdate"], liveServerSessionResumptionUpdateFromMldev(fromSessionResumptionUpdate));
  }
  return toObject;
}
function liveServerMessageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromSetupComplete = getValueByPath(fromObject, [
    "setupComplete"
  ]);
  if (fromSetupComplete !== void 0) {
    setValueByPath(toObject, ["setupComplete"], fromSetupComplete);
  }
  const fromServerContent = getValueByPath(fromObject, [
    "serverContent"
  ]);
  if (fromServerContent !== void 0 && fromServerContent !== null) {
    setValueByPath(toObject, ["serverContent"], liveServerContentFromVertex(apiClient, fromServerContent));
  }
  const fromToolCall = getValueByPath(fromObject, ["toolCall"]);
  if (fromToolCall !== void 0 && fromToolCall !== null) {
    setValueByPath(toObject, ["toolCall"], liveServerToolCallFromVertex(apiClient, fromToolCall));
  }
  const fromToolCallCancellation = getValueByPath(fromObject, [
    "toolCallCancellation"
  ]);
  if (fromToolCallCancellation !== void 0 && fromToolCallCancellation !== null) {
    setValueByPath(toObject, ["toolCallCancellation"], liveServerToolCallCancellationFromVertex(apiClient, fromToolCallCancellation));
  }
  const fromGoAway = getValueByPath(fromObject, ["goAway"]);
  if (fromGoAway !== void 0 && fromGoAway !== null) {
    setValueByPath(toObject, ["goAway"], liveServerGoAwayFromVertex(fromGoAway));
  }
  const fromSessionResumptionUpdate = getValueByPath(fromObject, [
    "sessionResumptionUpdate"
  ]);
  if (fromSessionResumptionUpdate !== void 0 && fromSessionResumptionUpdate !== null) {
    setValueByPath(toObject, ["sessionResumptionUpdate"], liveServerSessionResumptionUpdateFromVertex(fromSessionResumptionUpdate));
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != void 0 && fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], usageMetadataFromVertex(apiClient, fromUsageMetadata));
  }
  return toObject;
}
function slidingWindowToMldev(fromObject) {
  const toObject = {};
  const fromTargetTokens = getValueByPath(fromObject, ["targetTokens"]);
  if (fromTargetTokens !== void 0 && fromTargetTokens !== null) {
    setValueByPath(toObject, ["targetTokens"], fromTargetTokens);
  }
  return toObject;
}
function slidingWindowToVertex(fromObject) {
  const toObject = {};
  const fromTargetTokens = getValueByPath(fromObject, ["targetTokens"]);
  if (fromTargetTokens !== void 0 && fromTargetTokens !== null) {
    setValueByPath(toObject, ["targetTokens"], fromTargetTokens);
  }
  return toObject;
}
function contextWindowCompressionToMldev(fromObject) {
  const toObject = {};
  const fromTriggerTokens = getValueByPath(fromObject, [
    "triggerTokens"
  ]);
  if (fromTriggerTokens !== void 0 && fromTriggerTokens !== null) {
    setValueByPath(toObject, ["triggerTokens"], fromTriggerTokens);
  }
  const fromSlidingWindow = getValueByPath(fromObject, [
    "slidingWindow"
  ]);
  if (fromSlidingWindow !== void 0 && fromSlidingWindow !== null) {
    setValueByPath(toObject, ["slidingWindow"], slidingWindowToMldev(fromSlidingWindow));
  }
  return toObject;
}
function contextWindowCompressionToVertex(fromObject) {
  const toObject = {};
  const fromTriggerTokens = getValueByPath(fromObject, [
    "triggerTokens"
  ]);
  if (fromTriggerTokens !== void 0 && fromTriggerTokens !== null) {
    setValueByPath(toObject, ["triggerTokens"], fromTriggerTokens);
  }
  const fromSlidingWindow = getValueByPath(fromObject, [
    "slidingWindow"
  ]);
  if (fromSlidingWindow !== void 0 && fromSlidingWindow !== null) {
    setValueByPath(toObject, ["slidingWindow"], slidingWindowToVertex(fromSlidingWindow));
  }
  return toObject;
}
function automaticActivityDetectionToMldev(fromObject) {
  const toObject = {};
  const fromDisabled = getValueByPath(fromObject, ["disabled"]);
  if (fromDisabled !== void 0 && fromDisabled !== null) {
    setValueByPath(toObject, ["disabled"], fromDisabled);
  }
  const fromStartOfSpeechSensitivity = getValueByPath(fromObject, [
    "startOfSpeechSensitivity"
  ]);
  if (fromStartOfSpeechSensitivity !== void 0 && fromStartOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["startOfSpeechSensitivity"], fromStartOfSpeechSensitivity);
  }
  const fromEndOfSpeechSensitivity = getValueByPath(fromObject, [
    "endOfSpeechSensitivity"
  ]);
  if (fromEndOfSpeechSensitivity !== void 0 && fromEndOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["endOfSpeechSensitivity"], fromEndOfSpeechSensitivity);
  }
  const fromPrefixPaddingMs = getValueByPath(fromObject, [
    "prefixPaddingMs"
  ]);
  if (fromPrefixPaddingMs !== void 0 && fromPrefixPaddingMs !== null) {
    setValueByPath(toObject, ["prefixPaddingMs"], fromPrefixPaddingMs);
  }
  const fromSilenceDurationMs = getValueByPath(fromObject, [
    "silenceDurationMs"
  ]);
  if (fromSilenceDurationMs !== void 0 && fromSilenceDurationMs !== null) {
    setValueByPath(toObject, ["silenceDurationMs"], fromSilenceDurationMs);
  }
  return toObject;
}
function automaticActivityDetectionToVertex(fromObject) {
  const toObject = {};
  const fromDisabled = getValueByPath(fromObject, ["disabled"]);
  if (fromDisabled !== void 0 && fromDisabled !== null) {
    setValueByPath(toObject, ["disabled"], fromDisabled);
  }
  const fromStartOfSpeechSensitivity = getValueByPath(fromObject, [
    "startOfSpeechSensitivity"
  ]);
  if (fromStartOfSpeechSensitivity !== void 0 && fromStartOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["startOfSpeechSensitivity"], fromStartOfSpeechSensitivity);
  }
  const fromEndOfSpeechSensitivity = getValueByPath(fromObject, [
    "endOfSpeechSensitivity"
  ]);
  if (fromEndOfSpeechSensitivity !== void 0 && fromEndOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["endOfSpeechSensitivity"], fromEndOfSpeechSensitivity);
  }
  const fromPrefixPaddingMs = getValueByPath(fromObject, [
    "prefixPaddingMs"
  ]);
  if (fromPrefixPaddingMs !== void 0 && fromPrefixPaddingMs !== null) {
    setValueByPath(toObject, ["prefixPaddingMs"], fromPrefixPaddingMs);
  }
  const fromSilenceDurationMs = getValueByPath(fromObject, [
    "silenceDurationMs"
  ]);
  if (fromSilenceDurationMs !== void 0 && fromSilenceDurationMs !== null) {
    setValueByPath(toObject, ["silenceDurationMs"], fromSilenceDurationMs);
  }
  return toObject;
}
function realtimeInputConfigToMldev(fromObject) {
  const toObject = {};
  const fromAutomaticActivityDetection = getValueByPath(fromObject, [
    "automaticActivityDetection"
  ]);
  if (fromAutomaticActivityDetection !== void 0 && fromAutomaticActivityDetection !== null) {
    setValueByPath(toObject, ["automaticActivityDetection"], automaticActivityDetectionToMldev(fromAutomaticActivityDetection));
  }
  const fromActivityHandling = getValueByPath(fromObject, [
    "activityHandling"
  ]);
  if (fromActivityHandling !== void 0 && fromActivityHandling !== null) {
    setValueByPath(toObject, ["activityHandling"], fromActivityHandling);
  }
  const fromTurnCoverage = getValueByPath(fromObject, ["turnCoverage"]);
  if (fromTurnCoverage !== void 0 && fromTurnCoverage !== null) {
    setValueByPath(toObject, ["turnCoverage"], fromTurnCoverage);
  }
  return toObject;
}
function realtimeInputConfigToVertex(fromObject) {
  const toObject = {};
  const fromAutomaticActivityDetection = getValueByPath(fromObject, [
    "automaticActivityDetection"
  ]);
  if (fromAutomaticActivityDetection !== void 0 && fromAutomaticActivityDetection !== null) {
    setValueByPath(toObject, ["automaticActivityDetection"], automaticActivityDetectionToVertex(fromAutomaticActivityDetection));
  }
  const fromActivityHandling = getValueByPath(fromObject, [
    "activityHandling"
  ]);
  if (fromActivityHandling !== void 0 && fromActivityHandling !== null) {
    setValueByPath(toObject, ["activityHandling"], fromActivityHandling);
  }
  const fromTurnCoverage = getValueByPath(fromObject, ["turnCoverage"]);
  if (fromTurnCoverage !== void 0 && fromTurnCoverage !== null) {
    setValueByPath(toObject, ["turnCoverage"], fromTurnCoverage);
  }
  return toObject;
}
function liveConnectConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (fromGenerationConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities !== void 0) {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], fromResponseModalities);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig", "speechConfig"], fromSpeechConfig);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (fromSystemInstruction !== void 0 && fromSystemInstruction !== null) {
    setValueByPath(toObject, ["systemInstruction"], contentToMldev(apiClient, fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (fromTools !== void 0 && fromTools !== null && Array.isArray(fromTools)) {
    setValueByPath(toObject, ["tools"], fromTools.map((item) => {
      return toolToMldev(apiClient, item);
    }));
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (fromSessionResumption !== void 0 && fromSessionResumption !== null) {
    setValueByPath(toObject, ["sessionResumption"], liveClientSessionResumptionConfigToMldev(fromSessionResumption));
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (fromContextWindowCompression !== void 0 && fromContextWindowCompression !== null) {
    setValueByPath(toObject, ["contextWindowCompression"], contextWindowCompressionToMldev(fromContextWindowCompression));
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (fromRealtimeInputConfig !== void 0 && fromRealtimeInputConfig !== null) {
    setValueByPath(toObject, ["realtimeInputConfig"], realtimeInputConfigToMldev(fromRealtimeInputConfig));
  }
  return toObject;
}
function liveConnectConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (fromGenerationConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities !== void 0) {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], fromResponseModalities);
  } else {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], ["AUDIO"]);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig", "speechConfig"], fromSpeechConfig);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (fromSystemInstruction !== void 0 && fromSystemInstruction !== null) {
    setValueByPath(toObject, ["systemInstruction"], contentToVertex(apiClient, fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (fromTools !== void 0 && fromTools !== null && Array.isArray(fromTools)) {
    setValueByPath(toObject, ["tools"], fromTools.map((item) => {
      return toolToVertex(apiClient, item);
    }));
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (fromSessionResumption !== void 0 && fromSessionResumption !== null) {
    setValueByPath(toObject, ["sessionResumption"], liveClientSessionResumptionConfigToVertex(fromSessionResumption));
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (fromContextWindowCompression !== void 0 && fromContextWindowCompression !== null) {
    setValueByPath(toObject, ["contextWindowCompression"], contextWindowCompressionToVertex(fromContextWindowCompression));
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (fromRealtimeInputConfig !== void 0 && fromRealtimeInputConfig !== null) {
    setValueByPath(toObject, ["realtimeInputConfig"], realtimeInputConfigToVertex(fromRealtimeInputConfig));
  }
  return toObject;
}
function liveServerContentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModelTurn = getValueByPath(fromObject, ["modelTurn"]);
  if (fromModelTurn !== void 0 && fromModelTurn !== null) {
    setValueByPath(toObject, ["modelTurn"], contentFromMldev(apiClient, fromModelTurn));
  }
  const fromTurnComplete = getValueByPath(fromObject, ["turnComplete"]);
  if (fromTurnComplete !== void 0) {
    setValueByPath(toObject, ["turnComplete"], fromTurnComplete);
  }
  const fromInterrupted = getValueByPath(fromObject, ["interrupted"]);
  if (fromInterrupted !== void 0) {
    setValueByPath(toObject, ["interrupted"], fromInterrupted);
  }
  const fromGenerationComplete = getValueByPath(fromObject, [
    "generationComplete"
  ]);
  if (fromGenerationComplete != null) {
    setValueByPath(toObject, ["generationComplete"], fromGenerationComplete);
  }
  return toObject;
}
function liveServerContentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModelTurn = getValueByPath(fromObject, ["modelTurn"]);
  if (fromModelTurn !== void 0 && fromModelTurn !== null) {
    setValueByPath(toObject, ["modelTurn"], contentFromVertex(apiClient, fromModelTurn));
  }
  const fromTurnComplete = getValueByPath(fromObject, ["turnComplete"]);
  if (fromTurnComplete !== void 0) {
    setValueByPath(toObject, ["turnComplete"], fromTurnComplete);
  }
  const fromInterrupted = getValueByPath(fromObject, ["interrupted"]);
  if (fromInterrupted !== void 0) {
    setValueByPath(toObject, ["interrupted"], fromInterrupted);
  }
  const fromGenerationComplete = getValueByPath(fromObject, [
    "generationComplete"
  ]);
  if (fromGenerationComplete != null) {
    setValueByPath(toObject, ["generationComplete"], fromGenerationComplete);
  }
  return toObject;
}
function functionCallFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId !== void 0) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs !== void 0) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName !== void 0) {
    setValueByPath(toObject, ["name"], fromName);
  }
  return toObject;
}
function functionCallFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs !== void 0) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName !== void 0) {
    setValueByPath(toObject, ["name"], fromName);
  }
  return toObject;
}
function liveServerToolCallFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCalls = getValueByPath(fromObject, [
    "functionCalls"
  ]);
  if (fromFunctionCalls !== void 0 && fromFunctionCalls !== null && Array.isArray(fromFunctionCalls)) {
    setValueByPath(toObject, ["functionCalls"], fromFunctionCalls.map((item) => {
      return functionCallFromMldev(apiClient, item);
    }));
  }
  return toObject;
}
function liveServerToolCallFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCalls = getValueByPath(fromObject, [
    "functionCalls"
  ]);
  if (fromFunctionCalls !== void 0 && fromFunctionCalls !== null && Array.isArray(fromFunctionCalls)) {
    setValueByPath(toObject, ["functionCalls"], fromFunctionCalls.map((item) => {
      return functionCallFromVertex(apiClient, item);
    }));
  }
  return toObject;
}
function liveServerToolCallCancellationFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromIds = getValueByPath(fromObject, ["ids"]);
  if (fromIds !== void 0) {
    setValueByPath(toObject, ["ids"], fromIds);
  }
  return toObject;
}
function liveServerToolCallCancellationFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromIds = getValueByPath(fromObject, ["ids"]);
  if (fromIds !== void 0) {
    setValueByPath(toObject, ["ids"], fromIds);
  }
  return toObject;
}
function liveServerGoAwayFromMldev(fromObject) {
  const toObject = {};
  const fromTimeLeft = getValueByPath(fromObject, ["timeLeft"]);
  if (fromTimeLeft !== void 0) {
    setValueByPath(toObject, ["timeLeft"], fromTimeLeft);
  }
  return toObject;
}
function liveServerGoAwayFromVertex(fromObject) {
  const toObject = {};
  const fromTimeLeft = getValueByPath(fromObject, ["timeLeft"]);
  if (fromTimeLeft !== void 0) {
    setValueByPath(toObject, ["timeLeft"], fromTimeLeft);
  }
  return toObject;
}
function liveServerSessionResumptionUpdateFromMldev(fromObject) {
  const toObject = {};
  const fromNewHandle = getValueByPath(fromObject, ["newHandle"]);
  if (fromNewHandle !== void 0) {
    setValueByPath(toObject, ["newHandle"], fromNewHandle);
  }
  const fromResumable = getValueByPath(fromObject, ["resumable"]);
  if (fromResumable !== void 0) {
    setValueByPath(toObject, ["resumable"], fromResumable);
  }
  const fromLastConsumedClientMessageIndex = getValueByPath(fromObject, [
    "lastConsumedClientMessageIndex"
  ]);
  if (fromLastConsumedClientMessageIndex !== void 0) {
    setValueByPath(toObject, ["lastConsumedClientMessageIndex"], fromLastConsumedClientMessageIndex);
  }
  return toObject;
}
function liveServerSessionResumptionUpdateFromVertex(fromObject) {
  const toObject = {};
  const fromNewHandle = getValueByPath(fromObject, ["newHandle"]);
  if (fromNewHandle !== void 0) {
    setValueByPath(toObject, ["newHandle"], fromNewHandle);
  }
  const fromResumable = getValueByPath(fromObject, ["resumable"]);
  if (fromResumable !== void 0) {
    setValueByPath(toObject, ["resumable"], fromResumable);
  }
  const fromLastConsumedClientMessageIndex = getValueByPath(fromObject, [
    "lastConsumedClientMessageIndex"
  ]);
  if (fromLastConsumedClientMessageIndex !== void 0) {
    setValueByPath(toObject, ["lastConsumedClientMessageIndex"], fromLastConsumedClientMessageIndex);
  }
  return toObject;
}
function liveClientSessionResumptionConfigToMldev(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle !== void 0) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  if (getValueByPath(fromObject, ["transparent"]) !== void 0) {
    throw new Error("transparent parameter is not supported in Gemini API.");
  }
  return toObject;
}
function liveClientSessionResumptionConfigToVertex(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle !== void 0) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  const fromTransparent = getValueByPath(fromObject, ["transparent"]);
  if (fromTransparent !== void 0) {
    setValueByPath(toObject, ["transparent"], fromTransparent);
  }
  return toObject;
}
function modalityTokenCountFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModality = getValueByPath(fromObject, ["modality"]);
  if (fromModality != null) {
    setValueByPath(toObject, ["modality"], fromModality);
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function usageMetadataFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromPromptTokenCount = getValueByPath(fromObject, [
    "promptTokenCount"
  ]);
  if (fromPromptTokenCount != null) {
    setValueByPath(toObject, ["promptTokenCount"], fromPromptTokenCount);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  const fromResponseTokenCount = getValueByPath(fromObject, [
    "responseTokenCount"
  ]);
  if (fromResponseTokenCount != null) {
    setValueByPath(toObject, ["responseTokenCount"], fromResponseTokenCount);
  }
  const fromToolUsePromptTokenCount = getValueByPath(fromObject, [
    "toolUsePromptTokenCount"
  ]);
  if (fromToolUsePromptTokenCount != null) {
    setValueByPath(toObject, ["toolUsePromptTokenCount"], fromToolUsePromptTokenCount);
  }
  const fromThoughtsTokenCount = getValueByPath(fromObject, [
    "thoughtsTokenCount"
  ]);
  if (fromThoughtsTokenCount != null) {
    setValueByPath(toObject, ["thoughtsTokenCount"], fromThoughtsTokenCount);
  }
  const fromTotalTokenCount = getValueByPath(fromObject, [
    "totalTokenCount"
  ]);
  if (fromTotalTokenCount != null) {
    setValueByPath(toObject, ["totalTokenCount"], fromTotalTokenCount);
  }
  const fromPromptTokensDetails = getValueByPath(fromObject, [
    "promptTokensDetails"
  ]);
  if (fromPromptTokensDetails != null) {
    if (Array.isArray(fromPromptTokensDetails)) {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails);
    }
  }
  const fromCacheTokensDetails = getValueByPath(fromObject, [
    "cacheTokensDetails"
  ]);
  if (fromCacheTokensDetails != null) {
    if (Array.isArray(fromCacheTokensDetails)) {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails);
    }
  }
  const fromResponseTokensDetails = getValueByPath(fromObject, [
    "responseTokensDetails"
  ]);
  if (fromResponseTokensDetails != null) {
    if (Array.isArray(fromResponseTokensDetails)) {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails);
    }
  }
  const fromToolUsePromptTokensDetails = getValueByPath(fromObject, [
    "toolUsePromptTokensDetails"
  ]);
  if (fromToolUsePromptTokensDetails != null) {
    if (Array.isArray(fromToolUsePromptTokensDetails)) {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails);
    }
  }
  return toObject;
}
function modalityTokenCountFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModality = getValueByPath(fromObject, ["modality"]);
  if (fromModality != null) {
    setValueByPath(toObject, ["modality"], fromModality);
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function usageMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromPromptTokenCount = getValueByPath(fromObject, [
    "promptTokenCount"
  ]);
  if (fromPromptTokenCount != null) {
    setValueByPath(toObject, ["promptTokenCount"], fromPromptTokenCount);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  const fromResponseTokenCount = getValueByPath(fromObject, [
    "candidatesTokenCount"
  ]);
  if (fromResponseTokenCount != null) {
    setValueByPath(toObject, ["responseTokenCount"], fromResponseTokenCount);
  }
  const fromToolUsePromptTokenCount = getValueByPath(fromObject, [
    "toolUsePromptTokenCount"
  ]);
  if (fromToolUsePromptTokenCount != null) {
    setValueByPath(toObject, ["toolUsePromptTokenCount"], fromToolUsePromptTokenCount);
  }
  const fromThoughtsTokenCount = getValueByPath(fromObject, [
    "thoughtsTokenCount"
  ]);
  if (fromThoughtsTokenCount != null) {
    setValueByPath(toObject, ["thoughtsTokenCount"], fromThoughtsTokenCount);
  }
  const fromTotalTokenCount = getValueByPath(fromObject, [
    "totalTokenCount"
  ]);
  if (fromTotalTokenCount != null) {
    setValueByPath(toObject, ["totalTokenCount"], fromTotalTokenCount);
  }
  const fromPromptTokensDetails = getValueByPath(fromObject, [
    "promptTokensDetails"
  ]);
  if (fromPromptTokensDetails != null) {
    if (Array.isArray(fromPromptTokensDetails)) {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails);
    }
  }
  const fromCacheTokensDetails = getValueByPath(fromObject, [
    "cacheTokensDetails"
  ]);
  if (fromCacheTokensDetails != null) {
    if (Array.isArray(fromCacheTokensDetails)) {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails);
    }
  }
  const fromToolUsePromptTokensDetails = getValueByPath(fromObject, [
    "toolUsePromptTokensDetails"
  ]);
  if (fromToolUsePromptTokensDetails != null) {
    if (Array.isArray(fromToolUsePromptTokensDetails)) {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails);
    }
  }
  const fromResponseTokensDetails = getValueByPath(fromObject, [
    "candidatesTokensDetails"
  ]);
  if (fromResponseTokensDetails != null) {
    if (Array.isArray(fromResponseTokensDetails)) {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails);
    }
  }
  const fromTrafficType = getValueByPath(fromObject, ["trafficType"]);
  if (fromTrafficType != null) {
    setValueByPath(toObject, ["trafficType"], fromTrafficType);
  }
  return toObject;
}
var FUNCTION_RESPONSE_REQUIRES_ID = "FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";
async function handleWebSocketMessage(apiClient, onmessage, event) {
  let serverMessage;
  let data;
  if (event.data instanceof Blob) {
    data = JSON.parse(await event.data.text());
  } else {
    data = JSON.parse(event.data);
  }
  if (apiClient.isVertexAI()) {
    serverMessage = liveServerMessageFromVertex(apiClient, data);
  } else {
    serverMessage = liveServerMessageFromMldev(apiClient, data);
  }
  onmessage(serverMessage);
}
var Live = class {
  constructor(apiClient, auth, webSocketFactory) {
    this.apiClient = apiClient;
    this.auth = auth;
    this.webSocketFactory = webSocketFactory;
  }
  /**
       Establishes a connection to the specified model with the given
       configuration and returns a Session object representing that connection.
  
       @experimental
  
       @remarks
       If using the Gemini API, Live is currently only supported behind API
       version `v1alpha`. Ensure that the API version is set to `v1alpha` when
       initializing the SDK if relying on the Gemini API.
  
       @param params - The parameters for establishing a connection to the model.
       @return A live session.
  
       @example
       ```ts
       const session = await ai.live.connect({
         model: 'gemini-2.0-flash-exp',
         config: {
           responseModalities: [Modality.AUDIO],
         },
         callbacks: {
           onopen: () => {
             console.log('Connected to the socket.');
           },
           onmessage: (e: MessageEvent) => {
             console.log('Received message from the server: %s\n', debug(e.data));
           },
           onerror: (e: ErrorEvent) => {
             console.log('Error occurred: %s\n', debug(e.error));
           },
           onclose: (e: CloseEvent) => {
             console.log('Connection closed.');
           },
         },
       });
       ```
      */
  async connect(params) {
    var _a, _b;
    const websocketBaseUrl = this.apiClient.getWebsocketBaseUrl();
    const apiVersion = this.apiClient.getApiVersion();
    let url;
    const headers = mapToHeaders(this.apiClient.getDefaultHeaders());
    if (this.apiClient.isVertexAI()) {
      url = `${websocketBaseUrl}/ws/google.cloud.aiplatform.${apiVersion}.LlmBidiService/BidiGenerateContent`;
      await this.auth.addAuthHeaders(headers);
    } else {
      const apiKey = this.apiClient.getApiKey();
      url = `${websocketBaseUrl}/ws/google.ai.generativelanguage.${apiVersion}.GenerativeService.BidiGenerateContent?key=${apiKey}`;
    }
    let onopenResolve = () => {
    };
    const onopenPromise = new Promise((resolve) => {
      onopenResolve = resolve;
    });
    const callbacks = params.callbacks;
    const onopenAwaitedCallback = function() {
      var _a2;
      (_a2 = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onopen) === null || _a2 === void 0 ? void 0 : _a2.call(callbacks);
      onopenResolve({});
    };
    const apiClient = this.apiClient;
    const websocketCallbacks = {
      onopen: onopenAwaitedCallback,
      onmessage: (event) => {
        void handleWebSocketMessage(apiClient, callbacks.onmessage, event);
      },
      onerror: (_a = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onerror) !== null && _a !== void 0 ? _a : function(e) {
      },
      onclose: (_b = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onclose) !== null && _b !== void 0 ? _b : function(e) {
      }
    };
    const conn = this.webSocketFactory.create(url, headersToMap(headers), websocketCallbacks);
    conn.connect();
    await onopenPromise;
    let transformedModel = tModel(this.apiClient, params.model);
    if (this.apiClient.isVertexAI() && transformedModel.startsWith("publishers/")) {
      const project = this.apiClient.getProject();
      const location = this.apiClient.getLocation();
      transformedModel = `projects/${project}/locations/${location}/` + transformedModel;
    }
    let clientMessage = {};
    const liveConnectParameters = {
      model: transformedModel,
      config: params.config,
      callbacks: params.callbacks
    };
    if (this.apiClient.isVertexAI()) {
      clientMessage = liveConnectParametersToVertex(this.apiClient, liveConnectParameters);
    } else {
      clientMessage = liveConnectParametersToMldev(this.apiClient, liveConnectParameters);
    }
    conn.send(JSON.stringify(clientMessage));
    return new Session(conn, this.apiClient);
  }
};
var defaultLiveSendClientContentParamerters = {
  turnComplete: true
};
var Session = class {
  constructor(conn, apiClient) {
    this.conn = conn;
    this.apiClient = apiClient;
  }
  tLiveClientContent(apiClient, params) {
    if (params.turns !== null && params.turns !== void 0) {
      let contents = [];
      try {
        contents = tContents(apiClient, params.turns);
        if (apiClient.isVertexAI()) {
          contents = contents.map((item) => contentToVertex(apiClient, item));
        } else {
          contents = contents.map((item) => contentToMldev(apiClient, item));
        }
      } catch (_a) {
        throw new Error(`Failed to parse client content "turns", type: '${typeof params.turns}'`);
      }
      return {
        clientContent: { turns: contents, turnComplete: params.turnComplete }
      };
    }
    return {
      clientContent: { turnComplete: params.turnComplete }
    };
  }
  tLiveClientRealtimeInput(apiClient, params) {
    let clientMessage = {};
    if (!("media" in params) || !params.media) {
      throw new Error(`Failed to convert realtime input "media", type: '${typeof params.media}'`);
    }
    clientMessage = {
      realtimeInput: {
        mediaChunks: [params.media],
        activityStart: params.activityStart,
        activityEnd: params.activityEnd
      }
    };
    return clientMessage;
  }
  tLiveClienttToolResponse(apiClient, params) {
    let functionResponses = [];
    if (params.functionResponses == null) {
      throw new Error("functionResponses is required.");
    }
    if (!Array.isArray(params.functionResponses)) {
      functionResponses = [params.functionResponses];
    } else {
      functionResponses = params.functionResponses;
    }
    if (functionResponses.length === 0) {
      throw new Error("functionResponses is required.");
    }
    for (const functionResponse of functionResponses) {
      if (typeof functionResponse !== "object" || functionResponse === null || !("name" in functionResponse) || !("response" in functionResponse)) {
        throw new Error(`Could not parse function response, type '${typeof functionResponse}'.`);
      }
      if (!apiClient.isVertexAI() && !("id" in functionResponse)) {
        throw new Error(FUNCTION_RESPONSE_REQUIRES_ID);
      }
    }
    const clientMessage = {
      toolResponse: { functionResponses }
    };
    return clientMessage;
  }
  /**
      Send a message over the established connection.
  
      @param params - Contains two **optional** properties, `turns` and
          `turnComplete`.
  
        - `turns` will be converted to a `Content[]`
        - `turnComplete: true` [default] indicates that you are done sending
          content and expect a response. If `turnComplete: false`, the server
          will wait for additional messages before starting generation.
  
      @experimental
  
      @remarks
      There are two ways to send messages to the live API:
      `sendClientContent` and `sendRealtimeInput`.
  
      `sendClientContent` messages are added to the model context **in order**.
      Having a conversation using `sendClientContent` messages is roughly
      equivalent to using the `Chat.sendMessageStream`, except that the state of
      the `chat` history is stored on the API server instead of locally.
  
      Because of `sendClientContent`'s order guarantee, the model cannot respons
      as quickly to `sendClientContent` messages as to `sendRealtimeInput`
      messages. This makes the biggest difference when sending objects that have
      significant preprocessing time (typically images).
  
      The `sendClientContent` message sends a `Content[]`
      which has more options than the `Blob` sent by `sendRealtimeInput`.
  
      So the main use-cases for `sendClientContent` over `sendRealtimeInput` are:
  
      - Sending anything that can't be represented as a `Blob` (text,
      `sendClientContent({turns="Hello?"}`)).
      - Managing turns when not using audio input and voice activity detection.
        (`sendClientContent({turnComplete:true})` or the short form
      `sendClientContent()`)
      - Prefilling a conversation context
        ```
        sendClientContent({
            turns: [
              Content({role:user, parts:...}),
              Content({role:user, parts:...}),
              ...
            ]
        })
        ```
      @experimental
     */
  sendClientContent(params) {
    params = Object.assign(Object.assign({}, defaultLiveSendClientContentParamerters), params);
    const clientMessage = this.tLiveClientContent(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a realtime message over the established connection.
  
      @param params - Contains one property, `media`.
  
        - `media` will be converted to a `Blob`
  
      @experimental
  
      @remarks
      Use `sendRealtimeInput` for realtime audio chunks and video frames (images).
  
      With `sendRealtimeInput` the api will respond to audio automatically
      based on voice activity detection (VAD).
  
      `sendRealtimeInput` is optimized for responsivness at the expense of
      deterministic ordering guarantees. Audio and video tokens are to the
      context when they become available.
  
      Note: The Call signature expects a `Blob` object, but only a subset
      of audio and image mimetypes are allowed.
     */
  sendRealtimeInput(params) {
    if (params.media == null) {
      throw new Error("Media is required.");
    }
    const clientMessage = this.tLiveClientRealtimeInput(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a function response message over the established connection.
  
      @param params - Contains property `functionResponses`.
  
        - `functionResponses` will be converted to a `functionResponses[]`
  
      @remarks
      Use `sendFunctionResponse` to reply to `LiveServerToolCall` from the server.
  
      Use {@link types.LiveConnectConfig#tools} to configure the callable functions.
  
      @experimental
     */
  sendToolResponse(params) {
    if (params.functionResponses == null) {
      throw new Error("Tool response parameters are required.");
    }
    const clientMessage = this.tLiveClienttToolResponse(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
       Terminates the WebSocket connection.
  
       @experimental
  
       @example
       ```ts
       const session = await ai.live.connect({
         model: 'gemini-2.0-flash-exp',
         config: {
           responseModalities: [Modality.AUDIO],
         }
       });
  
       session.close();
       ```
     */
  close() {
    this.conn.close();
  }
};
function headersToMap(headers) {
  const headerMap = {};
  headers.forEach((value, key) => {
    headerMap[key] = value;
  });
  return headerMap;
}
function mapToHeaders(map) {
  const headers = new Headers();
  for (const [key, value] of Object.entries(map)) {
    headers.append(key, value);
  }
  return headers;
}
var Models = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.generateContent = async (params) => {
      return await this.generateContentInternal(params);
    };
    this.generateContentStream = async (params) => {
      return await this.generateContentStreamInternal(params);
    };
    this.generateImages = async (params) => {
      return await this.generateImagesInternal(params).then((apiResponse) => {
        var _a;
        let positivePromptSafetyAttributes;
        const generatedImages = [];
        if (apiResponse === null || apiResponse === void 0 ? void 0 : apiResponse.generatedImages) {
          for (const generatedImage of apiResponse.generatedImages) {
            if (generatedImage && (generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) && ((_a = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) === null || _a === void 0 ? void 0 : _a.contentType) === "Positive Prompt") {
              positivePromptSafetyAttributes = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes;
            } else {
              generatedImages.push(generatedImage);
            }
          }
        }
        let response;
        if (positivePromptSafetyAttributes) {
          response = {
            generatedImages,
            positivePromptSafetyAttributes
          };
        } else {
          response = {
            generatedImages
          };
        }
        return response;
      });
    };
  }
  async generateContentInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async generateContentStreamInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a2, e_1, _b2, _c;
          try {
            for (var _d = true, apiResponse_1 = __asyncValues(apiResponse), apiResponse_1_1; apiResponse_1_1 = yield __await(apiResponse_1.next()), _a2 = apiResponse_1_1.done, !_a2; _d = true) {
              _c = apiResponse_1_1.value;
              _d = false;
              const chunk = _c;
              const resp = generateContentResponseFromVertex(apiClient, chunk);
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b2 = apiResponse_1.return))
                yield __await(_b2.call(apiResponse_1));
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
        });
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a2, e_2, _b2, _c;
          try {
            for (var _d = true, apiResponse_2 = __asyncValues(apiResponse), apiResponse_2_1; apiResponse_2_1 = yield __await(apiResponse_2.next()), _a2 = apiResponse_2_1.done, !_a2; _d = true) {
              _c = apiResponse_2_1.value;
              _d = false;
              const chunk = _c;
              const resp = generateContentResponseFromMldev(apiClient, chunk);
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_2_1) {
            e_2 = { error: e_2_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b2 = apiResponse_2.return))
                yield __await(_b2.call(apiResponse_2));
            } finally {
              if (e_2)
                throw e_2.error;
            }
          }
        });
      });
    }
  }
  /**
   * Calculates embeddings for the given contents. Only text is supported.
   *
   * @param params - The parameters for embedding contents.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.embedContent({
   *  model: 'text-embedding-004',
   *  contents: [
   *    'What is your name?',
   *    'What is your favorite color?',
   *  ],
   *  config: {
   *    outputDimensionality: 64,
   *  },
   * });
   * console.log(response);
   * ```
   */
  async embedContent(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = embedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = embedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:batchEmbedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Generates an image based on a text description and configuration.
   *
   * @param params - The parameters for generating images.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateImages({
   *  model: 'imagen-3.0-generate-002',
   *  prompt: 'Robot holding a red skateboard',
   *  config: {
   *    numberOfImages: 1,
   *    includeRaiReason: true,
   *  },
   * });
   * console.log(response?.generatedImages?.[0]?.image?.imageBytes);
   * ```
   */
  async generateImagesInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateImagesParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateImagesParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Fetches information about a model by name.
   *
   * @example
   * ```ts
   * const modelInfo = await ai.models.get({model: 'gemini-2.0-flash'});
   * ```
   */
  async get(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getModelParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getModelParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Counts the number of tokens in the given contents. Multimodal input is
   * supported for Gemini models.
   *
   * @param params - The parameters for counting tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.countTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'The quick brown fox jumps over the lazy dog.'
   * });
   * console.log(response);
   * ```
   */
  async countTokens(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = countTokensParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = countTokensParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Given a list of contents, returns a corresponding TokensInfo containing
   * the list of tokens and list of token ids.
   *
   * This method is not supported by the Gemini Developer API.
   *
   * @param params - The parameters for computing tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.computeTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'What is your name?'
   * });
   * console.log(response);
   * ```
   */
  async computeTokens(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = computeTokensParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:computeTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = computeTokensResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new ComputeTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   *  Generates videos based on a text description and configuration.
   *
   * @param params - The parameters for generating videos.
   * @return A Promise<GenerateVideosOperation> which allows you to track the progress and eventually retrieve the generated videos using the operations.get method.
   *
   * @example
   * ```ts
   * const operation = await ai.models.generateVideos({
   *  model: 'veo-2.0-generate-001',
   *  prompt: 'A neon hologram of a cat driving at top speed',
   *  config: {
   *    numberOfVideos: 1
   * });
   *
   * while (!operation.done) {
   *   await new Promise(resolve => setTimeout(resolve, 10000));
   *   operation = await ai.operations.getVideosOperation({operation: operation});
   * }
   *
   * console.log(operation.response?.generatedVideos?.[0]?.video?.uri);
   * ```
   */
  async generateVideos(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateVideosParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex$1(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = generateVideosParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromMldev$1(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
};
function getOperationParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function getOperationParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function fetchPredictOperationParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["operationName"], fromOperationName);
  }
  const fromResourceName = getValueByPath(fromObject, ["resourceName"]);
  if (fromResourceName != null) {
    setValueByPath(toObject, ["_url", "resourceName"], fromResourceName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function videoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["video", "uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "video",
    "encodedVideo"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromMldev(apiClient, fromResult));
  }
  return toObject;
}
function videoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, ["response"]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromVertex(apiClient, fromResult));
  }
  return toObject;
}
var Operations = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
  }
  /**
   * Gets the status of a long-running operation.
   *
   * @param parameters The parameters for the get operation request.
   * @return The updated Operation object, with the latest status or result.
   */
  async getVideosOperation(parameters) {
    const operation = parameters.operation;
    const config = parameters.config;
    if (operation.name === void 0 || operation.name === "") {
      throw new Error("Operation name is required.");
    }
    if (this.apiClient.isVertexAI()) {
      const resourceName2 = operation.name.split("/operations/")[0];
      var httpOptions = void 0;
      if (config && "httpOptions" in config) {
        httpOptions = config.httpOptions;
      }
      return this.fetchPredictVideosOperationInternal({
        operationName: operation.name,
        resourceName: resourceName2,
        config: { httpOptions }
      });
    } else {
      return this.getVideosOperationInternal({
        operationName: operation.name,
        config
      });
    }
  }
  async getVideosOperationInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getOperationParametersToVertex(this.apiClient, params);
      path = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getOperationParametersToMldev(this.apiClient, params);
      path = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  async fetchPredictVideosOperationInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = fetchPredictOperationParametersToVertex(this.apiClient, params);
      path = formatMap("{resourceName}:fetchPredictOperation", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
};
var CONTENT_TYPE_HEADER = "Content-Type";
var SERVER_TIMEOUT_HEADER = "X-Server-Timeout";
var USER_AGENT_HEADER = "User-Agent";
var GOOGLE_API_CLIENT_HEADER = "x-goog-api-client";
var SDK_VERSION = "0.8.0";
var LIBRARY_LABEL = `google-genai-sdk/${SDK_VERSION}`;
var VERTEX_AI_API_DEFAULT_VERSION = "v1beta1";
var GOOGLE_AI_API_DEFAULT_VERSION = "v1beta";
var responseLineRE = /^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;
var ClientError = class extends Error {
  constructor(message, stackTrace) {
    if (stackTrace) {
      super(message, { cause: stackTrace });
    } else {
      super(message, { cause: new Error().stack });
    }
    this.message = message;
    this.name = "ClientError";
  }
};
var ServerError = class extends Error {
  constructor(message, stackTrace) {
    if (stackTrace) {
      super(message, { cause: stackTrace });
    } else {
      super(message, { cause: new Error().stack });
    }
    this.message = message;
    this.name = "ServerError";
  }
};
var ApiClient = class {
  constructor(opts) {
    var _a, _b;
    this.clientOptions = Object.assign(Object.assign({}, opts), { project: opts.project, location: opts.location, apiKey: opts.apiKey, vertexai: opts.vertexai });
    const initHttpOptions = {};
    if (this.clientOptions.vertexai) {
      initHttpOptions.apiVersion = (_a = this.clientOptions.apiVersion) !== null && _a !== void 0 ? _a : VERTEX_AI_API_DEFAULT_VERSION;
      if (this.getProject() || this.getLocation()) {
        initHttpOptions.baseUrl = `https://${this.clientOptions.location}-aiplatform.googleapis.com/`;
        this.clientOptions.apiKey = void 0;
      } else {
        initHttpOptions.baseUrl = `https://aiplatform.googleapis.com/`;
        this.clientOptions.project = void 0;
        this.clientOptions.location = void 0;
      }
    } else {
      initHttpOptions.apiVersion = (_b = this.clientOptions.apiVersion) !== null && _b !== void 0 ? _b : GOOGLE_AI_API_DEFAULT_VERSION;
      initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;
    }
    initHttpOptions.headers = this.getDefaultHeaders();
    this.clientOptions.httpOptions = initHttpOptions;
    if (opts.httpOptions) {
      this.clientOptions.httpOptions = this.patchHttpOptions(initHttpOptions, opts.httpOptions);
    }
  }
  isVertexAI() {
    var _a;
    return (_a = this.clientOptions.vertexai) !== null && _a !== void 0 ? _a : false;
  }
  getProject() {
    return this.clientOptions.project;
  }
  getLocation() {
    return this.clientOptions.location;
  }
  getApiVersion() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.apiVersion !== void 0) {
      return this.clientOptions.httpOptions.apiVersion;
    }
    throw new Error("API version is not set.");
  }
  getBaseUrl() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.baseUrl !== void 0) {
      return this.clientOptions.httpOptions.baseUrl;
    }
    throw new Error("Base URL is not set.");
  }
  getRequestUrl() {
    return this.getRequestUrlInternal(this.clientOptions.httpOptions);
  }
  getHeaders() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.headers !== void 0) {
      return this.clientOptions.httpOptions.headers;
    } else {
      throw new Error("Headers are not set.");
    }
  }
  getRequestUrlInternal(httpOptions) {
    if (!httpOptions || httpOptions.baseUrl === void 0 || httpOptions.apiVersion === void 0) {
      throw new Error("HTTP options are not correctly set.");
    }
    const baseUrl = httpOptions.baseUrl.endsWith("/") ? httpOptions.baseUrl.slice(0, -1) : httpOptions.baseUrl;
    const urlElement = [baseUrl];
    if (httpOptions.apiVersion && httpOptions.apiVersion !== "") {
      urlElement.push(httpOptions.apiVersion);
    }
    return urlElement.join("/");
  }
  getBaseResourcePath() {
    return `projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`;
  }
  getApiKey() {
    return this.clientOptions.apiKey;
  }
  getWebsocketBaseUrl() {
    const baseUrl = this.getBaseUrl();
    const urlParts = new URL(baseUrl);
    urlParts.protocol = "wss";
    return urlParts.toString();
  }
  setBaseUrl(url) {
    if (this.clientOptions.httpOptions) {
      this.clientOptions.httpOptions.baseUrl = url;
    } else {
      throw new Error("HTTP options are not correctly set.");
    }
  }
  constructUrl(path, httpOptions, prependProjectLocation) {
    const urlElement = [this.getRequestUrlInternal(httpOptions)];
    if (prependProjectLocation) {
      urlElement.push(this.getBaseResourcePath());
    }
    if (path !== "") {
      urlElement.push(path);
    }
    const url = new URL(`${urlElement.join("/")}`);
    return url;
  }
  shouldPrependVertexProjectPath(request) {
    if (this.clientOptions.apiKey) {
      return false;
    }
    if (!this.clientOptions.vertexai) {
      return false;
    }
    if (request.path.startsWith("projects/")) {
      return false;
    }
    if (request.httpMethod === "GET" && request.path.startsWith("publishers/google/models")) {
      return false;
    }
    return true;
  }
  async request(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (request.queryParams) {
      for (const [key, value] of Object.entries(request.queryParams)) {
        url.searchParams.append(key, String(value));
      }
    }
    let requestInit = {};
    if (request.httpMethod === "GET") {
      if (request.body && request.body !== "{}") {
        throw new Error("Request body should be empty for GET request, but got non empty request body");
      }
    } else {
      requestInit.body = request.body;
    }
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions);
    return this.unaryApiCall(url, requestInit, request.httpMethod);
  }
  patchHttpOptions(baseHttpOptions, requestHttpOptions) {
    const patchedHttpOptions = JSON.parse(JSON.stringify(baseHttpOptions));
    for (const [key, value] of Object.entries(requestHttpOptions)) {
      if (typeof value === "object") {
        patchedHttpOptions[key] = Object.assign(Object.assign({}, patchedHttpOptions[key]), value);
      } else if (value !== void 0) {
        patchedHttpOptions[key] = value;
      }
    }
    return patchedHttpOptions;
  }
  async requestStream(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (!url.searchParams.has("alt") || url.searchParams.get("alt") !== "sse") {
      url.searchParams.set("alt", "sse");
    }
    let requestInit = {};
    requestInit.body = request.body;
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions);
    return this.streamApiCall(url, requestInit, request.httpMethod);
  }
  async includeExtraHttpOptionsToRequestInit(requestInit, httpOptions) {
    if (httpOptions && httpOptions.timeout && httpOptions.timeout > 0) {
      const abortController = new AbortController();
      const signal = abortController.signal;
      setTimeout(() => abortController.abort(), httpOptions.timeout);
      requestInit.signal = signal;
    }
    requestInit.headers = await this.getHeadersInternal(httpOptions);
    return requestInit;
  }
  async unaryApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return new HttpResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  async streamApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return this.processStreamResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  processStreamResponse(response) {
    var _a;
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      const reader = (_a = response === null || response === void 0 ? void 0 : response.body) === null || _a === void 0 ? void 0 : _a.getReader();
      const decoder = new TextDecoder("utf-8");
      if (!reader) {
        throw new Error("Response body is empty");
      }
      try {
        let buffer = "";
        while (true) {
          const { done, value } = yield __await(reader.read());
          if (done) {
            if (buffer.trim().length > 0) {
              throw new Error("Incomplete JSON segment at the end");
            }
            break;
          }
          const chunkString = decoder.decode(value);
          buffer += chunkString;
          let match = buffer.match(responseLineRE);
          while (match) {
            const processedChunkString = match[1];
            try {
              const chunkData = JSON.parse(processedChunkString);
              yield yield __await(chunkData);
              buffer = buffer.slice(match[0].length);
              match = buffer.match(responseLineRE);
            } catch (e) {
              throw new Error(`exception parsing stream chunk ${processedChunkString}. ${e}`);
            }
          }
        }
      } finally {
        reader.releaseLock();
      }
    });
  }
  async apiCall(url, requestInit) {
    return fetch(url, requestInit).catch((e) => {
      throw new Error(`exception ${e} sending request`);
    });
  }
  getDefaultHeaders() {
    const headers = {};
    const versionHeaderValue = LIBRARY_LABEL + " " + this.clientOptions.userAgentExtra;
    headers[USER_AGENT_HEADER] = versionHeaderValue;
    headers[GOOGLE_API_CLIENT_HEADER] = versionHeaderValue;
    headers[CONTENT_TYPE_HEADER] = "application/json";
    return headers;
  }
  async getHeadersInternal(httpOptions) {
    const headers = new Headers();
    if (httpOptions && httpOptions.headers) {
      for (const [key, value] of Object.entries(httpOptions.headers)) {
        headers.append(key, value);
      }
      if (httpOptions.timeout && httpOptions.timeout > 0) {
        headers.append(SERVER_TIMEOUT_HEADER, String(Math.ceil(httpOptions.timeout / 1e3)));
      }
    }
    await this.clientOptions.auth.addAuthHeaders(headers);
    return headers;
  }
  /**
   * Uploads a file asynchronously using Gemini API only, this is not supported
   * in Vertex AI.
   *
   * @param file The string path to the file to be uploaded or a Blob object.
   * @param config Optional parameters specified in the `UploadFileConfig`
   *     interface. @see {@link UploadFileConfig}
   * @return A promise that resolves to a `File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   */
  async uploadFile(file, config) {
    var _a;
    const fileToUpload = {};
    if (config != null) {
      fileToUpload.mimeType = config.mimeType;
      fileToUpload.name = config.name;
      fileToUpload.displayName = config.displayName;
    }
    if (fileToUpload.name && !fileToUpload.name.startsWith("files/")) {
      fileToUpload.name = `files/${fileToUpload.name}`;
    }
    const uploader = this.clientOptions.uploader;
    const fileStat = await uploader.stat(file);
    fileToUpload.sizeBytes = String(fileStat.size);
    const mimeType = (_a = config === null || config === void 0 ? void 0 : config.mimeType) !== null && _a !== void 0 ? _a : fileStat.type;
    if (mimeType === void 0 || mimeType === "") {
      throw new Error("Can not determine mimeType. Please provide mimeType in the config.");
    }
    fileToUpload.mimeType = mimeType;
    const uploadUrl = await this.fetchUploadUrl(fileToUpload, config);
    return uploader.upload(file, uploadUrl, this);
  }
  async fetchUploadUrl(file, config) {
    var _a;
    let httpOptions = {};
    if (config === null || config === void 0 ? void 0 : config.httpOptions) {
      httpOptions = config.httpOptions;
    } else {
      httpOptions = {
        apiVersion: "",
        headers: {
          "Content-Type": "application/json",
          "X-Goog-Upload-Protocol": "resumable",
          "X-Goog-Upload-Command": "start",
          "X-Goog-Upload-Header-Content-Length": `${file.sizeBytes}`,
          "X-Goog-Upload-Header-Content-Type": `${file.mimeType}`
        }
      };
    }
    const body = {
      "file": file
    };
    const httpResponse = await this.request({
      path: formatMap("upload/v1beta/files", body["_url"]),
      body: JSON.stringify(body),
      httpMethod: "POST",
      httpOptions
    });
    if (!httpResponse || !(httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers)) {
      throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");
    }
    const uploadUrl = (_a = httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers) === null || _a === void 0 ? void 0 : _a["x-goog-upload-url"];
    if (uploadUrl === void 0) {
      throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");
    }
    return uploadUrl;
  }
};
async function throwErrorIfNotOK(response) {
  var _a;
  if (response === void 0) {
    throw new ServerError("response is undefined");
  }
  if (!response.ok) {
    const status = response.status;
    const statusText = response.statusText;
    let errorBody;
    if ((_a = response.headers.get("content-type")) === null || _a === void 0 ? void 0 : _a.includes("application/json")) {
      errorBody = await response.json();
    } else {
      errorBody = {
        error: {
          message: "exception parsing response",
          code: response.status,
          status: response.statusText
        }
      };
    }
    const errorMessage = `got status: ${status} ${statusText}. ${JSON.stringify(errorBody)}`;
    if (status >= 400 && status < 500) {
      const clientError = new ClientError(errorMessage);
      throw clientError;
    } else if (status >= 500 && status < 600) {
      const serverError = new ServerError(errorMessage);
      throw serverError;
    }
    throw new Error(errorMessage);
  }
}
var MAX_CHUNK_SIZE = 1024 * 1024 * 8;
async function uploadBlob(file, uploadUrl, apiClient) {
  var _a, _b;
  let fileSize = 0;
  let offset = 0;
  let response = new HttpResponse(new Response());
  let uploadCommand = "upload";
  fileSize = file.size;
  while (offset < fileSize) {
    const chunkSize = Math.min(MAX_CHUNK_SIZE, fileSize - offset);
    const chunk = file.slice(offset, offset + chunkSize);
    if (offset + chunkSize >= fileSize) {
      uploadCommand += ", finalize";
    }
    response = await apiClient.request({
      path: "",
      body: chunk,
      httpMethod: "POST",
      httpOptions: {
        apiVersion: "",
        baseUrl: uploadUrl,
        headers: {
          "X-Goog-Upload-Command": uploadCommand,
          "X-Goog-Upload-Offset": String(offset),
          "Content-Length": String(chunkSize)
        }
      }
    });
    offset += chunkSize;
    if (((_a = response === null || response === void 0 ? void 0 : response.headers) === null || _a === void 0 ? void 0 : _a["x-goog-upload-status"]) !== "active") {
      break;
    }
    if (fileSize <= offset) {
      throw new Error("All content has been uploaded, but the upload status is not finalized.");
    }
  }
  const responseJson = await (response === null || response === void 0 ? void 0 : response.json());
  if (((_b = response === null || response === void 0 ? void 0 : response.headers) === null || _b === void 0 ? void 0 : _b["x-goog-upload-status"]) !== "final") {
    throw new Error("Failed to upload file: Upload status is not finalized.");
  }
  return responseJson["file"];
}
async function getBlobStat(file) {
  const fileStat = { size: file.size, type: file.type };
  return fileStat;
}
var BrowserUploader = class {
  async upload(file, uploadUrl, apiClient) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    }
    return await uploadBlob(file, uploadUrl, apiClient);
  }
  async stat(file) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    } else {
      return await getBlobStat(file);
    }
  }
};
var BrowserWebSocketFactory = class {
  create(url, headers, callbacks) {
    return new BrowserWebSocket(url, headers, callbacks);
  }
};
var BrowserWebSocket = class {
  constructor(url, headers, callbacks) {
    this.url = url;
    this.headers = headers;
    this.callbacks = callbacks;
  }
  connect() {
    this.ws = new WebSocket(this.url);
    this.ws.onopen = this.callbacks.onopen;
    this.ws.onerror = this.callbacks.onerror;
    this.ws.onclose = this.callbacks.onclose;
    this.ws.onmessage = this.callbacks.onmessage;
  }
  send(message) {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.send(message);
  }
  close() {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.close();
  }
};
var GOOGLE_API_KEY_HEADER = "x-goog-api-key";
var WebAuth = class {
  constructor(apiKey) {
    this.apiKey = apiKey;
  }
  async addAuthHeaders(headers) {
    if (headers.get(GOOGLE_API_KEY_HEADER) !== null) {
      return;
    }
    headers.append(GOOGLE_API_KEY_HEADER, this.apiKey);
  }
};
var LANGUAGE_LABEL_PREFIX = "gl-node/";
var GoogleGenAI = class {
  constructor(options) {
    var _a;
    if (options.apiKey == null) {
      throw new Error("An API Key must be set when running in a browser");
    }
    if (options.project || options.location) {
      throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");
    }
    this.vertexai = (_a = options.vertexai) !== null && _a !== void 0 ? _a : false;
    this.apiKey = options.apiKey;
    this.apiVersion = options.apiVersion;
    const auth = new WebAuth(this.apiKey);
    this.apiClient = new ApiClient({
      auth,
      apiVersion: this.apiVersion,
      apiKey: this.apiKey,
      vertexai: this.vertexai,
      httpOptions: options.httpOptions,
      userAgentExtra: LANGUAGE_LABEL_PREFIX + "web",
      uploader: new BrowserUploader()
    });
    this.models = new Models(this.apiClient);
    this.live = new Live(this.apiClient, auth, new BrowserWebSocketFactory());
    this.chats = new Chats(this.models, this.apiClient);
    this.caches = new Caches(this.apiClient);
    this.files = new Files(this.apiClient);
    this.operations = new Operations(this.apiClient);
  }
};

// AudioRecordModal.ts
var import_obsidian = require("obsidian");
var AudioRecordModal = class extends import_obsidian.Modal {
  constructor(app, handleAudioRecording, settings) {
    super(app);
    this.mediaRecorder = null;
    this.chunks = [];
    this.isRecording = false;
    this.intervalId = null;
    this.startTime = 0;
    this.elapsedTime = 0;
    this.isResetting = false;
    this.handleAudioRecording = handleAudioRecording;
    this.settings = settings;
  }
  onOpen() {
    const { contentEl, modalEl } = this;
    if (!contentEl || !modalEl) {
      console.error("contentEl or modalEl is null");
      return;
    }
    modalEl.addClass("smart-memo-recording");
    const headerTimerContainer = contentEl.createDiv({ cls: "smart-memo-header-timer-container" });
    const header = headerTimerContainer.createEl("h2", { text: "Recording...", cls: "smart-memo-recording-header" });
    this.timer = headerTimerContainer.createEl("div", { cls: "smart-memo-timer", text: "00:00" });
    contentEl.addClass("smart-memo-audio-record-modal-content");
    const redDotContainer = contentEl.createDiv({ cls: "smart-memo-red-dot-container" });
    this.redDot = redDotContainer.createDiv({ cls: "smart-memo-red-dot" });
    const controlGroupWrapper = contentEl.createDiv({ cls: "smart-memo-control-group-wrapper" });
    const controlGroup = controlGroupWrapper.createDiv({ cls: "smart-memo-modal-button-group" });
    const playPauseButton = controlGroup.createEl("button", { cls: "smart-memo-modal-button smart-memo-flex" });
    const stopButton = controlGroup.createEl("button", { cls: "smart-memo-modal-button smart-memo-flex" });
    (0, import_obsidian.setIcon)(playPauseButton, "pause");
    (0, import_obsidian.setIcon)(stopButton, "square");
    stopButton.addEventListener("click", async () => {
      const audioFile = await this.stopRecording();
      this.handleAudioRecording(audioFile, false, this.keepAudioCheckbox.checked, this.includeAudioFileLinkCheckbox.checked);
    });
    playPauseButton.addEventListener("click", () => {
      if (this.isRecording) {
        this.pauseRecording();
        (0, import_obsidian.setIcon)(playPauseButton, "circle");
        header.textContent = "Paused";
        modalEl.addClass("smart-memo-paused");
        modalEl.removeClass("smart-memo-recording");
      } else {
        this.resumeOrStartRecording();
        (0, import_obsidian.setIcon)(playPauseButton, "pause");
        header.textContent = "Recording...";
        modalEl.removeClass("smart-memo-paused");
        modalEl.addClass("smart-memo-recording");
      }
      this.isRecording = !this.isRecording;
    });
    const transcribeButton = controlGroupWrapper.createEl("button", { cls: "smart-memo-modal-button smart-memo-full-width-button smart-memo-transcribe-button" });
    transcribeButton.addEventListener("click", async () => {
      const audioFile = await this.stopRecording();
      this.handleAudioRecording(audioFile, true, this.keepAudioCheckbox.checked, this.includeAudioFileLinkCheckbox.checked);
    });
    (0, import_obsidian.setIcon)(transcribeButton, "book-audio");
    const buttonText = document.createTextNode(" Transcribe");
    transcribeButton.appendChild(buttonText);
    const svgElement = transcribeButton.querySelector("svg");
    if (svgElement) {
      svgElement.style.marginRight = "10px";
    }
    const resetButton = contentEl.createEl("button", { cls: "smart-memo-modal-button smart-memo-full-width-button smart-memo-reset-button", text: "Restart" });
    resetButton.addEventListener("click", () => {
      this.hardReset();
      (0, import_obsidian.setIcon)(playPauseButton, "circle");
      header.textContent = "Ready to Record";
      this.isRecording = false;
      modalEl.addClass("smart-memo-paused");
      modalEl.removeClass("smart-memo-recording");
      this.redDot.classList.remove("smart-memo-pulse-animation");
    });
    const keepAudioContainer = contentEl.createDiv({ cls: "smart-memo-keep-audio-container" });
    this.keepAudioCheckbox = keepAudioContainer.createEl("input", { type: "checkbox", cls: "smart-memo-keep-audio-checkbox" });
    this.keepAudioCheckbox.checked = this.settings.keepAudio;
    const keepAudioLabel = keepAudioContainer.createEl("label", { text: "Keep Audio File", cls: "smart-memo-keep-audio-label" });
    keepAudioLabel.htmlFor = this.keepAudioCheckbox.id;
    const includeAudioFileLinkContainer = contentEl.createDiv({ cls: "smart-memo-include-audio-file-link-container" });
    this.includeAudioFileLinkCheckbox = includeAudioFileLinkContainer.createEl("input", { type: "checkbox", cls: "smart-memo-include-audio-file-link-checkbox" });
    this.includeAudioFileLinkCheckbox.checked = this.settings.includeAudioFileLink;
    const includeAudioFileLinkLabel = includeAudioFileLinkContainer.createEl("label", { text: "Include Audio File Link", cls: "smart-memo-include-audio-file-link-label" });
    includeAudioFileLinkLabel.htmlFor = this.includeAudioFileLinkCheckbox.id;
    this.startRecording();
    this.isRecording = true;
    this.redDot.classList.add("smart-memo-pulse-animation");
    const activeElement = document.activeElement;
    if (activeElement) {
      activeElement.blur();
    }
  }
  startRecording() {
    navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {
      this.mediaRecorder = new MediaRecorder(stream);
      this.setupMediaRecorder();
      this.mediaRecorder.start(1e3);
      this.startTime = Date.now();
      this.startTimer();
      this.mediaRecorder.addEventListener("dataavailable", this.onDataAvailable.bind(this));
    }).catch((error) => {
      console.error("Error accessing microphone:", error);
      this.reject(error);
    });
  }
  setupMediaRecorder() {
    if (this.mediaRecorder) {
      this.mediaRecorder.addEventListener("stop", this.onStop.bind(this));
    }
  }
  onDataAvailable(event) {
    if (this.isResetting) {
      return;
    }
    this.chunks.push(event.data);
  }
  onStop() {
    if (this.isResetting) {
      this.isResetting = false;
      return;
    }
    const blob = new Blob(this.chunks, { type: "audio/wav" });
    if (this.resolve) {
      this.resolve(blob);
      this.close();
    } else {
      console.error("Resolve function is not defined");
    }
  }
  pauseRecording() {
    if (this.mediaRecorder && this.mediaRecorder.state === "recording") {
      this.mediaRecorder.pause();
      this.stopTimer();
      this.elapsedTime += Date.now() - this.startTime;
      this.redDot.classList.remove("smart-memo-pulse-animation");
    }
  }
  resumeOrStartRecording() {
    if (this.mediaRecorder && this.mediaRecorder.state === "paused") {
      this.mediaRecorder.resume();
    } else {
      this.startRecording();
    }
    this.startTime = Date.now();
    this.startTimer();
    this.redDot.classList.add("smart-memo-pulse-animation");
  }
  hardReset() {
    if (this.mediaRecorder) {
      this.mediaRecorder.stop();
      this.mediaRecorder.onstop = null;
      this.mediaRecorder.ondataavailable = null;
      this.mediaRecorder = null;
    }
    this.isResetting = true;
    this.chunks = [];
    this.elapsedTime = 0;
    this.stopTimer();
    this.timer.textContent = "00:00";
    this.redDot.classList.remove("smart-memo-pulse-animation");
  }
  stopRecording() {
    return new Promise((resolve, reject) => {
      this.resolve = resolve;
      this.reject = reject;
      if (this.mediaRecorder) {
        this.mediaRecorder.addEventListener("stop", this.onStop.bind(this));
        this.mediaRecorder.stop();
        this.stopTimer();
      } else {
        resolve(null);
      }
    });
  }
  startTimer() {
    this.stopTimer();
    this.intervalId = window.setInterval(() => {
      const elapsedTimeInSeconds = Math.floor(this.elapsedTime / 1e3) + Math.floor((Date.now() - this.startTime) / 1e3);
      const minutes = Math.floor(elapsedTimeInSeconds / 60);
      const seconds = elapsedTimeInSeconds % 60;
      this.timer.textContent = `${this.padNumber(minutes)}:${this.padNumber(seconds)}`;
    }, 1e3);
  }
  stopTimer() {
    if (this.intervalId !== null) {
      window.clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  padNumber(num) {
    return num.toString().padStart(2, "0");
  }
  open() {
    super.open();
    return new Promise((resolve, reject) => {
      this.resolve = resolve;
      this.reject = reject;
    });
  }
};

// Utils.ts
var import_obsidian2 = require("obsidian");
async function saveFile(app, audioBlob, fileName, path) {
  try {
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    const filePath = `${normalizedPath}/${fileName}`;
    await ensureDirectoryExists(app, normalizedPath);
    const arrayBuffer = await audioBlob.arrayBuffer();
    const uint8Array = new Uint8Array(arrayBuffer);
    const file = await app.vault.createBinary(filePath, uint8Array);
    if (!file) {
      throw new Error("File creation failed and returned null");
    }
    return file;
  } catch (error) {
    console.error("Error saving audio file:", error);
    throw error;
  }
}
async function ensureDirectoryExists(app, folderPath) {
  const parts = folderPath.split("/");
  let currentPath = "";
  for (const part of parts) {
    currentPath = currentPath ? `${currentPath}/${part}` : part;
    try {
      const folder = app.vault.getAbstractFileByPath(currentPath);
      if (!folder) {
        await app.vault.createFolder(currentPath);
      } else if (folder instanceof import_obsidian2.TFolder) {
        console.log(`Folder already exists: ${currentPath}`);
      } else {
        throw new Error(`${currentPath} is not a folder`);
      }
    } catch (error) {
      if (error.message.includes("Folder already exists")) {
        console.log(`Handled existing folder: ${currentPath}`);
      } else {
        console.error(`Error ensuring directory exists: ${error.message}`);
        throw error;
      }
    }
  }
}

// main.ts
var MODELS = [
  "gemini-2.5-pro-preview-03-25",
  "gemini-2.0-flash",
  "gemini-2.0-flash-lite",
  "gemini-1.5-flash",
  "gemini-1.5-pro"
];
var DEFAULT_SETTINGS = {
  model: "gemini-2.0-flash-lite",
  // Default Google model
  apiKey: "",
  prompt: "You will be provided an audio file. Your task is to compose a concise memo from this audio file in markdown (Obsidian). If you are provided a template, follow this template as precisely as possible. Otherwise, structure the memo in a way that makes sense. Do not be conversational, simply return the memo text. Write the text in the first person perspective.\n",
  defaultNoteFolder: "",
  recordingFilePath: "Captain's Log/recordings",
  keepAudio: true,
  includeAudioFileLink: false,
  insertTranscriptLocation: "newNote",
  templateFilePath: ""
};
var CaptainsLogPlugin = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.writing = false;
    this.transcript = "";
  }
  async onload() {
    await this.loadSettings();
    this.ai = new GoogleGenAI({ apiKey: this.settings.apiKey });
    this.addCommand({
      id: "open-transcript-modal",
      name: "Transcribe Audio",
      callback: async () => {
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
        if (activeView) {
          this.commandGenerateTranscript(activeView.editor);
        } else {
          new import_obsidian3.Notice("No active file open. The transcript will be generated in a new note.");
        }
      }
    });
    this.addCommand({
      id: "record-captains-log",
      name: "Record Captain's Log",
      callback: async () => {
        const audioFileBlob = await new AudioRecordModal(
          this.app,
          this.handleAudioRecording.bind(this),
          this.settings
        ).open();
      }
    });
    this.registerMarkdownPostProcessor(
      (el, ctx) => {
        const audioLinks = el.querySelectorAll(
          'a.internal-link[data-href$=".mp3"], a.internal-link[data-href$=".wav"]'
        );
        audioLinks.forEach((link) => {
          const href = link.getAttribute("data-href");
          if (!href) {
            console.error("Failed to get the href attribute from the link element.");
            return;
          }
          const abstractFile = this.app.vault.getAbstractFileByPath(href);
          if (!(abstractFile instanceof import_obsidian3.TFile)) {
            console.error("The path does not point to a valid file in the vault.");
            return;
          }
          const audio = document.createElement("audio");
          audio.src = this.app.vault.getResourcePath(abstractFile);
          audio.controls = true;
          audio.addEventListener("loadedmetadata", () => {
            if (audio.parentNode) {
              const durationDisplay = document.createElement("span");
              durationDisplay.textContent = `Duration: ${audio.duration.toFixed(2)} seconds`;
              audio.parentNode.insertBefore(durationDisplay, audio.nextSibling);
            }
          });
          audio.load();
          link.replaceWith(audio);
        });
      }
    );
    this.addRibbonIcon("book-audio", "Record Captain's Log", async (evt) => {
      const audioFileBlob = await new AudioRecordModal(
        this.app,
        this.handleAudioRecording.bind(this),
        this.settings
      ).open();
    });
    this.addSettingTab(new CaptainsLogSettingTab(this.app, this));
  }
  async handleAudioRecording(audioFile, transcribe, keepAudio, includeAudioFileLink) {
    try {
      if (!audioFile) {
        console.log("No audio was recorded.");
        return;
      }
      const recordingFolder = this.settings.recordingFilePath.trim();
      const date = new Date();
      const formattedDate = date.toISOString().slice(0, 10);
      const hours = date.getHours();
      const period = hours >= 4 && hours < 12 ? "Morning" : hours >= 12 && hours < 20 ? "Afternoon" : "Night";
      let count = 1;
      let fileName = `recording-${formattedDate}-${period}.mp3`;
      if (recordingFolder) {
        while (this.app.vault.getAbstractFileByPath((0, import_obsidian3.normalizePath)(`${recordingFolder}/${fileName}`))) {
          count++;
          fileName = `recording-${formattedDate}-${period}-${count}.mp3`;
        }
      } else {
        while (this.app.vault.getAbstractFileByPath(fileName)) {
          count++;
          fileName = `recording-${formattedDate}-${period}-${count}.mp3`;
        }
      }
      const file = await saveFile(this.app, audioFile, fileName, this.settings.recordingFilePath);
      this.settings.keepAudio = keepAudio;
      this.settings.includeAudioFileLink = includeAudioFileLink;
      await this.saveSettings();
      if (includeAudioFileLink && keepAudio && this.settings.insertTranscriptLocation !== "newNote") {
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
        if (activeView) {
          const editor = activeView.editor;
          const cursor = editor.getCursor();
          const link = `![[${file.path}]]`;
          editor.replaceRange(link, cursor);
        } else {
          new import_obsidian3.Notice("No active editor found. Audio file link not inserted.");
        }
      }
      if (transcribe) {
        await this.transcribeRecording(file);
        if (!keepAudio) {
          await this.app.vault.delete(file);
          const folder = this.app.vault.getAbstractFileByPath(this.settings.recordingFilePath);
          if (folder instanceof import_obsidian3.TAbstractFile && folder.children.length === 0) {
            await this.app.vault.delete(folder);
          }
        }
      }
    } catch (error) {
      console.error("Error handling audio recording:", error);
      new import_obsidian3.Notice("Failed to handle audio recording");
    }
  }
  // Uploads the audio file to Google GenAI and generates a transcript/notes.
  async transcribeRecording(audioFile) {
    let activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
    if (this.settings.insertTranscriptLocation === "inline" && !activeView) {
      new import_obsidian3.Notice("No active file open. Defaulting to generating the transcript in a new note.");
      this.settings.insertTranscriptLocation = "newNote";
    }
    new import_obsidian3.Notice("Processing audio for transcription...");
    const mimeType = this.getMimeType(audioFile);
    const arrayBuffer = await this.app.vault.adapter.readBinary(audioFile.path);
    const blob = new Blob([arrayBuffer], { type: mimeType });
    try {
      const numBytes = blob.size;
      const displayName = "AUDIO";
      const initResponse = await fetch(
        `https://generativelanguage.googleapis.com/upload/v1beta/files?key=${this.settings.apiKey}`,
        {
          method: "POST",
          headers: {
            "X-Goog-Upload-Protocol": "resumable",
            "X-Goog-Upload-Command": "start",
            "X-Goog-Upload-Header-Content-Length": numBytes.toString(),
            "X-Goog-Upload-Header-Content-Type": mimeType,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ file: { display_name: displayName } })
        }
      );
      const uploadUrl = initResponse.headers.get("x-goog-upload-url");
      if (!uploadUrl) {
        throw new Error("Failed to retrieve upload URL");
      }
      const uploadResponse = await fetch(uploadUrl, {
        method: "POST",
        headers: {
          "Content-Length": numBytes.toString(),
          "X-Goog-Upload-Offset": "0",
          "X-Goog-Upload-Command": "upload, finalize"
        },
        body: blob
      });
      const uploadData = await uploadResponse.json();
      const fileUri = uploadData.file.uri;
      if (!fileUri) {
        throw new Error("File URI not returned from upload");
      }
      new import_obsidian3.Notice("Audio uploaded. Generating transcript...");
      const templateContent = await this.loadTemplateContent();
      const combinedPrompt = this.settings.prompt + (templateContent ? "\n\nTemplate:\n" + templateContent : "");
      const generatePayload = {
        contents: [
          {
            parts: [
              { text: combinedPrompt },
              { file_data: { mime_type: mimeType, file_uri: fileUri } }
            ]
          }
        ]
      };
      const generateResponse = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/${this.settings.model}:generateContent?key=${this.settings.apiKey}`,
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(generatePayload)
        }
      );
      const generateData = await generateResponse.json();
      if (generateData && Array.isArray(generateData.candidates) && generateData.candidates.length > 0 && generateData.candidates[0].content && Array.isArray(generateData.candidates[0].content.parts) && generateData.candidates[0].content.parts.length > 0 && generateData.candidates[0].content.parts[0].text) {
        this.transcript = generateData.candidates[0].content.parts[0].text;
        if (this.settings.insertTranscriptLocation === "inline") {
          const editor = activeView.editor;
          const LnToWrite = this.getNextNewLine(editor, editor.getCursor("to").line);
          editor.replaceRange(this.transcript, { line: LnToWrite, ch: 0 });
          new import_obsidian3.Notice("Transcript generated and inserted inline.");
        } else if (this.settings.insertTranscriptLocation === "newNote") {
          let transcriptContent = "";
          if (this.settings.includeAudioFileLink) {
            transcriptContent += `![[${audioFile.path}]]

`;
          }
          transcriptContent += this.transcript;
          const timestamp = new Date().toISOString().replace(/:/g, "-");
          const date = new Date();
          const formattedDate = date.toISOString().slice(0, 10);
          const hours = date.getHours();
          const ampm = hours >= 4 && hours < 12 ? "Morning" : hours >= 12 && hours < 20 ? "Afternoon" : "Night";
          let noteTitle = `Captain's Log ${formattedDate}-${ampm}`;
          let finalTitle = noteTitle;
          let notePath;
          const defaultFolder = this.settings.defaultNoteFolder.trim();
          if (defaultFolder) {
            let folder = this.app.vault.getAbstractFileByPath(defaultFolder);
            if (!folder) {
              try {
                await this.app.vault.createFolder(defaultFolder);
              } catch (error) {
                console.error("Error creating default folder:", error);
                new import_obsidian3.Notice(`Failed to create folder: ${defaultFolder}. Using vault root instead.`);
              }
            }
            let noteCount = 1;
            while (this.app.vault.getAbstractFileByPath((0, import_obsidian3.normalizePath)(`${defaultFolder}/${finalTitle}.md`))) {
              noteCount++;
              finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
            }
            notePath = (0, import_obsidian3.normalizePath)(`${defaultFolder}/${finalTitle}.md`);
          } else {
            const activeFile = this.app.workspace.getActiveFile();
            if (activeFile) {
              const folderPath = activeFile.parent.path;
              let noteCount = 1;
              while (this.app.vault.getAbstractFileByPath(`${folderPath}/${finalTitle}.md`)) {
                noteCount++;
                finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
              }
              notePath = (0, import_obsidian3.normalizePath)(`${folderPath}/${finalTitle}.md`);
            } else {
              let noteCount = 1;
              while (this.app.vault.getAbstractFileByPath(`${finalTitle}.md`)) {
                noteCount++;
                finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
              }
              notePath = `${finalTitle}.md`;
            }
          }
          try {
            const newFile = await this.app.vault.create(notePath, transcriptContent);
            new import_obsidian3.Notice(`Transcript generated in a new note: ${finalTitle}.md`);
            const newLeaf = this.app.workspace.getLeaf(true);
            await newLeaf.openFile(newFile);
          } catch (error) {
            console.error("Error creating new note:", error);
            new import_obsidian3.Notice("Failed to create new note for transcript.");
          }
        }
      } else {
        throw new Error("No text returned from AI model.");
      }
    } catch (error) {
      console.error("Transcription failed:", error);
      new import_obsidian3.Notice(error.message);
    }
  }
  async loadTemplateContent() {
    if (this.settings.templateFilePath && this.settings.templateFilePath.trim().length > 0) {
      const templateFile = this.app.vault.getAbstractFileByPath(this.settings.templateFilePath);
      if (templateFile instanceof import_obsidian3.TFile) {
        return await this.app.vault.read(templateFile);
      } else {
        console.warn("Template file not found at " + this.settings.templateFilePath);
      }
    }
    return "";
  }
  // Helper to determine mime type from file extension.
  getMimeType(file) {
    const ext = file.extension.toLowerCase();
    if (ext === "mp3")
      return "audio/mp3";
    if (ext === "wav")
      return "audio/wav";
    return "application/octet-stream";
  }
  writeText(editor, lnToWrite, text) {
    const newLine = this.getNextNewLine(editor, lnToWrite);
    editor.setLine(newLine, "\n" + text.trim() + "\n");
    return newLine;
  }
  getNextNewLine(editor, ln) {
    let newLine = ln;
    while (editor.getLine(newLine).trim().length > 0) {
      if (newLine === editor.lastLine())
        editor.setLine(newLine, editor.getLine(newLine) + "\n");
      newLine++;
    }
    return newLine;
  }
  // Command that locates an audio file link in the current note and triggers transcription.
  commandGenerateTranscript(editor) {
    const position = editor.getCursor();
    const text = editor.getRange({ line: 0, ch: 0 }, position);
    const regex = [
      /(?<=\[\[)(([^[\]])+)\.(mp3|wav)(?=]])/g,
      /(?<=\[(.*)]\()(([^[\]])+)\.(mp3|wav)(?=\))/g
    ];
    this.findFilePath(text, regex).then((path) => {
      const fileType = path.split(".").pop();
      if (!fileType) {
        new import_obsidian3.Notice("No audio file found");
      } else {
        this.app.vault.adapter.exists(path).then((exists) => {
          if (!exists)
            throw new Error(path + " does not exist");
          this.app.vault.adapter.readBinary(path).then(async () => {
            if (this.writing) {
              new import_obsidian3.Notice("Generator is already in progress.");
              return;
            }
            this.writing = true;
            new import_obsidian3.Notice("Generating transcript...");
            const tfile = this.app.vault.getAbstractFileByPath(path);
            if (tfile instanceof import_obsidian3.TFile) {
              await this.transcribeRecording(tfile);
            } else {
              throw new Error("File not found in vault.");
            }
            this.writing = false;
          });
        });
      }
    }).catch((error) => {
      console.warn(error.message);
      new import_obsidian3.Notice(error.message);
    });
  }
  // Searches for an audio file path in the given text using regex.
  async findFilePath(text, regex) {
    let filename = "";
    let result;
    for (const reg of regex) {
      while ((result = reg.exec(text)) !== null) {
        filename = (0, import_obsidian3.normalizePath)(decodeURI(result[0])).trim();
      }
    }
    if (filename === "")
      throw new Error("No file found in the text.");
    const fullPath = filename;
    const fileExists = this.app.vault.getAbstractFileByPath(fullPath) instanceof import_obsidian3.TAbstractFile;
    if (fileExists)
      return fullPath;
    const allFiles = this.app.vault.getFiles();
    const foundFile = allFiles.find((file) => file.name === filename.split("/").pop());
    if (foundFile)
      return foundFile.path;
    throw new Error("File not found");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var CaptainsLogSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian3.Setting(containerEl).setName("Google AI Studio API Key").setDesc("Enter your Google AI Studio API Key; get it here: https://aistudio.google.com/apikey.").addText(
      (text) => text.setPlaceholder("Enter API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
        this.plugin.settings.apiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Model").setDesc("Choose the model to use (e.g., gemini-2.0-flash).").addDropdown(
      (dropdown) => dropdown.addOptions(
        MODELS.reduce((acc, model) => {
          acc[model] = model;
          return acc;
        }, {})
      ).setValue(this.plugin.settings.model).onChange(async (value) => {
        this.plugin.settings.model = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Prompt").setDesc("The prompt to use for generating notes.").addTextArea(
      (text) => text.setPlaceholder("Prompt").setValue(this.plugin.settings.prompt).onChange(async (value) => {
        this.plugin.settings.prompt = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Default Note Folder").setDesc("Enter the folder path (relative to the vault root) to store new transcripts. If it does not exist, it will be created.").addText(
      (text) => text.setPlaceholder("e.g., Notes/Transcripts").setValue(this.plugin.settings.defaultNoteFolder).onChange(async (value) => {
        this.plugin.settings.defaultNoteFolder = value.trim();
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Recording File Path").setDesc("Path to save the recording file (optional).").addText(
      (text) => text.setPlaceholder("Recording file path").setValue(this.plugin.settings.recordingFilePath).onChange(async (value) => {
        this.plugin.settings.recordingFilePath = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Keep Audio File").setDesc("Keep the audio file after processing?").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.keepAudio).onChange(async (value) => {
        this.plugin.settings.keepAudio = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Include Audio File Link").setDesc("Insert a link to the audio file in the note.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.includeAudioFileLink).onChange(async (value) => {
        this.plugin.settings.includeAudioFileLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Transcript Insertion Location").setDesc("Choose whether to insert the transcript inline in the active file or in a new note.").addDropdown((dropdown) => {
      dropdown.addOption("inline", "Inline");
      dropdown.addOption("newNote", "New Note");
      dropdown.setValue(this.plugin.settings.insertTranscriptLocation);
      dropdown.onChange(async (value) => {
        this.plugin.settings.insertTranscriptLocation = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setName("Template Note File Path").setDesc("Enter the path to a template note file whose content should be passed with the AI prompt (add .md).").addText(
      (text) => text.setPlaceholder("e.g., FolderName/Template.md").setValue(this.plugin.settings.templateFilePath).onChange(async (value) => {
        this.plugin.settings.templateFilePath = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
/*! Bundled license information:

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX2NvbW1vbi50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX3RyYW5zZm9ybWVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fY2FjaGVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3BhZ2Vycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvdHlwZXMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NhY2hlcy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY2hhdHMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX2ZpbGVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9jb252ZXJ0ZXJzL19tb2RlbHNfY29udmVydGVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fbGl2ZV9jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9saXZlLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9tb2RlbHMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX29wZXJhdGlvbnNfY29udmVydGVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvb3BlcmF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX2FwaV9jbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2Nyb3NzL19jcm9zc191cGxvYWRlci50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvd2ViL19icm93c2VyX3VwbG9hZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX2Jyb3dzZXJfd2Vic29ja2V0LnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX3dlYl9hdXRoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvd2ViX2NsaWVudC50cyIsICJBdWRpb1JlY29yZE1vZGFsLnRzIiwgIlV0aWxzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xuXHRBcHAsXG5cdEVkaXRvcixcblx0TWFya2Rvd25WaWV3LFxuXHRub3JtYWxpemVQYXRoLFxuXHROb3RpY2UsXG5cdFBsdWdpbixcblx0UGx1Z2luU2V0dGluZ1RhYixcblx0U2V0dGluZyxcblx0VEFic3RyYWN0RmlsZSxcblx0VEZpbGUsXG5cdE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXG59IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7XG5cdEdvb2dsZUdlbkFJLFxuXHRjcmVhdGVVc2VyQ29udGVudCxcblx0Y3JlYXRlUGFydEZyb21VcmksXG59IGZyb20gJ0Bnb29nbGUvZ2VuYWknO1xuXG5pbXBvcnQgeyBBdWRpb1JlY29yZE1vZGFsIH0gZnJvbSAnLi9BdWRpb1JlY29yZE1vZGFsJztcbmltcG9ydCB7IHNhdmVGaWxlIH0gZnJvbSAnLi9VdGlscyc7XG5cbmNvbnN0IE1PREVMUzogc3RyaW5nW10gPSBbXG5cdCdnZW1pbmktMi41LXByby1wcmV2aWV3LTAzLTI1Jyxcblx0J2dlbWluaS0yLjAtZmxhc2gnLFxuXHQnZ2VtaW5pLTIuMC1mbGFzaC1saXRlJyxcblx0J2dlbWluaS0xLjUtZmxhc2gnLFxuXHQnZ2VtaW5pLTEuNS1wcm8nXG5dO1xuXG5pbnRlcmZhY2UgQXVkaW9QbHVnaW5TZXR0aW5ncyB7XG5cdG1vZGVsOiBzdHJpbmc7XG5cdGFwaUtleTogc3RyaW5nO1xuXHRwcm9tcHQ6IHN0cmluZztcblx0ZGVmYXVsdE5vdGVGb2xkZXI6IHN0cmluZztcblx0cmVjb3JkaW5nRmlsZVBhdGg6IHN0cmluZztcblx0a2VlcEF1ZGlvOiBib29sZWFuO1xuXHRpbmNsdWRlQXVkaW9GaWxlTGluazogYm9vbGVhbjtcblx0aW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uOiBcImlubGluZVwiIHwgXCJuZXdOb3RlXCI7XG5cdHRlbXBsYXRlRmlsZVBhdGg6IHN0cmluZztcbn1cblxubGV0IERFRkFVTFRfU0VUVElOR1M6IEF1ZGlvUGx1Z2luU2V0dGluZ3MgPSB7XG5cdG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC1saXRlJywgLy8gRGVmYXVsdCBHb29nbGUgbW9kZWxcblx0YXBpS2V5OiAnJyxcblx0cHJvbXB0OlxuXHRcdCdZb3Ugd2lsbCBiZSBwcm92aWRlZCBhbiBhdWRpbyBmaWxlLiBZb3VyIHRhc2sgaXMgdG8gY29tcG9zZSBhIGNvbmNpc2UgbWVtbyBmcm9tIHRoaXMgYXVkaW8gZmlsZSBpbiBtYXJrZG93biAoT2JzaWRpYW4pLiBJZiB5b3UgYXJlIHByb3ZpZGVkIGEgdGVtcGxhdGUsIGZvbGxvdyB0aGlzIHRlbXBsYXRlIGFzIHByZWNpc2VseSBhcyBwb3NzaWJsZS4gT3RoZXJ3aXNlLCBzdHJ1Y3R1cmUgdGhlIG1lbW8gaW4gYSB3YXkgdGhhdCBtYWtlcyBzZW5zZS4gRG8gbm90IGJlIGNvbnZlcnNhdGlvbmFsLCBzaW1wbHkgcmV0dXJuIHRoZSBtZW1vIHRleHQuIFdyaXRlIHRoZSB0ZXh0IGluIHRoZSBmaXJzdCBwZXJzb24gcGVyc3BlY3RpdmUuXFxuJyxcblx0ZGVmYXVsdE5vdGVGb2xkZXI6ICcnLFxuXHRyZWNvcmRpbmdGaWxlUGF0aDogXCJDYXB0YWluJ3MgTG9nL3JlY29yZGluZ3NcIixcblx0a2VlcEF1ZGlvOiB0cnVlLFxuXHRpbmNsdWRlQXVkaW9GaWxlTGluazogZmFsc2UsXG5cdGluc2VydFRyYW5zY3JpcHRMb2NhdGlvbjogXCJuZXdOb3RlXCIsXG5cdHRlbXBsYXRlRmlsZVBhdGg6ICcnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FwdGFpbnNMb2dQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQXVkaW9QbHVnaW5TZXR0aW5ncztcblx0d3JpdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXHR0cmFuc2NyaXB0OiBzdHJpbmcgPSAnJztcblxuXHRhaTogR29vZ2xlR2VuQUk7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgR29vZ2xlIEdlbkFJIGluc3RhbmNlIHdpdGggdGhlIEFQSSBrZXkuXG5cdFx0dGhpcy5haSA9IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleTogdGhpcy5zZXR0aW5ncy5hcGlLZXkgfSk7XG5cblx0XHQvLyBDb21tYW5kIGZvciB0cmFuc2NyaWJpbmcgYW4gZXhpc3RpbmcgYXVkaW8gZmlsZS5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXRyYW5zY3JpcHQtbW9kYWwnLFxuXHRcdFx0bmFtZTogJ1RyYW5zY3JpYmUgQXVkaW8nLFxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChhY3RpdmVWaWV3KSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlcmVcdTIwMTlzIGFuIGFjdGl2ZSBub3RlLCB1c2UgaXRzIGVkaXRvci5cblx0XHRcdFx0XHR0aGlzLmNvbW1hbmRHZW5lcmF0ZVRyYW5zY3JpcHQoYWN0aXZlVmlldy5lZGl0b3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIGFjdGl2ZSBtYXJrZG93biB2aWV3IFx1MjAxMyBub3RpZnkgYW5kIHNldCBpbnNlcnRpb24gdG8gbmV3IG5vdGUuXG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIk5vIGFjdGl2ZSBmaWxlIG9wZW4uIFRoZSB0cmFuc2NyaXB0IHdpbGwgYmUgZ2VuZXJhdGVkIGluIGEgbmV3IG5vdGUuXCIpO1xuXHRcdFx0XHRcdC8vIE9wdGlvbmFsbHksIHlvdSBjYW4gb3BlbiBhIG1vZGFsIGhlcmUgdG8gbGV0IHRoZSB1c2VyIHNlbGVjdCBhbiBhdWRpbyBmaWxlLlxuXHRcdFx0XHRcdC8vIE9yLCBpZiB5b3UgYWxyZWFkeSBoYXZlIHRoZSBhdWRpbyBmaWxlIHJlZmVyZW5jZSBieSBvdGhlciBtZWFucywgY2FsbCB0cmFuc2NyaWJlUmVjb3JkaW5nIGRpcmVjdGx5LlxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gQ29tbWFuZCBmb3IgcmVjb3JkaW5nIGEgbmV3IGNhcHRhaW4ncyBsb2cuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAncmVjb3JkLWNhcHRhaW5zLWxvZycsXG5cdFx0XHRuYW1lOiBcIlJlY29yZCBDYXB0YWluJ3MgTG9nXCIsXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhdWRpb0ZpbGVCbG9iID0gYXdhaXQgbmV3IEF1ZGlvUmVjb3JkTW9kYWwoXG5cdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVBdWRpb1JlY29yZGluZy5iaW5kKHRoaXMpLFxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Ncblx0XHRcdFx0KS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gUG9zdC1wcm9jZXNzIG1hcmtkb3duIHRvIHJlbmRlciBhdWRpbyBmaWxlIGxpbmtzIGFzIHBsYXlhYmxlIGF1ZGlvLlxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoXG5cdFx0XHQoZWw6IEhUTUxFbGVtZW50LCBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpID0+IHtcblx0XHRcdFx0Y29uc3QgYXVkaW9MaW5rcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcdFx0J2EuaW50ZXJuYWwtbGlua1tkYXRhLWhyZWYkPVwiLm1wM1wiXSwgYS5pbnRlcm5hbC1saW5rW2RhdGEtaHJlZiQ9XCIud2F2XCJdJ1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRhdWRpb0xpbmtzLmZvckVhY2goKGxpbmspID0+IHtcblx0XHRcdFx0XHRjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpO1xuXHRcdFx0XHRcdGlmICghaHJlZikge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgdGhlIGhyZWYgYXR0cmlidXRlIGZyb20gdGhlIGxpbmsgZWxlbWVudC5cIik7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgYWJzdHJhY3RGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGhyZWYpO1xuXHRcdFx0XHRcdGlmICghKGFic3RyYWN0RmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIlRoZSBwYXRoIGRvZXMgbm90IHBvaW50IHRvIGEgdmFsaWQgZmlsZSBpbiB0aGUgdmF1bHQuXCIpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcblx0XHRcdFx0XHRhdWRpby5zcmMgPSB0aGlzLmFwcC52YXVsdC5nZXRSZXNvdXJjZVBhdGgoYWJzdHJhY3RGaWxlKTtcblx0XHRcdFx0XHRhdWRpby5jb250cm9scyA9IHRydWU7XG5cdFx0XHRcdFx0YXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoYXVkaW8ucGFyZW50Tm9kZSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBkdXJhdGlvbkRpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uRGlzcGxheS50ZXh0Q29udGVudCA9IGBEdXJhdGlvbjogJHthdWRpby5kdXJhdGlvbi50b0ZpeGVkKDIpfSBzZWNvbmRzYDtcblx0XHRcdFx0XHRcdFx0YXVkaW8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHVyYXRpb25EaXNwbGF5LCBhdWRpby5uZXh0U2libGluZyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRhdWRpby5sb2FkKCk7XG5cdFx0XHRcdFx0bGluay5yZXBsYWNlV2l0aChhdWRpbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHQvLyBBZGQgYSByaWJib24gaWNvbiBmb3IgcXVpY2sgcmVjb3JkaW5nLlxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbihcImJvb2stYXVkaW9cIiwgXCJSZWNvcmQgQ2FwdGFpbidzIExvZ1wiLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zdCBhdWRpb0ZpbGVCbG9iID0gYXdhaXQgbmV3IEF1ZGlvUmVjb3JkTW9kYWwoXG5cdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHR0aGlzLmhhbmRsZUF1ZGlvUmVjb3JkaW5nLmJpbmQodGhpcyksXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Ncblx0XHRcdCkub3BlbigpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDYXB0YWluc0xvZ1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdGFzeW5jIGhhbmRsZUF1ZGlvUmVjb3JkaW5nKFxuXHRcdGF1ZGlvRmlsZTogQmxvYixcblx0XHR0cmFuc2NyaWJlOiBib29sZWFuLFxuXHRcdGtlZXBBdWRpbzogYm9vbGVhbixcblx0XHRpbmNsdWRlQXVkaW9GaWxlTGluazogYm9vbGVhblxuXHQpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFhdWRpb0ZpbGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ05vIGF1ZGlvIHdhcyByZWNvcmRlZC4nKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEdldCB0aGUgcmVjb3JkaW5nIGZvbGRlciBmcm9tIHNldHRpbmdzLlxuXHRcdFx0Y29uc3QgcmVjb3JkaW5nRm9sZGVyID0gdGhpcy5zZXR0aW5ncy5yZWNvcmRpbmdGaWxlUGF0aC50cmltKCk7IC8vIGUuZy4sIFwiQ2FwdGFpbidzIExvZy9yZWNvcmRpbmdzXCJcblxuXHRcdFx0Ly8gR2V0IHRoZSBjdXJyZW50IGRhdGUgYW5kIGRldGVybWluZSB0aGUgcGVyaW9kLlxuXHRcdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWREYXRlID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsgLy8gXCJZWVlZLU1NLUREXCJcblx0XHRcdGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXHRcdFx0Y29uc3QgcGVyaW9kID0gaG91cnMgPj0gNCAmJiBob3VycyA8IDEyIFxuXHRcdFx0XHQ/ICdNb3JuaW5nJyBcblx0XHRcdFx0OiBob3VycyA+PSAxMiAmJiBob3VycyA8IDIwIFxuXHRcdFx0XHQ/ICdBZnRlcm5vb24nIFxuXHRcdFx0XHQ6ICdOaWdodCc7XG5cblx0XHRcdC8vIFN0YXJ0IHdpdGggY291bnQgPSAxIGFuZCBnZW5lcmF0ZSB0aGUgZmlsZSBuYW1lLlxuXHRcdFx0bGV0IGNvdW50ID0gMTtcblx0XHRcdGxldCBmaWxlTmFtZSA9IGByZWNvcmRpbmctJHtmb3JtYXR0ZWREYXRlfS0ke3BlcmlvZH0ubXAzYDtcblxuXHRcdFx0Ly8gSWYgYSByZWNvcmRpbmcgZm9sZGVyIGlzIHNwZWNpZmllZCwgZW5zdXJlIHRoZSBmaWxlIG5hbWUgaXMgdW5pcXVlIGluIHRoYXQgZm9sZGVyLlxuXHRcdFx0aWYgKHJlY29yZGluZ0ZvbGRlcikge1xuXHRcdFx0XHR3aGlsZSAodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZVBhdGgoYCR7cmVjb3JkaW5nRm9sZGVyfS8ke2ZpbGVOYW1lfWApKSkge1xuXHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdFx0ZmlsZU5hbWUgPSBgcmVjb3JkaW5nLSR7Zm9ybWF0dGVkRGF0ZX0tJHtwZXJpb2R9LSR7Y291bnR9Lm1wM2A7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgZW5zdXJlIHVuaXF1ZW5lc3MgaW4gdGhlIHZhdWx0IHJvb3QuXG5cdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZU5hbWUpKSB7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHRmaWxlTmFtZSA9IGByZWNvcmRpbmctJHtmb3JtYXR0ZWREYXRlfS0ke3BlcmlvZH0tJHtjb3VudH0ubXAzYDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmaWxlID0gYXdhaXQgc2F2ZUZpbGUodGhpcy5hcHAsIGF1ZGlvRmlsZSwgZmlsZU5hbWUsIHRoaXMuc2V0dGluZ3MucmVjb3JkaW5nRmlsZVBhdGgpO1xuXHRcblx0XHRcdHRoaXMuc2V0dGluZ3Mua2VlcEF1ZGlvID0ga2VlcEF1ZGlvO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5pbmNsdWRlQXVkaW9GaWxlTGluayA9IGluY2x1ZGVBdWRpb0ZpbGVMaW5rO1xuXHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblx0XG5cdFx0XHRpZiAoaW5jbHVkZUF1ZGlvRmlsZUxpbmsgJiYga2VlcEF1ZGlvICYmIHRoaXMuc2V0dGluZ3MuaW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uICE9PSBcIm5ld05vdGVcIikge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcblx0XHRcdFx0XHRjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0XHRcdFx0Y29uc3QgbGluayA9IGAhW1ske2ZpbGUucGF0aH1dXWA7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShsaW5rLCBjdXJzb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJObyBhY3RpdmUgZWRpdG9yIGZvdW5kLiBBdWRpbyBmaWxlIGxpbmsgbm90IGluc2VydGVkLlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodHJhbnNjcmliZSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRyYW5zY3JpYmVSZWNvcmRpbmcoZmlsZSk7XG5cdFx0XHRcdGlmICgha2VlcEF1ZGlvKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuZGVsZXRlKGZpbGUpO1xuXHRcdFx0XHRcdGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnJlY29yZGluZ0ZpbGVQYXRoKTtcblx0XHRcdFx0XHRpZiAoZm9sZGVyIGluc3RhbmNlb2YgVEFic3RyYWN0RmlsZSAmJiBmb2xkZXIuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5kZWxldGUoZm9sZGVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgYXVkaW8gcmVjb3JkaW5nOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBoYW5kbGUgYXVkaW8gcmVjb3JkaW5nJyk7XG5cdFx0fVxuXHR9XG5cdFxuXG5cdC8vIFVwbG9hZHMgdGhlIGF1ZGlvIGZpbGUgdG8gR29vZ2xlIEdlbkFJIGFuZCBnZW5lcmF0ZXMgYSB0cmFuc2NyaXB0L25vdGVzLlxuXHRhc3luYyB0cmFuc2NyaWJlUmVjb3JkaW5nKGF1ZGlvRmlsZTogVEZpbGUpIHtcblx0XHQvLyBDaGVjayBmb3IgYW4gYWN0aXZlIG1hcmtkb3duIHZpZXcuXG5cdFx0bGV0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcblx0XHQvLyBJZiBpbmxpbmUgaW5zZXJ0aW9uIGlzIGNob3NlbiBidXQgbm8gYWN0aXZlIGZpbGUgaXMgb3Blbiwgbm90aWZ5IGFuZCBzd2l0Y2ggdG8gbmV3IG5vdGUuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uID09PSBcImlubGluZVwiICYmICFhY3RpdmVWaWV3KSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiTm8gYWN0aXZlIGZpbGUgb3Blbi4gRGVmYXVsdGluZyB0byBnZW5lcmF0aW5nIHRoZSB0cmFuc2NyaXB0IGluIGEgbmV3IG5vdGUuXCIpO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5pbnNlcnRUcmFuc2NyaXB0TG9jYXRpb24gPSBcIm5ld05vdGVcIjtcblx0XHR9XG5cdFxuXHRcdG5ldyBOb3RpY2UoJ1Byb2Nlc3NpbmcgYXVkaW8gZm9yIHRyYW5zY3JpcHRpb24uLi4nKTtcblxuXHRcdC8vIERldGVybWluZSB0aGUgbWltZSB0eXBlIGJhc2VkIG9uIHRoZSBmaWxlIGV4dGVuc2lvbi5cblx0XHRjb25zdCBtaW1lVHlwZSA9IHRoaXMuZ2V0TWltZVR5cGUoYXVkaW9GaWxlKTtcblxuXG5cdFx0Ly8gUmVhZCB0aGUgYXVkaW8gZmlsZSBhcyBiaW5hcnkgYW5kIGNyZWF0ZSBhIEJsb2IuXG5cdFx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWRCaW5hcnkoYXVkaW9GaWxlLnBhdGgpO1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xuXG5cdFx0Ly8gUmVwbGFjZSBHb29nbGUgR2VuQUkgZmlsZS51cGxvYWQgYW5kIGdlbmVyYXRlQ29udGVudCBjYWxscyB3aXRoIFJFU1QgQVBJIGZldGNoIGNhbGxzLlxuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZXRlcm1pbmUgdGhlIGZpbGUgc2l6ZSBhbmQgbWltZSB0eXBlLlxuXHRcdFx0Y29uc3QgbnVtQnl0ZXMgPSBibG9iLnNpemU7XG5cdFx0XHQvLyAobWltZVR5cGUgaXMgb2J0YWluZWQgdXNpbmcgZ2V0TWltZVR5cGUgYXMgYmVmb3JlLilcblx0XHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gXCJBVURJT1wiO1xuXG5cdFx0XHQvLyBTdGVwIDE6IEluaXRpYXRlIHJlc3VtYWJsZSB1cGxvYWQgdG8gZ2V0IHRoZSB1cGxvYWQgVVJMLlxuXHRcdFx0Y29uc3QgaW5pdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS91cGxvYWQvdjFiZXRhL2ZpbGVzP2tleT0ke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWAsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFwiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOiBcInJlc3VtYWJsZVwiLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjogXCJzdGFydFwiLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LUxlbmd0aFwiOiBudW1CeXRlcy50b1N0cmluZygpLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LVR5cGVcIjogbWltZVR5cGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlOiB7IGRpc3BsYXlfbmFtZTogZGlzcGxheU5hbWUgfSB9KVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgdXBsb2FkVXJsID0gaW5pdFJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC1nb29nLXVwbG9hZC11cmxcIik7XG5cdFx0XHRpZiAoIXVwbG9hZFVybCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmV0cmlldmUgdXBsb2FkIFVSTFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RlcCAyOiBVcGxvYWQgdGhlIGF1ZGlvIGZpbGUgYnl0ZXMuXG5cdFx0XHRjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKHVwbG9hZFVybCwge1xuXHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XCJDb250ZW50LUxlbmd0aFwiOiBudW1CeXRlcy50b1N0cmluZygpLFxuXHRcdFx0XHRcdFwiWC1Hb29nLVVwbG9hZC1PZmZzZXRcIjogXCIwXCIsXG5cdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjogXCJ1cGxvYWQsIGZpbmFsaXplXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Ym9keTogYmxvYlxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCB1cGxvYWREYXRhID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpO1xuXHRcdFx0Y29uc3QgZmlsZVVyaSA9IHVwbG9hZERhdGEuZmlsZS51cmk7XG5cdFx0XHRpZiAoIWZpbGVVcmkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlsZSBVUkkgbm90IHJldHVybmVkIGZyb20gdXBsb2FkXCIpO1xuXHRcdFx0fVxuXHRcdFx0bmV3IE5vdGljZShcIkF1ZGlvIHVwbG9hZGVkLiBHZW5lcmF0aW5nIHRyYW5zY3JpcHQuLi5cIik7XG5cblx0XHRcdC8vIExvYWQgdGhlIHRlbXBsYXRlIGNvbnRlbnQgKGlmIGFueSlcblx0XHRcdGNvbnN0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IHRoaXMubG9hZFRlbXBsYXRlQ29udGVudCgpO1xuXG5cdFx0XHQvLyBDb21iaW5lIHRoZSBwcm9tcHQgYW5kIHRlbXBsYXRlICh5b3UgbWF5IGFkanVzdCBob3cgeW91IGNvbWJpbmUgdGhlbSBhcyBuZWVkZWQpXG5cdFx0XHRjb25zdCBjb21iaW5lZFByb21wdCA9IHRoaXMuc2V0dGluZ3MucHJvbXB0ICsgKHRlbXBsYXRlQ29udGVudCA/IChcIlxcblxcblRlbXBsYXRlOlxcblwiICsgdGVtcGxhdGVDb250ZW50KSA6IFwiXCIpO1xuXG5cdFx0XHQvLyBTdGVwIDM6IENhbGwgZ2VuZXJhdGVDb250ZW50IHVzaW5nIHRoZSBSRVNUIEFQSS5cblx0XHRcdGNvbnN0IGdlbmVyYXRlUGF5bG9hZCA9IHtcblx0XHRcdFx0Y29udGVudHM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRwYXJ0czogW1xuXHRcdFx0XHRcdFx0XHR7IHRleHQ6IGNvbWJpbmVkUHJvbXB0IH0sXG5cdFx0XHRcdFx0XHRcdHsgZmlsZV9kYXRhOiB7IG1pbWVfdHlwZTogbWltZVR5cGUsIGZpbGVfdXJpOiBmaWxlVXJpIH0gfVxuXHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgZ2VuZXJhdGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8ke3RoaXMuc2V0dGluZ3MubW9kZWx9OmdlbmVyYXRlQ29udGVudD9rZXk9JHt0aGlzLnNldHRpbmdzLmFwaUtleX1gLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGVQYXlsb2FkKVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgZ2VuZXJhdGVEYXRhID0gYXdhaXQgZ2VuZXJhdGVSZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcblx0XHRcdC8vIEV4dHJhY3QgdHJhbnNjcmlwdCBmcm9tIHRoZSBuZXcgcmVzcG9uc2Ugc3RydWN0dXJlXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGdlbmVyYXRlRGF0YSAmJlxuXHRcdFx0XHRBcnJheS5pc0FycmF5KGdlbmVyYXRlRGF0YS5jYW5kaWRhdGVzKSAmJlxuXHRcdFx0XHRnZW5lcmF0ZURhdGEuY2FuZGlkYXRlcy5sZW5ndGggPiAwICYmXG5cdFx0XHRcdGdlbmVyYXRlRGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQgJiZcblx0XHRcdFx0QXJyYXkuaXNBcnJheShnZW5lcmF0ZURhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzKSAmJlxuXHRcdFx0XHRnZW5lcmF0ZURhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0Z2VuZXJhdGVEYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0XG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy50cmFuc2NyaXB0ID0gZ2VuZXJhdGVEYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbnNlcnRUcmFuc2NyaXB0TG9jYXRpb24gPT09IFwiaW5saW5lXCIpIHtcblx0XHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBhY3RpdmVWaWV3IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QuXG5cdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XG5cdFx0XHRcdFx0Y29uc3QgTG5Ub1dyaXRlID0gdGhpcy5nZXROZXh0TmV3TGluZShlZGl0b3IsIGVkaXRvci5nZXRDdXJzb3IoXCJ0b1wiKS5saW5lKTtcblx0XHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRoaXMudHJhbnNjcmlwdCwgeyBsaW5lOiBMblRvV3JpdGUsIGNoOiAwIH0pO1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJUcmFuc2NyaXB0IGdlbmVyYXRlZCBhbmQgaW5zZXJ0ZWQgaW5saW5lLlwiKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmluc2VydFRyYW5zY3JpcHRMb2NhdGlvbiA9PT0gXCJuZXdOb3RlXCIpIHtcblx0XHRcdFx0XHQvLyBDcmVhdGUgYSBuZXcgbm90ZSB3aXRoIHRoZSB0cmFuc2NyaXB0LlxuXHRcdFx0XHRcdC8vIFByZXBlbmQgdGhlIGF1ZGlvIGZpbGUgbGluayBpZiB0aGUgc2V0dGluZyBpcyBlbmFibGVkLlxuXHRcdFx0XHRcdGxldCB0cmFuc2NyaXB0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZUF1ZGlvRmlsZUxpbmspIHtcblx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgYXVkaW9GaWxlIHBhcmFtZXRlciBwYXNzZWQgdG8gdHJhbnNjcmliZVJlY29yZGluZy5cblx0XHRcdFx0XHRcdHRyYW5zY3JpcHRDb250ZW50ICs9IGAhW1ske2F1ZGlvRmlsZS5wYXRofV1dXFxuXFxuYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dHJhbnNjcmlwdENvbnRlbnQgKz0gdGhpcy50cmFuc2NyaXB0O1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIEdlbmVyYXRlIGEgdW5pcXVlIHRpdGxlIGFuZCBub3RlIHBhdGguXG5cdFx0XHRcdFx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoLzovZywgXCItXCIpO1xuXHRcdFx0XHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXHRcdFx0XHRcdGNvbnN0IGFtcG0gPVxuXHRcdFx0XHRcdFx0aG91cnMgPj0gNCAmJiBob3VycyA8IDEyXG5cdFx0XHRcdFx0XHRcdD8gJ01vcm5pbmcnXG5cdFx0XHRcdFx0XHRcdDogaG91cnMgPj0gMTIgJiYgaG91cnMgPCAyMFxuXHRcdFx0XHRcdFx0XHQ/ICdBZnRlcm5vb24nXG5cdFx0XHRcdFx0XHRcdDogJ05pZ2h0Jztcblx0XHRcdFx0XHRsZXQgbm90ZVRpdGxlID0gYENhcHRhaW4ncyBMb2cgJHtmb3JtYXR0ZWREYXRlfS0ke2FtcG19YDtcblx0XHRcdFx0XHRsZXQgZmluYWxUaXRsZSA9IG5vdGVUaXRsZTtcblx0XHRcdFx0XHRsZXQgbm90ZVBhdGg6IHN0cmluZztcblx0XHRcdFx0XG5cdFx0XHRcdFx0Y29uc3QgZGVmYXVsdEZvbGRlciA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdE5vdGVGb2xkZXIudHJpbSgpO1xuXHRcdFx0XHRcdGlmIChkZWZhdWx0Rm9sZGVyKSB7XG5cdFx0XHRcdFx0XHRsZXQgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGRlZmF1bHRGb2xkZXIpO1xuXHRcdFx0XHRcdFx0aWYgKCFmb2xkZXIpIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZGVmYXVsdEZvbGRlcik7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRlZmF1bHQgZm9sZGVyOlwiLCBlcnJvcik7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXI6ICR7ZGVmYXVsdEZvbGRlcn0uIFVzaW5nIHZhdWx0IHJvb3QgaW5zdGVhZC5gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gRW5zdXJlIGEgdW5pcXVlIG5vdGUgdGl0bGUuXG5cdFx0XHRcdFx0XHRsZXQgbm90ZUNvdW50ID0gMTtcblx0XHRcdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplUGF0aChgJHtkZWZhdWx0Rm9sZGVyfS8ke2ZpbmFsVGl0bGV9Lm1kYCkpKSB7XG5cdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRmaW5hbFRpdGxlID0gYENhcHRhaW4ncyBMb2cgJHtmb3JtYXR0ZWREYXRlfS0ke2FtcG19LSR7bm90ZUNvdW50fWA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRub3RlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7ZGVmYXVsdEZvbGRlcn0vJHtmaW5hbFRpdGxlfS5tZGApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBGYWxsYmFjazogdXNlIGFjdGl2ZSBmaWxlJ3MgZm9sZGVyIGlmIGV4aXN0cywgb3IgdmF1bHQgcm9vdC5cblx0XHRcdFx0XHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRcdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm9sZGVyUGF0aCA9IGFjdGl2ZUZpbGUucGFyZW50LnBhdGg7XG5cdFx0XHRcdFx0XHRcdGxldCBub3RlQ291bnQgPSAxO1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGAke2ZvbGRlclBhdGh9LyR7ZmluYWxUaXRsZX0ubWRgKSkge1xuXHRcdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsVGl0bGUgPSBgQ2FwdGFpbidzIExvZyAke2Zvcm1hdHRlZERhdGV9LSR7YW1wbX0tJHtub3RlQ291bnR9YDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRub3RlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7Zm9sZGVyUGF0aH0vJHtmaW5hbFRpdGxlfS5tZGApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bGV0IG5vdGVDb3VudCA9IDE7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoYCR7ZmluYWxUaXRsZX0ubWRgKSkge1xuXHRcdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsVGl0bGUgPSBgQ2FwdGFpbidzIExvZyAke2Zvcm1hdHRlZERhdGV9LSR7YW1wbX0tJHtub3RlQ291bnR9YDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRub3RlUGF0aCA9IGAke2ZpbmFsVGl0bGV9Lm1kYDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXdGaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGVQYXRoLCB0cmFuc2NyaXB0Q29udGVudCk7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUcmFuc2NyaXB0IGdlbmVyYXRlZCBpbiBhIG5ldyBub3RlOiAke2ZpbmFsVGl0bGV9Lm1kYCk7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXdMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCBuZXdMZWFmLm9wZW5GaWxlKG5ld0ZpbGUpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IG5vdGU6XCIsIGVycm9yKTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIG5ldyBub3RlIGZvciB0cmFuc2NyaXB0LlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vIHRleHQgcmV0dXJuZWQgZnJvbSBBSSBtb2RlbC5cIik7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJUcmFuc2NyaXB0aW9uIGZhaWxlZDpcIiwgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZShlcnJvci5tZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBsb2FkVGVtcGxhdGVDb250ZW50KCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MudGVtcGxhdGVGaWxlUGF0aCAmJiB0aGlzLnNldHRpbmdzLnRlbXBsYXRlRmlsZVBhdGgudHJpbSgpLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRlbXBsYXRlRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnRlbXBsYXRlRmlsZVBhdGgpO1xuXHRcdFx0aWYgKHRlbXBsYXRlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHRlbXBsYXRlRmlsZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXCJUZW1wbGF0ZSBmaWxlIG5vdCBmb3VuZCBhdCBcIiArIHRoaXMuc2V0dGluZ3MudGVtcGxhdGVGaWxlUGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdCAgXG5cblx0Ly8gSGVscGVyIHRvIGRldGVybWluZSBtaW1lIHR5cGUgZnJvbSBmaWxlIGV4dGVuc2lvbi5cblx0Z2V0TWltZVR5cGUoZmlsZTogVEZpbGUpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGV4dCA9IGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKGV4dCA9PT0gJ21wMycpIHJldHVybiAnYXVkaW8vbXAzJztcblx0XHRpZiAoZXh0ID09PSAnd2F2JykgcmV0dXJuICdhdWRpby93YXYnO1xuXHRcdC8vIERlZmF1bHQgZmFsbGJhY2suXG5cdFx0cmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuXHR9XG5cblx0d3JpdGVUZXh0KGVkaXRvcjogRWRpdG9yLCBsblRvV3JpdGU6IG51bWJlciwgdGV4dDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgbmV3TGluZSA9IHRoaXMuZ2V0TmV4dE5ld0xpbmUoZWRpdG9yLCBsblRvV3JpdGUpO1xuXHRcdGVkaXRvci5zZXRMaW5lKG5ld0xpbmUsICdcXG4nICsgdGV4dC50cmltKCkgKyAnXFxuJyk7XG5cdFx0cmV0dXJuIG5ld0xpbmU7XG5cdH1cblxuXHRnZXROZXh0TmV3TGluZShlZGl0b3I6IEVkaXRvciwgbG46IG51bWJlcikge1xuXHRcdGxldCBuZXdMaW5lID0gbG47XG5cdFx0d2hpbGUgKGVkaXRvci5nZXRMaW5lKG5ld0xpbmUpLnRyaW0oKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAobmV3TGluZSA9PT0gZWRpdG9yLmxhc3RMaW5lKCkpXG5cdFx0XHRcdGVkaXRvci5zZXRMaW5lKG5ld0xpbmUsIGVkaXRvci5nZXRMaW5lKG5ld0xpbmUpICsgJ1xcbicpO1xuXHRcdFx0bmV3TGluZSsrO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3TGluZTtcblx0fVxuXG5cdC8vIENvbW1hbmQgdGhhdCBsb2NhdGVzIGFuIGF1ZGlvIGZpbGUgbGluayBpbiB0aGUgY3VycmVudCBub3RlIGFuZCB0cmlnZ2VycyB0cmFuc2NyaXB0aW9uLlxuXHRjb21tYW5kR2VuZXJhdGVUcmFuc2NyaXB0KGVkaXRvcjogRWRpdG9yKSB7XG5cdFx0Y29uc3QgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0Y29uc3QgdGV4dCA9IGVkaXRvci5nZXRSYW5nZSh7IGxpbmU6IDAsIGNoOiAwIH0sIHBvc2l0aW9uKTtcblx0XHRjb25zdCByZWdleCA9IFtcblx0XHRcdC8oPzw9XFxbXFxbKSgoW15bXFxdXSkrKVxcLihtcDN8d2F2KSg/PV1dKS9nLFxuXHRcdFx0Lyg/PD1cXFsoLiopXVxcKCkoKFteW1xcXV0pKylcXC4obXAzfHdhdikoPz1cXCkpL2csXG5cdFx0XTtcblxuXHRcdHRoaXMuZmluZEZpbGVQYXRoKHRleHQsIHJlZ2V4KVxuXHRcdFx0LnRoZW4oKHBhdGgpID0+IHtcblx0XHRcdFx0Y29uc3QgZmlsZVR5cGUgPSBwYXRoLnNwbGl0KCcuJykucG9wKCk7XG5cdFx0XHRcdGlmICghZmlsZVR5cGUpIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdObyBhdWRpbyBmaWxlIGZvdW5kJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMocGF0aCkudGhlbigoZXhpc3RzKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIWV4aXN0cykgdGhyb3cgbmV3IEVycm9yKHBhdGggKyAnIGRvZXMgbm90IGV4aXN0Jyk7XG5cdFx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWRCaW5hcnkocGF0aCkudGhlbihhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLndyaXRpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdHZW5lcmF0b3IgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcy4nKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGhpcy53cml0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnR2VuZXJhdGluZyB0cmFuc2NyaXB0Li4uJyk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xuXHRcdFx0XHRcdFx0XHRpZiAodGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudHJhbnNjcmliZVJlY29yZGluZyh0ZmlsZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdGaWxlIG5vdCBmb3VuZCBpbiB2YXVsdC4nKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR0aGlzLndyaXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdG5ldyBOb3RpY2UoZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdC8vIFNlYXJjaGVzIGZvciBhbiBhdWRpbyBmaWxlIHBhdGggaW4gdGhlIGdpdmVuIHRleHQgdXNpbmcgcmVnZXguXG5cdGFzeW5jIGZpbmRGaWxlUGF0aCh0ZXh0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHBbXSkge1xuXHRcdGxldCBmaWxlbmFtZSA9ICcnO1xuXHRcdGxldCByZXN1bHQ6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cdFx0Zm9yIChjb25zdCByZWcgb2YgcmVnZXgpIHtcblx0XHRcdHdoaWxlICgocmVzdWx0ID0gcmVnLmV4ZWModGV4dCkpICE9PSBudWxsKSB7XG5cdFx0XHRcdGZpbGVuYW1lID0gbm9ybWFsaXplUGF0aChkZWNvZGVVUkkocmVzdWx0WzBdKSkudHJpbSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoZmlsZW5hbWUgPT09ICcnKSB0aHJvdyBuZXcgRXJyb3IoJ05vIGZpbGUgZm91bmQgaW4gdGhlIHRleHQuJyk7XG5cdFx0Y29uc3QgZnVsbFBhdGggPSBmaWxlbmFtZTtcblx0XHRjb25zdCBmaWxlRXhpc3RzID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZ1bGxQYXRoKSBpbnN0YW5jZW9mIFRBYnN0cmFjdEZpbGU7XG5cdFx0aWYgKGZpbGVFeGlzdHMpIHJldHVybiBmdWxsUGF0aDtcblx0XHRjb25zdCBhbGxGaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG5cdFx0Y29uc3QgZm91bmRGaWxlID0gYWxsRmlsZXMuZmluZCgoZmlsZSkgPT4gZmlsZS5uYW1lID09PSBmaWxlbmFtZS5zcGxpdCgnLycpLnBvcCgpKTtcblx0XHRpZiAoZm91bmRGaWxlKSByZXR1cm4gZm91bmRGaWxlLnBhdGg7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdGaWxlIG5vdCBmb3VuZCcpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cblx0XG59XG5cbi8vIEEgc2V0dGluZ3MgdGFiIGZvciBjb25maWd1cmF0aW9uIHdpdGhpbiBPYnNpZGlhbi5cbmNsYXNzIENhcHRhaW5zTG9nU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IENhcHRhaW5zTG9nUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IENhcHRhaW5zTG9nUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdHb29nbGUgQUkgU3R1ZGlvIEFQSSBLZXknKVxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHlvdXIgR29vZ2xlIEFJIFN0dWRpbyBBUEkgS2V5OyBnZXQgaXQgaGVyZTogaHR0cHM6Ly9haXN0dWRpby5nb29nbGUuY29tL2FwaWtleS4nKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIEFQSSBLZXknKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ01vZGVsJylcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgdGhlIG1vZGVsIHRvIHVzZSAoZS5nLiwgZ2VtaW5pLTIuMC1mbGFzaCkuJylcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG5cdFx0XHRcdGRyb3Bkb3duXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoXG5cdFx0XHRcdFx0XHRNT0RFTFMucmVkdWNlKChhY2MsIG1vZGVsKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGFjY1ttb2RlbF0gPSBtb2RlbDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0XHRcdH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdQcm9tcHQnKVxuXHRcdFx0LnNldERlc2MoJ1RoZSBwcm9tcHQgdG8gdXNlIGZvciBnZW5lcmF0aW5nIG5vdGVzLicpXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1Byb21wdCcpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb21wdClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9tcHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBOb3RlIEZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnRW50ZXIgdGhlIGZvbGRlciBwYXRoIChyZWxhdGl2ZSB0byB0aGUgdmF1bHQgcm9vdCkgdG8gc3RvcmUgbmV3IHRyYW5zY3JpcHRzLiBJZiBpdCBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkLicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2UuZy4sIE5vdGVzL1RyYW5zY3JpcHRzJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE5vdGVGb2xkZXIpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdE5vdGVGb2xkZXIgPSB2YWx1ZS50cmltKCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1JlY29yZGluZyBGaWxlIFBhdGgnKVxuXHRcdFx0LnNldERlc2MoJ1BhdGggdG8gc2F2ZSB0aGUgcmVjb3JkaW5nIGZpbGUgKG9wdGlvbmFsKS4nKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1JlY29yZGluZyBmaWxlIHBhdGgnKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWNvcmRpbmdGaWxlUGF0aClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWNvcmRpbmdGaWxlUGF0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdLZWVwIEF1ZGlvIEZpbGUnKVxuXHRcdFx0LnNldERlc2MoJ0tlZXAgdGhlIGF1ZGlvIGZpbGUgYWZ0ZXIgcHJvY2Vzc2luZz8nKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mua2VlcEF1ZGlvKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmtlZXBBdWRpbyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdJbmNsdWRlIEF1ZGlvIEZpbGUgTGluaycpXG5cdFx0XHQuc2V0RGVzYygnSW5zZXJ0IGEgbGluayB0byB0aGUgYXVkaW8gZmlsZSBpbiB0aGUgbm90ZS4nKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZUF1ZGlvRmlsZUxpbmspXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZUF1ZGlvRmlsZUxpbmsgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoXCJUcmFuc2NyaXB0IEluc2VydGlvbiBMb2NhdGlvblwiKVxuXHRcdC5zZXREZXNjKFwiQ2hvb3NlIHdoZXRoZXIgdG8gaW5zZXJ0IHRoZSB0cmFuc2NyaXB0IGlubGluZSBpbiB0aGUgYWN0aXZlIGZpbGUgb3IgaW4gYSBuZXcgbm90ZS5cIilcblx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKFwiaW5saW5lXCIsIFwiSW5saW5lXCIpO1xuXHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKFwibmV3Tm90ZVwiLCBcIk5ldyBOb3RlXCIpO1xuXHRcdFx0ZHJvcGRvd24uc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uKTtcblx0XHRcdGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogXCJpbmxpbmVcIiB8IFwibmV3Tm90ZVwiKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluc2VydFRyYW5zY3JpcHRMb2NhdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnVGVtcGxhdGUgTm90ZSBGaWxlIFBhdGgnKVxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHRoZSBwYXRoIHRvIGEgdGVtcGxhdGUgbm90ZSBmaWxlIHdob3NlIGNvbnRlbnQgc2hvdWxkIGJlIHBhc3NlZCB3aXRoIHRoZSBBSSBwcm9tcHQgKGFkZCAubWQpLicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2UuZy4sIEZvbGRlck5hbWUvVGVtcGxhdGUubWQnKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZUZpbGVQYXRoKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRlbXBsYXRlRmlsZVBhdGggPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmV4cG9ydCBjbGFzcyBCYXNlTW9kdWxlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRNYXAoXG4gIHRlbXBsYXRlU3RyaW5nOiBzdHJpbmcsXG4gIHZhbHVlTWFwOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IHN0cmluZyB7XG4gIC8vIFVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBmaW5kIGFsbCBwbGFjZWhvbGRlcnMgaW4gdGhlIHRlbXBsYXRlIHN0cmluZ1xuICBjb25zdCByZWdleCA9IC9cXHsoW159XSspXFx9L2c7XG5cbiAgLy8gUmVwbGFjZSBlYWNoIHBsYWNlaG9sZGVyIHdpdGggaXRzIGNvcnJlc3BvbmRpbmcgdmFsdWUgZnJvbSB0aGUgdmFsdWVNYXBcbiAgcmV0dXJuIHRlbXBsYXRlU3RyaW5nLnJlcGxhY2UocmVnZXgsIChtYXRjaCwga2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZU1hcCwga2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZU1hcFtrZXldO1xuICAgICAgLy8gQ29udmVydCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcgaWYgaXQncyBub3QgYSBzdHJpbmcgYWxyZWFkeVxuICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgPyBTdHJpbmcodmFsdWUpIDogJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhhbmRsZSBtaXNzaW5nIGtleXNcbiAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICcke2tleX0nIG5vdCBmb3VuZCBpbiB2YWx1ZU1hcC5gKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VmFsdWVCeVBhdGgoXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBrZXlzOiBzdHJpbmdbXSxcbiAgdmFsdWU6IHVua25vd24sXG4pOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAoa2V5LmVuZHNXaXRoKCdbXScpKSB7XG4gICAgICBjb25zdCBrZXlOYW1lID0ga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgIGlmICghKGtleU5hbWUgaW4gZGF0YSkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZGF0YVtrZXlOYW1lXSA9IEFycmF5LmZyb20oe2xlbmd0aDogdmFsdWUubGVuZ3RofSwgKCkgPT4gKHt9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBtdXN0IGJlIGEgbGlzdCBnaXZlbiBhbiBhcnJheSBwYXRoICR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFba2V5TmFtZV0pKSB7XG4gICAgICAgIGNvbnN0IGFycmF5RGF0YSA9IGRhdGFba2V5TmFtZV0gYXMgQXJyYXk8dW5rbm93bj47XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheURhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYXJyYXlEYXRhW2pdIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICAgICAgc2V0VmFsdWVCeVBhdGgoZW50cnksIGtleXMuc2xpY2UoaSArIDEpLCB2YWx1ZVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoY29uc3QgZCBvZiBhcnJheURhdGEpIHtcbiAgICAgICAgICAgIHNldFZhbHVlQnlQYXRoKFxuICAgICAgICAgICAgICBkIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBrZXlzLnNsaWNlKGkgKyAxKSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdbMF0nKSkge1xuICAgICAgY29uc3Qga2V5TmFtZSA9IGtleS5zbGljZSgwLCAtMyk7XG4gICAgICBpZiAoIShrZXlOYW1lIGluIGRhdGEpKSB7XG4gICAgICAgIGRhdGFba2V5TmFtZV0gPSBbe31dO1xuICAgICAgfVxuICAgICAgY29uc3QgYXJyYXlEYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleU5hbWVdO1xuICAgICAgc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIChhcnJheURhdGEgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KVswXSxcbiAgICAgICAga2V5cy5zbGljZShpICsgMSksXG4gICAgICAgIHZhbHVlLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGFba2V5XSB8fCB0eXBlb2YgZGF0YVtrZXldICE9PSAnb2JqZWN0Jykge1xuICAgICAgZGF0YVtrZXldID0ge307XG4gICAgfVxuXG4gICAgZGF0YSA9IGRhdGFba2V5XSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgfVxuXG4gIGNvbnN0IGtleVRvU2V0ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBleGlzdGluZ0RhdGEgPSBkYXRhW2tleVRvU2V0XTtcblxuICBpZiAoZXhpc3RpbmdEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoXG4gICAgICAhdmFsdWUgfHxcbiAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID09PSBleGlzdGluZ0RhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZXhpc3RpbmdEYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgZXhpc3RpbmdEYXRhICE9PSBudWxsICYmXG4gICAgICB2YWx1ZSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgT2JqZWN0LmFzc2lnbihleGlzdGluZ0RhdGEsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0IHZhbHVlIGZvciBhbiBleGlzdGluZyBrZXkuIEtleTogJHtrZXlUb1NldH1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtrZXlUb1NldF0gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVCeVBhdGgoZGF0YTogdW5rbm93biwga2V5czogc3RyaW5nW10pOiB1bmtub3duIHtcbiAgdHJ5IHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gJ19zZWxmJykge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChrZXkuZW5kc1dpdGgoJ1tdJykpIHtcbiAgICAgICAgY29uc3Qga2V5TmFtZSA9IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIGlmIChrZXlOYW1lIGluIGRhdGEpIHtcbiAgICAgICAgICBjb25zdCBhcnJheURhdGEgPSAoZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5TmFtZV07XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhcnJheURhdGEubWFwKChkKSA9PiBnZXRWYWx1ZUJ5UGF0aChkLCBrZXlzLnNsaWNlKGkgKyAxKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSAoZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRNb2RlbChhcGlDbGllbnQ6IEFwaUNsaWVudCwgbW9kZWw6IHN0cmluZyB8IHVua25vd24pOiBzdHJpbmcge1xuICBpZiAoIW1vZGVsIHx8IHR5cGVvZiBtb2RlbCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21vZGVsIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGlmIChcbiAgICAgIG1vZGVsLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvJykgfHxcbiAgICAgIG1vZGVsLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpIHx8XG4gICAgICBtb2RlbC5zdGFydHNXaXRoKCdtb2RlbHMvJylcbiAgICApIHtcbiAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9IGVsc2UgaWYgKG1vZGVsLmluZGV4T2YoJy8nKSA+PSAwKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IG1vZGVsLnNwbGl0KCcvJywgMik7XG4gICAgICByZXR1cm4gYHB1Ymxpc2hlcnMvJHtwYXJ0c1swXX0vbW9kZWxzLyR7cGFydHNbMV19YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvJHttb2RlbH1gO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAobW9kZWwuc3RhcnRzV2l0aCgnbW9kZWxzLycpIHx8IG1vZGVsLnN0YXJ0c1dpdGgoJ3R1bmVkTW9kZWxzLycpKSB7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgbW9kZWxzLyR7bW9kZWx9YDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRDYWNoZXNNb2RlbChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG1vZGVsOiBzdHJpbmcgfCB1bmtub3duLFxuKTogc3RyaW5nIHtcbiAgY29uc3QgdHJhbnNmb3JtZWRNb2RlbCA9IHRNb2RlbChhcGlDbGllbnQsIG1vZGVsIGFzIHN0cmluZyk7XG4gIGlmICghdHJhbnNmb3JtZWRNb2RlbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1lZE1vZGVsLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvJykgJiYgYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIC8vIHZlcnRleCBjYWNoZXMgb25seSBzdXBwb3J0IG1vZGVsIG5hbWUgc3RhcnQgd2l0aCBwcm9qZWN0cy5cbiAgICByZXR1cm4gYHByb2plY3RzLyR7YXBpQ2xpZW50LmdldFByb2plY3QoKX0vbG9jYXRpb25zLyR7YXBpQ2xpZW50LmdldExvY2F0aW9uKCl9LyR7dHJhbnNmb3JtZWRNb2RlbH1gO1xuICB9IGVsc2UgaWYgKHRyYW5zZm9ybWVkTW9kZWwuc3RhcnRzV2l0aCgnbW9kZWxzLycpICYmIGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICByZXR1cm4gYHByb2plY3RzLyR7YXBpQ2xpZW50LmdldFByb2plY3QoKX0vbG9jYXRpb25zLyR7YXBpQ2xpZW50LmdldExvY2F0aW9uKCl9L3B1Ymxpc2hlcnMvZ29vZ2xlLyR7dHJhbnNmb3JtZWRNb2RlbH1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cmFuc2Zvcm1lZE1vZGVsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0UGFydChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9yaWdpbj86IHR5cGVzLlBhcnRVbmlvbiB8IG51bGwsXG4pOiB0eXBlcy5QYXJ0IHtcbiAgaWYgKG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFydFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9yaWdpbjtcbiAgfVxuICBpZiAodHlwZW9mIG9yaWdpbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge3RleHQ6IG9yaWdpbn07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJ0IHR5cGU6ICR7dHlwZW9mIG9yaWdpbn1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRQYXJ0cyhcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9yaWdpbj86IHR5cGVzLlBhcnRMaXN0VW5pb24gfCBudWxsLFxuKTogdHlwZXMuUGFydFtdIHtcbiAgaWYgKFxuICAgIG9yaWdpbiA9PT0gbnVsbCB8fFxuICAgIG9yaWdpbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgKEFycmF5LmlzQXJyYXkob3JpZ2luKSAmJiBvcmlnaW4ubGVuZ3RoID09PSAwKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcnRMaXN0VW5pb24gaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgcmV0dXJuIG9yaWdpbi5tYXAoKGl0ZW0pID0+IHRQYXJ0KGFwaUNsaWVudCwgaXRlbSBhcyB0eXBlcy5QYXJ0VW5pb24pISk7XG4gIH1cbiAgcmV0dXJuIFt0UGFydChhcGlDbGllbnQsIG9yaWdpbikhXTtcbn1cblxuZnVuY3Rpb24gX2lzQ29udGVudChvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW4gIT09IG51bGwgJiZcbiAgICBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnICYmXG4gICAgJ3BhcnRzJyBpbiBvcmlnaW4gJiZcbiAgICBBcnJheS5pc0FycmF5KG9yaWdpbi5wYXJ0cylcbiAgKTtcbn1cblxuZnVuY3Rpb24gX2lzRnVuY3Rpb25DYWxsUGFydChvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW4gIT09IG51bGwgJiZcbiAgICBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnICYmXG4gICAgJ2Z1bmN0aW9uQ2FsbCcgaW4gb3JpZ2luXG4gICk7XG59XG5cbmZ1bmN0aW9uIF9pc1VzZXJQYXJ0KG9yaWdpbjogdW5rbm93bik6IGJvb2xlYW4ge1xuICBpZiAob3JpZ2luID09PSBudWxsIHx8IG9yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChfaXNGdW5jdGlvbkNhbGxQYXJ0KG9yaWdpbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIF9hcmVVc2VyUGFydHMob3JpZ2luOiB0eXBlcy5QYXJ0TGlzdFVuaW9uW10pOiBib29sZWFuIHtcbiAgaWYgKFxuICAgIG9yaWdpbiA9PT0gbnVsbCB8fFxuICAgIG9yaWdpbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgKEFycmF5LmlzQXJyYXkob3JpZ2luKSAmJiBvcmlnaW4ubGVuZ3RoID09PSAwKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG9yaWdpbi5ldmVyeShfaXNVc2VyUGFydCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q29udGVudChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9yaWdpbj86IHR5cGVzLkNvbnRlbnRVbmlvbixcbik6IHR5cGVzLkNvbnRlbnQge1xuICBpZiAob3JpZ2luID09PSBudWxsIHx8IG9yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb250ZW50VW5pb24gaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoX2lzQ29udGVudChvcmlnaW4pKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2lzQ29udGVudCBpcyBhIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gICAgLy8gb3JpZ2luIGlzIGEgQ29udGVudC5cbiAgICByZXR1cm4gb3JpZ2luO1xuICB9XG5cbiAgaWYgKF9pc1VzZXJQYXJ0KG9yaWdpbikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgcGFydHM6IHRQYXJ0cyhhcGlDbGllbnQsIG9yaWdpbiBhcyB0eXBlcy5QYXJ0TGlzdFVuaW9uKSEsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9sZTogJ21vZGVsJyxcbiAgICAgIHBhcnRzOiB0UGFydHMoYXBpQ2xpZW50LCBvcmlnaW4gYXMgdHlwZXMuUGFydExpc3RVbmlvbikhLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRDb250ZW50c0ZvckVtYmVkKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgb3JpZ2luOiB0eXBlcy5Db250ZW50TGlzdFVuaW9uLFxuKTogdHlwZXMuQ29udGVudFVuaW9uW10ge1xuICBpZiAoIW9yaWdpbikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSAmJiBBcnJheS5pc0FycmF5KG9yaWdpbikpIHtcbiAgICByZXR1cm4gb3JpZ2luLmZsYXRNYXAoKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0Q29udGVudChhcGlDbGllbnQsIGl0ZW0gYXMgdHlwZXMuQ29udGVudFVuaW9uKTtcbiAgICAgIGlmIChcbiAgICAgICAgY29udGVudC5wYXJ0cyAmJlxuICAgICAgICBjb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgY29udGVudC5wYXJ0c1swXS50ZXh0ICE9PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gW2NvbnRlbnQucGFydHNbMF0udGV4dF07XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0Q29udGVudChhcGlDbGllbnQsIG9yaWdpbiBhcyB0eXBlcy5Db250ZW50VW5pb24pO1xuICAgIGlmIChcbiAgICAgIGNvbnRlbnQucGFydHMgJiZcbiAgICAgIGNvbnRlbnQucGFydHMubGVuZ3RoID4gMCAmJlxuICAgICAgY29udGVudC5wYXJ0c1swXS50ZXh0ICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHJldHVybiBbY29udGVudC5wYXJ0c1swXS50ZXh0XTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG9yaWdpbikpIHtcbiAgICByZXR1cm4gb3JpZ2luLm1hcChcbiAgICAgIChpdGVtKSA9PiB0Q29udGVudChhcGlDbGllbnQsIGl0ZW0gYXMgdHlwZXMuQ29udGVudFVuaW9uKSEsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gW3RDb250ZW50KGFwaUNsaWVudCwgb3JpZ2luIGFzIHR5cGVzLkNvbnRlbnRVbmlvbikhXTtcbn1cblxuZnVuY3Rpb24gX2FwcGVuZEFjY3VtdWxhdGVkUGFydHNBc0NvbnRlbnQoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICByZXN1bHQ6IHR5cGVzLkNvbnRlbnRbXSxcbiAgYWNjdW11bGF0ZWRQYXJ0czogdHlwZXMuUGFydFVuaW9uW10sXG4pIHtcbiAgaWYgKGFjY3VtdWxhdGVkUGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChfYXJlVXNlclBhcnRzKGFjY3VtdWxhdGVkUGFydHMpKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgcGFydHM6IHRQYXJ0cyhhcGlDbGllbnQsIGFjY3VtdWxhdGVkUGFydHMpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIHJvbGU6ICdtb2RlbCcsXG4gICAgICBwYXJ0czogdFBhcnRzKGFwaUNsaWVudCwgYWNjdW11bGF0ZWRQYXJ0cyksXG4gICAgfSk7XG4gIH1cbiAgYWNjdW11bGF0ZWRQYXJ0cy5sZW5ndGggPSAwOyAvLyBjbGVhciB0aGUgYXJyYXkgaW5wbGFjZVxufVxuXG5mdW5jdGlvbiBfaGFuZGxlQ3VycmVudFBhcnQoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICByZXN1bHQ6IHR5cGVzLkNvbnRlbnRbXSxcbiAgYWNjdW11bGF0ZWRQYXJ0czogdHlwZXMuUGFydFVuaW9uW10sXG4gIGN1cnJlbnRQYXJ0OiB0eXBlcy5QYXJ0VW5pb24sXG4pIHtcbiAgaWYgKF9pc1VzZXJQYXJ0KGN1cnJlbnRQYXJ0KSA9PT0gX2FyZVVzZXJQYXJ0cyhhY2N1bXVsYXRlZFBhcnRzKSkge1xuICAgIGFjY3VtdWxhdGVkUGFydHMucHVzaChjdXJyZW50UGFydCk7XG4gIH0gZWxzZSB7XG4gICAgX2FwcGVuZEFjY3VtdWxhdGVkUGFydHNBc0NvbnRlbnQoYXBpQ2xpZW50LCByZXN1bHQsIGFjY3VtdWxhdGVkUGFydHMpO1xuICAgIGFjY3VtdWxhdGVkUGFydHMubGVuZ3RoID0gMDtcbiAgICBhY2N1bXVsYXRlZFBhcnRzLnB1c2goY3VycmVudFBhcnQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q29udGVudHMoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvcmlnaW4/OiB0eXBlcy5Db250ZW50TGlzdFVuaW9uLFxuKTogdHlwZXMuQ29udGVudFtdIHtcbiAgaWYgKFxuICAgIG9yaWdpbiA9PT0gbnVsbCB8fFxuICAgIG9yaWdpbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgKEFycmF5LmlzQXJyYXkob3JpZ2luKSAmJiBvcmlnaW4ubGVuZ3RoID09PSAwKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnRlbnRzIGFyZSByZXF1aXJlZCcpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgcmV0dXJuIFt0Q29udGVudChhcGlDbGllbnQsIG9yaWdpbildO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0OiB0eXBlcy5Db250ZW50W10gPSBbXTtcbiAgY29uc3QgYWNjdW11bGF0ZWRQYXJ0czogdHlwZXMuUGFydFVuaW9uW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3JpZ2luKSB7XG4gICAgaWYgKF9pc0NvbnRlbnQoY29udGVudCkpIHtcbiAgICAgIF9hcHBlbmRBY2N1bXVsYXRlZFBhcnRzQXNDb250ZW50KGFwaUNsaWVudCwgcmVzdWx0LCBhY2N1bXVsYXRlZFBhcnRzKTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGNvbnRlbnQgaXMgYSBDb250ZW50IGhlcmVcbiAgICAgIHJlc3VsdC5wdXNoKGNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgfHxcbiAgICAgICh0eXBlb2YgY29udGVudCA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoY29udGVudCkpXG4gICAgKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBjb250ZW50IGlzIGEgcGFydCBoZXJlXG4gICAgICBfaGFuZGxlQ3VycmVudFBhcnQoYXBpQ2xpZW50LCByZXN1bHQsIGFjY3VtdWxhdGVkUGFydHMsIGNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50KSkge1xuICAgICAgLy8gaWYgdGhlcmUncmUgY29uc2VjdXRpdmUgdXNlciBwYXJ0cyBiZWZvcmUgdGhlIGxpc3QsXG4gICAgICAvLyBjb252ZXJ0IHRvIFVzZXJDb250ZW50IGFuZCBhcHBlbmQgdG8gcmVzdWx0XG4gICAgICBfYXBwZW5kQWNjdW11bGF0ZWRQYXJ0c0FzQ29udGVudChhcGlDbGllbnQsIHJlc3VsdCwgYWNjdW11bGF0ZWRQYXJ0cyk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgcGFydHM6IHRQYXJ0cyhhcGlDbGllbnQsIGNvbnRlbnQpLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY29udGVudCB0eXBlOiAke3R5cGVvZiBjb250ZW50fWApO1xuICAgIH1cbiAgfVxuICBfYXBwZW5kQWNjdW11bGF0ZWRQYXJ0c0FzQ29udGVudChhcGlDbGllbnQsIHJlc3VsdCwgYWNjdW11bGF0ZWRQYXJ0cyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NTY2hlbWEoYXBpQ2xpZW50OiBBcGlDbGllbnQsIHNjaGVtYTogdHlwZXMuU2NoZW1hKSB7XG4gIGlmICghYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGlmICgnZGVmYXVsdCcgaW4gc2NoZW1hKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdEZWZhdWx0IHZhbHVlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIHJlc3BvbnNlIHNjaGVtYSBmb3IgdGhlIEdlbWluaSBBUEkuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdhbnlPZicgaW4gc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYVsnYW55T2YnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGNvbnN0IHN1YlNjaGVtYSBvZiBzY2hlbWFbJ2FueU9mJ10pIHtcbiAgICAgICAgcHJvY2Vzc1NjaGVtYShhcGlDbGllbnQsIHN1YlNjaGVtYSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCdpdGVtcycgaW4gc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYVsnaXRlbXMnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwcm9jZXNzU2NoZW1hKGFwaUNsaWVudCwgc2NoZW1hWydpdGVtcyddKTtcbiAgICB9XG4gIH1cblxuICBpZiAoJ3Byb3BlcnRpZXMnIGluIHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWFbJ3Byb3BlcnRpZXMnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGNvbnN0IHN1YlNjaGVtYSBvZiBPYmplY3QudmFsdWVzKHNjaGVtYVsncHJvcGVydGllcyddKSkge1xuICAgICAgICBwcm9jZXNzU2NoZW1hKGFwaUNsaWVudCwgc3ViU2NoZW1hKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRTY2hlbWEoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBzY2hlbWE6IHR5cGVzLlNjaGVtYSxcbik6IHR5cGVzLlNjaGVtYSB7XG4gIHByb2Nlc3NTY2hlbWEoYXBpQ2xpZW50LCBzY2hlbWEpO1xuICByZXR1cm4gc2NoZW1hO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdFNwZWVjaENvbmZpZyhcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIHNwZWVjaENvbmZpZzogdHlwZXMuU3BlZWNoQ29uZmlnVW5pb24sXG4pOiB0eXBlcy5TcGVlY2hDb25maWcge1xuICBpZiAodHlwZW9mIHNwZWVjaENvbmZpZyA9PT0gJ29iamVjdCcgJiYgJ3ZvaWNlQ29uZmlnJyBpbiBzcGVlY2hDb25maWcpIHtcbiAgICByZXR1cm4gc3BlZWNoQ29uZmlnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVlY2hDb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZvaWNlQ29uZmlnOiB7XG4gICAgICAgIHByZWJ1aWx0Vm9pY2VDb25maWc6IHtcbiAgICAgICAgICB2b2ljZU5hbWU6IHNwZWVjaENvbmZpZyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHNwZWVjaENvbmZpZyB0eXBlOiAke3R5cGVvZiBzcGVlY2hDb25maWd9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRUb29sKGFwaUNsaWVudDogQXBpQ2xpZW50LCB0b29sOiB0eXBlcy5Ub29sKTogdHlwZXMuVG9vbCB7XG4gIHJldHVybiB0b29sO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdFRvb2xzKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgdG9vbDogdHlwZXMuVG9vbFtdIHwgdW5rbm93bixcbik6IHR5cGVzLlRvb2xbXSB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh0b29sKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndG9vbCBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhbiBhcnJheSBvZiBUb29scycpO1xuICB9XG4gIHJldHVybiB0b29sO1xufVxuXG4vKipcbiAqIFByZXBlbmRzIHJlc291cmNlIG5hbWUgd2l0aCBwcm9qZWN0LCBsb2NhdGlvbiwgcmVzb3VyY2VfcHJlZml4IGlmIG5lZWRlZC5cbiAqXG4gKiBAcGFyYW0gY2xpZW50IFRoZSBBUEkgY2xpZW50LlxuICogQHBhcmFtIHJlc291cmNlTmFtZSBUaGUgcmVzb3VyY2UgbmFtZS5cbiAqIEBwYXJhbSByZXNvdXJjZVByZWZpeCBUaGUgcmVzb3VyY2UgcHJlZml4LlxuICogQHBhcmFtIHNwbGl0c0FmdGVyUHJlZml4IFRoZSBudW1iZXIgb2Ygc3BsaXRzIGFmdGVyIHRoZSBwcmVmaXguXG4gKiBAcmV0dXJucyBUaGUgY29tcGxldGVkIHJlc291cmNlIG5hbWUuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogYGBgXG4gKiByZXNvdXJjZV9uYW1lID0gJzEyMydcbiAqIHJlc291cmNlX3ByZWZpeCA9ICdjYWNoZWRDb250ZW50cydcbiAqIHNwbGl0c19hZnRlcl9wcmVmaXggPSAxXG4gKiBjbGllbnQudmVydGV4YWkgPSBUcnVlXG4gKiBjbGllbnQucHJvamVjdCA9ICdiYXInXG4gKiBjbGllbnQubG9jYXRpb24gPSAndXMtd2VzdDEnXG4gKiBfcmVzb3VyY2VfbmFtZShjbGllbnQsIHJlc291cmNlX25hbWUsIHJlc291cmNlX3ByZWZpeCwgc3BsaXRzX2FmdGVyX3ByZWZpeClcbiAqIHJldHVybnM6ICdwcm9qZWN0cy9iYXIvbG9jYXRpb25zL3VzLXdlc3QxL2NhY2hlZENvbnRlbnRzLzEyMydcbiAqIGBgYFxuICpcbiAqIGBgYFxuICogcmVzb3VyY2VfbmFtZSA9ICdwcm9qZWN0cy9mb28vbG9jYXRpb25zL3VzLWNlbnRyYWwxL2NhY2hlZENvbnRlbnRzLzEyMydcbiAqIHJlc291cmNlX3ByZWZpeCA9ICdjYWNoZWRDb250ZW50cydcbiAqIHNwbGl0c19hZnRlcl9wcmVmaXggPSAxXG4gKiBjbGllbnQudmVydGV4YWkgPSBUcnVlXG4gKiBjbGllbnQucHJvamVjdCA9ICdiYXInXG4gKiBjbGllbnQubG9jYXRpb24gPSAndXMtd2VzdDEnXG4gKiBfcmVzb3VyY2VfbmFtZShjbGllbnQsIHJlc291cmNlX25hbWUsIHJlc291cmNlX3ByZWZpeCwgc3BsaXRzX2FmdGVyX3ByZWZpeClcbiAqIHJldHVybnM6ICdwcm9qZWN0cy9mb28vbG9jYXRpb25zL3VzLWNlbnRyYWwxL2NhY2hlZENvbnRlbnRzLzEyMydcbiAqIGBgYFxuICpcbiAqIGBgYFxuICogcmVzb3VyY2VfbmFtZSA9ICcxMjMnXG4gKiByZXNvdXJjZV9wcmVmaXggPSAnY2FjaGVkQ29udGVudHMnXG4gKiBzcGxpdHNfYWZ0ZXJfcHJlZml4ID0gMVxuICogY2xpZW50LnZlcnRleGFpID0gRmFsc2VcbiAqIF9yZXNvdXJjZV9uYW1lKGNsaWVudCwgcmVzb3VyY2VfbmFtZSwgcmVzb3VyY2VfcHJlZml4LCBzcGxpdHNfYWZ0ZXJfcHJlZml4KVxuICogcmV0dXJucyAnY2FjaGVkQ29udGVudHMvMTIzJ1xuICogYGBgXG4gKlxuICogYGBgXG4gKiByZXNvdXJjZV9uYW1lID0gJ3NvbWUvd3JvbmcvY2FjaGVkQ29udGVudHMvcmVzb3VyY2UvbmFtZS8xMjMnXG4gKiByZXNvdXJjZV9wcmVmaXggPSAnY2FjaGVkQ29udGVudHMnXG4gKiBzcGxpdHNfYWZ0ZXJfcHJlZml4ID0gMVxuICogY2xpZW50LnZlcnRleGFpID0gRmFsc2VcbiAqICMgY2xpZW50LnZlcnRleGFpID0gVHJ1ZVxuICogX3Jlc291cmNlX25hbWUoY2xpZW50LCByZXNvdXJjZV9uYW1lLCByZXNvdXJjZV9wcmVmaXgsIHNwbGl0c19hZnRlcl9wcmVmaXgpXG4gKiAtPiAnc29tZS93cm9uZy9yZXNvdXJjZS9uYW1lLzEyMydcbiAqIGBgYFxuICovXG5mdW5jdGlvbiByZXNvdXJjZU5hbWUoXG4gIGNsaWVudDogQXBpQ2xpZW50LFxuICByZXNvdXJjZU5hbWU6IHN0cmluZyxcbiAgcmVzb3VyY2VQcmVmaXg6IHN0cmluZyxcbiAgc3BsaXRzQWZ0ZXJQcmVmaXg6IG51bWJlciA9IDEsXG4pOiBzdHJpbmcge1xuICBjb25zdCBzaG91bGRBcHBlbmRQcmVmaXggPVxuICAgICFyZXNvdXJjZU5hbWUuc3RhcnRzV2l0aChgJHtyZXNvdXJjZVByZWZpeH0vYCkgJiZcbiAgICByZXNvdXJjZU5hbWUuc3BsaXQoJy8nKS5sZW5ndGggPT09IHNwbGl0c0FmdGVyUHJlZml4O1xuICBpZiAoY2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGlmIChyZXNvdXJjZU5hbWUuc3RhcnRzV2l0aCgncHJvamVjdHMvJykpIHtcbiAgICAgIHJldHVybiByZXNvdXJjZU5hbWU7XG4gICAgfSBlbHNlIGlmIChyZXNvdXJjZU5hbWUuc3RhcnRzV2l0aCgnbG9jYXRpb25zLycpKSB7XG4gICAgICByZXR1cm4gYHByb2plY3RzLyR7Y2xpZW50LmdldFByb2plY3QoKX0vJHtyZXNvdXJjZU5hbWV9YDtcbiAgICB9IGVsc2UgaWYgKHJlc291cmNlTmFtZS5zdGFydHNXaXRoKGAke3Jlc291cmNlUHJlZml4fS9gKSkge1xuICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke2NsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2NsaWVudC5nZXRMb2NhdGlvbigpfS8ke3Jlc291cmNlTmFtZX1gO1xuICAgIH0gZWxzZSBpZiAoc2hvdWxkQXBwZW5kUHJlZml4KSB7XG4gICAgICByZXR1cm4gYHByb2plY3RzLyR7Y2xpZW50LmdldFByb2plY3QoKX0vbG9jYXRpb25zLyR7Y2xpZW50LmdldExvY2F0aW9uKCl9LyR7cmVzb3VyY2VQcmVmaXh9LyR7cmVzb3VyY2VOYW1lfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNvdXJjZU5hbWU7XG4gICAgfVxuICB9XG4gIGlmIChzaG91bGRBcHBlbmRQcmVmaXgpIHtcbiAgICByZXR1cm4gYCR7cmVzb3VyY2VQcmVmaXh9LyR7cmVzb3VyY2VOYW1lfWA7XG4gIH1cbiAgcmV0dXJuIHJlc291cmNlTmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRDYWNoZWRDb250ZW50TmFtZShcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG5hbWU6IHN0cmluZyB8IHVua25vd24sXG4pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCduYW1lIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuICByZXR1cm4gcmVzb3VyY2VOYW1lKGFwaUNsaWVudCwgbmFtZSwgJ2NhY2hlZENvbnRlbnRzJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0VHVuaW5nSm9iU3RhdHVzKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgc3RhdHVzOiBzdHJpbmcgfCB1bmtub3duLFxuKTogc3RyaW5nIHtcbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlICdTVEFURV9VTlNQRUNJRklFRCc6XG4gICAgICByZXR1cm4gJ0pPQl9TVEFURV9VTlNQRUNJRklFRCc7XG4gICAgY2FzZSAnQ1JFQVRJTkcnOlxuICAgICAgcmV0dXJuICdKT0JfU1RBVEVfUlVOTklORyc7XG4gICAgY2FzZSAnQUNUSVZFJzpcbiAgICAgIHJldHVybiAnSk9CX1NUQVRFX1NVQ0NFRURFRCc7XG4gICAgY2FzZSAnRkFJTEVEJzpcbiAgICAgIHJldHVybiAnSk9CX1NUQVRFX0ZBSUxFRCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0dXMgYXMgc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Qnl0ZXMoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tSW1hZ2VCeXRlczogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgZnJvbUltYWdlQnl0ZXMgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmcm9tSW1hZ2VCeXRlcyBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cbiAgLy8gVE9ETyhiLzM4OTEzMzkxNCk6IFJlbW92ZSBkdW1teSBieXRlcyBjb252ZXJ0ZXIuXG4gIHJldHVybiBmcm9tSW1hZ2VCeXRlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0RmlsZU5hbWUoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tTmFtZTogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgZnJvbU5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmcm9tTmFtZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cbiAgLy8gUmVtb3ZlIHRoZSBmaWxlcy8gcHJlZnggZm9yIE1MZGV2IHVybHMgdG8gZ2V0IHRoZSBhY3R1YWwgbmFtZSBvZiB0aGUgZmlsZS5cbiAgaWYgKGZyb21OYW1lLnN0YXJ0c1dpdGgoJ2ZpbGVzLycpKSB7XG4gICAgcmV0dXJuIGZyb21OYW1lLnNwbGl0KCdmaWxlcy8nKVsxXTtcbiAgfVxuICByZXR1cm4gZnJvbU5hbWU7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24nO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fdHJhbnNmb3JtZXJzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUGFydCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndmlkZW9NZXRhZGF0YSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVEYXRhJ10sIGZyb21GaWxlRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddLCBmcm9tRnVuY3Rpb25DYWxsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5saW5lRGF0YSddLCBmcm9tSW5saW5lRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVBhcnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydwYXJ0cyddLFxuICAgICAgICBmcm9tUGFydHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVtYVRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TY2hlbWEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleGFtcGxlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4YW1wbGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXR0ZXJuJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhdHRlcm4gcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZWZhdWx0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlZmF1bHQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhMZW5ndGgnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWF4TGVuZ3RoIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluTGVuZ3RoJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pbkxlbmd0aCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pblByb3BlcnRpZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWluUHJvcGVydGllcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heFByb3BlcnRpZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWF4UHJvcGVydGllcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFueU9mID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYW55T2YnXSk7XG4gIGlmIChmcm9tQW55T2YgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhbnlPZiddLCBmcm9tQW55T2YpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVudW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbnVtJ10pO1xuICBpZiAoZnJvbUVudW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbnVtJ10sIGZyb21FbnVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Gb3JtYXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmb3JtYXQnXSk7XG4gIGlmIChmcm9tRm9ybWF0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZm9ybWF0J10sIGZyb21Gb3JtYXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaXRlbXMnXSk7XG4gIGlmIChmcm9tSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpdGVtcyddLCBmcm9tSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heEl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4SXRlbXMnXSk7XG4gIGlmIChmcm9tTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhJdGVtcyddLCBmcm9tTWF4SXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heGltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhpbXVtJ10pO1xuICBpZiAoZnJvbU1heGltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhpbXVtJ10sIGZyb21NYXhpbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkl0ZW1zJ10pO1xuICBpZiAoZnJvbU1pbkl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluSXRlbXMnXSwgZnJvbU1pbkl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5pbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluaW11bSddKTtcbiAgaWYgKGZyb21NaW5pbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluaW11bSddLCBmcm9tTWluaW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVsbGFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydudWxsYWJsZSddKTtcbiAgaWYgKGZyb21OdWxsYWJsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ251bGxhYmxlJ10sIGZyb21OdWxsYWJsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSk7XG4gIGlmIChmcm9tUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSwgZnJvbVByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnR5T3JkZXJpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9wZXJ0eU9yZGVyaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvcGVydHlPcmRlcmluZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnR5T3JkZXJpbmcnXSwgZnJvbVByb3BlcnR5T3JkZXJpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlcXVpcmVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVxdWlyZWQnXSk7XG4gIGlmIChmcm9tUmVxdWlyZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXF1aXJlZCddLCBmcm9tUmVxdWlyZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpdGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGl0bGUnXSk7XG4gIGlmIChmcm9tVGl0bGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0eXBlJ10pO1xuICBpZiAoZnJvbVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0eXBlJ10sIGZyb21UeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25EZWNsYXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jlc3BvbnNlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJhbWV0ZXJzJ10pO1xuICBpZiAoZnJvbVBhcmFtZXRlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJhbWV0ZXJzJ10sIGZyb21QYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFRvTWxkZXYoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkR5bmFtaWNSZXRyaWV2YWxDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRHluYW1pY1RocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNUaHJlc2hvbGQnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZHluYW1pY1RocmVzaG9sZCddLCBmcm9tRHluYW1pY1RocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZHluYW1pY1JldHJpZXZhbENvbmZpZyddLFxuICAgICAgZHluYW1pY1JldHJpZXZhbENvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmV0cmlldmFsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddLCBnb29nbGVTZWFyY2hUb01sZGV2KCkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9NbGRldihhcGlDbGllbnQsIGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsaW5nQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGUnXSk7XG4gIGlmIChmcm9tTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGUnXSwgZnJvbU1vZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnLFxuICBdKTtcbiAgaWYgKGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJ10sXG4gICAgICBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyddLFxuICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUNhY2hlZENvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UdGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0dGwnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHRsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3R0bCddLCBmcm9tVHRsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwaXJlVGltZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FeHBpcmVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSwgZnJvbUV4cGlyZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgdC50Q29udGVudChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29scyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVRvb2xzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsndG9vbHMnXSxcbiAgICAgICAgZnJvbVRvb2xzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sVG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbHMnXSwgZnJvbVRvb2xzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xDb25maWcnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWyd0b29sQ29uZmlnJ10sXG4gICAgICB0b29sQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbW9kZWwnXSxcbiAgICAgIHQudENhY2hlc01vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGNyZWF0ZUNhY2hlZENvbnRlbnRDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHRsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHRsJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR0bCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0dGwnXSwgZnJvbVR0bCk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICB1cGRhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdENhY2hlZENvbnRlbnRzQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgbGlzdENhY2hlZENvbnRlbnRzQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUGFydCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVEYXRhJ10sIGZyb21GaWxlRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddLCBmcm9tRnVuY3Rpb25DYWxsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5saW5lRGF0YSddLCBmcm9tSW5saW5lRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0VG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgZnJvbVBhcnRzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUm9sZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JvbGUnXSk7XG4gIGlmIChmcm9tUm9sZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JvbGUnXSwgZnJvbVJvbGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NoZW1hVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TY2hlbWEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21FeGFtcGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZSddKTtcbiAgaWYgKGZyb21FeGFtcGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhhbXBsZSddLCBmcm9tRXhhbXBsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGF0dGVybiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhdHRlcm4nXSk7XG4gIGlmIChmcm9tUGF0dGVybiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhdHRlcm4nXSwgZnJvbVBhdHRlcm4pO1xuICB9XG5cbiAgY29uc3QgZnJvbURlZmF1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZWZhdWx0J10pO1xuICBpZiAoZnJvbURlZmF1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZWZhdWx0J10sIGZyb21EZWZhdWx0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhMZW5ndGggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhMZW5ndGgnXSk7XG4gIGlmIChmcm9tTWF4TGVuZ3RoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4TGVuZ3RoJ10sIGZyb21NYXhMZW5ndGgpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbkxlbmd0aCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkxlbmd0aCddKTtcbiAgaWYgKGZyb21NaW5MZW5ndGggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5MZW5ndGgnXSwgZnJvbU1pbkxlbmd0aCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21pblByb3BlcnRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21NaW5Qcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluUHJvcGVydGllcyddLCBmcm9tTWluUHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4UHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heFByb3BlcnRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhQcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4UHJvcGVydGllcyddLCBmcm9tTWF4UHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tQW55T2YgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhbnlPZiddKTtcbiAgaWYgKGZyb21BbnlPZiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FueU9mJ10sIGZyb21BbnlPZik7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tRW51bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VudW0nXSk7XG4gIGlmIChmcm9tRW51bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VudW0nXSwgZnJvbUVudW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbUZvcm1hdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Zvcm1hdCddKTtcbiAgaWYgKGZyb21Gb3JtYXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmb3JtYXQnXSwgZnJvbUZvcm1hdCk7XG4gIH1cblxuICBjb25zdCBmcm9tSXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpdGVtcyddKTtcbiAgaWYgKGZyb21JdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2l0ZW1zJ10sIGZyb21JdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4SXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhJdGVtcyddKTtcbiAgaWYgKGZyb21NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heEl0ZW1zJ10sIGZyb21NYXhJdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4aW11bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heGltdW0nXSk7XG4gIGlmIChmcm9tTWF4aW11bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heGltdW0nXSwgZnJvbU1heGltdW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbkl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluSXRlbXMnXSk7XG4gIGlmIChmcm9tTWluSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5JdGVtcyddLCBmcm9tTWluSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbmltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5pbXVtJ10pO1xuICBpZiAoZnJvbU1pbmltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5pbXVtJ10sIGZyb21NaW5pbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OdWxsYWJsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ251bGxhYmxlJ10pO1xuICBpZiAoZnJvbU51bGxhYmxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbnVsbGFibGUnXSwgZnJvbU51bGxhYmxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9wZXJ0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvcGVydGllcyddKTtcbiAgaWYgKGZyb21Qcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvcGVydGllcyddLCBmcm9tUHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydHlPcmRlcmluZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb3BlcnR5T3JkZXJpbmcnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9wZXJ0eU9yZGVyaW5nICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvcGVydHlPcmRlcmluZyddLCBmcm9tUHJvcGVydHlPcmRlcmluZyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVxdWlyZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXF1aXJlZCddKTtcbiAgaWYgKGZyb21SZXF1aXJlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlcXVpcmVkJ10sIGZyb21SZXF1aXJlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGl0bGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aXRsZSddKTtcbiAgaWYgKGZyb21UaXRsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpdGxlJ10sIGZyb21UaXRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R5cGUnXSk7XG4gIGlmIChmcm9tVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R5cGUnXSwgZnJvbVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25EZWNsYXJhdGlvblRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25EZWNsYXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgc2NoZW1hVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tUmVzcG9uc2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJhbWV0ZXJzJ10pO1xuICBpZiAoZnJvbVBhcmFtZXRlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJhbWV0ZXJzJ10sIGZyb21QYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFRvVmVydGV4KCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHluYW1pY1JldHJpZXZhbENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRHluYW1pY1JldHJpZXZhbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAoZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EeW5hbWljVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZHluYW1pY1RocmVzaG9sZCcsXG4gIF0pO1xuICBpZiAoZnJvbUR5bmFtaWNUaHJlc2hvbGQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkeW5hbWljVGhyZXNob2xkJ10sIGZyb21EeW5hbWljVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFJldHJpZXZhbFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZHluYW1pY1JldHJpZXZhbENvbmZpZyddLFxuICAgICAgZHluYW1pY1JldHJpZXZhbENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkRlY2xhcmF0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJ10sXG4gICAgICAgIGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb25EZWNsYXJhdGlvblRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSk7XG4gIGlmIChmcm9tUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmV0cmlldmFsJ10sIGZyb21SZXRyaWV2YWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2ggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnb29nbGVTZWFyY2gnXSwgZ29vZ2xlU2VhcmNoVG9WZXJ0ZXgoKSk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJ10sXG4gICAgICBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkNhbGxpbmdDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAoZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydhbGxvd2VkRnVuY3Rpb25OYW1lcyddLFxuICAgICAgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJ10sXG4gICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHRsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHRsJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR0bCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0dGwnXSwgZnJvbVR0bCk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoXG4gICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50VG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgdC50Q29udGVudChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29scyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVRvb2xzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsndG9vbHMnXSxcbiAgICAgICAgZnJvbVRvb2xzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sVG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3Rvb2xzJ10sIGZyb21Ub29scyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndG9vbENvbmZpZyddLFxuICAgICAgdG9vbENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbVRvb2xDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbW9kZWwnXSxcbiAgICAgIHQudENhY2hlc01vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGNyZWF0ZUNhY2hlZENvbnRlbnRDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVR0bCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R0bCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndHRsJ10sIGZyb21UdGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRDYWNoZWRDb250ZW50TmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIHVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdENhY2hlZENvbnRlbnRzQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBsaXN0Q2FjaGVkQ29udGVudHNDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FjaGVkQ29udGVudEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNhY2hlZENvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGVsJ10sIGZyb21Nb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwaXJlVGltZSddKTtcbiAgaWYgKGZyb21FeHBpcmVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVXNhZ2VNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VzYWdlTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXNhZ2VNZXRhZGF0YSddLCBmcm9tVXNhZ2VNZXRhZGF0YSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoKTogUmVjb3JkPFxuICBzdHJpbmcsXG4gIHVua25vd25cbj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYWNoZWRDb250ZW50cycsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlZENvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ2FjaGVkQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NhY2hlZENvbnRlbnRzJ10sXG4gICAgICAgIGZyb21DYWNoZWRDb250ZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gY2FjaGVkQ29udGVudEZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYWNoZWRDb250ZW50cyddLCBmcm9tQ2FjaGVkQ29udGVudHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlZENvbnRlbnRGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FjaGVkQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DcmVhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY3JlYXRlVGltZSddKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVXBkYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tVXBkYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSwgZnJvbVVwZGF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAoZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Vc2FnZU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndXNhZ2VNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1c2FnZU1ldGFkYXRhJ10sIGZyb21Vc2FnZU1ldGFkYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgoKTogUmVjb3JkPFxuICBzdHJpbmcsXG4gIHVua25vd25cbj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5leHRQYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZXh0UGFnZVRva2VuJyxcbiAgXSk7XG4gIGlmIChmcm9tTmV4dFBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25leHRQYWdlVG9rZW4nXSwgZnJvbU5leHRQYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudHMnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhY2hlZENvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYWNoZWRDb250ZW50cyddLFxuICAgICAgICBmcm9tQ2FjaGVkQ29udGVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlZENvbnRlbnRGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhY2hlZENvbnRlbnRzJ10sIGZyb21DYWNoZWRDb250ZW50cyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBQYWdlcnMgZm9yIHRoZSBHZW5BSSBMaXN0IEFQSXMuXG4gKi9cblxuZXhwb3J0IGVudW0gUGFnZWRJdGVtIHtcbiAgUEFHRURfSVRFTV9CQVRDSF9KT0JTID0gJ2JhdGNoSm9icycsXG4gIFBBR0VEX0lURU1fTU9ERUxTID0gJ21vZGVscycsXG4gIFBBR0VEX0lURU1fVFVOSU5HX0pPQlMgPSAndHVuaW5nSm9icycsXG4gIFBBR0VEX0lURU1fRklMRVMgPSAnZmlsZXMnLFxuICBQQUdFRF9JVEVNX0NBQ0hFRF9DT05URU5UUyA9ICdjYWNoZWRDb250ZW50cycsXG59XG5cbmludGVyZmFjZSBQYWdlZEl0ZW1Db25maWcge1xuICBjb25maWc/OiB7XG4gICAgcGFnZVRva2VuPzogc3RyaW5nO1xuICAgIHBhZ2VTaXplPzogbnVtYmVyO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgUGFnZWRJdGVtUmVzcG9uc2U8VD4ge1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICBiYXRjaEpvYnM/OiBUW107XG4gIG1vZGVscz86IFRbXTtcbiAgdHVuaW5nSm9icz86IFRbXTtcbiAgZmlsZXM/OiBUW107XG4gIGNhY2hlZENvbnRlbnRzPzogVFtdO1xufVxuXG4vKipcbiAqIFBhZ2VyIGNsYXNzIGZvciBpdGVyYXRpbmcgdGhyb3VnaCBwYWdpbmF0ZWQgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VyPFQ+IGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxUPiB7XG4gIHByaXZhdGUgbmFtZUludGVybmFsITogUGFnZWRJdGVtO1xuICBwcml2YXRlIHBhZ2VJbnRlcm5hbDogVFtdID0gW107XG4gIHByaXZhdGUgcGFyYW1zSW50ZXJuYWw6IFBhZ2VkSXRlbUNvbmZpZyA9IHt9O1xuICBwcml2YXRlIHBhZ2VJbnRlcm5hbFNpemUhOiBudW1iZXI7XG4gIHByb3RlY3RlZCByZXF1ZXN0SW50ZXJuYWwhOiAoXG4gICAgcGFyYW1zOiBQYWdlZEl0ZW1Db25maWcsXG4gICkgPT4gUHJvbWlzZTxQYWdlZEl0ZW1SZXNwb25zZTxUPj47XG4gIHByb3RlY3RlZCBpZHhJbnRlcm5hbCE6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBuYW1lOiBQYWdlZEl0ZW0sXG4gICAgcmVxdWVzdDogKHBhcmFtczogUGFnZWRJdGVtQ29uZmlnKSA9PiBQcm9taXNlPFBhZ2VkSXRlbVJlc3BvbnNlPFQ+PixcbiAgICByZXNwb25zZTogUGFnZWRJdGVtUmVzcG9uc2U8VD4sXG4gICAgcGFyYW1zOiBQYWdlZEl0ZW1Db25maWcsXG4gICkge1xuICAgIHRoaXMucmVxdWVzdEludGVybmFsID0gcmVxdWVzdDtcbiAgICB0aGlzLmluaXQobmFtZSwgcmVzcG9uc2UsIHBhcmFtcyk7XG4gIH1cblxuICBwcml2YXRlIGluaXQoXG4gICAgbmFtZTogUGFnZWRJdGVtLFxuICAgIHJlc3BvbnNlOiBQYWdlZEl0ZW1SZXNwb25zZTxUPixcbiAgICBwYXJhbXM6IFBhZ2VkSXRlbUNvbmZpZyxcbiAgKSB7XG4gICAgdGhpcy5uYW1lSW50ZXJuYWwgPSBuYW1lO1xuICAgIHRoaXMucGFnZUludGVybmFsID0gcmVzcG9uc2VbdGhpcy5uYW1lSW50ZXJuYWxdIHx8IFtdO1xuICAgIHRoaXMuaWR4SW50ZXJuYWwgPSAwO1xuICAgIGxldCByZXF1ZXN0UGFyYW1zOiBQYWdlZEl0ZW1Db25maWcgPSB7Y29uZmlnOiB7fX07XG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RQYXJhbXMgPSB7Y29uZmlnOiB7fX07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVxdWVzdFBhcmFtcyA9IHsuLi5wYXJhbXN9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0UGFyYW1zID0gcGFyYW1zO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdFBhcmFtc1snY29uZmlnJ10pIHtcbiAgICAgIHJlcXVlc3RQYXJhbXNbJ2NvbmZpZyddWydwYWdlVG9rZW4nXSA9IHJlc3BvbnNlWyduZXh0UGFnZVRva2VuJ107XG4gICAgfVxuICAgIHRoaXMucGFyYW1zSW50ZXJuYWwgPSByZXF1ZXN0UGFyYW1zO1xuICAgIHRoaXMucGFnZUludGVybmFsU2l6ZSA9XG4gICAgICByZXF1ZXN0UGFyYW1zWydjb25maWcnXT8uWydwYWdlU2l6ZSddID8/IHRoaXMucGFnZUludGVybmFsLmxlbmd0aDtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdE5leHRQYWdlKHJlc3BvbnNlOiBQYWdlZEl0ZW1SZXNwb25zZTxUPik6IHZvaWQge1xuICAgIHRoaXMuaW5pdCh0aGlzLm5hbWVJbnRlcm5hbCwgcmVzcG9uc2UsIHRoaXMucGFyYW1zSW50ZXJuYWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcGFnZSwgd2hpY2ggaXMgYSBsaXN0IG9mIGl0ZW1zLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgZmlyc3QgcGFnZSBpcyByZXRyaWV2ZWQgd2hlbiB0aGUgcGFnZXIgaXMgY3JlYXRlZC4gVGhlIHJldHVybmVkIGxpc3Qgb2ZcbiAgICogaXRlbXMgY291bGQgYmUgYSBzdWJzZXQgb2YgdGhlIGVudGlyZSBsaXN0LlxuICAgKi9cbiAgZ2V0IHBhZ2UoKTogVFtdIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlSW50ZXJuYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdHlwZSBvZiBwYWdlZCBpdGVtIChmb3IgZXhhbXBsZSwgYGBiYXRjaF9qb2JzYGApLlxuICAgKi9cbiAgZ2V0IG5hbWUoKTogUGFnZWRJdGVtIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lSW50ZXJuYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBwYWdlIGZldGNoZWQgZWFjaCB0aW1lIGJ5IHRoaXMgcGFnZXIuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHBhZ2UgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBwYWdlIGxlbmd0aC5cbiAgICovXG4gIGdldCBwYWdlU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBhZ2VJbnRlcm5hbFNpemU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcGFyYW1ldGVycyB3aGVuIG1ha2luZyB0aGUgQVBJIHJlcXVlc3QgZm9yIHRoZSBuZXh0IHBhZ2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFBhcmFtZXRlcnMgY29udGFpbiBhIHNldCBvZiBvcHRpb25hbCBjb25maWdzIHRoYXQgY2FuIGJlXG4gICAqIHVzZWQgdG8gY3VzdG9taXplIHRoZSBBUEkgcmVxdWVzdC4gRm9yIGV4YW1wbGUsIHRoZSBgcGFnZVRva2VuYCBwYXJhbWV0ZXJcbiAgICogY29udGFpbnMgdGhlIHRva2VuIHRvIHJlcXVlc3QgdGhlIG5leHQgcGFnZS5cbiAgICovXG4gIGdldCBwYXJhbXMoKTogUGFnZWRJdGVtQ29uZmlnIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXNJbnRlcm5hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICovXG4gIGdldCBwYWdlTGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUludGVybmFsLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICovXG4gIGdldEl0ZW0oaW5kZXg6IG51bWJlcik6IFQge1xuICAgIHJldHVybiB0aGlzLnBhZ2VJbnRlcm5hbFtpbmRleF07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhc3luYyBpdGVyYXRvciB0aGF0IHN1cHBvcnQgaXRlcmF0aW5nIHRocm91Z2ggYWxsIGl0ZW1zXG4gICAqIHJldHJpZXZlZCBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSBpdGVyYXRvciB3aWxsIGF1dG9tYXRpY2FsbHkgZmV0Y2ggdGhlIG5leHQgcGFnZSBpZiB0aGVyZSBhcmUgbW9yZSBpdGVtc1xuICAgKiB0byBmZXRjaCBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHBhZ2VyID0gYXdhaXQgYWkuZmlsZXMubGlzdCh7Y29uZmlnOiB7cGFnZVNpemU6IDEwfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2YgcGFnZXIpIHtcbiAgICogICBjb25zb2xlLmxvZyhmaWxlLm5hbWUpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPFQ+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dDogYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pZHhJbnRlcm5hbCA+PSB0aGlzLnBhZ2VMZW5ndGgpIHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNOZXh0UGFnZSgpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm5leHRQYWdlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEl0ZW0odGhpcy5pZHhJbnRlcm5hbCk7XG4gICAgICAgIHRoaXMuaWR4SW50ZXJuYWwgKz0gMTtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogaXRlbSwgZG9uZTogZmFsc2V9O1xuICAgICAgfSxcbiAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIG5leHQgcGFnZSBvZiBpdGVtcy4gVGhpcyBtYWtlcyBhIG5ldyBBUEkgcmVxdWVzdC5cbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGFyZSBubyBtb3JlIHBhZ2VzIHRvIGZldGNoLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBwYWdlciA9IGF3YWl0IGFpLmZpbGVzLmxpc3Qoe2NvbmZpZzoge3BhZ2VTaXplOiAxMH19KTtcbiAgICogbGV0IHBhZ2UgPSBwYWdlci5wYWdlO1xuICAgKiB3aGlsZSAodHJ1ZSkge1xuICAgKiAgIGZvciAoY29uc3QgZmlsZSBvZiBwYWdlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyhmaWxlLm5hbWUpO1xuICAgKiAgIH1cbiAgICogICBpZiAoIXBhZ2VyLmhhc05leHRQYWdlKCkpIHtcbiAgICogICAgIGJyZWFrO1xuICAgKiAgIH1cbiAgICogICBwYWdlID0gYXdhaXQgcGFnZXIubmV4dFBhZ2UoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIG5leHRQYWdlKCk6IFByb21pc2U8VFtdPiB7XG4gICAgaWYgKCF0aGlzLmhhc05leHRQYWdlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9yZSBwYWdlcyB0byBmZXRjaC4nKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3RJbnRlcm5hbCh0aGlzLnBhcmFtcyk7XG4gICAgdGhpcy5pbml0TmV4dFBhZ2UocmVzcG9uc2UpO1xuICAgIHJldHVybiB0aGlzLnBhZ2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBtb3JlIHBhZ2VzIHRvIGZldGNoIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIGhhc05leHRQYWdlKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnBhcmFtc1snY29uZmlnJ10/LlsncGFnZVRva2VuJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuLyoqIFJlcXVpcmVkLiBPdXRjb21lIG9mIHRoZSBjb2RlIGV4ZWN1dGlvbi4gKi9cbmV4cG9ydCBlbnVtIE91dGNvbWUge1xuICBPVVRDT01FX1VOU1BFQ0lGSUVEID0gJ09VVENPTUVfVU5TUEVDSUZJRUQnLFxuICBPVVRDT01FX09LID0gJ09VVENPTUVfT0snLFxuICBPVVRDT01FX0ZBSUxFRCA9ICdPVVRDT01FX0ZBSUxFRCcsXG4gIE9VVENPTUVfREVBRExJTkVfRVhDRUVERUQgPSAnT1VUQ09NRV9ERUFETElORV9FWENFRURFRCcsXG59XG5cbi8qKiBSZXF1aXJlZC4gUHJvZ3JhbW1pbmcgbGFuZ3VhZ2Ugb2YgdGhlIGBjb2RlYC4gKi9cbmV4cG9ydCBlbnVtIExhbmd1YWdlIHtcbiAgTEFOR1VBR0VfVU5TUEVDSUZJRUQgPSAnTEFOR1VBR0VfVU5TUEVDSUZJRUQnLFxuICBQWVRIT04gPSAnUFlUSE9OJyxcbn1cblxuLyoqIE9wdGlvbmFsLiBUaGUgdHlwZSBvZiB0aGUgZGF0YS4gKi9cbmV4cG9ydCBlbnVtIFR5cGUge1xuICBUWVBFX1VOU1BFQ0lGSUVEID0gJ1RZUEVfVU5TUEVDSUZJRUQnLFxuICBTVFJJTkcgPSAnU1RSSU5HJyxcbiAgTlVNQkVSID0gJ05VTUJFUicsXG4gIElOVEVHRVIgPSAnSU5URUdFUicsXG4gIEJPT0xFQU4gPSAnQk9PTEVBTicsXG4gIEFSUkFZID0gJ0FSUkFZJyxcbiAgT0JKRUNUID0gJ09CSkVDVCcsXG59XG5cbi8qKiBSZXF1aXJlZC4gSGFybSBjYXRlZ29yeS4gKi9cbmV4cG9ydCBlbnVtIEhhcm1DYXRlZ29yeSB7XG4gIEhBUk1fQ0FURUdPUllfVU5TUEVDSUZJRUQgPSAnSEFSTV9DQVRFR09SWV9VTlNQRUNJRklFRCcsXG4gIEhBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0ggPSAnSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSCcsXG4gIEhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlQgPSAnSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVCcsXG4gIEhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVCA9ICdIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlQnLFxuICBIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUID0gJ0hBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVQnLFxuICBIQVJNX0NBVEVHT1JZX0NJVklDX0lOVEVHUklUWSA9ICdIQVJNX0NBVEVHT1JZX0NJVklDX0lOVEVHUklUWScsXG59XG5cbi8qKiBPcHRpb25hbC4gU3BlY2lmeSBpZiB0aGUgdGhyZXNob2xkIGlzIHVzZWQgZm9yIHByb2JhYmlsaXR5IG9yIHNldmVyaXR5IHNjb3JlLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGhyZXNob2xkIGlzIHVzZWQgZm9yIHByb2JhYmlsaXR5IHNjb3JlLiAqL1xuZXhwb3J0IGVudW0gSGFybUJsb2NrTWV0aG9kIHtcbiAgSEFSTV9CTE9DS19NRVRIT0RfVU5TUEVDSUZJRUQgPSAnSEFSTV9CTE9DS19NRVRIT0RfVU5TUEVDSUZJRUQnLFxuICBTRVZFUklUWSA9ICdTRVZFUklUWScsXG4gIFBST0JBQklMSVRZID0gJ1BST0JBQklMSVRZJyxcbn1cblxuLyoqIFJlcXVpcmVkLiBUaGUgaGFybSBibG9jayB0aHJlc2hvbGQuICovXG5leHBvcnQgZW51bSBIYXJtQmxvY2tUaHJlc2hvbGQge1xuICBIQVJNX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRCA9ICdIQVJNX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRCcsXG4gIEJMT0NLX0xPV19BTkRfQUJPVkUgPSAnQkxPQ0tfTE9XX0FORF9BQk9WRScsXG4gIEJMT0NLX01FRElVTV9BTkRfQUJPVkUgPSAnQkxPQ0tfTUVESVVNX0FORF9BQk9WRScsXG4gIEJMT0NLX09OTFlfSElHSCA9ICdCTE9DS19PTkxZX0hJR0gnLFxuICBCTE9DS19OT05FID0gJ0JMT0NLX05PTkUnLFxuICBPRkYgPSAnT0ZGJyxcbn1cblxuLyoqIFRoZSBtb2RlIG9mIHRoZSBwcmVkaWN0b3IgdG8gYmUgdXNlZCBpbiBkeW5hbWljIHJldHJpZXZhbC4gKi9cbmV4cG9ydCBlbnVtIE1vZGUge1xuICBNT0RFX1VOU1BFQ0lGSUVEID0gJ01PREVfVU5TUEVDSUZJRUQnLFxuICBNT0RFX0RZTkFNSUMgPSAnTU9ERV9EWU5BTUlDJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBUaGUgcmVhc29uIHdoeSB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy5cblxuICBJZiBlbXB0eSwgdGhlIG1vZGVsIGhhcyBub3Qgc3RvcHBlZCBnZW5lcmF0aW5nIHRoZSB0b2tlbnMuXG4gICAqL1xuZXhwb3J0IGVudW0gRmluaXNoUmVhc29uIHtcbiAgRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRCA9ICdGSU5JU0hfUkVBU09OX1VOU1BFQ0lGSUVEJyxcbiAgU1RPUCA9ICdTVE9QJyxcbiAgTUFYX1RPS0VOUyA9ICdNQVhfVE9LRU5TJyxcbiAgU0FGRVRZID0gJ1NBRkVUWScsXG4gIFJFQ0lUQVRJT04gPSAnUkVDSVRBVElPTicsXG4gIE9USEVSID0gJ09USEVSJyxcbiAgQkxPQ0tMSVNUID0gJ0JMT0NLTElTVCcsXG4gIFBST0hJQklURURfQ09OVEVOVCA9ICdQUk9ISUJJVEVEX0NPTlRFTlQnLFxuICBTUElJID0gJ1NQSUknLFxuICBNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCA9ICdNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCcsXG4gIElNQUdFX1NBRkVUWSA9ICdJTUFHRV9TQUZFVFknLFxufVxuXG4vKiogT3V0cHV0IG9ubHkuIEhhcm0gcHJvYmFiaWxpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LiAqL1xuZXhwb3J0IGVudW0gSGFybVByb2JhYmlsaXR5IHtcbiAgSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRCA9ICdIQVJNX1BST0JBQklMSVRZX1VOU1BFQ0lGSUVEJyxcbiAgTkVHTElHSUJMRSA9ICdORUdMSUdJQkxFJyxcbiAgTE9XID0gJ0xPVycsXG4gIE1FRElVTSA9ICdNRURJVU0nLFxuICBISUdIID0gJ0hJR0gnLFxufVxuXG4vKiogT3V0cHV0IG9ubHkuIEhhcm0gc2V2ZXJpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LiAqL1xuZXhwb3J0IGVudW0gSGFybVNldmVyaXR5IHtcbiAgSEFSTV9TRVZFUklUWV9VTlNQRUNJRklFRCA9ICdIQVJNX1NFVkVSSVRZX1VOU1BFQ0lGSUVEJyxcbiAgSEFSTV9TRVZFUklUWV9ORUdMSUdJQkxFID0gJ0hBUk1fU0VWRVJJVFlfTkVHTElHSUJMRScsXG4gIEhBUk1fU0VWRVJJVFlfTE9XID0gJ0hBUk1fU0VWRVJJVFlfTE9XJyxcbiAgSEFSTV9TRVZFUklUWV9NRURJVU0gPSAnSEFSTV9TRVZFUklUWV9NRURJVU0nLFxuICBIQVJNX1NFVkVSSVRZX0hJR0ggPSAnSEFSTV9TRVZFUklUWV9ISUdIJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBCbG9ja2VkIHJlYXNvbi4gKi9cbmV4cG9ydCBlbnVtIEJsb2NrZWRSZWFzb24ge1xuICBCTE9DS0VEX1JFQVNPTl9VTlNQRUNJRklFRCA9ICdCTE9DS0VEX1JFQVNPTl9VTlNQRUNJRklFRCcsXG4gIFNBRkVUWSA9ICdTQUZFVFknLFxuICBPVEhFUiA9ICdPVEhFUicsXG4gIEJMT0NLTElTVCA9ICdCTE9DS0xJU1QnLFxuICBQUk9ISUJJVEVEX0NPTlRFTlQgPSAnUFJPSElCSVRFRF9DT05URU5UJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBUcmFmZmljIHR5cGUuIFRoaXMgc2hvd3Mgd2hldGhlciBhIHJlcXVlc3QgY29uc3VtZXMgUGF5LUFzLVlvdS1HbyBvciBQcm92aXNpb25lZCBUaHJvdWdocHV0IHF1b3RhLiAqL1xuZXhwb3J0IGVudW0gVHJhZmZpY1R5cGUge1xuICBUUkFGRklDX1RZUEVfVU5TUEVDSUZJRUQgPSAnVFJBRkZJQ19UWVBFX1VOU1BFQ0lGSUVEJyxcbiAgT05fREVNQU5EID0gJ09OX0RFTUFORCcsXG4gIFBST1ZJU0lPTkVEX1RIUk9VR0hQVVQgPSAnUFJPVklTSU9ORURfVEhST1VHSFBVVCcsXG59XG5cbi8qKiBTZXJ2ZXIgY29udGVudCBtb2RhbGl0aWVzLiAqL1xuZXhwb3J0IGVudW0gTW9kYWxpdHkge1xuICBNT0RBTElUWV9VTlNQRUNJRklFRCA9ICdNT0RBTElUWV9VTlNQRUNJRklFRCcsXG4gIFRFWFQgPSAnVEVYVCcsXG4gIElNQUdFID0gJ0lNQUdFJyxcbiAgQVVESU8gPSAnQVVESU8nLFxufVxuXG4vKiogVGhlIG1lZGlhIHJlc29sdXRpb24gdG8gdXNlLiAqL1xuZXhwb3J0IGVudW0gTWVkaWFSZXNvbHV0aW9uIHtcbiAgTUVESUFfUkVTT0xVVElPTl9VTlNQRUNJRklFRCA9ICdNRURJQV9SRVNPTFVUSU9OX1VOU1BFQ0lGSUVEJyxcbiAgTUVESUFfUkVTT0xVVElPTl9MT1cgPSAnTUVESUFfUkVTT0xVVElPTl9MT1cnLFxuICBNRURJQV9SRVNPTFVUSU9OX01FRElVTSA9ICdNRURJQV9SRVNPTFVUSU9OX01FRElVTScsXG4gIE1FRElBX1JFU09MVVRJT05fSElHSCA9ICdNRURJQV9SRVNPTFVUSU9OX0hJR0gnLFxufVxuXG4vKiogQ29uZmlnIGZvciB0aGUgZHluYW1pYyByZXRyaWV2YWwgY29uZmlnIG1vZGUuICovXG5leHBvcnQgZW51bSBEeW5hbWljUmV0cmlldmFsQ29uZmlnTW9kZSB7XG4gIE1PREVfVU5TUEVDSUZJRUQgPSAnTU9ERV9VTlNQRUNJRklFRCcsXG4gIE1PREVfRFlOQU1JQyA9ICdNT0RFX0RZTkFNSUMnLFxufVxuXG4vKiogQ29uZmlnIGZvciB0aGUgZnVuY3Rpb24gY2FsbGluZyBjb25maWcgbW9kZS4gKi9cbmV4cG9ydCBlbnVtIEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ01vZGUge1xuICBNT0RFX1VOU1BFQ0lGSUVEID0gJ01PREVfVU5TUEVDSUZJRUQnLFxuICBBVVRPID0gJ0FVVE8nLFxuICBBTlkgPSAnQU5ZJyxcbiAgTk9ORSA9ICdOT05FJyxcbn1cblxuLyoqIEVudW0gdGhhdCBjb250cm9scyB0aGUgc2FmZXR5IGZpbHRlciBsZXZlbCBmb3Igb2JqZWN0aW9uYWJsZSBjb250ZW50LiAqL1xuZXhwb3J0IGVudW0gU2FmZXR5RmlsdGVyTGV2ZWwge1xuICBCTE9DS19MT1dfQU5EX0FCT1ZFID0gJ0JMT0NLX0xPV19BTkRfQUJPVkUnLFxuICBCTE9DS19NRURJVU1fQU5EX0FCT1ZFID0gJ0JMT0NLX01FRElVTV9BTkRfQUJPVkUnLFxuICBCTE9DS19PTkxZX0hJR0ggPSAnQkxPQ0tfT05MWV9ISUdIJyxcbiAgQkxPQ0tfTk9ORSA9ICdCTE9DS19OT05FJyxcbn1cblxuLyoqIEVudW0gdGhhdCBjb250cm9scyB0aGUgZ2VuZXJhdGlvbiBvZiBwZW9wbGUuICovXG5leHBvcnQgZW51bSBQZXJzb25HZW5lcmF0aW9uIHtcbiAgRE9OVF9BTExPVyA9ICdET05UX0FMTE9XJyxcbiAgQUxMT1dfQURVTFQgPSAnQUxMT1dfQURVTFQnLFxuICBBTExPV19BTEwgPSAnQUxMT1dfQUxMJyxcbn1cblxuLyoqIEVudW0gdGhhdCBzcGVjaWZpZXMgdGhlIGxhbmd1YWdlIG9mIHRoZSB0ZXh0IGluIHRoZSBwcm9tcHQuICovXG5leHBvcnQgZW51bSBJbWFnZVByb21wdExhbmd1YWdlIHtcbiAgYXV0byA9ICdhdXRvJyxcbiAgZW4gPSAnZW4nLFxuICBqYSA9ICdqYScsXG4gIGtvID0gJ2tvJyxcbiAgaGkgPSAnaGknLFxufVxuXG4vKiogU3RhdGUgZm9yIHRoZSBsaWZlY3ljbGUgb2YgYSBGaWxlLiAqL1xuZXhwb3J0IGVudW0gRmlsZVN0YXRlIHtcbiAgU1RBVEVfVU5TUEVDSUZJRUQgPSAnU1RBVEVfVU5TUEVDSUZJRUQnLFxuICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLFxuICBBQ1RJVkUgPSAnQUNUSVZFJyxcbiAgRkFJTEVEID0gJ0ZBSUxFRCcsXG59XG5cbi8qKiBTb3VyY2Ugb2YgdGhlIEZpbGUuICovXG5leHBvcnQgZW51bSBGaWxlU291cmNlIHtcbiAgU09VUkNFX1VOU1BFQ0lGSUVEID0gJ1NPVVJDRV9VTlNQRUNJRklFRCcsXG4gIFVQTE9BREVEID0gJ1VQTE9BREVEJyxcbiAgR0VORVJBVEVEID0gJ0dFTkVSQVRFRCcsXG59XG5cbi8qKiBFbnVtIHJlcHJlc2VudGluZyB0aGUgbWFzayBtb2RlIG9mIGEgbWFzayByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZW51bSBNYXNrUmVmZXJlbmNlTW9kZSB7XG4gIE1BU0tfTU9ERV9ERUZBVUxUID0gJ01BU0tfTU9ERV9ERUZBVUxUJyxcbiAgTUFTS19NT0RFX1VTRVJfUFJPVklERUQgPSAnTUFTS19NT0RFX1VTRVJfUFJPVklERUQnLFxuICBNQVNLX01PREVfQkFDS0dST1VORCA9ICdNQVNLX01PREVfQkFDS0dST1VORCcsXG4gIE1BU0tfTU9ERV9GT1JFR1JPVU5EID0gJ01BU0tfTU9ERV9GT1JFR1JPVU5EJyxcbiAgTUFTS19NT0RFX1NFTUFOVElDID0gJ01BU0tfTU9ERV9TRU1BTlRJQycsXG59XG5cbi8qKiBFbnVtIHJlcHJlc2VudGluZyB0aGUgY29udHJvbCB0eXBlIG9mIGEgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZW51bSBDb250cm9sUmVmZXJlbmNlVHlwZSB7XG4gIENPTlRST0xfVFlQRV9ERUZBVUxUID0gJ0NPTlRST0xfVFlQRV9ERUZBVUxUJyxcbiAgQ09OVFJPTF9UWVBFX0NBTk5ZID0gJ0NPTlRST0xfVFlQRV9DQU5OWScsXG4gIENPTlRST0xfVFlQRV9TQ1JJQkJMRSA9ICdDT05UUk9MX1RZUEVfU0NSSUJCTEUnLFxuICBDT05UUk9MX1RZUEVfRkFDRV9NRVNIID0gJ0NPTlRST0xfVFlQRV9GQUNFX01FU0gnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIHN1YmplY3QgdHlwZSBvZiBhIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGVudW0gU3ViamVjdFJlZmVyZW5jZVR5cGUge1xuICBTVUJKRUNUX1RZUEVfREVGQVVMVCA9ICdTVUJKRUNUX1RZUEVfREVGQVVMVCcsXG4gIFNVQkpFQ1RfVFlQRV9QRVJTT04gPSAnU1VCSkVDVF9UWVBFX1BFUlNPTicsXG4gIFNVQkpFQ1RfVFlQRV9BTklNQUwgPSAnU1VCSkVDVF9UWVBFX0FOSU1BTCcsXG4gIFNVQkpFQ1RfVFlQRV9QUk9EVUNUID0gJ1NVQkpFQ1RfVFlQRV9QUk9EVUNUJyxcbn1cblxuLyoqIFNlcnZlciBjb250ZW50IG1vZGFsaXRpZXMuICovXG5leHBvcnQgZW51bSBNZWRpYU1vZGFsaXR5IHtcbiAgTU9EQUxJVFlfVU5TUEVDSUZJRUQgPSAnTU9EQUxJVFlfVU5TUEVDSUZJRUQnLFxuICBURVhUID0gJ1RFWFQnLFxuICBJTUFHRSA9ICdJTUFHRScsXG4gIFZJREVPID0gJ1ZJREVPJyxcbiAgQVVESU8gPSAnQVVESU8nLFxuICBET0NVTUVOVCA9ICdET0NVTUVOVCcsXG59XG5cbi8qKiBTdGFydCBvZiBzcGVlY2ggc2Vuc2l0aXZpdHkuICovXG5leHBvcnQgZW51bSBTdGFydFNlbnNpdGl2aXR5IHtcbiAgU1RBUlRfU0VOU0lUSVZJVFlfVU5TUEVDSUZJRUQgPSAnU1RBUlRfU0VOU0lUSVZJVFlfVU5TUEVDSUZJRUQnLFxuICBTVEFSVF9TRU5TSVRJVklUWV9ISUdIID0gJ1NUQVJUX1NFTlNJVElWSVRZX0hJR0gnLFxuICBTVEFSVF9TRU5TSVRJVklUWV9MT1cgPSAnU1RBUlRfU0VOU0lUSVZJVFlfTE9XJyxcbn1cblxuLyoqIEVuZCBvZiBzcGVlY2ggc2Vuc2l0aXZpdHkuICovXG5leHBvcnQgZW51bSBFbmRTZW5zaXRpdml0eSB7XG4gIEVORF9TRU5TSVRJVklUWV9VTlNQRUNJRklFRCA9ICdFTkRfU0VOU0lUSVZJVFlfVU5TUEVDSUZJRUQnLFxuICBFTkRfU0VOU0lUSVZJVFlfSElHSCA9ICdFTkRfU0VOU0lUSVZJVFlfSElHSCcsXG4gIEVORF9TRU5TSVRJVklUWV9MT1cgPSAnRU5EX1NFTlNJVElWSVRZX0xPVycsXG59XG5cbi8qKiBUaGUgZGlmZmVyZW50IHdheXMgb2YgaGFuZGxpbmcgdXNlciBhY3Rpdml0eS4gKi9cbmV4cG9ydCBlbnVtIEFjdGl2aXR5SGFuZGxpbmcge1xuICBBQ1RJVklUWV9IQU5ETElOR19VTlNQRUNJRklFRCA9ICdBQ1RJVklUWV9IQU5ETElOR19VTlNQRUNJRklFRCcsXG4gIFNUQVJUX09GX0FDVElWSVRZX0lOVEVSUlVQVFMgPSAnU1RBUlRfT0ZfQUNUSVZJVFlfSU5URVJSVVBUUycsXG4gIE5PX0lOVEVSUlVQVElPTiA9ICdOT19JTlRFUlJVUFRJT04nLFxufVxuXG4vKiogT3B0aW9ucyBhYm91dCB3aGljaCBpbnB1dCBpcyBpbmNsdWRlZCBpbiB0aGUgdXNlcidzIHR1cm4uICovXG5leHBvcnQgZW51bSBUdXJuQ292ZXJhZ2Uge1xuICBUVVJOX0NPVkVSQUdFX1VOU1BFQ0lGSUVEID0gJ1RVUk5fQ09WRVJBR0VfVU5TUEVDSUZJRUQnLFxuICBUVVJOX0lOQ0xVREVTX09OTFlfQUNUSVZJVFkgPSAnVFVSTl9JTkNMVURFU19PTkxZX0FDVElWSVRZJyxcbiAgVFVSTl9JTkNMVURFU19BTExfSU5QVVQgPSAnVFVSTl9JTkNMVURFU19BTExfSU5QVVQnLFxufVxuXG4vKiogTWV0YWRhdGEgZGVzY3JpYmVzIHRoZSBpbnB1dCB2aWRlbyBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZpZGVvTWV0YWRhdGEge1xuICAvKiogT3B0aW9uYWwuIFRoZSBlbmQgb2Zmc2V0IG9mIHRoZSB2aWRlby4gKi9cbiAgZW5kT2Zmc2V0Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIHZpZGVvLiAqL1xuICBzdGFydE9mZnNldD86IHN0cmluZztcbn1cblxuLyoqIFJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIFtFeGVjdXRhYmxlQ29kZV0uIEFsd2F5cyBmb2xsb3dzIGEgYHBhcnRgIGNvbnRhaW5pbmcgdGhlIFtFeGVjdXRhYmxlQ29kZV0uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29kZUV4ZWN1dGlvblJlc3VsdCB7XG4gIC8qKiBSZXF1aXJlZC4gT3V0Y29tZSBvZiB0aGUgY29kZSBleGVjdXRpb24uICovXG4gIG91dGNvbWU/OiBPdXRjb21lO1xuICAvKiogT3B0aW9uYWwuIENvbnRhaW5zIHN0ZG91dCB3aGVuIGNvZGUgZXhlY3V0aW9uIGlzIHN1Y2Nlc3NmdWwsIHN0ZGVyciBvciBvdGhlciBkZXNjcmlwdGlvbiBvdGhlcndpc2UuICovXG4gIG91dHB1dD86IHN0cmluZztcbn1cblxuLyoqIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCB0aGF0IGlzIG1lYW50IHRvIGJlIGV4ZWN1dGVkLCBhbmQgdGhlIHJlc3VsdCByZXR1cm5lZCB0byB0aGUgbW9kZWwuIEdlbmVyYXRlZCB3aGVuIHVzaW5nIHRoZSBbRnVuY3Rpb25EZWNsYXJhdGlvbl0gdG9vbCBhbmQgW0Z1bmN0aW9uQ2FsbGluZ0NvbmZpZ10gbW9kZSBpcyBzZXQgdG8gW01vZGUuQ09ERV0uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRXhlY3V0YWJsZUNvZGUge1xuICAvKiogUmVxdWlyZWQuIFRoZSBjb2RlIHRvIGJlIGV4ZWN1dGVkLiAqL1xuICBjb2RlPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFByb2dyYW1taW5nIGxhbmd1YWdlIG9mIHRoZSBgY29kZWAuICovXG4gIGxhbmd1YWdlPzogTGFuZ3VhZ2U7XG59XG5cbi8qKiBVUkkgYmFzZWQgZGF0YS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBGaWxlRGF0YSB7XG4gIC8qKiBSZXF1aXJlZC4gVVJJLiAqL1xuICBmaWxlVXJpPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBJQU5BIHN0YW5kYXJkIE1JTUUgdHlwZSBvZiB0aGUgc291cmNlIGRhdGEuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xufVxuXG4vKiogQSBmdW5jdGlvbiBjYWxsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gIC8qKiBUaGUgdW5pcXVlIGlkIG9mIHRoZSBmdW5jdGlvbiBjYWxsLiBJZiBwb3B1bGF0ZWQsIHRoZSBjbGllbnQgdG8gZXhlY3V0ZSB0aGVcbiAgIGBmdW5jdGlvbl9jYWxsYCBhbmQgcmV0dXJuIHRoZSByZXNwb25zZSB3aXRoIHRoZSBtYXRjaGluZyBgaWRgLiAqL1xuICBpZD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBSZXF1aXJlZC4gVGhlIGZ1bmN0aW9uIHBhcmFtZXRlcnMgYW5kIHZhbHVlcyBpbiBKU09OIG9iamVjdCBmb3JtYXQuIFNlZSBbRnVuY3Rpb25EZWNsYXJhdGlvbi5wYXJhbWV0ZXJzXSBmb3IgcGFyYW1ldGVyIGRldGFpbHMuICovXG4gIGFyZ3M/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIFJlcXVpcmVkLiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC4gTWF0Y2hlcyBbRnVuY3Rpb25EZWNsYXJhdGlvbi5uYW1lXS4gKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuLyoqIEEgZnVuY3Rpb24gcmVzcG9uc2UuICovXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25SZXNwb25zZSB7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwgdGhpcyByZXNwb25zZSBpcyBmb3IuIFBvcHVsYXRlZCBieSB0aGUgY2xpZW50XG4gICB0byBtYXRjaCB0aGUgY29ycmVzcG9uZGluZyBmdW5jdGlvbiBjYWxsIGBpZGAuICovXG4gIGlkPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLiBNYXRjaGVzIFtGdW5jdGlvbkRlY2xhcmF0aW9uLm5hbWVdIGFuZCBbRnVuY3Rpb25DYWxsLm5hbWVdLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBmdW5jdGlvbiByZXNwb25zZSBpbiBKU09OIG9iamVjdCBmb3JtYXQuIFVzZSBcIm91dHB1dFwiIGtleSB0byBzcGVjaWZ5IGZ1bmN0aW9uIG91dHB1dCBhbmQgXCJlcnJvclwiIGtleSB0byBzcGVjaWZ5IGVycm9yIGRldGFpbHMgKGlmIGFueSkuIElmIFwib3V0cHV0XCIgYW5kIFwiZXJyb3JcIiBrZXlzIGFyZSBub3Qgc3BlY2lmaWVkLCB0aGVuIHdob2xlIFwicmVzcG9uc2VcIiBpcyB0cmVhdGVkIGFzIGZ1bmN0aW9uIG91dHB1dC4gKi9cbiAgcmVzcG9uc2U/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuLyoqIENvbnRlbnQgYmxvYi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBCbG9iIHtcbiAgLyoqIFJlcXVpcmVkLiBSYXcgYnl0ZXMuICovXG4gIGRhdGE/OiBzdHJpbmc7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIElBTkEgc3RhbmRhcmQgTUlNRSB0eXBlIG9mIHRoZSBzb3VyY2UgZGF0YS4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG59XG5cbi8qKiBBIGRhdGF0eXBlIGNvbnRhaW5pbmcgbWVkaWEgY29udGVudC5cblxuICBFeGFjdGx5IG9uZSBmaWVsZCB3aXRoaW4gYSBQYXJ0IHNob3VsZCBiZSBzZXQsIHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWMgdHlwZVxuICBvZiBjb250ZW50IGJlaW5nIGNvbnZleWVkLiBVc2luZyBtdWx0aXBsZSBmaWVsZHMgd2l0aGluIHRoZSBzYW1lIGBQYXJ0YFxuICBpbnN0YW5jZSBpcyBjb25zaWRlcmVkIGludmFsaWQuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhcnQge1xuICAvKiogTWV0YWRhdGEgZm9yIGEgZ2l2ZW4gdmlkZW8uICovXG4gIHZpZGVvTWV0YWRhdGE/OiBWaWRlb01ldGFkYXRhO1xuICAvKiogSW5kaWNhdGVzIGlmIHRoZSBwYXJ0IGlzIHRob3VnaHQgZnJvbSB0aGUgbW9kZWwuICovXG4gIHRob3VnaHQ/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIFJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIFtFeGVjdXRhYmxlQ29kZV0uICovXG4gIGNvZGVFeGVjdXRpb25SZXN1bHQ/OiBDb2RlRXhlY3V0aW9uUmVzdWx0O1xuICAvKiogT3B0aW9uYWwuIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCB0aGF0IGlzIG1lYW50IHRvIGJlIGV4ZWN1dGVkLiAqL1xuICBleGVjdXRhYmxlQ29kZT86IEV4ZWN1dGFibGVDb2RlO1xuICAvKiogT3B0aW9uYWwuIFVSSSBiYXNlZCBkYXRhLiAqL1xuICBmaWxlRGF0YT86IEZpbGVEYXRhO1xuICAvKiogT3B0aW9uYWwuIEEgcHJlZGljdGVkIFtGdW5jdGlvbkNhbGxdIHJldHVybmVkIGZyb20gdGhlIG1vZGVsIHRoYXQgY29udGFpbnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBbRnVuY3Rpb25EZWNsYXJhdGlvbi5uYW1lXSB3aXRoIHRoZSBwYXJhbWV0ZXJzIGFuZCB0aGVpciB2YWx1ZXMuICovXG4gIGZ1bmN0aW9uQ2FsbD86IEZ1bmN0aW9uQ2FsbDtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgcmVzdWx0IG91dHB1dCBvZiBhIFtGdW5jdGlvbkNhbGxdIHRoYXQgY29udGFpbnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBbRnVuY3Rpb25EZWNsYXJhdGlvbi5uYW1lXSBhbmQgYSBzdHJ1Y3R1cmVkIEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgYW55IG91dHB1dCBmcm9tIHRoZSBmdW5jdGlvbiBjYWxsLiBJdCBpcyB1c2VkIGFzIGNvbnRleHQgdG8gdGhlIG1vZGVsLiAqL1xuICBmdW5jdGlvblJlc3BvbnNlPzogRnVuY3Rpb25SZXNwb25zZTtcbiAgLyoqIE9wdGlvbmFsLiBJbmxpbmVkIGJ5dGVzIGRhdGEuICovXG4gIGlubGluZURhdGE/OiBCbG9iO1xuICAvKiogT3B0aW9uYWwuIFRleHQgcGFydCAoY2FuIGJlIGNvZGUpLiAqL1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYFVSSWAgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21VcmkodXJpOiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBmaWxlRGF0YToge1xuICAgICAgZmlsZVVyaTogdXJpLFxuICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gYSBgdGV4dGAgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21UZXh0KHRleHQ6IHN0cmluZyk6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIHRleHQ6IHRleHQsXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gYSBgRnVuY3Rpb25DYWxsYCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbUZ1bmN0aW9uQ2FsbChcbiAgbmFtZTogc3RyaW5nLFxuICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGZ1bmN0aW9uQ2FsbDoge1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgfSxcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGBQYXJ0YCBvYmplY3QgZnJvbSBhIGBGdW5jdGlvblJlc3BvbnNlYCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbUZ1bmN0aW9uUmVzcG9uc2UoXG4gIGlkOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgcmVzcG9uc2U6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUGFydCB7XG4gIHJldHVybiB7XG4gICAgZnVuY3Rpb25SZXNwb25zZToge1xuICAgICAgaWQ6IGlkLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICB9LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYGJhc2U2NGAgZW5jb2RlZCBgc3RyaW5nYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tQmFzZTY0KGRhdGE6IHN0cmluZywgbWltZVR5cGU6IHN0cmluZyk6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGlubGluZURhdGE6IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBtaW1lVHlwZTogbWltZVR5cGUsXG4gICAgfSxcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGBQYXJ0YCBvYmplY3QgZnJvbSB0aGUgYG91dGNvbWVgIGFuZCBgb3V0cHV0YCBvZiBhIGBDb2RlRXhlY3V0aW9uUmVzdWx0YCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbUNvZGVFeGVjdXRpb25SZXN1bHQoXG4gIG91dGNvbWU6IE91dGNvbWUsXG4gIG91dHB1dDogc3RyaW5nLFxuKTogUGFydCB7XG4gIHJldHVybiB7XG4gICAgY29kZUV4ZWN1dGlvblJlc3VsdDoge1xuICAgICAgb3V0Y29tZTogb3V0Y29tZSxcbiAgICAgIG91dHB1dDogb3V0cHV0LFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gdGhlIGBjb2RlYCBhbmQgYGxhbmd1YWdlYCBvZiBhbiBgRXhlY3V0YWJsZUNvZGVgIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tRXhlY3V0YWJsZUNvZGUoXG4gIGNvZGU6IHN0cmluZyxcbiAgbGFuZ3VhZ2U6IExhbmd1YWdlLFxuKTogUGFydCB7XG4gIHJldHVybiB7XG4gICAgZXhlY3V0YWJsZUNvZGU6IHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqIENvbnRhaW5zIHRoZSBtdWx0aS1wYXJ0IGNvbnRlbnQgb2YgYSBtZXNzYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRlbnQge1xuICAvKiogTGlzdCBvZiBwYXJ0cyB0aGF0IGNvbnN0aXR1dGUgYSBzaW5nbGUgbWVzc2FnZS4gRWFjaCBwYXJ0IG1heSBoYXZlXG4gICAgICBhIGRpZmZlcmVudCBJQU5BIE1JTUUgdHlwZS4gKi9cbiAgcGFydHM/OiBQYXJ0W107XG4gIC8qKiBPcHRpb25hbC4gVGhlIHByb2R1Y2VyIG9mIHRoZSBjb250ZW50LiBNdXN0IGJlIGVpdGhlciAndXNlcicgb3JcbiAgICAgICdtb2RlbCcuIFVzZWZ1bCB0byBzZXQgZm9yIG11bHRpLXR1cm4gY29udmVyc2F0aW9ucywgb3RoZXJ3aXNlIGNhbiBiZVxuICAgICAgZW1wdHkuIElmIHJvbGUgaXMgbm90IHNwZWNpZmllZCwgU0RLIHdpbGwgZGV0ZXJtaW5lIHRoZSByb2xlLiAqL1xuICByb2xlPzogc3RyaW5nO1xufVxuZnVuY3Rpb24gX2lzUGFydChvYmo6IHVua25vd24pOiBvYmogaXMgUGFydCB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJ2ZpbGVEYXRhJyBpbiBvYmogfHxcbiAgICAgICd0ZXh0JyBpbiBvYmogfHxcbiAgICAgICdmdW5jdGlvbkNhbGwnIGluIG9iaiB8fFxuICAgICAgJ2Z1bmN0aW9uUmVzcG9uc2UnIGluIG9iaiB8fFxuICAgICAgJ2lubGluZURhdGEnIGluIG9iaiB8fFxuICAgICAgJ3ZpZGVvTWV0YWRhdGEnIGluIG9iaiB8fFxuICAgICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnIGluIG9iaiB8fFxuICAgICAgJ2V4ZWN1dGFibGVDb2RlJyBpbiBvYmpcbiAgICApO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIF90b1BhcnRzKHBhcnRPclN0cmluZzogUGFydExpc3RVbmlvbiB8IHN0cmluZyk6IFBhcnRbXSB7XG4gIGNvbnN0IHBhcnRzOiBQYXJ0W10gPSBbXTtcbiAgaWYgKHR5cGVvZiBwYXJ0T3JTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgcGFydHMucHVzaChjcmVhdGVQYXJ0RnJvbVRleHQocGFydE9yU3RyaW5nKSk7XG4gIH0gZWxzZSBpZiAoX2lzUGFydChwYXJ0T3JTdHJpbmcpKSB7XG4gICAgcGFydHMucHVzaChwYXJ0T3JTdHJpbmcpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGFydE9yU3RyaW5nKSkge1xuICAgIGlmIChwYXJ0T3JTdHJpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcnRPclN0cmluZyBjYW5ub3QgYmUgYW4gZW1wdHkgYXJyYXknKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRPclN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwYXJ0cy5wdXNoKGNyZWF0ZVBhcnRGcm9tVGV4dChwYXJ0KSk7XG4gICAgICB9IGVsc2UgaWYgKF9pc1BhcnQocGFydCkpIHtcbiAgICAgICAgcGFydHMucHVzaChwYXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBpbiBQYXJ0VW5pb24gbXVzdCBiZSBhIFBhcnQgb2JqZWN0IG9yIHN0cmluZycpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcnRPclN0cmluZyBtdXN0IGJlIGEgUGFydCBvYmplY3QsIHN0cmluZywgb3IgYXJyYXknKTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgQ29udGVudGAgb2JqZWN0IHdpdGggYSB1c2VyIHJvbGUgZnJvbSBhIGBQYXJ0TGlzdFVuaW9uYCBvYmplY3Qgb3IgYHN0cmluZ2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVc2VyQ29udGVudChcbiAgcGFydE9yU3RyaW5nOiBQYXJ0TGlzdFVuaW9uIHwgc3RyaW5nLFxuKTogQ29udGVudCB7XG4gIHJldHVybiB7XG4gICAgcm9sZTogJ3VzZXInLFxuICAgIHBhcnRzOiBfdG9QYXJ0cyhwYXJ0T3JTdHJpbmcpLFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBgQ29udGVudGAgb2JqZWN0IHdpdGggYSBtb2RlbCByb2xlIGZyb20gYSBgUGFydExpc3RVbmlvbmAgb2JqZWN0IG9yIGBzdHJpbmdgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9kZWxDb250ZW50KFxuICBwYXJ0T3JTdHJpbmc6IFBhcnRMaXN0VW5pb24gfCBzdHJpbmcsXG4pOiBDb250ZW50IHtcbiAgcmV0dXJuIHtcbiAgICByb2xlOiAnbW9kZWwnLFxuICAgIHBhcnRzOiBfdG9QYXJ0cyhwYXJ0T3JTdHJpbmcpLFxuICB9O1xufVxuLyoqIEhUVFAgb3B0aW9ucyB0byBiZSB1c2VkIGluIGVhY2ggb2YgdGhlIHJlcXVlc3RzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEh0dHBPcHRpb25zIHtcbiAgLyoqIFRoZSBiYXNlIFVSTCBmb3IgdGhlIEFJIHBsYXRmb3JtIHNlcnZpY2UgZW5kcG9pbnQuICovXG4gIGJhc2VVcmw/OiBzdHJpbmc7XG4gIC8qKiBTcGVjaWZpZXMgdGhlIHZlcnNpb24gb2YgdGhlIEFQSSB0byB1c2UuICovXG4gIGFwaVZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKiBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogVGltZW91dCBmb3IgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzLiAqL1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vKiogU2NoZW1hIHRoYXQgZGVmaW5lcyB0aGUgZm9ybWF0IG9mIGlucHV0IGFuZCBvdXRwdXQgZGF0YS5cblxuICBSZXByZXNlbnRzIGEgc2VsZWN0IHN1YnNldCBvZiBhbiBPcGVuQVBJIDMuMCBzY2hlbWEgb2JqZWN0LlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTY2hlbWEge1xuICAvKiogT3B0aW9uYWwuIEV4YW1wbGUgb2YgdGhlIG9iamVjdC4gV2lsbCBvbmx5IHBvcHVsYXRlZCB3aGVuIHRoZSBvYmplY3QgaXMgdGhlIHJvb3QuICovXG4gIGV4YW1wbGU/OiB1bmtub3duO1xuICAvKiogT3B0aW9uYWwuIFBhdHRlcm4gb2YgdGhlIFR5cGUuU1RSSU5HIHRvIHJlc3RyaWN0IGEgc3RyaW5nIHRvIGEgcmVndWxhciBleHByZXNzaW9uLiAqL1xuICBwYXR0ZXJuPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIERlZmF1bHQgdmFsdWUgb2YgdGhlIGRhdGEuICovXG4gIGRlZmF1bHQ/OiB1bmtub3duO1xuICAvKiogT3B0aW9uYWwuIE1heGltdW0gbGVuZ3RoIG9mIHRoZSBUeXBlLlNUUklORyAqL1xuICBtYXhMZW5ndGg/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gU0NIRU1BIEZJRUxEUyBGT1IgVFlQRSBTVFJJTkcgTWluaW11bSBsZW5ndGggb2YgdGhlIFR5cGUuU1RSSU5HICovXG4gIG1pbkxlbmd0aD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBNaW5pbXVtIG51bWJlciBvZiB0aGUgcHJvcGVydGllcyBmb3IgVHlwZS5PQkpFQ1QuICovXG4gIG1pblByb3BlcnRpZXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTWF4aW11bSBudW1iZXIgb2YgdGhlIHByb3BlcnRpZXMgZm9yIFR5cGUuT0JKRUNULiAqL1xuICBtYXhQcm9wZXJ0aWVzPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSB2YWx1ZSBzaG91bGQgYmUgdmFsaWRhdGVkIGFnYWluc3QgYW55IChvbmUgb3IgbW9yZSkgb2YgdGhlIHN1YnNjaGVtYXMgaW4gdGhlIGxpc3QuICovXG4gIGFueU9mPzogU2NoZW1hW107XG4gIC8qKiBPcHRpb25hbC4gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBkYXRhLiAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGVsZW1lbnQgb2YgcHJpbWl0aXZlIHR5cGUgd2l0aCBlbnVtIGZvcm1hdC4gRXhhbXBsZXM6IDEuIFdlIGNhbiBkZWZpbmUgZGlyZWN0aW9uIGFzIDoge3R5cGU6U1RSSU5HLCBmb3JtYXQ6ZW51bSwgZW51bTpbXCJFQVNUXCIsIE5PUlRIXCIsIFwiU09VVEhcIiwgXCJXRVNUXCJdfSAyLiBXZSBjYW4gZGVmaW5lIGFwYXJ0bWVudCBudW1iZXIgYXMgOiB7dHlwZTpJTlRFR0VSLCBmb3JtYXQ6ZW51bSwgZW51bTpbXCIxMDFcIiwgXCIyMDFcIiwgXCIzMDFcIl19ICovXG4gIGVudW0/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZm9ybWF0IG9mIHRoZSBkYXRhLiBTdXBwb3J0ZWQgZm9ybWF0czogZm9yIE5VTUJFUiB0eXBlOiBcImZsb2F0XCIsIFwiZG91YmxlXCIgZm9yIElOVEVHRVIgdHlwZTogXCJpbnQzMlwiLCBcImludDY0XCIgZm9yIFNUUklORyB0eXBlOiBcImVtYWlsXCIsIFwiYnl0ZVwiLCBldGMgKi9cbiAgZm9ybWF0Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFNDSEVNQSBGSUVMRFMgRk9SIFRZUEUgQVJSQVkgU2NoZW1hIG9mIHRoZSBlbGVtZW50cyBvZiBUeXBlLkFSUkFZLiAqL1xuICBpdGVtcz86IFNjaGVtYTtcbiAgLyoqIE9wdGlvbmFsLiBNYXhpbXVtIG51bWJlciBvZiB0aGUgZWxlbWVudHMgZm9yIFR5cGUuQVJSQVkuICovXG4gIG1heEl0ZW1zPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIE1heGltdW0gdmFsdWUgb2YgdGhlIFR5cGUuSU5URUdFUiBhbmQgVHlwZS5OVU1CRVIgKi9cbiAgbWF4aW11bT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBNaW5pbXVtIG51bWJlciBvZiB0aGUgZWxlbWVudHMgZm9yIFR5cGUuQVJSQVkuICovXG4gIG1pbkl0ZW1zPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFNDSEVNQSBGSUVMRFMgRk9SIFRZUEUgSU5URUdFUiBhbmQgTlVNQkVSIE1pbmltdW0gdmFsdWUgb2YgdGhlIFR5cGUuSU5URUdFUiBhbmQgVHlwZS5OVU1CRVIgKi9cbiAgbWluaW11bT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJbmRpY2F0ZXMgaWYgdGhlIHZhbHVlIG1heSBiZSBudWxsLiAqL1xuICBudWxsYWJsZT86IGJvb2xlYW47XG4gIC8qKiBPcHRpb25hbC4gU0NIRU1BIEZJRUxEUyBGT1IgVFlQRSBPQkpFQ1QgUHJvcGVydGllcyBvZiBUeXBlLk9CSkVDVC4gKi9cbiAgcHJvcGVydGllcz86IFJlY29yZDxzdHJpbmcsIFNjaGVtYT47XG4gIC8qKiBPcHRpb25hbC4gVGhlIG9yZGVyIG9mIHRoZSBwcm9wZXJ0aWVzLiBOb3QgYSBzdGFuZGFyZCBmaWVsZCBpbiBvcGVuIGFwaSBzcGVjLiBPbmx5IHVzZWQgdG8gc3VwcG9ydCB0aGUgb3JkZXIgb2YgdGhlIHByb3BlcnRpZXMuICovXG4gIHByb3BlcnR5T3JkZXJpbmc/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBSZXF1aXJlZCBwcm9wZXJ0aWVzIG9mIFR5cGUuT0JKRUNULiAqL1xuICByZXF1aXJlZD86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIFRoZSB0aXRsZSBvZiB0aGUgU2NoZW1hLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgdHlwZSBvZiB0aGUgZGF0YS4gKi9cbiAgdHlwZT86IFR5cGU7XG59XG5cbi8qKiBTYWZldHkgc2V0dGluZ3MuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2FmZXR5U2V0dGluZyB7XG4gIC8qKiBEZXRlcm1pbmVzIGlmIHRoZSBoYXJtIGJsb2NrIG1ldGhvZCB1c2VzIHByb2JhYmlsaXR5IG9yIHByb2JhYmlsaXR5XG4gICAgICBhbmQgc2V2ZXJpdHkgc2NvcmVzLiAqL1xuICBtZXRob2Q/OiBIYXJtQmxvY2tNZXRob2Q7XG4gIC8qKiBSZXF1aXJlZC4gSGFybSBjYXRlZ29yeS4gKi9cbiAgY2F0ZWdvcnk/OiBIYXJtQ2F0ZWdvcnk7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGhhcm0gYmxvY2sgdGhyZXNob2xkLiAqL1xuICB0aHJlc2hvbGQ/OiBIYXJtQmxvY2tUaHJlc2hvbGQ7XG59XG5cbi8qKiBEZWZpbmVzIGEgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FuIGdlbmVyYXRlIEpTT04gaW5wdXRzIGZvci5cblxuICBUaGUgaW5wdXRzIGFyZSBiYXNlZCBvbiBgT3BlbkFQSSAzLjAgc3BlY2lmaWNhdGlvbnNcbiAgPGh0dHBzOi8vc3BlYy5vcGVuYXBpcy5vcmcvb2FzL3YzLjAuMz5gXy5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRnVuY3Rpb25EZWNsYXJhdGlvbiB7XG4gIC8qKiBEZXNjcmliZXMgdGhlIG91dHB1dCBmcm9tIHRoZSBmdW5jdGlvbiBpbiB0aGUgT3BlbkFQSSBKU09OIFNjaGVtYVxuICAgICAgT2JqZWN0IGZvcm1hdC4gKi9cbiAgcmVzcG9uc2U/OiBTY2hlbWE7XG4gIC8qKiBPcHRpb25hbC4gRGVzY3JpcHRpb24gYW5kIHB1cnBvc2Ugb2YgdGhlIGZ1bmN0aW9uLiBNb2RlbCB1c2VzIGl0IHRvIGRlY2lkZSBob3cgYW5kIHdoZXRoZXIgdG8gY2FsbCB0aGUgZnVuY3Rpb24uICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLiBNdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIgb3IgYW4gdW5kZXJzY29yZS4gTXVzdCBiZSBhLXosIEEtWiwgMC05LCBvciBjb250YWluIHVuZGVyc2NvcmVzLCBkb3RzIGFuZCBkYXNoZXMsIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBEZXNjcmliZXMgdGhlIHBhcmFtZXRlcnMgdG8gdGhpcyBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYSBPYmplY3QgZm9ybWF0LiBSZWZsZWN0cyB0aGUgT3BlbiBBUEkgMy4wMyBQYXJhbWV0ZXIgT2JqZWN0LiBzdHJpbmcgS2V5OiB0aGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyLiBQYXJhbWV0ZXIgbmFtZXMgYXJlIGNhc2Ugc2Vuc2l0aXZlLiBTY2hlbWEgVmFsdWU6IHRoZSBTY2hlbWEgZGVmaW5pbmcgdGhlIHR5cGUgdXNlZCBmb3IgdGhlIHBhcmFtZXRlci4gRm9yIGZ1bmN0aW9uIHdpdGggbm8gcGFyYW1ldGVycywgdGhpcyBjYW4gYmUgbGVmdCB1bnNldC4gUGFyYW1ldGVyIG5hbWVzIG11c3Qgc3RhcnQgd2l0aCBhIGxldHRlciBvciBhbiB1bmRlcnNjb3JlIGFuZCBtdXN0IG9ubHkgY29udGFpbiBjaGFycyBhLXosIEEtWiwgMC05LCBvciB1bmRlcnNjb3JlcyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQuIEV4YW1wbGUgd2l0aCAxIHJlcXVpcmVkIGFuZCAxIG9wdGlvbmFsIHBhcmFtZXRlcjogdHlwZTogT0JKRUNUIHByb3BlcnRpZXM6IHBhcmFtMTogdHlwZTogU1RSSU5HIHBhcmFtMjogdHlwZTogSU5URUdFUiByZXF1aXJlZDogLSBwYXJhbTEgKi9cbiAgcGFyYW1ldGVycz86IFNjaGVtYTtcbn1cblxuLyoqIFRvb2wgdG8gc3VwcG9ydCBHb29nbGUgU2VhcmNoIGluIE1vZGVsLiBQb3dlcmVkIGJ5IEdvb2dsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVTZWFyY2gge31cblxuLyoqIERlc2NyaWJlcyB0aGUgb3B0aW9ucyB0byBjdXN0b21pemUgZHluYW1pYyByZXRyaWV2YWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRHluYW1pY1JldHJpZXZhbENvbmZpZyB7XG4gIC8qKiBUaGUgbW9kZSBvZiB0aGUgcHJlZGljdG9yIHRvIGJlIHVzZWQgaW4gZHluYW1pYyByZXRyaWV2YWwuICovXG4gIG1vZGU/OiBEeW5hbWljUmV0cmlldmFsQ29uZmlnTW9kZTtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgdGhyZXNob2xkIHRvIGJlIHVzZWQgaW4gZHluYW1pYyByZXRyaWV2YWwuIElmIG5vdCBzZXQsIGEgc3lzdGVtIGRlZmF1bHQgdmFsdWUgaXMgdXNlZC4gKi9cbiAgZHluYW1pY1RocmVzaG9sZD86IG51bWJlcjtcbn1cblxuLyoqIFRvb2wgdG8gcmV0cmlldmUgcHVibGljIHdlYiBkYXRhIGZvciBncm91bmRpbmcsIHBvd2VyZWQgYnkgR29vZ2xlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdvb2dsZVNlYXJjaFJldHJpZXZhbCB7XG4gIC8qKiBTcGVjaWZpZXMgdGhlIGR5bmFtaWMgcmV0cmlldmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBnaXZlbiBzb3VyY2UuICovXG4gIGR5bmFtaWNSZXRyaWV2YWxDb25maWc/OiBEeW5hbWljUmV0cmlldmFsQ29uZmlnO1xufVxuXG4vKiogUmV0cmlldmUgZnJvbSBWZXJ0ZXggQUkgU2VhcmNoIGRhdGFzdG9yZSBvciBlbmdpbmUgZm9yIGdyb3VuZGluZy4gZGF0YXN0b3JlIGFuZCBlbmdpbmUgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4gU2VlIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9wcm9kdWN0cy9hZ2VudC1idWlsZGVyICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVmVydGV4QUlTZWFyY2gge1xuICAvKiogT3B0aW9uYWwuIEZ1bGx5LXF1YWxpZmllZCBWZXJ0ZXggQUkgU2VhcmNoIGRhdGEgc3RvcmUgcmVzb3VyY2UgSUQuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9jb2xsZWN0aW9ucy97Y29sbGVjdGlvbn0vZGF0YVN0b3Jlcy97ZGF0YVN0b3JlfWAgKi9cbiAgZGF0YXN0b3JlPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIEZ1bGx5LXF1YWxpZmllZCBWZXJ0ZXggQUkgU2VhcmNoIGVuZ2luZSByZXNvdXJjZSBJRC4gRm9ybWF0OiBgcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L2NvbGxlY3Rpb25zL3tjb2xsZWN0aW9ufS9lbmdpbmVzL3tlbmdpbmV9YCAqL1xuICBlbmdpbmU/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgZGVmaW5pdGlvbiBvZiB0aGUgUmFnIHJlc291cmNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlcnRleFJhZ1N0b3JlUmFnUmVzb3VyY2Uge1xuICAvKiogT3B0aW9uYWwuIFJhZ0NvcnBvcmEgcmVzb3VyY2UgbmFtZS4gRm9ybWF0OiBgcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L3JhZ0NvcnBvcmEve3JhZ19jb3JwdXN9YCAqL1xuICByYWdDb3JwdXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gcmFnX2ZpbGVfaWQuIFRoZSBmaWxlcyBzaG91bGQgYmUgaW4gdGhlIHNhbWUgcmFnX2NvcnB1cyBzZXQgaW4gcmFnX2NvcnB1cyBmaWVsZC4gKi9cbiAgcmFnRmlsZUlkcz86IHN0cmluZ1tdO1xufVxuXG4vKiogUmV0cmlldmUgZnJvbSBWZXJ0ZXggUkFHIFN0b3JlIGZvciBncm91bmRpbmcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVmVydGV4UmFnU3RvcmUge1xuICAvKiogT3B0aW9uYWwuIERlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgcmFnX3Jlc291cmNlcyBpbnN0ZWFkLiAqL1xuICByYWdDb3Jwb3JhPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gVGhlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYWcgc291cmNlLiBJdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGNvcnB1cyBvbmx5IG9yIHJhZ2ZpbGVzLiBDdXJyZW50bHkgb25seSBzdXBwb3J0IG9uZSBjb3JwdXMgb3IgbXVsdGlwbGUgZmlsZXMgZnJvbSBvbmUgY29ycHVzLiBJbiB0aGUgZnV0dXJlIHdlIG1heSBvcGVuIHVwIG11bHRpcGxlIGNvcnBvcmEgc3VwcG9ydC4gKi9cbiAgcmFnUmVzb3VyY2VzPzogVmVydGV4UmFnU3RvcmVSYWdSZXNvdXJjZVtdO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiB0b3AgayByZXN1bHRzIHRvIHJldHVybiBmcm9tIHRoZSBzZWxlY3RlZCBjb3Jwb3JhLiAqL1xuICBzaW1pbGFyaXR5VG9wSz86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBPbmx5IHJldHVybiByZXN1bHRzIHdpdGggdmVjdG9yIGRpc3RhbmNlIHNtYWxsZXIgdGhhbiB0aGUgdGhyZXNob2xkLiAqL1xuICB2ZWN0b3JEaXN0YW5jZVRocmVzaG9sZD86IG51bWJlcjtcbn1cblxuLyoqIERlZmluZXMgYSByZXRyaWV2YWwgdG9vbCB0aGF0IG1vZGVsIGNhbiBjYWxsIHRvIGFjY2VzcyBleHRlcm5hbCBrbm93bGVkZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmV0cmlldmFsIHtcbiAgLyoqIE9wdGlvbmFsLiBEZXByZWNhdGVkLiBUaGlzIG9wdGlvbiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiAqL1xuICBkaXNhYmxlQXR0cmlidXRpb24/OiBib29sZWFuO1xuICAvKiogU2V0IHRvIHVzZSBkYXRhIHNvdXJjZSBwb3dlcmVkIGJ5IFZlcnRleCBBSSBTZWFyY2guICovXG4gIHZlcnRleEFpU2VhcmNoPzogVmVydGV4QUlTZWFyY2g7XG4gIC8qKiBTZXQgdG8gdXNlIGRhdGEgc291cmNlIHBvd2VyZWQgYnkgVmVydGV4IFJBRyBzdG9yZS4gVXNlciBkYXRhIGlzIHVwbG9hZGVkIHZpYSB0aGUgVmVydGV4UmFnRGF0YVNlcnZpY2UuICovXG4gIHZlcnRleFJhZ1N0b3JlPzogVmVydGV4UmFnU3RvcmU7XG59XG5cbi8qKiBUb29sIHRoYXQgZXhlY3V0ZXMgY29kZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBhbmQgYXV0b21hdGljYWxseSByZXR1cm5zIHRoZSByZXN1bHQgdG8gdGhlIG1vZGVsLiBTZWUgYWxzbyBbRXhlY3V0YWJsZUNvZGVdYW5kIFtDb2RlRXhlY3V0aW9uUmVzdWx0XSB3aGljaCBhcmUgaW5wdXQgYW5kIG91dHB1dCB0byB0aGlzIHRvb2wuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVG9vbENvZGVFeGVjdXRpb24ge31cblxuLyoqIFRvb2wgZGV0YWlscyBvZiBhIHRvb2wgdGhhdCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRvb2wge1xuICAvKiogTGlzdCBvZiBmdW5jdGlvbiBkZWNsYXJhdGlvbnMgdGhhdCB0aGUgdG9vbCBzdXBwb3J0cy4gKi9cbiAgZnVuY3Rpb25EZWNsYXJhdGlvbnM/OiBGdW5jdGlvbkRlY2xhcmF0aW9uW107XG4gIC8qKiBPcHRpb25hbC4gUmV0cmlldmFsIHRvb2wgdHlwZS4gU3lzdGVtIHdpbGwgYWx3YXlzIGV4ZWN1dGUgdGhlIHByb3ZpZGVkIHJldHJpZXZhbCB0b29sKHMpIHRvIGdldCBleHRlcm5hbCBrbm93bGVkZ2UgdG8gYW5zd2VyIHRoZSBwcm9tcHQuIFJldHJpZXZhbCByZXN1bHRzIGFyZSBwcmVzZW50ZWQgdG8gdGhlIG1vZGVsIGZvciBnZW5lcmF0aW9uLiAqL1xuICByZXRyaWV2YWw/OiBSZXRyaWV2YWw7XG4gIC8qKiBPcHRpb25hbC4gR29vZ2xlIFNlYXJjaCB0b29sIHR5cGUuIFNwZWNpYWxpemVkIHJldHJpZXZhbCB0b29sXG4gICAgICB0aGF0IGlzIHBvd2VyZWQgYnkgR29vZ2xlIFNlYXJjaC4gKi9cbiAgZ29vZ2xlU2VhcmNoPzogR29vZ2xlU2VhcmNoO1xuICAvKiogT3B0aW9uYWwuIEdvb2dsZVNlYXJjaFJldHJpZXZhbCB0b29sIHR5cGUuIFNwZWNpYWxpemVkIHJldHJpZXZhbCB0b29sIHRoYXQgaXMgcG93ZXJlZCBieSBHb29nbGUgc2VhcmNoLiAqL1xuICBnb29nbGVTZWFyY2hSZXRyaWV2YWw/OiBHb29nbGVTZWFyY2hSZXRyaWV2YWw7XG4gIC8qKiBPcHRpb25hbC4gQ29kZUV4ZWN1dGlvbiB0b29sIHR5cGUuIEVuYWJsZXMgdGhlIG1vZGVsIHRvIGV4ZWN1dGUgY29kZSBhcyBwYXJ0IG9mIGdlbmVyYXRpb24uIFRoaXMgZmllbGQgaXMgb25seSB1c2VkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSSBzZXJ2aWNlcy4gKi9cbiAgY29kZUV4ZWN1dGlvbj86IFRvb2xDb2RlRXhlY3V0aW9uO1xufVxuXG4vKiogRnVuY3Rpb24gY2FsbGluZyBjb25maWcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRnVuY3Rpb25DYWxsaW5nQ29uZmlnIHtcbiAgLyoqIE9wdGlvbmFsLiBGdW5jdGlvbiBjYWxsaW5nIG1vZGUuICovXG4gIG1vZGU/OiBGdW5jdGlvbkNhbGxpbmdDb25maWdNb2RlO1xuICAvKiogT3B0aW9uYWwuIEZ1bmN0aW9uIG5hbWVzIHRvIGNhbGwuIE9ubHkgc2V0IHdoZW4gdGhlIE1vZGUgaXMgQU5ZLiBGdW5jdGlvbiBuYW1lcyBzaG91bGQgbWF0Y2ggW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0uIFdpdGggbW9kZSBzZXQgdG8gQU5ZLCBtb2RlbCB3aWxsIHByZWRpY3QgYSBmdW5jdGlvbiBjYWxsIGZyb20gdGhlIHNldCBvZiBmdW5jdGlvbiBuYW1lcyBwcm92aWRlZC4gKi9cbiAgYWxsb3dlZEZ1bmN0aW9uTmFtZXM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIFRvb2wgY29uZmlnLlxuXG4gIFRoaXMgY29uZmlnIGlzIHNoYXJlZCBmb3IgYWxsIHRvb2xzIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUb29sQ29uZmlnIHtcbiAgLyoqIE9wdGlvbmFsLiBGdW5jdGlvbiBjYWxsaW5nIGNvbmZpZy4gKi9cbiAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnPzogRnVuY3Rpb25DYWxsaW5nQ29uZmlnO1xufVxuXG4vKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcmVidWlsdCBzcGVha2VyIHRvIHVzZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQcmVidWlsdFZvaWNlQ29uZmlnIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBwcmVidWlsdCB2b2ljZSB0byB1c2UuXG4gICAqL1xuICB2b2ljZU5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHZvaWNlIHRvIHVzZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWb2ljZUNvbmZpZyB7XG4gIC8qKiBUaGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHNwZWFrZXIgdG8gdXNlLlxuICAgKi9cbiAgcHJlYnVpbHRWb2ljZUNvbmZpZz86IFByZWJ1aWx0Vm9pY2VDb25maWc7XG59XG5cbi8qKiBUaGUgc3BlZWNoIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTcGVlY2hDb25maWcge1xuICAvKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzcGVha2VyIHRvIHVzZS5cbiAgICovXG4gIHZvaWNlQ29uZmlnPzogVm9pY2VDb25maWc7XG59XG5cbi8qKiBUaGUgdGhpbmtpbmcgZmVhdHVyZXMgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUaGlua2luZ0NvbmZpZyB7XG4gIC8qKiBJbmRpY2F0ZXMgd2hldGhlciB0byBpbmNsdWRlIHRob3VnaHRzIGluIHRoZSByZXNwb25zZS4gSWYgdHJ1ZSwgdGhvdWdodHMgYXJlIHJldHVybmVkIG9ubHkgaWYgdGhlIG1vZGVsIHN1cHBvcnRzIHRob3VnaHQgYW5kIHRob3VnaHRzIGFyZSBhdmFpbGFibGUuXG4gICAqL1xuICBpbmNsdWRlVGhvdWdodHM/OiBib29sZWFuO1xuICAvKiogSW5kaWNhdGVzIHRoZSB0aGlua2luZyBidWRnZXQgaW4gdG9rZW5zLlxuICAgKi9cbiAgdGhpbmtpbmdCdWRnZXQ/OiBudW1iZXI7XG59XG5cbi8qKiBXaGVuIGF1dG9tYXRlZCByb3V0aW5nIGlzIHNwZWNpZmllZCwgdGhlIHJvdXRpbmcgd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBwcmV0cmFpbmVkIHJvdXRpbmcgbW9kZWwgYW5kIGN1c3RvbWVyIHByb3ZpZGVkIG1vZGVsIHJvdXRpbmcgcHJlZmVyZW5jZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZ0F1dG9Sb3V0aW5nTW9kZSB7XG4gIC8qKiBUaGUgbW9kZWwgcm91dGluZyBwcmVmZXJlbmNlLiAqL1xuICBtb2RlbFJvdXRpbmdQcmVmZXJlbmNlPzpcbiAgICB8ICdVTktOT1dOJ1xuICAgIHwgJ1BSSU9SSVRJWkVfUVVBTElUWSdcbiAgICB8ICdCQUxBTkNFRCdcbiAgICB8ICdQUklPUklUSVpFX0NPU1QnO1xufVxuXG4vKiogV2hlbiBtYW51YWwgcm91dGluZyBpcyBzZXQsIHRoZSBzcGVjaWZpZWQgbW9kZWwgd2lsbCBiZSB1c2VkIGRpcmVjdGx5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnTWFudWFsUm91dGluZ01vZGUge1xuICAvKiogVGhlIG1vZGVsIG5hbWUgdG8gdXNlLiBPbmx5IHRoZSBwdWJsaWMgTExNIG1vZGVscyBhcmUgYWNjZXB0ZWQuIGUuZy4gJ2dlbWluaS0xLjUtcHJvLTAwMScuICovXG4gIG1vZGVsTmFtZT86IHN0cmluZztcbn1cblxuLyoqIFRoZSBjb25maWd1cmF0aW9uIGZvciByb3V0aW5nIHRoZSByZXF1ZXN0IHRvIGEgc3BlY2lmaWMgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWcge1xuICAvKiogQXV0b21hdGVkIHJvdXRpbmcuICovXG4gIGF1dG9Nb2RlPzogR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWdBdXRvUm91dGluZ01vZGU7XG4gIC8qKiBNYW51YWwgcm91dGluZy4gKi9cbiAgbWFudWFsTW9kZT86IEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnTWFudWFsUm91dGluZ01vZGU7XG59XG5cbi8qKiBPcHRpb25hbCBtb2RlbCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG5cbiAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBgQ29udGVudCBnZW5lcmF0aW9uIHBhcmFtZXRlcnNcbiAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL211bHRpbW9kYWwvY29udGVudC1nZW5lcmF0aW9uLXBhcmFtZXRlcnM+YF8uXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRlQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogSW5zdHJ1Y3Rpb25zIGZvciB0aGUgbW9kZWwgdG8gc3RlZXIgaXQgdG93YXJkIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgIEZvciBleGFtcGxlLCBcIkFuc3dlciBhcyBjb25jaXNlbHkgYXMgcG9zc2libGVcIiBvciBcIkRvbid0IHVzZSB0ZWNobmljYWxcbiAgICAgIHRlcm1zIGluIHlvdXIgcmVzcG9uc2VcIi5cbiAgICAgICAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnRVbmlvbjtcbiAgLyoqIFZhbHVlIHRoYXQgY29udHJvbHMgdGhlIGRlZ3JlZSBvZiByYW5kb21uZXNzIGluIHRva2VuIHNlbGVjdGlvbi5cbiAgICAgIExvd2VyIHRlbXBlcmF0dXJlcyBhcmUgZ29vZCBmb3IgcHJvbXB0cyB0aGF0IHJlcXVpcmUgYSBsZXNzIG9wZW4tZW5kZWQgb3JcbiAgICAgIGNyZWF0aXZlIHJlc3BvbnNlLCB3aGlsZSBoaWdoZXIgdGVtcGVyYXR1cmVzIGNhbiBsZWFkIHRvIG1vcmUgZGl2ZXJzZSBvclxuICAgICAgY3JlYXRpdmUgcmVzdWx0cy5cbiAgICAgICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgLyoqIFRva2VucyBhcmUgc2VsZWN0ZWQgZnJvbSB0aGUgbW9zdCB0byBsZWFzdCBwcm9iYWJsZSB1bnRpbCB0aGUgc3VtXG4gICAgICBvZiB0aGVpciBwcm9iYWJpbGl0aWVzIGVxdWFscyB0aGlzIHZhbHVlLiBVc2UgYSBsb3dlciB2YWx1ZSBmb3IgbGVzc1xuICAgICAgcmFuZG9tIHJlc3BvbnNlcyBhbmQgYSBoaWdoZXIgdmFsdWUgZm9yIG1vcmUgcmFuZG9tIHJlc3BvbnNlcy5cbiAgICAgICAqL1xuICB0b3BQPzogbnVtYmVyO1xuICAvKiogRm9yIGVhY2ggdG9rZW4gc2VsZWN0aW9uIHN0ZXAsIHRoZSBgYHRvcF9rYGAgdG9rZW5zIHdpdGggdGhlXG4gICAgICBoaWdoZXN0IHByb2JhYmlsaXRpZXMgYXJlIHNhbXBsZWQuIFRoZW4gdG9rZW5zIGFyZSBmdXJ0aGVyIGZpbHRlcmVkIGJhc2VkXG4gICAgICBvbiBgYHRvcF9wYGAgd2l0aCB0aGUgZmluYWwgdG9rZW4gc2VsZWN0ZWQgdXNpbmcgdGVtcGVyYXR1cmUgc2FtcGxpbmcuIFVzZVxuICAgICAgYSBsb3dlciBudW1iZXIgZm9yIGxlc3MgcmFuZG9tIHJlc3BvbnNlcyBhbmQgYSBoaWdoZXIgbnVtYmVyIGZvciBtb3JlXG4gICAgICByYW5kb20gcmVzcG9uc2VzLlxuICAgICAgICovXG4gIHRvcEs/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgcmVzcG9uc2UgdmFyaWF0aW9ucyB0byByZXR1cm4uXG4gICAqL1xuICBjYW5kaWRhdGVDb3VudD86IG51bWJlcjtcbiAgLyoqIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0aGF0IGNhbiBiZSBnZW5lcmF0ZWQgaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgbWF4T3V0cHV0VG9rZW5zPzogbnVtYmVyO1xuICAvKiogTGlzdCBvZiBzdHJpbmdzIHRoYXQgdGVsbHMgdGhlIG1vZGVsIHRvIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IGlmIG9uZVxuICAgICAgb2YgdGhlIHN0cmluZ3MgaXMgZW5jb3VudGVyZWQgaW4gdGhlIHJlc3BvbnNlLlxuICAgICAgICovXG4gIHN0b3BTZXF1ZW5jZXM/OiBzdHJpbmdbXTtcbiAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBvZiB0aGUgdG9rZW5zIHRoYXQgd2VyZVxuICAgICAgY2hvc2VuIGJ5IHRoZSBtb2RlbCBhdCBlYWNoIHN0ZXAuXG4gICAgICAgKi9cbiAgcmVzcG9uc2VMb2dwcm9icz86IGJvb2xlYW47XG4gIC8qKiBOdW1iZXIgb2YgdG9wIGNhbmRpZGF0ZSB0b2tlbnMgdG8gcmV0dXJuIHRoZSBsb2cgcHJvYmFiaWxpdGllcyBmb3JcbiAgICAgIGF0IGVhY2ggZ2VuZXJhdGlvbiBzdGVwLlxuICAgICAgICovXG4gIGxvZ3Byb2JzPzogbnVtYmVyO1xuICAvKiogUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIHRva2VucyB0aGF0IGFscmVhZHkgYXBwZWFyIGluIHRoZVxuICAgICAgZ2VuZXJhdGVkIHRleHQsIGluY3JlYXNpbmcgdGhlIHByb2JhYmlsaXR5IG9mIGdlbmVyYXRpbmcgbW9yZSBkaXZlcnNlXG4gICAgICBjb250ZW50LlxuICAgICAgICovXG4gIHByZXNlbmNlUGVuYWx0eT86IG51bWJlcjtcbiAgLyoqIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSB0b2tlbnMgdGhhdCByZXBlYXRlZGx5IGFwcGVhciBpbiB0aGVcbiAgICAgIGdlbmVyYXRlZCB0ZXh0LCBpbmNyZWFzaW5nIHRoZSBwcm9iYWJpbGl0eSBvZiBnZW5lcmF0aW5nIG1vcmUgZGl2ZXJzZVxuICAgICAgY29udGVudC5cbiAgICAgICAqL1xuICBmcmVxdWVuY3lQZW5hbHR5PzogbnVtYmVyO1xuICAvKiogV2hlbiBgYHNlZWRgYCBpcyBmaXhlZCB0byBhIHNwZWNpZmljIG51bWJlciwgdGhlIG1vZGVsIG1ha2VzIGEgYmVzdFxuICAgICAgZWZmb3J0IHRvIHByb3ZpZGUgdGhlIHNhbWUgcmVzcG9uc2UgZm9yIHJlcGVhdGVkIHJlcXVlc3RzLiBCeSBkZWZhdWx0LCBhXG4gICAgICByYW5kb20gbnVtYmVyIGlzIHVzZWQuXG4gICAgICAgKi9cbiAgc2VlZD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCByZXNwb25zZSBtZWRpYSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgY2FuZGlkYXRlIHRleHQuXG4gICAqL1xuICByZXNwb25zZU1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogU2NoZW1hIHRoYXQgdGhlIGdlbmVyYXRlZCBjYW5kaWRhdGUgdGV4dCBtdXN0IGFkaGVyZSB0by5cbiAgICovXG4gIHJlc3BvbnNlU2NoZW1hPzogU2NoZW1hVW5pb247XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciBtb2RlbCByb3V0ZXIgcmVxdWVzdHMuXG4gICAqL1xuICByb3V0aW5nQ29uZmlnPzogR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWc7XG4gIC8qKiBTYWZldHkgc2V0dGluZ3MgaW4gdGhlIHJlcXVlc3QgdG8gYmxvY2sgdW5zYWZlIGNvbnRlbnQgaW4gdGhlXG4gICAgICByZXNwb25zZS5cbiAgICAgICAqL1xuICBzYWZldHlTZXR0aW5ncz86IFNhZmV0eVNldHRpbmdbXTtcbiAgLyoqIENvZGUgdGhhdCBlbmFibGVzIHRoZSBzeXN0ZW0gdG8gaW50ZXJhY3Qgd2l0aCBleHRlcm5hbCBzeXN0ZW1zIHRvXG4gICAgICBwZXJmb3JtIGFuIGFjdGlvbiBvdXRzaWRlIG9mIHRoZSBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICB0b29scz86IFRvb2xMaXN0VW5pb247XG4gIC8qKiBBc3NvY2lhdGVzIG1vZGVsIG91dHB1dCB0byBhIHNwZWNpZmljIGZ1bmN0aW9uIGNhbGwuXG4gICAqL1xuICB0b29sQ29uZmlnPzogVG9vbENvbmZpZztcbiAgLyoqIExhYmVscyB3aXRoIHVzZXItZGVmaW5lZCBtZXRhZGF0YSB0byBicmVhayBkb3duIGJpbGxlZCBjaGFyZ2VzLiAqL1xuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogUmVzb3VyY2UgbmFtZSBvZiBhIGNvbnRleHQgY2FjaGUgdGhhdCBjYW4gYmUgdXNlZCBpbiBzdWJzZXF1ZW50XG4gICAgICByZXF1ZXN0cy5cbiAgICAgICAqL1xuICBjYWNoZWRDb250ZW50Pzogc3RyaW5nO1xuICAvKiogVGhlIHJlcXVlc3RlZCBtb2RhbGl0aWVzIG9mIHRoZSByZXNwb25zZS4gUmVwcmVzZW50cyB0aGUgc2V0IG9mXG4gICAgICBtb2RhbGl0aWVzIHRoYXQgdGhlIG1vZGVsIGNhbiByZXR1cm4uXG4gICAgICAgKi9cbiAgcmVzcG9uc2VNb2RhbGl0aWVzPzogc3RyaW5nW107XG4gIC8qKiBJZiBzcGVjaWZpZWQsIHRoZSBtZWRpYSByZXNvbHV0aW9uIHNwZWNpZmllZCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtZWRpYVJlc29sdXRpb24/OiBNZWRpYVJlc29sdXRpb247XG4gIC8qKiBUaGUgc3BlZWNoIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIHNwZWVjaENvbmZpZz86IFNwZWVjaENvbmZpZ1VuaW9uO1xuICAvKiogSWYgZW5hYmxlZCwgYXVkaW8gdGltZXN0YW1wIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QgdG8gdGhlXG4gICAgICAgbW9kZWwuXG4gICAgICAgKi9cbiAgYXVkaW9UaW1lc3RhbXA/OiBib29sZWFuO1xuICAvKiogVGhlIHRoaW5raW5nIGZlYXR1cmVzIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICB0aGlua2luZ0NvbmZpZz86IFRoaW5raW5nQ29uZmlnO1xufVxuXG4vKiogQ29uZmlnIGZvciBtb2RlbHMuZ2VuZXJhdGVfY29udGVudCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBDb250ZW50IG9mIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29udGVudHM6IENvbnRlbnRMaXN0VW5pb247XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgbW9kZWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IEdlbmVyYXRlQ29udGVudENvbmZpZztcbn1cblxuLyoqIFJlcHJlc2VudHMgYSB3aG9sZSBvciBwYXJ0aWFsIGNhbGVuZGFyIGRhdGUsIHN1Y2ggYXMgYSBiaXJ0aGRheS4gVGhlIHRpbWUgb2YgZGF5IGFuZCB0aW1lIHpvbmUgYXJlIGVpdGhlciBzcGVjaWZpZWQgZWxzZXdoZXJlIG9yIGFyZSBpbnNpZ25pZmljYW50LiBUaGUgZGF0ZSBpcyByZWxhdGl2ZSB0byB0aGUgR3JlZ29yaWFuIENhbGVuZGFyLiBUaGlzIGNhbiByZXByZXNlbnQgb25lIG9mIHRoZSBmb2xsb3dpbmc6ICogQSBmdWxsIGRhdGUsIHdpdGggbm9uLXplcm8geWVhciwgbW9udGgsIGFuZCBkYXkgdmFsdWVzLiAqIEEgbW9udGggYW5kIGRheSwgd2l0aCBhIHplcm8geWVhciAoZm9yIGV4YW1wbGUsIGFuIGFubml2ZXJzYXJ5KS4gKiBBIHllYXIgb24gaXRzIG93biwgd2l0aCBhIHplcm8gbW9udGggYW5kIGEgemVybyBkYXkuICogQSB5ZWFyIGFuZCBtb250aCwgd2l0aCBhIHplcm8gZGF5IChmb3IgZXhhbXBsZSwgYSBjcmVkaXQgY2FyZCBleHBpcmF0aW9uIGRhdGUpLiBSZWxhdGVkIHR5cGVzOiAqIGdvb2dsZS50eXBlLlRpbWVPZkRheSAqIGdvb2dsZS50eXBlLkRhdGVUaW1lICogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdvb2dsZVR5cGVEYXRlIHtcbiAgLyoqIERheSBvZiBhIG1vbnRoLiBNdXN0IGJlIGZyb20gMSB0byAzMSBhbmQgdmFsaWQgZm9yIHRoZSB5ZWFyIGFuZCBtb250aCwgb3IgMCB0byBzcGVjaWZ5IGEgeWVhciBieSBpdHNlbGYgb3IgYSB5ZWFyIGFuZCBtb250aCB3aGVyZSB0aGUgZGF5IGlzbid0IHNpZ25pZmljYW50LiAqL1xuICBkYXk/OiBudW1iZXI7XG4gIC8qKiBNb250aCBvZiBhIHllYXIuIE11c3QgYmUgZnJvbSAxIHRvIDEyLCBvciAwIHRvIHNwZWNpZnkgYSB5ZWFyIHdpdGhvdXQgYSBtb250aCBhbmQgZGF5LiAqL1xuICBtb250aD86IG51bWJlcjtcbiAgLyoqIFllYXIgb2YgdGhlIGRhdGUuIE11c3QgYmUgZnJvbSAxIHRvIDk5OTksIG9yIDAgdG8gc3BlY2lmeSBhIGRhdGUgd2l0aG91dCBhIHllYXIuICovXG4gIHllYXI/OiBudW1iZXI7XG59XG5cbi8qKiBTb3VyY2UgYXR0cmlidXRpb25zIGZvciBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENpdGF0aW9uIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBFbmQgaW5kZXggaW50byB0aGUgY29udGVudC4gKi9cbiAgZW5kSW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTGljZW5zZSBvZiB0aGUgYXR0cmlidXRpb24uICovXG4gIGxpY2Vuc2U/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gUHVibGljYXRpb24gZGF0ZSBvZiB0aGUgYXR0cmlidXRpb24uICovXG4gIHB1YmxpY2F0aW9uRGF0ZT86IEdvb2dsZVR5cGVEYXRlO1xuICAvKiogT3V0cHV0IG9ubHkuIFN0YXJ0IGluZGV4IGludG8gdGhlIGNvbnRlbnQuICovXG4gIHN0YXJ0SW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGl0bGUgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBVcmwgcmVmZXJlbmNlIG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdXJpPzogc3RyaW5nO1xufVxuXG4vKiogQ2l0YXRpb24gaW5mb3JtYXRpb24gd2hlbiB0aGUgbW9kZWwgcXVvdGVzIGFub3RoZXIgc291cmNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENpdGF0aW9uTWV0YWRhdGEge1xuICAvKiogQ29udGFpbnMgY2l0YXRpb24gaW5mb3JtYXRpb24gd2hlbiB0aGUgbW9kZWwgZGlyZWN0bHkgcXVvdGVzLCBhdFxuICAgICAgbGVuZ3RoLCBmcm9tIGFub3RoZXIgc291cmNlLiBDYW4gaW5jbHVkZSB0cmFkaXRpb25hbCB3ZWJzaXRlcyBhbmQgY29kZVxuICAgICAgcmVwb3NpdG9yaWVzLlxuICAgICAgICovXG4gIGNpdGF0aW9ucz86IENpdGF0aW9uW107XG59XG5cbi8qKiBDaHVuayBmcm9tIGNvbnRleHQgcmV0cmlldmVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtSZXRyaWV2ZWRDb250ZXh0IHtcbiAgLyoqIFRleHQgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuICAvKiogVGl0bGUgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIFVSSSByZWZlcmVuY2Ugb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKiBDaHVuayBmcm9tIHRoZSB3ZWIuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtXZWIge1xuICAvKiogRG9tYWluIG9mIHRoZSAob3JpZ2luYWwpIFVSSS4gKi9cbiAgZG9tYWluPzogc3RyaW5nO1xuICAvKiogVGl0bGUgb2YgdGhlIGNodW5rLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIFVSSSByZWZlcmVuY2Ugb2YgdGhlIGNodW5rLiAqL1xuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKiBHcm91bmRpbmcgY2h1bmsuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmsge1xuICAvKiogR3JvdW5kaW5nIGNodW5rIGZyb20gY29udGV4dCByZXRyaWV2ZWQgYnkgdGhlIHJldHJpZXZhbCB0b29scy4gKi9cbiAgcmV0cmlldmVkQ29udGV4dD86IEdyb3VuZGluZ0NodW5rUmV0cmlldmVkQ29udGV4dDtcbiAgLyoqIEdyb3VuZGluZyBjaHVuayBmcm9tIHRoZSB3ZWIuICovXG4gIHdlYj86IEdyb3VuZGluZ0NodW5rV2ViO1xufVxuXG4vKiogU2VnbWVudCBvZiB0aGUgY29udGVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTZWdtZW50IHtcbiAgLyoqIE91dHB1dCBvbmx5LiBFbmQgaW5kZXggaW4gdGhlIGdpdmVuIFBhcnQsIG1lYXN1cmVkIGluIGJ5dGVzLiBPZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIFBhcnQsIGV4Y2x1c2l2ZSwgc3RhcnRpbmcgYXQgemVyby4gKi9cbiAgZW5kSW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIGluZGV4IG9mIGEgUGFydCBvYmplY3Qgd2l0aGluIGl0cyBwYXJlbnQgQ29udGVudCBvYmplY3QuICovXG4gIHBhcnRJbmRleD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBTdGFydCBpbmRleCBpbiB0aGUgZ2l2ZW4gUGFydCwgbWVhc3VyZWQgaW4gYnl0ZXMuIE9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgUGFydCwgaW5jbHVzaXZlLCBzdGFydGluZyBhdCB6ZXJvLiAqL1xuICBzdGFydEluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSB0ZXh0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNlZ21lbnQgZnJvbSB0aGUgcmVzcG9uc2UuICovXG4gIHRleHQ/OiBzdHJpbmc7XG59XG5cbi8qKiBHcm91bmRpbmcgc3VwcG9ydC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHcm91bmRpbmdTdXBwb3J0IHtcbiAgLyoqIENvbmZpZGVuY2Ugc2NvcmUgb2YgdGhlIHN1cHBvcnQgcmVmZXJlbmNlcy4gUmFuZ2VzIGZyb20gMCB0byAxLiAxIGlzIHRoZSBtb3N0IGNvbmZpZGVudC4gVGhpcyBsaXN0IG11c3QgaGF2ZSB0aGUgc2FtZSBzaXplIGFzIHRoZSBncm91bmRpbmdfY2h1bmtfaW5kaWNlcy4gKi9cbiAgY29uZmlkZW5jZVNjb3Jlcz86IG51bWJlcltdO1xuICAvKiogQSBsaXN0IG9mIGluZGljZXMgKGludG8gJ2dyb3VuZGluZ19jaHVuaycpIHNwZWNpZnlpbmcgdGhlIGNpdGF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGNsYWltLiBGb3IgaW5zdGFuY2UgWzEsMyw0XSBtZWFucyB0aGF0IGdyb3VuZGluZ19jaHVua1sxXSwgZ3JvdW5kaW5nX2NodW5rWzNdLCBncm91bmRpbmdfY2h1bmtbNF0gYXJlIHRoZSByZXRyaWV2ZWQgY29udGVudCBhdHRyaWJ1dGVkIHRvIHRoZSBjbGFpbS4gKi9cbiAgZ3JvdW5kaW5nQ2h1bmtJbmRpY2VzPzogbnVtYmVyW107XG4gIC8qKiBTZWdtZW50IG9mIHRoZSBjb250ZW50IHRoaXMgc3VwcG9ydCBiZWxvbmdzIHRvLiAqL1xuICBzZWdtZW50PzogU2VnbWVudDtcbn1cblxuLyoqIE1ldGFkYXRhIHJlbGF0ZWQgdG8gcmV0cmlldmFsIGluIHRoZSBncm91bmRpbmcgZmxvdy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZXRyaWV2YWxNZXRhZGF0YSB7XG4gIC8qKiBPcHRpb25hbC4gU2NvcmUgaW5kaWNhdGluZyBob3cgbGlrZWx5IGluZm9ybWF0aW9uIGZyb20gR29vZ2xlIFNlYXJjaCBjb3VsZCBoZWxwIGFuc3dlciB0aGUgcHJvbXB0LiBUaGUgc2NvcmUgaXMgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLCB3aGVyZSAwIGlzIHRoZSBsZWFzdCBsaWtlbHkgYW5kIDEgaXMgdGhlIG1vc3QgbGlrZWx5LiBUaGlzIHNjb3JlIGlzIG9ubHkgcG9wdWxhdGVkIHdoZW4gR29vZ2xlIFNlYXJjaCBncm91bmRpbmcgYW5kIGR5bmFtaWMgcmV0cmlldmFsIGlzIGVuYWJsZWQuIEl0IHdpbGwgYmUgY29tcGFyZWQgdG8gdGhlIHRocmVzaG9sZCB0byBkZXRlcm1pbmUgd2hldGhlciB0byB0cmlnZ2VyIEdvb2dsZSBTZWFyY2guICovXG4gIGdvb2dsZVNlYXJjaER5bmFtaWNSZXRyaWV2YWxTY29yZT86IG51bWJlcjtcbn1cblxuLyoqIEdvb2dsZSBzZWFyY2ggZW50cnkgcG9pbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2VhcmNoRW50cnlQb2ludCB7XG4gIC8qKiBPcHRpb25hbC4gV2ViIGNvbnRlbnQgc25pcHBldCB0aGF0IGNhbiBiZSBlbWJlZGRlZCBpbiBhIHdlYiBwYWdlIG9yIGFuIGFwcCB3ZWJ2aWV3LiAqL1xuICByZW5kZXJlZENvbnRlbnQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gQmFzZTY0IGVuY29kZWQgSlNPTiByZXByZXNlbnRpbmcgYXJyYXkgb2YgdHVwbGUuICovXG4gIHNka0Jsb2I/OiBzdHJpbmc7XG59XG5cbi8qKiBNZXRhZGF0YSByZXR1cm5lZCB0byBjbGllbnQgd2hlbiBncm91bmRpbmcgaXMgZW5hYmxlZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHcm91bmRpbmdNZXRhZGF0YSB7XG4gIC8qKiBMaXN0IG9mIHN1cHBvcnRpbmcgcmVmZXJlbmNlcyByZXRyaWV2ZWQgZnJvbSBzcGVjaWZpZWQgZ3JvdW5kaW5nIHNvdXJjZS4gKi9cbiAgZ3JvdW5kaW5nQ2h1bmtzPzogR3JvdW5kaW5nQ2h1bmtbXTtcbiAgLyoqIE9wdGlvbmFsLiBMaXN0IG9mIGdyb3VuZGluZyBzdXBwb3J0LiAqL1xuICBncm91bmRpbmdTdXBwb3J0cz86IEdyb3VuZGluZ1N1cHBvcnRbXTtcbiAgLyoqIE9wdGlvbmFsLiBPdXRwdXQgb25seS4gUmV0cmlldmFsIG1ldGFkYXRhLiAqL1xuICByZXRyaWV2YWxNZXRhZGF0YT86IFJldHJpZXZhbE1ldGFkYXRhO1xuICAvKiogT3B0aW9uYWwuIFF1ZXJpZXMgZXhlY3V0ZWQgYnkgdGhlIHJldHJpZXZhbCB0b29scy4gKi9cbiAgcmV0cmlldmFsUXVlcmllcz86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIEdvb2dsZSBzZWFyY2ggZW50cnkgZm9yIHRoZSBmb2xsb3dpbmctdXAgd2ViIHNlYXJjaGVzLiAqL1xuICBzZWFyY2hFbnRyeVBvaW50PzogU2VhcmNoRW50cnlQb2ludDtcbiAgLyoqIE9wdGlvbmFsLiBXZWIgc2VhcmNoIHF1ZXJpZXMgZm9yIHRoZSBmb2xsb3dpbmctdXAgd2ViIHNlYXJjaC4gKi9cbiAgd2ViU2VhcmNoUXVlcmllcz86IHN0cmluZ1tdO1xufVxuXG4vKiogQ2FuZGlkYXRlIGZvciB0aGUgbG9ncHJvYnMgdG9rZW4gYW5kIHNjb3JlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExvZ3Byb2JzUmVzdWx0Q2FuZGlkYXRlIHtcbiAgLyoqIFRoZSBjYW5kaWRhdGUncyBsb2cgcHJvYmFiaWxpdHkuICovXG4gIGxvZ1Byb2JhYmlsaXR5PzogbnVtYmVyO1xuICAvKiogVGhlIGNhbmRpZGF0ZSdzIHRva2VuIHN0cmluZyB2YWx1ZS4gKi9cbiAgdG9rZW4/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY2FuZGlkYXRlJ3MgdG9rZW4gaWQgdmFsdWUuICovXG4gIHRva2VuSWQ/OiBudW1iZXI7XG59XG5cbi8qKiBDYW5kaWRhdGVzIHdpdGggdG9wIGxvZyBwcm9iYWJpbGl0aWVzIGF0IGVhY2ggZGVjb2Rpbmcgc3RlcC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMb2dwcm9ic1Jlc3VsdFRvcENhbmRpZGF0ZXMge1xuICAvKiogU29ydGVkIGJ5IGxvZyBwcm9iYWJpbGl0eSBpbiBkZXNjZW5kaW5nIG9yZGVyLiAqL1xuICBjYW5kaWRhdGVzPzogTG9ncHJvYnNSZXN1bHRDYW5kaWRhdGVbXTtcbn1cblxuLyoqIExvZ3Byb2JzIFJlc3VsdCAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExvZ3Byb2JzUmVzdWx0IHtcbiAgLyoqIExlbmd0aCA9IHRvdGFsIG51bWJlciBvZiBkZWNvZGluZyBzdGVwcy4gVGhlIGNob3NlbiBjYW5kaWRhdGVzIG1heSBvciBtYXkgbm90IGJlIGluIHRvcF9jYW5kaWRhdGVzLiAqL1xuICBjaG9zZW5DYW5kaWRhdGVzPzogTG9ncHJvYnNSZXN1bHRDYW5kaWRhdGVbXTtcbiAgLyoqIExlbmd0aCA9IHRvdGFsIG51bWJlciBvZiBkZWNvZGluZyBzdGVwcy4gKi9cbiAgdG9wQ2FuZGlkYXRlcz86IExvZ3Byb2JzUmVzdWx0VG9wQ2FuZGlkYXRlc1tdO1xufVxuXG4vKiogU2FmZXR5IHJhdGluZyBjb3JyZXNwb25kaW5nIHRvIHRoZSBnZW5lcmF0ZWQgY29udGVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTYWZldHlSYXRpbmcge1xuICAvKiogT3V0cHV0IG9ubHkuIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjb250ZW50IHdhcyBmaWx0ZXJlZCBvdXQgYmVjYXVzZSBvZiB0aGlzIHJhdGluZy4gKi9cbiAgYmxvY2tlZD86IGJvb2xlYW47XG4gIC8qKiBPdXRwdXQgb25seS4gSGFybSBjYXRlZ29yeS4gKi9cbiAgY2F0ZWdvcnk/OiBIYXJtQ2F0ZWdvcnk7XG4gIC8qKiBPdXRwdXQgb25seS4gSGFybSBwcm9iYWJpbGl0eSBsZXZlbHMgaW4gdGhlIGNvbnRlbnQuICovXG4gIHByb2JhYmlsaXR5PzogSGFybVByb2JhYmlsaXR5O1xuICAvKiogT3V0cHV0IG9ubHkuIEhhcm0gcHJvYmFiaWxpdHkgc2NvcmUuICovXG4gIHByb2JhYmlsaXR5U2NvcmU/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gSGFybSBzZXZlcml0eSBsZXZlbHMgaW4gdGhlIGNvbnRlbnQuICovXG4gIHNldmVyaXR5PzogSGFybVNldmVyaXR5O1xuICAvKiogT3V0cHV0IG9ubHkuIEhhcm0gc2V2ZXJpdHkgc2NvcmUuICovXG4gIHNldmVyaXR5U2NvcmU/OiBudW1iZXI7XG59XG5cbi8qKiBBIHJlc3BvbnNlIGNhbmRpZGF0ZSBnZW5lcmF0ZWQgZnJvbSB0aGUgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2FuZGlkYXRlIHtcbiAgLyoqIENvbnRhaW5zIHRoZSBtdWx0aS1wYXJ0IGNvbnRlbnQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgY29udGVudD86IENvbnRlbnQ7XG4gIC8qKiBTb3VyY2UgYXR0cmlidXRpb24gb2YgdGhlIGdlbmVyYXRlZCBjb250ZW50LlxuICAgKi9cbiAgY2l0YXRpb25NZXRhZGF0YT86IENpdGF0aW9uTWV0YWRhdGE7XG4gIC8qKiBEZXNjcmliZXMgdGhlIHJlYXNvbiB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy5cbiAgICovXG4gIGZpbmlzaE1lc3NhZ2U/OiBzdHJpbmc7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGZvciB0aGlzIGNhbmRpZGF0ZS5cbiAgICovXG4gIHRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgcmVhc29uIHdoeSB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy5cbiAgICAgIElmIGVtcHR5LCB0aGUgbW9kZWwgaGFzIG5vdCBzdG9wcGVkIGdlbmVyYXRpbmcgdGhlIHRva2Vucy5cbiAgICAgICAqL1xuICBmaW5pc2hSZWFzb24/OiBGaW5pc2hSZWFzb247XG4gIC8qKiBPdXRwdXQgb25seS4gQXZlcmFnZSBsb2cgcHJvYmFiaWxpdHkgc2NvcmUgb2YgdGhlIGNhbmRpZGF0ZS4gKi9cbiAgYXZnTG9ncHJvYnM/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTWV0YWRhdGEgc3BlY2lmaWVzIHNvdXJjZXMgdXNlZCB0byBncm91bmQgZ2VuZXJhdGVkIGNvbnRlbnQuICovXG4gIGdyb3VuZGluZ01ldGFkYXRhPzogR3JvdW5kaW5nTWV0YWRhdGE7XG4gIC8qKiBPdXRwdXQgb25seS4gSW5kZXggb2YgdGhlIGNhbmRpZGF0ZS4gKi9cbiAgaW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTG9nLWxpa2VsaWhvb2Qgc2NvcmVzIGZvciB0aGUgcmVzcG9uc2UgdG9rZW5zIGFuZCB0b3AgdG9rZW5zICovXG4gIGxvZ3Byb2JzUmVzdWx0PzogTG9ncHJvYnNSZXN1bHQ7XG4gIC8qKiBPdXRwdXQgb25seS4gTGlzdCBvZiByYXRpbmdzIGZvciB0aGUgc2FmZXR5IG9mIGEgcmVzcG9uc2UgY2FuZGlkYXRlLiBUaGVyZSBpcyBhdCBtb3N0IG9uZSByYXRpbmcgcGVyIGNhdGVnb3J5LiAqL1xuICBzYWZldHlSYXRpbmdzPzogU2FmZXR5UmF0aW5nW107XG59XG5cbi8qKiBDb250ZW50IGZpbHRlciByZXN1bHRzIGZvciBhIHByb21wdCBzZW50IGluIHRoZSByZXF1ZXN0LiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlUHJvbXB0RmVlZGJhY2sge1xuICAvKiogT3V0cHV0IG9ubHkuIEJsb2NrZWQgcmVhc29uLiAqL1xuICBibG9ja1JlYXNvbj86IEJsb2NrZWRSZWFzb247XG4gIC8qKiBPdXRwdXQgb25seS4gQSByZWFkYWJsZSBibG9jayByZWFzb24gbWVzc2FnZS4gKi9cbiAgYmxvY2tSZWFzb25NZXNzYWdlPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFNhZmV0eSByYXRpbmdzLiAqL1xuICBzYWZldHlSYXRpbmdzPzogU2FmZXR5UmF0aW5nW107XG59XG5cbi8qKiBSZXByZXNlbnRzIHRva2VuIGNvdW50aW5nIGluZm8gZm9yIGEgc2luZ2xlIG1vZGFsaXR5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIE1vZGFsaXR5VG9rZW5Db3VudCB7XG4gIC8qKiBUaGUgbW9kYWxpdHkgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdG9rZW4gY291bnQuICovXG4gIG1vZGFsaXR5PzogTWVkaWFNb2RhbGl0eTtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMuICovXG4gIHRva2VuQ291bnQ/OiBudW1iZXI7XG59XG5cbi8qKiBVc2FnZSBtZXRhZGF0YSBhYm91dCByZXNwb25zZShzKS4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZVVzYWdlTWV0YWRhdGEge1xuICAvKiogT3V0cHV0IG9ubHkuIExpc3Qgb2YgbW9kYWxpdGllcyBvZiB0aGUgY2FjaGVkIGNvbnRlbnQgaW4gdGhlIHJlcXVlc3QgaW5wdXQuICovXG4gIGNhY2hlVG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogT3V0cHV0IG9ubHkuIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNhY2hlZCBwYXJ0IGluIHRoZSBpbnB1dCAodGhlIGNhY2hlZCBjb250ZW50KS4gKi9cbiAgY2FjaGVkQ29udGVudFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSByZXNwb25zZShzKS4gKi9cbiAgY2FuZGlkYXRlc1Rva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2UuICovXG4gIGNhbmRpZGF0ZXNUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSByZXF1ZXN0LiBXaGVuIGBjYWNoZWRfY29udGVudGAgaXMgc2V0LCB0aGlzIGlzIHN0aWxsIHRoZSB0b3RhbCBlZmZlY3RpdmUgcHJvbXB0IHNpemUgbWVhbmluZyB0aGlzIGluY2x1ZGVzIHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgcHJvbXB0VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHByb2Nlc3NlZCBpbiB0aGUgcmVxdWVzdCBpbnB1dC4gKi9cbiAgcHJvbXB0VG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogT3V0cHV0IG9ubHkuIE51bWJlciBvZiB0b2tlbnMgcHJlc2VudCBpbiB0aG91Z2h0cyBvdXRwdXQuICovXG4gIHRob3VnaHRzVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgdG9rZW5zIHByZXNlbnQgaW4gdG9vbC11c2UgcHJvbXB0KHMpLiAqL1xuICB0b29sVXNlUHJvbXB0VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHByb2Nlc3NlZCBmb3IgdG9vbC11c2UgcmVxdWVzdCBpbnB1dHMuICovXG4gIHRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBUb3RhbCB0b2tlbiBjb3VudCBmb3IgcHJvbXB0LCByZXNwb25zZSBjYW5kaWRhdGVzLCBhbmQgdG9vbC11c2UgcHJvbXB0cyAoaWYgcHJlc2VudCkuICovXG4gIHRvdGFsVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUcmFmZmljIHR5cGUuIFRoaXMgc2hvd3Mgd2hldGhlciBhIHJlcXVlc3QgY29uc3VtZXMgUGF5LUFzLVlvdS1HbyBvciBQcm92aXNpb25lZCBUaHJvdWdocHV0IHF1b3RhLiAqL1xuICB0cmFmZmljVHlwZT86IFRyYWZmaWNUeXBlO1xufVxuXG4vKiogUmVzcG9uc2UgbWVzc2FnZSBmb3IgUHJlZGljdGlvblNlcnZpY2UuR2VuZXJhdGVDb250ZW50LiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIHtcbiAgLyoqIFJlc3BvbnNlIHZhcmlhdGlvbnMgcmV0dXJuZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgY2FuZGlkYXRlcz86IENhbmRpZGF0ZVtdO1xuICAvKiogVGltZXN0YW1wIHdoZW4gdGhlIHJlcXVlc3QgaXMgbWFkZSB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIElkZW50aWZpZXIgZm9yIGVhY2ggcmVzcG9uc2UuXG4gICAqL1xuICByZXNwb25zZUlkPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBtb2RlbCB2ZXJzaW9uIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHJlc3BvbnNlLiAqL1xuICBtb2RlbFZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gQ29udGVudCBmaWx0ZXIgcmVzdWx0cyBmb3IgYSBwcm9tcHQgc2VudCBpbiB0aGUgcmVxdWVzdC4gTm90ZTogU2VudCBvbmx5IGluIHRoZSBmaXJzdCBzdHJlYW0gY2h1bmsuIE9ubHkgaGFwcGVucyB3aGVuIG5vIGNhbmRpZGF0ZXMgd2VyZSBnZW5lcmF0ZWQgZHVlIHRvIGNvbnRlbnQgdmlvbGF0aW9ucy4gKi9cbiAgcHJvbXB0RmVlZGJhY2s/OiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZVByb21wdEZlZWRiYWNrO1xuICAvKiogVXNhZ2UgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3BvbnNlKHMpLiAqL1xuICB1c2FnZU1ldGFkYXRhPzogR2VuZXJhdGVDb250ZW50UmVzcG9uc2VVc2FnZU1ldGFkYXRhO1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhbGwgdGV4dCBwYXJ0cyBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHRoZSB0ZXh0IGZyb20gdGhlIGZpcnN0XG4gICAqIG9uZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBJZiB0aGVyZSBhcmUgbm9uLXRleHQgcGFydHMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhbGwgdGV4dFxuICAgKiBwYXJ0cyB3aWxsIGJlIHJldHVybmVkLCBhbmQgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkLlxuICAgKiBJZiB0aGVyZSBhcmUgdGhvdWdodCBwYXJ0cyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0XG4gICAqIHBhcnRzIGV4Y2x1ZGluZyB0aGUgdGhvdWdodCBwYXJ0cyB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6XG4gICAqICAgICAnV2h5IGlzIHRoZSBza3kgYmx1ZT8nLFxuICAgKiB9KTtcbiAgICpcbiAgICogY29uc29sZS5kZWJ1ZyhyZXNwb25zZS50ZXh0KTtcbiAgICogYGBgXG4gICAqL1xuICBnZXQgdGV4dCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGlmICh0aGlzLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcyAmJiB0aGlzLmNhbmRpZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAndGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCByZXR1cm5pbmcgdGV4dCBmcm9tIHRoZSBmaXJzdCBvbmUuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgbGV0IGFueVRleHRQYXJ0VGV4dCA9IGZhbHNlO1xuICAgIGNvbnN0IG5vblRleHRQYXJ0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHMgPz8gW10pIHtcbiAgICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgZmllbGRWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFydCkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZpZWxkTmFtZSAhPT0gJ3RleHQnICYmXG4gICAgICAgICAgZmllbGROYW1lICE9PSAndGhvdWdodCcgJiZcbiAgICAgICAgICAoZmllbGRWYWx1ZSAhPT0gbnVsbCB8fCBmaWVsZFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICkge1xuICAgICAgICAgIG5vblRleHRQYXJ0cy5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGFydC50ZXh0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIHBhcnQudGhvdWdodCA9PT0gJ2Jvb2xlYW4nICYmIHBhcnQudGhvdWdodCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGFueVRleHRQYXJ0VGV4dCA9IHRydWU7XG4gICAgICAgIHRleHQgKz0gcGFydC50ZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9uVGV4dFBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYHRoZXJlIGFyZSBub24tdGV4dCBwYXJ0cyAke25vblRleHRQYXJ0c30gaW4gdGhlIHJlc3BvbnNlLCByZXR1cm5pbmcgY29uY2F0ZW5hdGlvbiBvZiBhbGwgdGV4dCBwYXJ0cy4gUGxlYXNlIHJlZmVyIHRvIHRoZSBub24gdGV4dCBwYXJ0cyBmb3IgYSBmdWxsIHJlc3BvbnNlIGZyb20gbW9kZWwuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIHBhcnQudGV4dCA9PT0gJycgaXMgZGlmZmVyZW50IGZyb20gcGFydC50ZXh0IGlzIG51bGxcbiAgICByZXR1cm4gYW55VGV4dFBhcnRUZXh0ID8gdGV4dCA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBmdW5jdGlvbiBjYWxscyBmcm9tXG4gICAqIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogSWYgdGhlcmUgYXJlIG5vIGZ1bmN0aW9uIGNhbGxzIGluIHRoZSByZXNwb25zZSwgdW5kZWZpbmVkIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNvbnRyb2xMaWdodEZ1bmN0aW9uRGVjbGFyYXRpb246IEZ1bmN0aW9uRGVjbGFyYXRpb24gPSB7XG4gICAqICAgbmFtZTogJ2NvbnRyb2xMaWdodCcsXG4gICAqICAgcGFyYW1ldGVyczoge1xuICAgKiAgIHR5cGU6IFR5cGUuT0JKRUNULFxuICAgKiAgIGRlc2NyaXB0aW9uOiAnU2V0IHRoZSBicmlnaHRuZXNzIGFuZCBjb2xvciB0ZW1wZXJhdHVyZSBvZiBhIHJvb20gbGlnaHQuJyxcbiAgICogICBwcm9wZXJ0aWVzOiB7XG4gICAqICAgICBicmlnaHRuZXNzOiB7XG4gICAqICAgICAgIHR5cGU6IFR5cGUuTlVNQkVSLFxuICAgKiAgICAgICBkZXNjcmlwdGlvbjpcbiAgICogICAgICAgICAnTGlnaHQgbGV2ZWwgZnJvbSAwIHRvIDEwMC4gWmVybyBpcyBvZmYgYW5kIDEwMCBpcyBmdWxsIGJyaWdodG5lc3MuJyxcbiAgICogICAgIH0sXG4gICAqICAgICBjb2xvclRlbXBlcmF0dXJlOiB7XG4gICAqICAgICAgIHR5cGU6IFR5cGUuU1RSSU5HLFxuICAgKiAgICAgICBkZXNjcmlwdGlvbjpcbiAgICogICAgICAgICAnQ29sb3IgdGVtcGVyYXR1cmUgb2YgdGhlIGxpZ2h0IGZpeHR1cmUgd2hpY2ggY2FuIGJlIGBkYXlsaWdodGAsIGBjb29sYCBvciBgd2FybWAuJyxcbiAgICogICAgIH0sXG4gICAqICAgfSxcbiAgICogICByZXF1aXJlZDogWydicmlnaHRuZXNzJywgJ2NvbG9yVGVtcGVyYXR1cmUnXSxcbiAgICogIH07XG4gICAqICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogICAgIGNvbnRlbnRzOiAnRGltIHRoZSBsaWdodHMgc28gdGhlIHJvb20gZmVlbHMgY296eSBhbmQgd2FybS4nLFxuICAgKiAgICAgY29uZmlnOiB7XG4gICAqICAgICAgIHRvb2xzOiBbe2Z1bmN0aW9uRGVjbGFyYXRpb25zOiBbY29udHJvbExpZ2h0RnVuY3Rpb25EZWNsYXJhdGlvbl19XSxcbiAgICogICAgICAgdG9vbENvbmZpZzoge1xuICAgKiAgICAgICAgIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZzoge1xuICAgKiAgICAgICAgICAgbW9kZTogRnVuY3Rpb25DYWxsaW5nQ29uZmlnTW9kZS5BTlksXG4gICAqICAgICAgICAgICBhbGxvd2VkRnVuY3Rpb25OYW1lczogWydjb250cm9sTGlnaHQnXSxcbiAgICogICAgICAgICB9LFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgfSxcbiAgICogICB9KTtcbiAgICogIGNvbnNvbGUuZGVidWcoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZnVuY3Rpb25DYWxscykpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldCBmdW5jdGlvbkNhbGxzKCk6IEZ1bmN0aW9uQ2FsbFtdIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbmRpZGF0ZXMgJiYgdGhpcy5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3RoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIGZ1bmN0aW9uIGNhbGxzIGZyb20gdGhlIGZpcnN0IG9uZS4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZnVuY3Rpb25DYWxscyA9IHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0c1xuICAgICAgPy5maWx0ZXIoKHBhcnQpID0+IHBhcnQuZnVuY3Rpb25DYWxsKVxuICAgICAgLm1hcCgocGFydCkgPT4gcGFydC5mdW5jdGlvbkNhbGwpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAoZnVuY3Rpb25DYWxsKTogZnVuY3Rpb25DYWxsIGlzIEZ1bmN0aW9uQ2FsbCA9PlxuICAgICAgICAgIGZ1bmN0aW9uQ2FsbCAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICBpZiAoZnVuY3Rpb25DYWxscz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb25DYWxscztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgZXhlY3V0YWJsZSBjb2RlIGZyb20gdGhlIGZpcnN0IGNhbmRpZGF0ZSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgdGhlIGV4ZWN1dGFibGUgY29kZSBmcm9tXG4gICAqIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogSWYgdGhlcmUgYXJlIG5vIGV4ZWN1dGFibGUgY29kZSBpbiB0aGUgcmVzcG9uc2UsIHVuZGVmaW5lZCB3aWxsIGJlXG4gICAqIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6XG4gICAqICAgICAnV2hhdCBpcyB0aGUgc3VtIG9mIHRoZSBmaXJzdCA1MCBwcmltZSBudW1iZXJzPyBHZW5lcmF0ZSBhbmQgcnVuIGNvZGUgZm9yIHRoZSBjYWxjdWxhdGlvbiwgYW5kIG1ha2Ugc3VyZSB5b3UgZ2V0IGFsbCA1MC4nXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICB0b29sczogW3tjb2RlRXhlY3V0aW9uOiB7fX1dLFxuICAgKiAgIH0sXG4gICAqIH0pO1xuICAgKlxuICAgKiBjb25zb2xlLmRlYnVnKHJlc3BvbnNlLmV4ZWN1dGFibGVDb2RlKTtcbiAgICogYGBgXG4gICAqL1xuICBnZXQgZXhlY3V0YWJsZUNvZGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbmRpZGF0ZXMgJiYgdGhpcy5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3RoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIGV4ZWN1dGFibGUgY29kZSBmcm9tIHRoZSBmaXJzdCBvbmUuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGV4ZWN1dGFibGVDb2RlID0gdGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzXG4gICAgICA/LmZpbHRlcigocGFydCkgPT4gcGFydC5leGVjdXRhYmxlQ29kZSlcbiAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuZXhlY3V0YWJsZUNvZGUpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAoZXhlY3V0YWJsZUNvZGUpOiBleGVjdXRhYmxlQ29kZSBpcyBFeGVjdXRhYmxlQ29kZSA9PlxuICAgICAgICAgIGV4ZWN1dGFibGVDb2RlICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgIGlmIChleGVjdXRhYmxlQ29kZT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBleGVjdXRhYmxlQ29kZT8uWzBdPy5jb2RlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBjb2RlIGV4ZWN1dGlvbiByZXN1bHQgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIGluIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgY29kZSBleGVjdXRpb24gcmVzdWx0IGZyb21cbiAgICogdGhlIGZpcnN0IG9uZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBJZiB0aGVyZSBhcmUgbm8gY29kZSBleGVjdXRpb24gcmVzdWx0IGluIHRoZSByZXNwb25zZSwgdW5kZWZpbmVkIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudCh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogICBjb250ZW50czpcbiAgICogICAgICdXaGF0IGlzIHRoZSBzdW0gb2YgdGhlIGZpcnN0IDUwIHByaW1lIG51bWJlcnM/IEdlbmVyYXRlIGFuZCBydW4gY29kZSBmb3IgdGhlIGNhbGN1bGF0aW9uLCBhbmQgbWFrZSBzdXJlIHlvdSBnZXQgYWxsIDUwLidcbiAgICogICBjb25maWc6IHtcbiAgICogICAgIHRvb2xzOiBbe2NvZGVFeGVjdXRpb246IHt9fV0sXG4gICAqICAgfSxcbiAgICogfSk7XG4gICAqXG4gICAqIGNvbnNvbGUuZGVidWcocmVzcG9uc2UuY29kZUV4ZWN1dGlvblJlc3VsdCk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0IGNvZGVFeGVjdXRpb25SZXN1bHQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbmRpZGF0ZXMgJiYgdGhpcy5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3RoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIGNvZGUgZXhlY3V0aW9uIHJlc3VsdCBmcm9tIHRoZSBmaXJzdCBvbmUuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGNvZGVFeGVjdXRpb25SZXN1bHQgPSB0aGlzLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHNcbiAgICAgID8uZmlsdGVyKChwYXJ0KSA9PiBwYXJ0LmNvZGVFeGVjdXRpb25SZXN1bHQpXG4gICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGVFeGVjdXRpb25SZXN1bHQpXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAoY29kZUV4ZWN1dGlvblJlc3VsdCk6IGNvZGVFeGVjdXRpb25SZXN1bHQgaXMgQ29kZUV4ZWN1dGlvblJlc3VsdCA9PlxuICAgICAgICAgIGNvZGVFeGVjdXRpb25SZXN1bHQgIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgaWYgKGNvZGVFeGVjdXRpb25SZXN1bHQ/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGVFeGVjdXRpb25SZXN1bHQ/LlswXT8ub3V0cHV0O1xuICB9XG59XG5cbmV4cG9ydCAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIGVtYmVkX2NvbnRlbnQgbWV0aG9kLiAqL1xuZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRDb250ZW50Q29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBUeXBlIG9mIHRhc2sgZm9yIHdoaWNoIHRoZSBlbWJlZGRpbmcgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgdGFza1R5cGU/OiBzdHJpbmc7XG4gIC8qKiBUaXRsZSBmb3IgdGhlIHRleHQuIE9ubHkgYXBwbGljYWJsZSB3aGVuIFRhc2tUeXBlIGlzXG4gICAgICBgUkVUUklFVkFMX0RPQ1VNRU5UYC5cbiAgICAgICAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIFJlZHVjZWQgZGltZW5zaW9uIGZvciB0aGUgb3V0cHV0IGVtYmVkZGluZy4gSWYgc2V0LFxuICAgICAgZXhjZXNzaXZlIHZhbHVlcyBpbiB0aGUgb3V0cHV0IGVtYmVkZGluZyBhcmUgdHJ1bmNhdGVkIGZyb20gdGhlIGVuZC5cbiAgICAgIFN1cHBvcnRlZCBieSBuZXdlciBtb2RlbHMgc2luY2UgMjAyNCBvbmx5LiBZb3UgY2Fubm90IHNldCB0aGlzIHZhbHVlIGlmXG4gICAgICB1c2luZyB0aGUgZWFybGllciBtb2RlbCAoYG1vZGVscy9lbWJlZGRpbmctMDAxYCkuXG4gICAgICAgKi9cbiAgb3V0cHV0RGltZW5zaW9uYWxpdHk/OiBudW1iZXI7XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGlucHV0LlxuICAgKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIFdoZXRoZXIgdG8gc2lsZW50bHkgdHJ1bmNhdGUgaW5wdXRzIGxvbmdlciB0aGFuXG4gICAgICB0aGUgbWF4IHNlcXVlbmNlIGxlbmd0aC4gSWYgdGhpcyBvcHRpb24gaXMgc2V0IHRvIGZhbHNlLCBvdmVyc2l6ZWQgaW5wdXRzXG4gICAgICB3aWxsIGxlYWQgdG8gYW4gSU5WQUxJRF9BUkdVTUVOVCBlcnJvciwgc2ltaWxhciB0byBvdGhlciB0ZXh0IEFQSXMuXG4gICAgICAgKi9cbiAgYXV0b1RydW5jYXRlPzogYm9vbGVhbjtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBlbWJlZF9jb250ZW50IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBFbWJlZENvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbGVhcm4vbW9kZWxzPmBfLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogVGhlIGNvbnRlbnQgdG8gZW1iZWQuIE9ubHkgdGhlIGBwYXJ0cy50ZXh0YCBmaWVsZHMgd2lsbCBiZSBjb3VudGVkLlxuICAgKi9cbiAgY29udGVudHM6IENvbnRlbnRMaXN0VW5pb247XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IEVtYmVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIFN0YXRpc3RpY3Mgb2YgdGhlIGlucHV0IHRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSByZXN1bHQgb2YgY29udGVudCBlbWJlZGRpbmcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3Mge1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBJZiB0aGUgaW5wdXQgdGV4dCB3YXMgdHJ1bmNhdGVkIGR1ZSB0byBoYXZpbmdcbiAgICAgIGEgbGVuZ3RoIGxvbmdlciB0aGFuIHRoZSBhbGxvd2VkIG1heGltdW0gaW5wdXQuXG4gICAgICAgKi9cbiAgdHJ1bmNhdGVkPzogYm9vbGVhbjtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gTnVtYmVyIG9mIHRva2VucyBvZiB0aGUgaW5wdXQgdGV4dC5cbiAgICovXG4gIHRva2VuQ291bnQ/OiBudW1iZXI7XG59XG5cbi8qKiBUaGUgZW1iZWRkaW5nIGdlbmVyYXRlZCBmcm9tIGFuIGlucHV0IGNvbnRlbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udGVudEVtYmVkZGluZyB7XG4gIC8qKiBBIGxpc3Qgb2YgZmxvYXRzIHJlcHJlc2VudGluZyBhbiBlbWJlZGRpbmcuXG4gICAqL1xuICB2YWx1ZXM/OiBudW1iZXJbXTtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gU3RhdGlzdGljcyBvZiB0aGUgaW5wdXQgdGV4dCBhc3NvY2lhdGVkIHdpdGggdGhpc1xuICAgICAgZW1iZWRkaW5nLlxuICAgICAgICovXG4gIHN0YXRpc3RpY3M/OiBDb250ZW50RW1iZWRkaW5nU3RhdGlzdGljcztcbn1cblxuLyoqIFJlcXVlc3QtbGV2ZWwgbWV0YWRhdGEgZm9yIHRoZSBWZXJ0ZXggRW1iZWQgQ29udGVudCBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRDb250ZW50TWV0YWRhdGEge1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBUaGUgdG90YWwgbnVtYmVyIG9mIGJpbGxhYmxlIGNoYXJhY3RlcnMgaW5jbHVkZWRcbiAgICAgIGluIHRoZSByZXF1ZXN0LlxuICAgICAgICovXG4gIGJpbGxhYmxlQ2hhcmFjdGVyQ291bnQ/OiBudW1iZXI7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgdGhlIGVtYmVkX2NvbnRlbnQgbWV0aG9kLiAqL1xuZXhwb3J0IGNsYXNzIEVtYmVkQ29udGVudFJlc3BvbnNlIHtcbiAgLyoqIFRoZSBlbWJlZGRpbmdzIGZvciBlYWNoIHJlcXVlc3QsIGluIHRoZSBzYW1lIG9yZGVyIGFzIHByb3ZpZGVkIGluXG4gICAgICB0aGUgYmF0Y2ggcmVxdWVzdC5cbiAgICAgICAqL1xuICBlbWJlZGRpbmdzPzogQ29udGVudEVtYmVkZGluZ1tdO1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBNZXRhZGF0YSBhYm91dCB0aGUgcmVxdWVzdC5cbiAgICovXG4gIG1ldGFkYXRhPzogRW1iZWRDb250ZW50TWV0YWRhdGE7XG59XG5cbi8qKiBUaGUgY29uZmlnIGZvciBnZW5lcmF0aW5nIGFuIGltYWdlcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZUltYWdlc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQ2xvdWQgU3RvcmFnZSBVUkkgdXNlZCB0byBzdG9yZSB0aGUgZ2VuZXJhdGVkIGltYWdlcy5cbiAgICovXG4gIG91dHB1dEdjc1VyaT86IHN0cmluZztcbiAgLyoqIERlc2NyaXB0aW9uIG9mIHdoYXQgdG8gZGlzY291cmFnZSBpbiB0aGUgZ2VuZXJhdGVkIGltYWdlcy5cbiAgICovXG4gIG5lZ2F0aXZlUHJvbXB0Pzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS5cbiAgICovXG4gIG51bWJlck9mSW1hZ2VzPzogbnVtYmVyO1xuICAvKiogQXNwZWN0IHJhdGlvIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLlxuICAgKi9cbiAgYXNwZWN0UmF0aW8/OiBzdHJpbmc7XG4gIC8qKiBDb250cm9scyBob3cgbXVjaCB0aGUgbW9kZWwgYWRoZXJlcyB0byB0aGUgdGV4dCBwcm9tcHQuIExhcmdlXG4gICAgICB2YWx1ZXMgaW5jcmVhc2Ugb3V0cHV0IGFuZCBwcm9tcHQgYWxpZ25tZW50LCBidXQgbWF5IGNvbXByb21pc2UgaW1hZ2VcbiAgICAgIHF1YWxpdHkuXG4gICAgICAgKi9cbiAgZ3VpZGFuY2VTY2FsZT86IG51bWJlcjtcbiAgLyoqIFJhbmRvbSBzZWVkIGZvciBpbWFnZSBnZW5lcmF0aW9uLiBUaGlzIGlzIG5vdCBhdmFpbGFibGUgd2hlblxuICAgICAgYGBhZGRfd2F0ZXJtYXJrYGAgaXMgc2V0IHRvIHRydWUuXG4gICAgICAgKi9cbiAgc2VlZD86IG51bWJlcjtcbiAgLyoqIEZpbHRlciBsZXZlbCBmb3Igc2FmZXR5IGZpbHRlcmluZy5cbiAgICovXG4gIHNhZmV0eUZpbHRlckxldmVsPzogU2FmZXR5RmlsdGVyTGV2ZWw7XG4gIC8qKiBBbGxvd3MgZ2VuZXJhdGlvbiBvZiBwZW9wbGUgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgcGVyc29uR2VuZXJhdGlvbj86IFBlcnNvbkdlbmVyYXRpb247XG4gIC8qKiBXaGV0aGVyIHRvIHJlcG9ydCB0aGUgc2FmZXR5IHNjb3JlcyBvZiBlYWNoIGdlbmVyYXRlZCBpbWFnZSBhbmRcbiAgICAgIHRoZSBwb3NpdGl2ZSBwcm9tcHQgaW4gdGhlIHJlc3BvbnNlLlxuICAgICAgICovXG4gIGluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgUmVzcG9uc2libGUgQUkgZmlsdGVyIHJlYXNvbiBpZiB0aGUgaW1hZ2VcbiAgICAgIGlzIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgKi9cbiAgaW5jbHVkZVJhaVJlYXNvbj86IGJvb2xlYW47XG4gIC8qKiBMYW5ndWFnZSBvZiB0aGUgdGV4dCBpbiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBJbWFnZVByb21wdExhbmd1YWdlO1xuICAvKiogTUlNRSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuXG4gICAqL1xuICBvdXRwdXRNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIENvbXByZXNzaW9uIHF1YWxpdHkgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZSAoZm9yIGBgaW1hZ2UvanBlZ2BgXG4gICAgICBvbmx5KS5cbiAgICAgICAqL1xuICBvdXRwdXRDb21wcmVzc2lvblF1YWxpdHk/OiBudW1iZXI7XG4gIC8qKiBXaGV0aGVyIHRvIGFkZCBhIHdhdGVybWFyayB0byB0aGUgZ2VuZXJhdGVkIGltYWdlcy5cbiAgICovXG4gIGFkZFdhdGVybWFyaz86IGJvb2xlYW47XG4gIC8qKiBXaGV0aGVyIHRvIHVzZSB0aGUgcHJvbXB0IHJld3JpdGluZyBsb2dpYy5cbiAgICovXG4gIGVuaGFuY2VQcm9tcHQ/OiBib29sZWFuO1xufVxuXG4vKiogVGhlIHBhcmFtZXRlcnMgZm9yIGdlbmVyYXRpbmcgaW1hZ2VzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIFRleHQgcHJvbXB0IHRoYXQgdHlwaWNhbGx5IGRlc2NyaWJlcyB0aGUgaW1hZ2VzIHRvIG91dHB1dC5cbiAgICovXG4gIHByb21wdDogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgZ2VuZXJhdGluZyBpbWFnZXMuXG4gICAqL1xuICBjb25maWc/OiBHZW5lcmF0ZUltYWdlc0NvbmZpZztcbn1cblxuLyoqIEFuIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEltYWdlIHtcbiAgLyoqIFRoZSBDbG91ZCBTdG9yYWdlIFVSSSBvZiB0aGUgaW1hZ2UuIGBgSW1hZ2VgYCBjYW4gY29udGFpbiBhIHZhbHVlXG4gICAgICBmb3IgdGhpcyBmaWVsZCBvciB0aGUgYGBpbWFnZV9ieXRlc2BgIGZpZWxkIGJ1dCBub3QgYm90aC5cbiAgICAgICAqL1xuICBnY3NVcmk/OiBzdHJpbmc7XG4gIC8qKiBUaGUgaW1hZ2UgYnl0ZXMgZGF0YS4gYGBJbWFnZWBgIGNhbiBjb250YWluIGEgdmFsdWUgZm9yIHRoaXMgZmllbGRcbiAgICAgIG9yIHRoZSBgYGdjc191cmlgYCBmaWVsZCBidXQgbm90IGJvdGguXG4gICAgICAgKi9cbiAgaW1hZ2VCeXRlcz86IHN0cmluZztcbiAgLyoqIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGltYWdlLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbn1cblxuLyoqIFNhZmV0eSBhdHRyaWJ1dGVzIG9mIGEgR2VuZXJhdGVkSW1hZ2Ugb3IgdGhlIHVzZXItcHJvdmlkZWQgcHJvbXB0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNhZmV0eUF0dHJpYnV0ZXMge1xuICAvKiogTGlzdCBvZiBSQUkgY2F0ZWdvcmllcy5cbiAgICovXG4gIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbiAgLyoqIExpc3Qgb2Ygc2NvcmVzIG9mIGVhY2ggY2F0ZWdvcmllcy5cbiAgICovXG4gIHNjb3Jlcz86IG51bWJlcltdO1xuICAvKiogSW50ZXJuYWwgdXNlIG9ubHkuXG4gICAqL1xuICBjb250ZW50VHlwZT86IHN0cmluZztcbn1cblxuLyoqIEFuIG91dHB1dCBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZWRJbWFnZSB7XG4gIC8qKiBUaGUgb3V0cHV0IGltYWdlIGRhdGEuXG4gICAqL1xuICBpbWFnZT86IEltYWdlO1xuICAvKiogUmVzcG9uc2libGUgQUkgZmlsdGVyIHJlYXNvbiBpZiB0aGUgaW1hZ2UgaXMgZmlsdGVyZWQgb3V0IG9mIHRoZVxuICAgICAgcmVzcG9uc2UuXG4gICAgICAgKi9cbiAgcmFpRmlsdGVyZWRSZWFzb24/OiBzdHJpbmc7XG4gIC8qKiBTYWZldHkgYXR0cmlidXRlcyBvZiB0aGUgaW1hZ2UuIExpc3RzIG9mIFJBSSBjYXRlZ29yaWVzIGFuZCB0aGVpclxuICAgICAgc2NvcmVzIG9mIGVhY2ggY29udGVudC5cbiAgICAgICAqL1xuICBzYWZldHlBdHRyaWJ1dGVzPzogU2FmZXR5QXR0cmlidXRlcztcbiAgLyoqIFRoZSByZXdyaXR0ZW4gcHJvbXB0IHVzZWQgZm9yIHRoZSBpbWFnZSBnZW5lcmF0aW9uIGlmIHRoZSBwcm9tcHRcbiAgICAgIGVuaGFuY2VyIGlzIGVuYWJsZWQuXG4gICAgICAgKi9cbiAgZW5oYW5jZWRQcm9tcHQ/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgb3V0cHV0IGltYWdlcyByZXNwb25zZS4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZUltYWdlc1Jlc3BvbnNlIHtcbiAgLyoqIExpc3Qgb2YgZ2VuZXJhdGVkIGltYWdlcy5cbiAgICovXG4gIGdlbmVyYXRlZEltYWdlcz86IEdlbmVyYXRlZEltYWdlW107XG4gIC8qKiBTYWZldHkgYXR0cmlidXRlcyBvZiB0aGUgcG9zaXRpdmUgcHJvbXB0LiBPbmx5IHBvcHVsYXRlZCBpZlxuICAgICAgYGBpbmNsdWRlX3NhZmV0eV9hdHRyaWJ1dGVzYGAgaXMgc2V0IHRvIFRydWUuXG4gICAgICAgKi9cbiAgcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzPzogU2FmZXR5QXR0cmlidXRlcztcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIG1vZGVscy5nZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldE1vZGVsQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRNb2RlbFBhcmFtZXRlcnMge1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEdldE1vZGVsQ29uZmlnO1xufVxuXG4vKiogQW4gZW5kcG9pbnQgd2hlcmUgeW91IGRlcGxveSBtb2RlbHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW5kcG9pbnQge1xuICAvKiogUmVzb3VyY2UgbmFtZSBvZiB0aGUgZW5kcG9pbnQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdGhhdCdzIGRlcGxveWVkIHRvIHRoZSBlbmRwb2ludC4gKi9cbiAgZGVwbG95ZWRNb2RlbElkPzogc3RyaW5nO1xufVxuXG4vKiogQSB0dW5lZCBtYWNoaW5lIGxlYXJuaW5nIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFR1bmVkTW9kZWxJbmZvIHtcbiAgLyoqIElEIG9mIHRoZSBiYXNlIG1vZGVsIHRoYXQgeW91IHdhbnQgdG8gdHVuZS4gKi9cbiAgYmFzZU1vZGVsPzogc3RyaW5nO1xuICAvKiogRGF0ZSBhbmQgdGltZSB3aGVuIHRoZSBiYXNlIG1vZGVsIHdhcyBjcmVhdGVkLiAqL1xuICBjcmVhdGVUaW1lPzogc3RyaW5nO1xuICAvKiogRGF0ZSBhbmQgdGltZSB3aGVuIHRoZSBiYXNlIG1vZGVsIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBBIHRyYWluZWQgbWFjaGluZSBsZWFybmluZyBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNb2RlbCB7XG4gIC8qKiBSZXNvdXJjZSBuYW1lIG9mIHRoZSBtb2RlbC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIERpc3BsYXkgbmFtZSBvZiB0aGUgbW9kZWwuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAvKiogRGVzY3JpcHRpb24gb2YgdGhlIG1vZGVsLiAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIFZlcnNpb24gSUQgb2YgdGhlIG1vZGVsLiBBIG5ldyB2ZXJzaW9uIGlzIGNvbW1pdHRlZCB3aGVuIGEgbmV3XG4gICAgICBtb2RlbCB2ZXJzaW9uIGlzIHVwbG9hZGVkIG9yIHRyYWluZWQgdW5kZXIgYW4gZXhpc3RpbmcgbW9kZWwgSUQuIFRoZVxuICAgICAgdmVyc2lvbiBJRCBpcyBhbiBhdXRvLWluY3JlbWVudGluZyBkZWNpbWFsIG51bWJlciBpbiBzdHJpbmdcbiAgICAgIHJlcHJlc2VudGF0aW9uLiAqL1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICAvKiogTGlzdCBvZiBkZXBsb3llZCBtb2RlbHMgY3JlYXRlZCBmcm9tIHRoaXMgYmFzZSBtb2RlbC4gTm90ZSB0aGF0IGFcbiAgICAgIG1vZGVsIGNvdWxkIGhhdmUgYmVlbiBkZXBsb3llZCB0byBlbmRwb2ludHMgaW4gZGlmZmVyZW50IGxvY2F0aW9ucy4gKi9cbiAgZW5kcG9pbnRzPzogRW5kcG9pbnRbXTtcbiAgLyoqIExhYmVscyB3aXRoIHVzZXItZGVmaW5lZCBtZXRhZGF0YSB0byBvcmdhbml6ZSB5b3VyIG1vZGVscy4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB0dW5lZCBtb2RlbCBmcm9tIHRoZSBiYXNlIG1vZGVsLiAqL1xuICB0dW5lZE1vZGVsSW5mbz86IFR1bmVkTW9kZWxJbmZvO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIGlucHV0IHRva2VucyB0aGF0IHRoZSBtb2RlbCBjYW4gaGFuZGxlLiAqL1xuICBpbnB1dFRva2VuTGltaXQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyB0aGF0IHRoZSBtb2RlbCBjYW4gZ2VuZXJhdGUuICovXG4gIG91dHB1dFRva2VuTGltaXQ/OiBudW1iZXI7XG4gIC8qKiBMaXN0IG9mIGFjdGlvbnMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbC4gKi9cbiAgc3VwcG9ydGVkQWN0aW9ucz86IHN0cmluZ1tdO1xufVxuXG4vKiogR2VuZXJhdGlvbiBjb25maWcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGlvbkNvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gSWYgZW5hYmxlZCwgYXVkaW8gdGltZXN0YW1wIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QgdG8gdGhlIG1vZGVsLiAqL1xuICBhdWRpb1RpbWVzdGFtcD86IGJvb2xlYW47XG4gIC8qKiBPcHRpb25hbC4gTnVtYmVyIG9mIGNhbmRpZGF0ZXMgdG8gZ2VuZXJhdGUuICovXG4gIGNhbmRpZGF0ZUNvdW50PzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIEZyZXF1ZW5jeSBwZW5hbHRpZXMuICovXG4gIGZyZXF1ZW5jeVBlbmFsdHk/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gTG9naXQgcHJvYmFiaWxpdGllcy4gKi9cbiAgbG9ncHJvYnM/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gVGhlIG1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdG8gZ2VuZXJhdGUgcGVyIG1lc3NhZ2UuICovXG4gIG1heE91dHB1dFRva2Vucz86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoZSBtZWRpYSByZXNvbHV0aW9uIHNwZWNpZmllZCB3aWxsIGJlIHVzZWQuICovXG4gIG1lZGlhUmVzb2x1dGlvbj86IE1lZGlhUmVzb2x1dGlvbjtcbiAgLyoqIE9wdGlvbmFsLiBQb3NpdGl2ZSBwZW5hbHRpZXMuICovXG4gIHByZXNlbmNlUGVuYWx0eT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiB0cnVlLCBleHBvcnQgdGhlIGxvZ3Byb2JzIHJlc3VsdHMgaW4gcmVzcG9uc2UuICovXG4gIHJlc3BvbnNlTG9ncHJvYnM/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIE91dHB1dCByZXNwb25zZSBtaW1ldHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGNhbmRpZGF0ZSB0ZXh0LiBTdXBwb3J0ZWQgbWltZXR5cGU6IC0gYHRleHQvcGxhaW5gOiAoZGVmYXVsdCkgVGV4dCBvdXRwdXQuIC0gYGFwcGxpY2F0aW9uL2pzb25gOiBKU09OIHJlc3BvbnNlIGluIHRoZSBjYW5kaWRhdGVzLiBUaGUgbW9kZWwgbmVlZHMgdG8gYmUgcHJvbXB0ZWQgdG8gb3V0cHV0IHRoZSBhcHByb3ByaWF0ZSByZXNwb25zZSB0eXBlLCBvdGhlcndpc2UgdGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZC4gVGhpcyBpcyBhIHByZXZpZXcgZmVhdHVyZS4gKi9cbiAgcmVzcG9uc2VNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgYFNjaGVtYWAgb2JqZWN0IGFsbG93cyB0aGUgZGVmaW5pdGlvbiBvZiBpbnB1dCBhbmQgb3V0cHV0IGRhdGEgdHlwZXMuIFRoZXNlIHR5cGVzIGNhbiBiZSBvYmplY3RzLCBidXQgYWxzbyBwcmltaXRpdmVzIGFuZCBhcnJheXMuIFJlcHJlc2VudHMgYSBzZWxlY3Qgc3Vic2V0IG9mIGFuIFtPcGVuQVBJIDMuMCBzY2hlbWEgb2JqZWN0XShodHRwczovL3NwZWMub3BlbmFwaXMub3JnL29hcy92My4wLjMjc2NoZW1hKS4gSWYgc2V0LCBhIGNvbXBhdGlibGUgcmVzcG9uc2VfbWltZV90eXBlIG11c3QgYWxzbyBiZSBzZXQuIENvbXBhdGlibGUgbWltZXR5cGVzOiBgYXBwbGljYXRpb24vanNvbmA6IFNjaGVtYSBmb3IgSlNPTiByZXNwb25zZS4gKi9cbiAgcmVzcG9uc2VTY2hlbWE/OiBTY2hlbWE7XG4gIC8qKiBPcHRpb25hbC4gUm91dGluZyBjb25maWd1cmF0aW9uLiAqL1xuICByb3V0aW5nQ29uZmlnPzogR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWc7XG4gIC8qKiBPcHRpb25hbC4gU2VlZC4gKi9cbiAgc2VlZD86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBTdG9wIHNlcXVlbmNlcy4gKi9cbiAgc3RvcFNlcXVlbmNlcz86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIENvbnRyb2xzIHRoZSByYW5kb21uZXNzIG9mIHByZWRpY3Rpb25zLiAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRvcC1rIHNhbXBsaW5nIHdpbGwgYmUgdXNlZC4gKi9cbiAgdG9wSz86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIG51Y2xldXMgc2FtcGxpbmcgd2lsbCBiZSB1c2VkLiAqL1xuICB0b3BQPzogbnVtYmVyO1xufVxuXG4vKiogQ29uZmlnIGZvciB0aGUgY291bnRfdG9rZW5zIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb3VudFRva2Vuc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogSW5zdHJ1Y3Rpb25zIGZvciB0aGUgbW9kZWwgdG8gc3RlZXIgaXQgdG93YXJkIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICovXG4gIHN5c3RlbUluc3RydWN0aW9uPzogQ29udGVudFVuaW9uO1xuICAvKiogQ29kZSB0aGF0IGVuYWJsZXMgdGhlIHN5c3RlbSB0byBpbnRlcmFjdCB3aXRoIGV4dGVybmFsIHN5c3RlbXMgdG9cbiAgICAgIHBlcmZvcm0gYW4gYWN0aW9uIG91dHNpZGUgb2YgdGhlIGtub3dsZWRnZSBhbmQgc2NvcGUgb2YgdGhlIG1vZGVsLlxuICAgICAgICovXG4gIHRvb2xzPzogVG9vbFtdO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IHRoZSBtb2RlbCB1c2VzIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZS4gTm90XG4gICAgICBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLlxuICAgICAgICovXG4gIGdlbmVyYXRpb25Db25maWc/OiBHZW5lcmF0aW9uQ29uZmlnO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgY291bnRpbmcgdG9rZW5zLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvdW50VG9rZW5zUGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIElucHV0IGNvbnRlbnQuICovXG4gIGNvbnRlbnRzOiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgY291bnRpbmcgdG9rZW5zLiAqL1xuICBjb25maWc/OiBDb3VudFRva2Vuc0NvbmZpZztcbn1cblxuLyoqIFJlc3BvbnNlIGZvciBjb3VudGluZyB0b2tlbnMuICovXG5leHBvcnQgY2xhc3MgQ291bnRUb2tlbnNSZXNwb25zZSB7XG4gIC8qKiBUb3RhbCBudW1iZXIgb2YgdG9rZW5zLiAqL1xuICB0b3RhbFRva2Vucz86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNhY2hlZCBwYXJ0IG9mIHRoZSBwcm9tcHQgKHRoZSBjYWNoZWQgY29udGVudCkuICovXG4gIGNhY2hlZENvbnRlbnRUb2tlbkNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgY29tcHV0aW5nIHRva2Vucy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb21wdXRlVG9rZW5zQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjb21wdXRpbmcgdG9rZW5zLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbXB1dGVUb2tlbnNQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbGVhcm4vbW9kZWxzPmBfLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogSW5wdXQgY29udGVudC4gKi9cbiAgY29udGVudHM6IENvbnRlbnRMaXN0VW5pb247XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbmZpZz86IENvbXB1dGVUb2tlbnNDb25maWc7XG59XG5cbi8qKiBUb2tlbnMgaW5mbyB3aXRoIGEgbGlzdCBvZiB0b2tlbnMgYW5kIHRoZSBjb3JyZXNwb25kaW5nIGxpc3Qgb2YgdG9rZW4gaWRzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRva2Vuc0luZm8ge1xuICAvKiogT3B0aW9uYWwuIE9wdGlvbmFsIGZpZWxkcyBmb3IgdGhlIHJvbGUgZnJvbSB0aGUgY29ycmVzcG9uZGluZyBDb250ZW50LiAqL1xuICByb2xlPzogc3RyaW5nO1xuICAvKiogQSBsaXN0IG9mIHRva2VuIGlkcyBmcm9tIHRoZSBpbnB1dC4gKi9cbiAgdG9rZW5JZHM/OiBzdHJpbmdbXTtcbiAgLyoqIEEgbGlzdCBvZiB0b2tlbnMgZnJvbSB0aGUgaW5wdXQuICovXG4gIHRva2Vucz86IHN0cmluZ1tdO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIGNvbXB1dGluZyB0b2tlbnMuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlIHtcbiAgLyoqIExpc3RzIG9mIHRva2VucyBpbmZvIGZyb20gdGhlIGlucHV0LiBBIENvbXB1dGVUb2tlbnNSZXF1ZXN0IGNvdWxkIGhhdmUgbXVsdGlwbGUgaW5zdGFuY2VzIHdpdGggYSBwcm9tcHQgaW4gZWFjaCBpbnN0YW5jZS4gV2UgYWxzbyBuZWVkIHRvIHJldHVybiBsaXN0cyBvZiB0b2tlbnMgaW5mbyBmb3IgdGhlIHJlcXVlc3Qgd2l0aCBtdWx0aXBsZSBpbnN0YW5jZXMuICovXG4gIHRva2Vuc0luZm8/OiBUb2tlbnNJbmZvW107XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBnZW5lcmF0aW5nIHZpZGVvcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogTnVtYmVyIG9mIG91dHB1dCB2aWRlb3MuICovXG4gIG51bWJlck9mVmlkZW9zPzogbnVtYmVyO1xuICAvKiogVGhlIGdjcyBidWNrZXQgd2hlcmUgdG8gc2F2ZSB0aGUgZ2VuZXJhdGVkIHZpZGVvcy4gKi9cbiAgb3V0cHV0R2NzVXJpPzogc3RyaW5nO1xuICAvKiogRnJhbWVzIHBlciBzZWNvbmQgZm9yIHZpZGVvIGdlbmVyYXRpb24uICovXG4gIGZwcz86IG51bWJlcjtcbiAgLyoqIER1cmF0aW9uIG9mIHRoZSBjbGlwIGZvciB2aWRlbyBnZW5lcmF0aW9uIGluIHNlY29uZHMuICovXG4gIGR1cmF0aW9uU2Vjb25kcz86IG51bWJlcjtcbiAgLyoqIFRoZSBSTkcgc2VlZC4gSWYgUk5HIHNlZWQgaXMgZXhhY3RseSBzYW1lIGZvciBlYWNoIHJlcXVlc3Qgd2l0aCB1bmNoYW5nZWQgaW5wdXRzLCB0aGUgcHJlZGljdGlvbiByZXN1bHRzIHdpbGwgYmUgY29uc2lzdGVudC4gT3RoZXJ3aXNlLCBhIHJhbmRvbSBSTkcgc2VlZCB3aWxsIGJlIHVzZWQgZWFjaCB0aW1lIHRvIHByb2R1Y2UgYSBkaWZmZXJlbnQgcmVzdWx0LiAqL1xuICBzZWVkPzogbnVtYmVyO1xuICAvKiogVGhlIGFzcGVjdCByYXRpbyBmb3IgdGhlIGdlbmVyYXRlZCB2aWRlby4gMTY6OSAobGFuZHNjYXBlKSBhbmQgOToxNiAocG9ydHJhaXQpIGFyZSBzdXBwb3J0ZWQuICovXG4gIGFzcGVjdFJhdGlvPzogc3RyaW5nO1xuICAvKiogVGhlIHJlc29sdXRpb24gZm9yIHRoZSBnZW5lcmF0ZWQgdmlkZW8uIDEyODB4NzIwLCAxOTIweDEwODAgYXJlIHN1cHBvcnRlZC4gKi9cbiAgcmVzb2x1dGlvbj86IHN0cmluZztcbiAgLyoqIFdoZXRoZXIgYWxsb3cgdG8gZ2VuZXJhdGUgcGVyc29uIHZpZGVvcywgYW5kIHJlc3RyaWN0IHRvIHNwZWNpZmljIGFnZXMuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlOiBkb250X2FsbG93LCBhbGxvd19hZHVsdC4gKi9cbiAgcGVyc29uR2VuZXJhdGlvbj86IHN0cmluZztcbiAgLyoqIFRoZSBwdWJzdWIgdG9waWMgd2hlcmUgdG8gcHVibGlzaCB0aGUgdmlkZW8gZ2VuZXJhdGlvbiBwcm9ncmVzcy4gKi9cbiAgcHVic3ViVG9waWM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBmaWVsZCBpbiBhZGRpdGlvbiB0byB0aGUgdGV4dCBjb250ZW50LiBOZWdhdGl2ZSBwcm9tcHRzIGNhbiBiZSBleHBsaWNpdGx5IHN0YXRlZCBoZXJlIHRvIGhlbHAgZ2VuZXJhdGUgdGhlIHZpZGVvLiAqL1xuICBuZWdhdGl2ZVByb21wdD86IHN0cmluZztcbiAgLyoqIFdoZXRoZXIgdG8gdXNlIHRoZSBwcm9tcHQgcmV3cml0aW5nIGxvZ2ljLiAqL1xuICBlbmhhbmNlUHJvbXB0PzogYm9vbGVhbjtcbn1cblxuLyoqIENsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBhbiBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBUaGUgdGV4dCBwcm9tcHQgZm9yIGdlbmVyYXRpbmcgdGhlIHZpZGVvcy4gT3B0aW9uYWwgZm9yIGltYWdlIHRvIHZpZGVvIHVzZSBjYXNlcy4gKi9cbiAgcHJvbXB0Pzogc3RyaW5nO1xuICAvKiogVGhlIGlucHV0IGltYWdlIGZvciBnZW5lcmF0aW5nIHRoZSB2aWRlb3MuXG4gICAgICBPcHRpb25hbCBpZiBwcm9tcHQgaXMgcHJvdmlkZWQuICovXG4gIGltYWdlPzogSW1hZ2U7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciBnZW5lcmF0aW5nIHZpZGVvcy4gKi9cbiAgY29uZmlnPzogR2VuZXJhdGVWaWRlb3NDb25maWc7XG59XG5cbi8qKiBBIGdlbmVyYXRlZCB2aWRlby4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWaWRlbyB7XG4gIC8qKiBQYXRoIHRvIGFub3RoZXIgc3RvcmFnZS4gKi9cbiAgdXJpPzogc3RyaW5nO1xuICAvKiogVmlkZW8gYnl0ZXMuICovXG4gIHZpZGVvQnl0ZXM/OiBzdHJpbmc7XG4gIC8qKiBWaWRlbyBlbmNvZGluZywgZm9yIGV4YW1wbGUgXCJ2aWRlby9tcDRcIi4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG59XG5cbi8qKiBBIGdlbmVyYXRlZCB2aWRlby4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZWRWaWRlbyB7XG4gIC8qKiBUaGUgb3V0cHV0IHZpZGVvICovXG4gIHZpZGVvPzogVmlkZW87XG59XG5cbi8qKiBSZXNwb25zZSB3aXRoIGdlbmVyYXRlZCB2aWRlb3MuICovXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVWaWRlb3NSZXNwb25zZSB7XG4gIC8qKiBMaXN0IG9mIHRoZSBnZW5lcmF0ZWQgdmlkZW9zICovXG4gIGdlbmVyYXRlZFZpZGVvcz86IEdlbmVyYXRlZFZpZGVvW107XG4gIC8qKiBSZXR1cm5zIGlmIGFueSB2aWRlb3Mgd2VyZSBmaWx0ZXJlZCBkdWUgdG8gUkFJIHBvbGljaWVzLiAqL1xuICByYWlNZWRpYUZpbHRlcmVkQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBSZXR1cm5zIHJhaSBmYWlsdXJlIHJlYXNvbnMgaWYgYW55LiAqL1xuICByYWlNZWRpYUZpbHRlcmVkUmVhc29ucz86IHN0cmluZ1tdO1xufVxuXG4vKiogQSB2aWRlbyBnZW5lcmF0aW9uIG9wZXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc09wZXJhdGlvbiB7XG4gIC8qKiBUaGUgc2VydmVyLWFzc2lnbmVkIG5hbWUsIHdoaWNoIGlzIG9ubHkgdW5pcXVlIHdpdGhpbiB0aGUgc2FtZSBzZXJ2aWNlIHRoYXQgb3JpZ2luYWxseSByZXR1cm5zIGl0LiBJZiB5b3UgdXNlIHRoZSBkZWZhdWx0IEhUVFAgbWFwcGluZywgdGhlIGBuYW1lYCBzaG91bGQgYmUgYSByZXNvdXJjZSBuYW1lIGVuZGluZyB3aXRoIGBvcGVyYXRpb25zL3t1bmlxdWVfaWR9YC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIFNlcnZpY2Utc3BlY2lmaWMgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBvcGVyYXRpb24uIEl0IHR5cGljYWxseSBjb250YWlucyBwcm9ncmVzcyBpbmZvcm1hdGlvbiBhbmQgY29tbW9uIG1ldGFkYXRhIHN1Y2ggYXMgY3JlYXRlIHRpbWUuIFNvbWUgc2VydmljZXMgbWlnaHQgbm90IHByb3ZpZGUgc3VjaCBtZXRhZGF0YS4gIEFueSBtZXRob2QgdGhhdCByZXR1cm5zIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbiBzaG91bGQgZG9jdW1lbnQgdGhlIG1ldGFkYXRhIHR5cGUsIGlmIGFueS4gKi9cbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIElmIHRoZSB2YWx1ZSBpcyBgZmFsc2VgLCBpdCBtZWFucyB0aGUgb3BlcmF0aW9uIGlzIHN0aWxsIGluIHByb2dyZXNzLiBJZiBgdHJ1ZWAsIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGVkLCBhbmQgZWl0aGVyIGBlcnJvcmAgb3IgYHJlc3BvbnNlYCBpcyBhdmFpbGFibGUuICovXG4gIGRvbmU/OiBib29sZWFuO1xuICAvKiogVGhlIGVycm9yIHJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uIGluIGNhc2Ugb2YgZmFpbHVyZSBvciBjYW5jZWxsYXRpb24uICovXG4gIGVycm9yPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBUaGUgZ2VuZXJhdGVkIHZpZGVvcy4gKi9cbiAgcmVzcG9uc2U/OiBHZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlO1xufVxuXG4vKiogT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgY2FjaGVkIGNvbnRlbnQgY3JlYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogVGhlIFRUTCBmb3IgdGhpcyByZXNvdXJjZS4gVGhlIGV4cGlyYXRpb24gdGltZSBpcyBjb21wdXRlZDogbm93ICsgVFRMLiBJdCBpcyBhIGR1cmF0aW9uIHN0cmluZywgd2l0aCB1cCB0byBuaW5lIGZyYWN0aW9uYWwgZGlnaXRzLCB0ZXJtaW5hdGVkIGJ5ICdzJy4gRXhhbXBsZTogXCIzLjVzXCIuICovXG4gIHR0bD86IHN0cmluZztcbiAgLyoqIFRpbWVzdGFtcCBvZiB3aGVuIHRoaXMgcmVzb3VyY2UgaXMgY29uc2lkZXJlZCBleHBpcmVkLiBVc2VzIFJGQyAzMzM5IGZvcm1hdCwgRXhhbXBsZTogMjAxNC0xMC0wMlQxNTowMToyM1ouICovXG4gIGV4cGlyZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgdXNlci1nZW5lcmF0ZWQgbWVhbmluZ2Z1bCBkaXNwbGF5IG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LlxuICAgKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY29udGVudCB0byBjYWNoZS5cbiAgICovXG4gIGNvbnRlbnRzPzogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIERldmVsb3BlciBzZXQgc3lzdGVtIGluc3RydWN0aW9uLlxuICAgKi9cbiAgc3lzdGVtSW5zdHJ1Y3Rpb24/OiBDb250ZW50VW5pb247XG4gIC8qKiBBIGxpc3Qgb2YgYFRvb2xzYCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSB0aGUgbmV4dCByZXNwb25zZS5cbiAgICovXG4gIHRvb2xzPzogVG9vbFtdO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHRvb2xzIHRvIHVzZS4gVGhpcyBjb25maWcgaXMgc2hhcmVkIGZvciBhbGwgdG9vbHMuXG4gICAqL1xuICB0b29sQ29uZmlnPzogVG9vbENvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNhY2hlcy5jcmVhdGUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEV4YW1wbGU6IGdlbWluaS0xLjUtZmxhc2ggKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogQ3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIE1ldGFkYXRhIG9uIHRoZSB1c2FnZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2FjaGVkQ29udGVudFVzYWdlTWV0YWRhdGEge1xuICAvKiogRHVyYXRpb24gb2YgYXVkaW8gaW4gc2Vjb25kcy4gKi9cbiAgYXVkaW9EdXJhdGlvblNlY29uZHM/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgaW1hZ2VzLiAqL1xuICBpbWFnZUNvdW50PzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRleHQgY2hhcmFjdGVycy4gKi9cbiAgdGV4dENvdW50PzogbnVtYmVyO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHRva2VucyB0aGF0IHRoZSBjYWNoZWQgY29udGVudCBjb25zdW1lcy4gKi9cbiAgdG90YWxUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogRHVyYXRpb24gb2YgdmlkZW8gaW4gc2Vjb25kcy4gKi9cbiAgdmlkZW9EdXJhdGlvblNlY29uZHM/OiBudW1iZXI7XG59XG5cbi8qKiBBIHJlc291cmNlIHVzZWQgaW4gTExNIHF1ZXJpZXMgZm9yIHVzZXJzIHRvIGV4cGxpY2l0bHkgc3BlY2lmeSB3aGF0IHRvIGNhY2hlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhY2hlZENvbnRlbnQge1xuICAvKiogVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgdXNlci1nZW5lcmF0ZWQgbWVhbmluZ2Z1bCBkaXNwbGF5IG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBwdWJsaXNoZXIgbW9kZWwgdG8gdXNlIGZvciBjYWNoZWQgY29udGVudC4gKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKiBDcmVhdGlvbiB0aW1lIG9mIHRoZSBjYWNoZSBlbnRyeS4gKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIFdoZW4gdGhlIGNhY2hlIGVudHJ5IHdhcyBsYXN0IHVwZGF0ZWQgaW4gVVRDIHRpbWUuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBFeHBpcmF0aW9uIHRpbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuICBleHBpcmVUaW1lPzogc3RyaW5nO1xuICAvKiogTWV0YWRhdGEgb24gdGhlIHVzYWdlIG9mIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgdXNhZ2VNZXRhZGF0YT86IENhY2hlZENvbnRlbnRVc2FnZU1ldGFkYXRhO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgY2FjaGVzLmdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0Q2FjaGVkQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgY2FjaGVzLmdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbmZpZz86IEdldENhY2hlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBjYWNoZXMuZGVsZXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEZWxldGVDYWNoZWRDb250ZW50Q29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMuZGVsZXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29uZmlnPzogRGVsZXRlQ2FjaGVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIEVtcHR5IHJlc3BvbnNlIGZvciBjYWNoZXMuZGVsZXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBEZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2Uge31cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNhY2hlcy51cGRhdGUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIFRoZSBUVEwgZm9yIHRoaXMgcmVzb3VyY2UuIFRoZSBleHBpcmF0aW9uIHRpbWUgaXMgY29tcHV0ZWQ6IG5vdyArIFRUTC4gSXQgaXMgYSBkdXJhdGlvbiBzdHJpbmcsIHdpdGggdXAgdG8gbmluZSBmcmFjdGlvbmFsIGRpZ2l0cywgdGVybWluYXRlZCBieSAncycuIEV4YW1wbGU6IFwiMy41c1wiLiAqL1xuICB0dGw/OiBzdHJpbmc7XG4gIC8qKiBUaW1lc3RhbXAgb2Ygd2hlbiB0aGlzIHJlc291cmNlIGlzIGNvbnNpZGVyZWQgZXhwaXJlZC4gVXNlcyBSRkMgMzMzOSBmb3JtYXQsIEV4YW1wbGU6IDIwMTQtMTAtMDJUMTU6MDE6MjNaLiAqL1xuICBleHBpcmVUaW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IFVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBDb25maWcgZm9yIGNhY2hlcy5saXN0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0Q2FjaGVkQ29udGVudHNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgcGFnZVNpemU/OiBudW1iZXI7XG4gIHBhZ2VUb2tlbj86IHN0cmluZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNhY2hlcy5saXN0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzIHtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogTGlzdENhY2hlZENvbnRlbnRzQ29uZmlnO1xufVxuXG5leHBvcnQgY2xhc3MgTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2Uge1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICAvKiogTGlzdCBvZiBjYWNoZWQgY29udGVudHMuXG4gICAqL1xuICBjYWNoZWRDb250ZW50cz86IENhY2hlZENvbnRlbnRbXTtcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0RmlsZXNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgcGFnZVNpemU/OiBudW1iZXI7XG4gIHBhZ2VUb2tlbj86IHN0cmluZztcbn1cblxuLyoqIEdlbmVyYXRlcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIGxpc3QgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpc3RGaWxlc1BhcmFtZXRlcnMge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBMaXN0RmlsZXNDb25maWc7XG59XG5cbi8qKiBTdGF0dXMgb2YgYSBGaWxlIHRoYXQgdXNlcyBhIGNvbW1vbiBlcnJvciBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBGaWxlU3RhdHVzIHtcbiAgLyoqIEEgbGlzdCBvZiBtZXNzYWdlcyB0aGF0IGNhcnJ5IHRoZSBlcnJvciBkZXRhaWxzLiBUaGVyZSBpcyBhIGNvbW1vbiBzZXQgb2YgbWVzc2FnZSB0eXBlcyBmb3IgQVBJcyB0byB1c2UuICovXG4gIGRldGFpbHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdO1xuICAvKiogQSBsaXN0IG9mIG1lc3NhZ2VzIHRoYXQgY2FycnkgdGhlIGVycm9yIGRldGFpbHMuIFRoZXJlIGlzIGEgY29tbW9uIHNldCBvZiBtZXNzYWdlIHR5cGVzIGZvciBBUElzIHRvIHVzZS4gKi9cbiAgbWVzc2FnZT86IHN0cmluZztcbiAgLyoqIFRoZSBzdGF0dXMgY29kZS4gMCBmb3IgT0ssIDEgZm9yIENBTkNFTExFRCAqL1xuICBjb2RlPzogbnVtYmVyO1xufVxuXG4vKiogQSBmaWxlIHVwbG9hZGVkIHRvIHRoZSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmlsZSB7XG4gIC8qKiBUaGUgYEZpbGVgIHJlc291cmNlIG5hbWUuIFRoZSBJRCAobmFtZSBleGNsdWRpbmcgdGhlIFwiZmlsZXMvXCIgcHJlZml4KSBjYW4gY29udGFpbiB1cCB0byA0MCBjaGFyYWN0ZXJzIHRoYXQgYXJlIGxvd2VyY2FzZSBhbHBoYW51bWVyaWMgb3IgZGFzaGVzICgtKS4gVGhlIElEIGNhbm5vdCBzdGFydCBvciBlbmQgd2l0aCBhIGRhc2guIElmIHRoZSBuYW1lIGlzIGVtcHR5IG9uIGNyZWF0ZSwgYSB1bmlxdWUgbmFtZSB3aWxsIGJlIGdlbmVyYXRlZC4gRXhhbXBsZTogYGZpbGVzLzEyMy00NTZgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVGhlIGh1bWFuLXJlYWRhYmxlIGRpc3BsYXkgbmFtZSBmb3IgdGhlIGBGaWxlYC4gVGhlIGRpc3BsYXkgbmFtZSBtdXN0IGJlIG5vIG1vcmUgdGhhbiA1MTIgY2hhcmFjdGVycyBpbiBsZW5ndGgsIGluY2x1ZGluZyBzcGFjZXMuIEV4YW1wbGU6ICdXZWxjb21lIEltYWdlJyAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBNSU1FIHR5cGUgb2YgdGhlIGZpbGUuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFNpemUgb2YgdGhlIGZpbGUgaW4gYnl0ZXMuICovXG4gIHNpemVCeXRlcz86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgdGltZXN0YW1wIG9mIHdoZW4gdGhlIGBGaWxlYCB3YXMgY3JlYXRlZC4gKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgdGltZXN0YW1wIG9mIHdoZW4gdGhlIGBGaWxlYCB3aWxsIGJlIGRlbGV0ZWQuIE9ubHkgc2V0IGlmIHRoZSBgRmlsZWAgaXMgc2NoZWR1bGVkIHRvIGV4cGlyZS4gKi9cbiAgZXhwaXJhdGlvblRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRmlsZWAgd2FzIGxhc3QgdXBkYXRlZC4gKi9cbiAgdXBkYXRlVGltZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBTSEEtMjU2IGhhc2ggb2YgdGhlIHVwbG9hZGVkIGJ5dGVzLiBUaGUgaGFzaCB2YWx1ZSBpcyBlbmNvZGVkIGluIGJhc2U2NCBmb3JtYXQuICovXG4gIHNoYTI1Nkhhc2g/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIFVSSSBvZiB0aGUgYEZpbGVgLiAqL1xuICB1cmk/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIFVSSSBvZiB0aGUgYEZpbGVgLCBvbmx5IHNldCBmb3IgZG93bmxvYWRhYmxlIChnZW5lcmF0ZWQpIGZpbGVzLiAqL1xuICBkb3dubG9hZFVyaT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBQcm9jZXNzaW5nIHN0YXRlIG9mIHRoZSBGaWxlLiAqL1xuICBzdGF0ZT86IEZpbGVTdGF0ZTtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgc291cmNlIG9mIHRoZSBgRmlsZWAuICovXG4gIHNvdXJjZT86IEZpbGVTb3VyY2U7XG4gIC8qKiBPdXRwdXQgb25seS4gTWV0YWRhdGEgZm9yIGEgdmlkZW8uICovXG4gIHZpZGVvTWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIE91dHB1dCBvbmx5LiBFcnJvciBzdGF0dXMgaWYgRmlsZSBwcm9jZXNzaW5nIGZhaWxlZC4gKi9cbiAgZXJyb3I/OiBGaWxlU3RhdHVzO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIHRoZSBsaXN0IGZpbGVzIG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0RmlsZXNSZXNwb25zZSB7XG4gIC8qKiBBIHRva2VuIHRvIHJldHJpZXZlIG5leHQgcGFnZSBvZiByZXN1bHRzLiAqL1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICAvKiogVGhlIGxpc3Qgb2YgZmlsZXMuICovXG4gIGZpbGVzPzogRmlsZVtdO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUZpbGVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqIEdlbmVyYXRlcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIHByaXZhdGUgX2NyZWF0ZSBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlRmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIGZpbGUgdG8gYmUgdXBsb2FkZWQuXG4gICAgICAgICAgICBtaW1lX3R5cGU6IChSZXF1aXJlZCkgVGhlIE1JTUUgdHlwZSBvZiB0aGUgZmlsZS4gTXVzdCBiZSBwcm92aWRlZC5cbiAgICAgICAgICAgIG5hbWU6IChPcHRpb25hbCkgVGhlIG5hbWUgb2YgdGhlIGZpbGUgaW4gdGhlIGRlc3RpbmF0aW9uIChlLmcuXG4gICAgICAgICAgICAnZmlsZXMvc2FtcGxlLWltYWdlJykuXG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6IChPcHRpb25hbCkgVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgZmlsZS5cbiAgICAgICAqL1xuICBmaWxlOiBGaWxlO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBDcmVhdGVGaWxlQ29uZmlnO1xufVxuXG4vKiogQSB3cmFwcGVyIGNsYXNzIGZvciB0aGUgaHR0cCByZXNwb25zZS4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIHByb2Nlc3NlZCBIVFRQIGhlYWRlcnMgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSBvcmlnaW5hbCBodHRwIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VJbnRlcm5hbDogUmVzcG9uc2U7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IFJlc3BvbnNlKSB7XG4gICAgLy8gUHJvY2VzcyB0aGUgaGVhZGVycy5cbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgZm9yIChjb25zdCBwYWlyIG9mIHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICBoZWFkZXJzW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICB9XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcblxuICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIHJlc3BvbnNlLlxuICAgIHRoaXMucmVzcG9uc2VJbnRlcm5hbCA9IHJlc3BvbnNlO1xuICB9XG5cbiAganNvbigpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZUludGVybmFsLmpzb24oKTtcbiAgfVxufVxuXG4vKiogQ2FsbGJhY2tzIGZvciB0aGUgbGl2ZSBBUEkuICovXG5leHBvcnQgaW50ZXJmYWNlIExpdmVDYWxsYmFja3Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkLlxuICAgKi9cbiAgb25vcGVuPzogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBvbm1lc3NhZ2U6IChlOiBMaXZlU2VydmVyTWVzc2FnZSkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAgICovXG4gIG9uZXJyb3I/OiAoKGU6IEVycm9yRXZlbnQpID0+IHZvaWQpIHwgbnVsbDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG4gICAqL1xuICBvbmNsb3NlPzogKChlOiBDbG9zZUV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgdXBsb2FkIGZpbGUgbWV0aG9kLiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRGaWxlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc3RyaW5nIHBhdGggdG8gdGhlIGZpbGUgdG8gYmUgdXBsb2FkZWQgb3IgYSBCbG9iIG9iamVjdC4gKi9cbiAgZmlsZTogc3RyaW5nIHwgZ2xvYmFsVGhpcy5CbG9iO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IGNvbnRhaW5zIG9wdGlvbmFsIHBhcmFtZXRlcnMuICovXG4gIGNvbmZpZz86IFVwbG9hZEZpbGVDb25maWc7XG59XG4vKiogUmVzcG9uc2UgZm9yIHRoZSBjcmVhdGUgZmlsZSBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgQ3JlYXRlRmlsZVJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRGaWxlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBnZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldEZpbGVQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIGlkZW50aWZpZXIgZm9yIHRoZSBmaWxlIHRvIHJldHJpZXZlLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEdldEZpbGVDb25maWc7XG59XG5cbi8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlRmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogR2VuZXJhdGVzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEZWxldGVGaWxlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgbmFtZSBpZGVudGlmaWVyIGZvciB0aGUgZmlsZSB0byBiZSBkZWxldGVkLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IERlbGV0ZUZpbGVDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgdGhlIGRlbGV0ZSBmaWxlIG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBEZWxldGVGaWxlUmVzcG9uc2Uge31cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldE9wZXJhdGlvbkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIEdFVCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0T3BlcmF0aW9uUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc2VydmVyLWFzc2lnbmVkIG5hbWUgZm9yIHRoZSBvcGVyYXRpb24uICovXG4gIG9wZXJhdGlvbk5hbWU6IHN0cmluZztcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogR2V0T3BlcmF0aW9uQ29uZmlnO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmV0Y2hQcmVkaWN0T3BlcmF0aW9uQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgZmV0Y2hQcmVkaWN0T3BlcmF0aW9uIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBGZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBzZXJ2ZXItYXNzaWduZWQgbmFtZSBmb3IgdGhlIG9wZXJhdGlvbi4gKi9cbiAgb3BlcmF0aW9uTmFtZTogc3RyaW5nO1xuICByZXNvdXJjZU5hbWU6IHN0cmluZztcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogRmV0Y2hQcmVkaWN0T3BlcmF0aW9uQ29uZmlnO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVGVzdFRhYmxlSXRlbSB7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgdGVzdC4gVGhpcyBpcyB1c2VkIHRvIGRlcml2ZSB0aGUgcmVwbGF5IGlkLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHBhcmFtZXRlcnMgdG8gdGhlIHRlc3QuIFVzZSBweWRhbnRpYyBtb2RlbHMuICovXG4gIHBhcmFtZXRlcnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIEV4cGVjdHMgYW4gZXhjZXB0aW9uIGZvciBNTERldiBtYXRjaGluZyB0aGUgc3RyaW5nLiAqL1xuICBleGNlcHRpb25JZk1sZGV2Pzogc3RyaW5nO1xuICAvKiogRXhwZWN0cyBhbiBleGNlcHRpb24gZm9yIFZlcnRleCBtYXRjaGluZyB0aGUgc3RyaW5nLiAqL1xuICBleGNlcHRpb25JZlZlcnRleD86IHN0cmluZztcbiAgLyoqIFVzZSBpZiB5b3UgZG9uJ3Qgd2FudCB0byB1c2UgdGhlIGRlZmF1bHQgcmVwbGF5IGlkIHdoaWNoIGlzIGRlcml2ZWQgZnJvbSB0aGUgdGVzdCBuYW1lLiAqL1xuICBvdmVycmlkZVJlcGxheUlkPzogc3RyaW5nO1xuICAvKiogVHJ1ZSBpZiB0aGUgcGFyYW1ldGVycyBjb250YWluIGFuIHVuc3VwcG9ydGVkIHVuaW9uIHR5cGUuIFRoaXMgdGVzdCAgd2lsbCBiZSBza2lwcGVkIGZvciBsYW5ndWFnZXMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgdW5pb24gdHlwZS4gKi9cbiAgaGFzVW5pb24/OiBib29sZWFuO1xuICAvKiogV2hlbiBzZXQgdG8gYSByZWFzb24gc3RyaW5nLCB0aGlzIHRlc3Qgd2lsbCBiZSBza2lwcGVkIGluIHRoZSBBUEkgbW9kZS4gVXNlIHRoaXMgZmxhZyBmb3IgdGVzdHMgdGhhdCBjYW4gbm90IGJlIHJlcHJvZHVjZWQgd2l0aCB0aGUgcmVhbCBBUEkuIEUuZy4gYSB0ZXN0IHRoYXQgZGVsZXRlcyBhIHJlc291cmNlLiAqL1xuICBza2lwSW5BcGlNb2RlPzogc3RyaW5nO1xuICAvKiogS2V5cyB0byBpZ25vcmUgd2hlbiBjb21wYXJpbmcgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlLiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGVzdHMgdGhhdCBhcmUgbm90IGRldGVybWluaXN0aWMuICovXG4gIGlnbm9yZUtleXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRlc3RUYWJsZUZpbGUge1xuICBjb21tZW50Pzogc3RyaW5nO1xuICB0ZXN0TWV0aG9kPzogc3RyaW5nO1xuICBwYXJhbWV0ZXJOYW1lcz86IHN0cmluZ1tdO1xuICB0ZXN0VGFibGU/OiBUZXN0VGFibGVJdGVtW107XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlcXVlc3QgaW4gYSByZXBsYXkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVwbGF5UmVxdWVzdCB7XG4gIG1ldGhvZD86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgYm9keVNlZ21lbnRzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbn1cblxuLyoqIFJlcHJlc2VudHMgYSBzaW5nbGUgcmVzcG9uc2UgaW4gYSByZXBsYXkuICovXG5leHBvcnQgY2xhc3MgUmVwbGF5UmVzcG9uc2Uge1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgYm9keVNlZ21lbnRzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbiAgc2RrUmVzcG9uc2VTZWdtZW50cz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+W107XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgc2luZ2xlIGludGVyYWN0aW9uLCByZXF1ZXN0IGFuZCByZXNwb25zZSBpbiBhIHJlcGxheS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZXBsYXlJbnRlcmFjdGlvbiB7XG4gIHJlcXVlc3Q/OiBSZXBsYXlSZXF1ZXN0O1xuICByZXNwb25zZT86IFJlcGxheVJlc3BvbnNlO1xufVxuXG4vKiogUmVwcmVzZW50cyBhIHJlY29yZGVkIHNlc3Npb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVwbGF5RmlsZSB7XG4gIHJlcGxheUlkPzogc3RyaW5nO1xuICBpbnRlcmFjdGlvbnM/OiBSZXBsYXlJbnRlcmFjdGlvbltdO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwbG9hZEZpbGVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIGluIHRoZSBkZXN0aW5hdGlvbiAoZS5nLiwgJ2ZpbGVzL3NhbXBsZS1pbWFnZScuIElmIG5vdCBwcm92aWRlZCBvbmUgd2lsbCBiZSBnZW5lcmF0ZWQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBtaW1lX3R5cGU6IFRoZSBNSU1FIHR5cGUgb2YgdGhlIGZpbGUuIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBiZSBpbmZlcnJlZCBmcm9tIHRoZSBmaWxlIGV4dGVuc2lvbi4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBkaXNwbGF5IG5hbWUgb2YgdGhlIGZpbGUuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERvd25sb2FkRmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgdXBzY2FsaW5nIGFuIGltYWdlLlxuXG4gIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoaXMgY29uZmlndXJhdGlvbiwgcmVmZXIgdG9cbiAgdGhlIGBJbWFnZW4gQVBJIHJlZmVyZW5jZSBkb2N1bWVudGF0aW9uXG4gIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9tb2RlbC1yZWZlcmVuY2UvaW1hZ2VuLWFwaT5gXy5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBzY2FsZUltYWdlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBXaGV0aGVyIHRvIGluY2x1ZGUgYSByZWFzb24gZm9yIGZpbHRlcmVkLW91dCBpbWFnZXMgaW4gdGhlXG4gICAgICByZXNwb25zZS4gKi9cbiAgaW5jbHVkZVJhaVJlYXNvbj86IGJvb2xlYW47XG4gIC8qKiBUaGUgaW1hZ2UgZm9ybWF0IHRoYXQgdGhlIG91dHB1dCBzaG91bGQgYmUgc2F2ZWQgYXMuICovXG4gIG91dHB1dE1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogVGhlIGxldmVsIG9mIGNvbXByZXNzaW9uIGlmIHRoZSBgYG91dHB1dF9taW1lX3R5cGVgYCBpc1xuICAgICAgYGBpbWFnZS9qcGVnYGAuICovXG4gIG91dHB1dENvbXByZXNzaW9uUXVhbGl0eT86IG51bWJlcjtcbn1cblxuLyoqIFVzZXItZmFjaW5nIGNvbmZpZyBVcHNjYWxlSW1hZ2VQYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwc2NhbGVJbWFnZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIG1vZGVsIHRvIHVzZS4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIFRoZSBpbnB1dCBpbWFnZSB0byB1cHNjYWxlLiAqL1xuICBpbWFnZTogSW1hZ2U7XG4gIC8qKiBUaGUgZmFjdG9yIHRvIHVwc2NhbGUgdGhlIGltYWdlICh4MiBvciB4NCkuICovXG4gIHVwc2NhbGVGYWN0b3I6IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHVwc2NhbGluZy4gKi9cbiAgY29uZmlnPzogVXBzY2FsZUltYWdlQ29uZmlnO1xufVxuXG4vKiogQSByYXcgcmVmZXJlbmNlIGltYWdlLlxuXG4gIEEgcmF3IHJlZmVyZW5jZSBpbWFnZSByZXByZXNlbnRzIHRoZSBiYXNlIGltYWdlIHRvIGVkaXQsIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLlxuICBJdCBjYW4gb3B0aW9uYWxseSBiZSBwcm92aWRlZCBpbiBhZGRpdGlvbiB0byBhIG1hc2sgcmVmZXJlbmNlIGltYWdlIG9yXG4gIGEgc3R5bGUgcmVmZXJlbmNlIGltYWdlLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSYXdSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBNYXNrIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNYXNrUmVmZXJlbmNlQ29uZmlnIHtcbiAgLyoqIFByb21wdHMgdGhlIG1vZGVsIHRvIGdlbmVyYXRlIGEgbWFzayBpbnN0ZWFkIG9mIHlvdSBuZWVkaW5nIHRvXG4gICAgICBwcm92aWRlIG9uZSAodW5sZXNzIE1BU0tfTU9ERV9VU0VSX1BST1ZJREVEIGlzIHVzZWQpLiAqL1xuICBtYXNrTW9kZT86IE1hc2tSZWZlcmVuY2VNb2RlO1xuICAvKiogQSBsaXN0IG9mIHVwIHRvIDUgY2xhc3MgaWRzIHRvIHVzZSBmb3Igc2VtYW50aWMgc2VnbWVudGF0aW9uLlxuICAgICAgQXV0b21hdGljYWxseSBjcmVhdGVzIGFuIGltYWdlIG1hc2sgYmFzZWQgb24gc3BlY2lmaWMgb2JqZWN0cy4gKi9cbiAgc2VnbWVudGF0aW9uQ2xhc3Nlcz86IG51bWJlcltdO1xuICAvKiogRGlsYXRpb24gcGVyY2VudGFnZSBvZiB0aGUgbWFzayBwcm92aWRlZC5cbiAgICAgIEZsb2F0IGJldHdlZW4gMCBhbmQgMS4gKi9cbiAgbWFza0RpbGF0aW9uPzogbnVtYmVyO1xufVxuXG4vKiogQSBtYXNrIHJlZmVyZW5jZSBpbWFnZS5cblxuICBUaGlzIGVuY2Fwc3VsYXRlcyBlaXRoZXIgYSBtYXNrIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyIGFuZCBjb25maWdzIGZvclxuICB0aGUgdXNlciBwcm92aWRlZCBtYXNrLCBvciBvbmx5IGNvbmZpZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWwgdG8gZ2VuZXJhdGVcbiAgYSBtYXNrLlxuXG4gIEEgbWFzayBpbWFnZSBpcyBhbiBpbWFnZSB3aG9zZSBub24temVybyB2YWx1ZXMgaW5kaWNhdGUgd2hlcmUgdG8gZWRpdCB0aGUgYmFzZVxuICBpbWFnZS4gSWYgdGhlIHVzZXIgcHJvdmlkZXMgYSBtYXNrIGltYWdlLCB0aGUgbWFzayBtdXN0IGJlIGluIHRoZSBzYW1lXG4gIGRpbWVuc2lvbnMgYXMgdGhlIHJhdyBpbWFnZS5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTWFza1JlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgbWFzayByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IE1hc2tSZWZlcmVuY2VDb25maWc7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIENvbnRyb2wgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRyb2xSZWZlcmVuY2VDb25maWcge1xuICAvKiogVGhlIHR5cGUgb2YgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UgdG8gdXNlLiAqL1xuICBjb250cm9sVHlwZT86IENvbnRyb2xSZWZlcmVuY2VUeXBlO1xuICAvKiogRGVmYXVsdHMgdG8gRmFsc2UuIFdoZW4gc2V0IHRvIFRydWUsIHRoZSBjb250cm9sIGltYWdlIHdpbGwgYmVcbiAgICAgIGNvbXB1dGVkIGJ5IHRoZSBtb2RlbCBiYXNlZCBvbiB0aGUgY29udHJvbCB0eXBlLiBXaGVuIHNldCB0byBGYWxzZSxcbiAgICAgIHRoZSBjb250cm9sIGltYWdlIG11c3QgYmUgcHJvdmlkZWQgYnkgdGhlIHVzZXIuICovXG4gIGVuYWJsZUNvbnRyb2xJbWFnZUNvbXB1dGF0aW9uPzogYm9vbGVhbjtcbn1cblxuLyoqIEEgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UuXG5cbiAgVGhlIGltYWdlIG9mIHRoZSBjb250cm9sIHJlZmVyZW5jZSBpbWFnZSBpcyBlaXRoZXIgYSBjb250cm9sIGltYWdlIHByb3ZpZGVkXG4gIGJ5IHRoZSB1c2VyLCBvciBhIHJlZ3VsYXIgaW1hZ2Ugd2hpY2ggdGhlIGJhY2tlbmQgd2lsbCB1c2UgdG8gZ2VuZXJhdGUgYVxuICBjb250cm9sIGltYWdlIG9mLiBJbiB0aGUgY2FzZSBvZiB0aGUgbGF0dGVyLCB0aGVcbiAgZW5hYmxlX2NvbnRyb2xfaW1hZ2VfY29tcHV0YXRpb24gZmllbGQgaW4gdGhlIGNvbmZpZyBzaG91bGQgYmUgc2V0IHRvIFRydWUuXG5cbiAgQSBjb250cm9sIGltYWdlIGlzIGFuIGltYWdlIHRoYXQgcmVwcmVzZW50cyBhIHNrZXRjaCBpbWFnZSBvZiBhcmVhcyBmb3IgdGhlXG4gIG1vZGVsIHRvIGZpbGwgaW4gYmFzZWQgb24gdGhlIHByb21wdC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udHJvbFJlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IENvbnRyb2xSZWZlcmVuY2VDb25maWc7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIFN0eWxlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdHlsZVJlZmVyZW5jZUNvbmZpZyB7XG4gIC8qKiBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIHN0eWxlIHRvIHVzZSBmb3IgdGhlIGdlbmVyYXRlZCBpbWFnZS4gKi9cbiAgc3R5bGVEZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuLyoqIEEgc3R5bGUgcmVmZXJlbmNlIGltYWdlLlxuXG4gIFRoaXMgZW5jYXBzdWxhdGVzIGEgc3R5bGUgcmVmZXJlbmNlIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLCBhbmRcbiAgYWRkaXRpb25hbGx5IG9wdGlvbmFsIGNvbmZpZyBwYXJhbWV0ZXJzIGZvciB0aGUgc3R5bGUgcmVmZXJlbmNlIGltYWdlLlxuXG4gIEEgcmF3IHJlZmVyZW5jZSBpbWFnZSBjYW4gYWxzbyBiZSBwcm92aWRlZCBhcyBhIGRlc3RpbmF0aW9uIGZvciB0aGUgc3R5bGUgdG9cbiAgYmUgYXBwbGllZCB0by5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3R5bGVSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHN0eWxlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgY29uZmlnPzogU3R5bGVSZWZlcmVuY2VDb25maWc7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIFN1YmplY3QgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFN1YmplY3RSZWZlcmVuY2VDb25maWcge1xuICAvKiogVGhlIHN1YmplY3QgdHlwZSBvZiBhIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLiAqL1xuICBzdWJqZWN0VHlwZT86IFN1YmplY3RSZWZlcmVuY2VUeXBlO1xuICAvKiogU3ViamVjdCBkZXNjcmlwdGlvbiBmb3IgdGhlIGltYWdlLiAqL1xuICBzdWJqZWN0RGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbi8qKiBBIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLlxuXG4gIFRoaXMgZW5jYXBzdWxhdGVzIGEgc3ViamVjdCByZWZlcmVuY2UgaW1hZ2UgcHJvdmlkZWQgYnkgdGhlIHVzZXIsIGFuZFxuICBhZGRpdGlvbmFsbHkgb3B0aW9uYWwgY29uZmlnIHBhcmFtZXRlcnMgZm9yIHRoZSBzdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS5cblxuICBBIHJhdyByZWZlcmVuY2UgaW1hZ2UgY2FuIGFsc28gYmUgcHJvdmlkZWQgYXMgYSBkZXN0aW5hdGlvbiBmb3IgdGhlIHN1YmplY3QgdG9cbiAgYmUgYXBwbGllZCB0by5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3ViamVjdFJlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgc3ViamVjdCByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IFN1YmplY3RSZWZlcmVuY2VDb25maWc7XG59XG5cbi8qKiBTZW50IGluIHJlc3BvbnNlIHRvIGEgYExpdmVHZW5lcmF0ZUNvbnRlbnRTZXR1cGAgbWVzc2FnZSBmcm9tIHRoZSBjbGllbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlcnZlclNldHVwQ29tcGxldGUge31cblxuLyoqIEluY3JlbWVudGFsIHNlcnZlciB1cGRhdGUgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byBjbGllbnQgbWVzc2FnZXMuXG5cbiAgQ29udGVudCBpcyBnZW5lcmF0ZWQgYXMgcXVpY2tseSBhcyBwb3NzaWJsZSwgYW5kIG5vdCBpbiByZWFsIHRpbWUuIENsaWVudHNcbiAgbWF5IGNob29zZSB0byBidWZmZXIgYW5kIHBsYXkgaXQgb3V0IGluIHJlYWwgdGltZS5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlcnZlckNvbnRlbnQge1xuICAvKiogVGhlIGNvbnRlbnQgdGhhdCB0aGUgbW9kZWwgaGFzIGdlbmVyYXRlZCBhcyBwYXJ0IG9mIHRoZSBjdXJyZW50IGNvbnZlcnNhdGlvbiB3aXRoIHRoZSB1c2VyLiAqL1xuICBtb2RlbFR1cm4/OiBDb250ZW50O1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGlzIGRvbmUgZ2VuZXJhdGluZy4gR2VuZXJhdGlvbiB3aWxsIG9ubHkgc3RhcnQgaW4gcmVzcG9uc2UgdG8gYWRkaXRpb25hbCBjbGllbnQgbWVzc2FnZXMuIENhbiBiZSBzZXQgYWxvbmdzaWRlIGBjb250ZW50YCwgaW5kaWNhdGluZyB0aGF0IHRoZSBgY29udGVudGAgaXMgdGhlIGxhc3QgaW4gdGhlIHR1cm4uICovXG4gIHR1cm5Db21wbGV0ZT86IGJvb2xlYW47XG4gIC8qKiBJZiB0cnVlLCBpbmRpY2F0ZXMgdGhhdCBhIGNsaWVudCBtZXNzYWdlIGhhcyBpbnRlcnJ1cHRlZCBjdXJyZW50IG1vZGVsIGdlbmVyYXRpb24uIElmIHRoZSBjbGllbnQgaXMgcGxheWluZyBvdXQgdGhlIGNvbnRlbnQgaW4gcmVhbHRpbWUsIHRoaXMgaXMgYSBnb29kIHNpZ25hbCB0byBzdG9wIGFuZCBlbXB0eSB0aGUgY3VycmVudCBxdWV1ZS4gKi9cbiAgaW50ZXJydXB0ZWQ/OiBib29sZWFuO1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGlzIGRvbmUgZ2VuZXJhdGluZy4gV2hlbiBtb2RlbCBpc1xuICAgICAgaW50ZXJydXB0ZWQgd2hpbGUgZ2VuZXJhdGluZyB0aGVyZSB3aWxsIGJlIG5vIGdlbmVyYXRpb25fY29tcGxldGUgbWVzc2FnZVxuICAgICAgaW4gaW50ZXJydXB0ZWQgdHVybiwgaXQgd2lsbCBnbyB0aHJvdWdoIGludGVycnVwdGVkID4gdHVybl9jb21wbGV0ZS5cbiAgICAgIFdoZW4gbW9kZWwgYXNzdW1lcyByZWFsdGltZSBwbGF5YmFjayB0aGVyZSB3aWxsIGJlIGRlbGF5IGJldHdlZW5cbiAgICAgIGdlbmVyYXRpb25fY29tcGxldGUgYW5kIHR1cm5fY29tcGxldGUgdGhhdCBpcyBjYXVzZWQgYnkgbW9kZWxcbiAgICAgIHdhaXRpbmcgZm9yIHBsYXliYWNrIHRvIGZpbmlzaC4gSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsXG4gICAgICBoYXMgZmluaXNoZWQgZ2VuZXJhdGluZyBhbGwgY29udGVudC4gVGhpcyBpcyBhIHNpZ25hbCB0byB0aGUgY2xpZW50XG4gICAgICB0aGF0IGl0IGNhbiBzdG9wIHNlbmRpbmcgbWVzc2FnZXMuICovXG4gIGdlbmVyYXRpb25Db21wbGV0ZT86IGJvb2xlYW47XG59XG5cbi8qKiBSZXF1ZXN0IGZvciB0aGUgY2xpZW50IHRvIGV4ZWN1dGUgdGhlIGBmdW5jdGlvbl9jYWxsc2AgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VzIHdpdGggdGhlIG1hdGNoaW5nIGBpZGBzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJUb29sQ2FsbCB7XG4gIC8qKiBUaGUgZnVuY3Rpb24gY2FsbCB0byBiZSBleGVjdXRlZC4gKi9cbiAgZnVuY3Rpb25DYWxscz86IEZ1bmN0aW9uQ2FsbFtdO1xufVxuXG4vKiogTm90aWZpY2F0aW9uIGZvciB0aGUgY2xpZW50IHRoYXQgYSBwcmV2aW91c2x5IGlzc3VlZCBgVG9vbENhbGxNZXNzYWdlYCB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYHMgc2hvdWxkIGhhdmUgYmVlbiBub3QgZXhlY3V0ZWQgYW5kIHNob3VsZCBiZSBjYW5jZWxsZWQuXG5cbiAgSWYgdGhlcmUgd2VyZSBzaWRlLWVmZmVjdHMgdG8gdGhvc2UgdG9vbCBjYWxscywgY2xpZW50cyBtYXkgYXR0ZW1wdCB0byB1bmRvXG4gIHRoZSB0b29sIGNhbGxzLiBUaGlzIG1lc3NhZ2Ugb2NjdXJzIG9ubHkgaW4gY2FzZXMgd2hlcmUgdGhlIGNsaWVudHMgaW50ZXJydXB0XG4gIHNlcnZlciB0dXJucy5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uIHtcbiAgLyoqIFRoZSBpZHMgb2YgdGhlIHRvb2wgY2FsbHMgdG8gYmUgY2FuY2VsbGVkLiAqL1xuICBpZHM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIFVzYWdlIG1ldGFkYXRhIGFib3V0IHJlc3BvbnNlKHMpLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVzYWdlTWV0YWRhdGEge1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcHJvbXB0LiBXaGVuIGBjYWNoZWRfY29udGVudGAgaXMgc2V0LCB0aGlzIGlzIHN0aWxsIHRoZSB0b3RhbCBlZmZlY3RpdmUgcHJvbXB0IHNpemUgbWVhbmluZyB0aGlzIGluY2x1ZGVzIHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgcHJvbXB0VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNhY2hlZCBwYXJ0IG9mIHRoZSBwcm9tcHQgKHRoZSBjYWNoZWQgY29udGVudCkuICovXG4gIGNhY2hlZENvbnRlbnRUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHRva2VucyBhY3Jvc3MgYWxsIHRoZSBnZW5lcmF0ZWQgcmVzcG9uc2UgY2FuZGlkYXRlcy4gKi9cbiAgcmVzcG9uc2VUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBwcmVzZW50IGluIHRvb2wtdXNlIHByb21wdChzKS4gKi9cbiAgdG9vbFVzZVByb21wdFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIG9mIHRob3VnaHRzIGZvciB0aGlua2luZyBtb2RlbHMuICovXG4gIHRob3VnaHRzVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIFRvdGFsIHRva2VuIGNvdW50IGZvciBwcm9tcHQsIHJlc3BvbnNlIGNhbmRpZGF0ZXMsIGFuZCB0b29sLXVzZSBwcm9tcHRzKGlmIHByZXNlbnQpLiAqL1xuICB0b3RhbFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHByb2Nlc3NlZCBpbiB0aGUgcmVxdWVzdCBpbnB1dC4gKi9cbiAgcHJvbXB0VG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSBwcm9jZXNzZWQgaW4gdGhlIGNhY2hlIGlucHV0LiAqL1xuICBjYWNoZVRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIExpc3Qgb2YgbW9kYWxpdGllcyB0aGF0IHdlcmUgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICByZXNwb25zZVRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIExpc3Qgb2YgbW9kYWxpdGllcyB0aGF0IHdlcmUgcHJvY2Vzc2VkIGluIHRoZSB0b29sLXVzZSBwcm9tcHQuICovXG4gIHRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBUcmFmZmljIHR5cGUuIFRoaXMgc2hvd3Mgd2hldGhlciBhIHJlcXVlc3QgY29uc3VtZXMgUGF5LUFzLVlvdS1Hb1xuIG9yIFByb3Zpc2lvbmVkIFRocm91Z2hwdXQgcXVvdGEuICovXG4gIHRyYWZmaWNUeXBlPzogVHJhZmZpY1R5cGU7XG59XG5cbi8qKiBTZXJ2ZXIgd2lsbCBub3QgYmUgYWJsZSB0byBzZXJ2aWNlIGNsaWVudCBzb29uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJHb0F3YXkge1xuICAvKiogVGhlIHJlbWFpbmluZyB0aW1lIGJlZm9yZSB0aGUgY29ubmVjdGlvbiB3aWxsIGJlIHRlcm1pbmF0ZWQgYXMgQUJPUlRFRC4gVGhlIG1pbmltYWwgdGltZSByZXR1cm5lZCBoZXJlIGlzIHNwZWNpZmllZCBkaWZmZXJlbnRseSB0b2dldGhlciB3aXRoIHRoZSByYXRlIGxpbWl0cyBmb3IgYSBnaXZlbiBtb2RlbC4gKi9cbiAgdGltZUxlZnQ/OiBzdHJpbmc7XG59XG5cbi8qKiBVcGRhdGUgb2YgdGhlIHNlc3Npb24gcmVzdW1wdGlvbiBzdGF0ZS5cblxuICBPbmx5IHNlbnQgaWYgYHNlc3Npb25fcmVzdW1wdGlvbmAgd2FzIHNldCBpbiB0aGUgY29ubmVjdGlvbiBjb25maWcuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSB7XG4gIC8qKiBOZXcgaGFuZGxlIHRoYXQgcmVwcmVzZW50cyBzdGF0ZSB0aGF0IGNhbiBiZSByZXN1bWVkLiBFbXB0eSBpZiBgcmVzdW1hYmxlYD1mYWxzZS4gKi9cbiAgbmV3SGFuZGxlPzogc3RyaW5nO1xuICAvKiogVHJ1ZSBpZiBzZXNzaW9uIGNhbiBiZSByZXN1bWVkIGF0IHRoaXMgcG9pbnQuIEl0IG1pZ2h0IGJlIG5vdCBwb3NzaWJsZSB0byByZXN1bWUgc2Vzc2lvbiBhdCBzb21lIHBvaW50cy4gSW4gdGhhdCBjYXNlIHdlIHNlbmQgdXBkYXRlIGVtcHR5IG5ld19oYW5kbGUgYW5kIHJlc3VtYWJsZT1mYWxzZS4gRXhhbXBsZSBvZiBzdWNoIGNhc2UgY291bGQgYmUgbW9kZWwgZXhlY3V0aW5nIGZ1bmN0aW9uIGNhbGxzIG9yIGp1c3QgZ2VuZXJhdGluZy4gUmVzdW1pbmcgc2Vzc2lvbiAodXNpbmcgcHJldmlvdXMgc2Vzc2lvbiB0b2tlbikgaW4gc3VjaCBzdGF0ZSB3aWxsIHJlc3VsdCBpbiBzb21lIGRhdGEgbG9zcy4gKi9cbiAgcmVzdW1hYmxlPzogYm9vbGVhbjtcbiAgLyoqIEluZGV4IG9mIGxhc3QgbWVzc2FnZSBzZW50IGJ5IGNsaWVudCB0aGF0IGlzIGluY2x1ZGVkIGluIHN0YXRlIHJlcHJlc2VudGVkIGJ5IHRoaXMgU2Vzc2lvblJlc3VtcHRpb25Ub2tlbi4gT25seSBzZW50IHdoZW4gYFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnLnRyYW5zcGFyZW50YCBpcyBzZXQuXG5cblByZXNlbmNlIG9mIHRoaXMgaW5kZXggYWxsb3dzIHVzZXJzIHRvIHRyYW5zcGFyZW50bHkgcmVjb25uZWN0IGFuZCBhdm9pZCBpc3N1ZSBvZiBsb3Npbmcgc29tZSBwYXJ0IG9mIHJlYWx0aW1lIGF1ZGlvIGlucHV0L3ZpZGVvLiBJZiBjbGllbnQgd2lzaGVzIHRvIHRlbXBvcmFyaWx5IGRpc2Nvbm5lY3QgKGZvciBleGFtcGxlIGFzIHJlc3VsdCBvZiByZWNlaXZpbmcgR29Bd2F5KSB0aGV5IGNhbiBkbyBpdCB3aXRob3V0IGxvc2luZyBzdGF0ZSBieSBidWZmZXJpbmcgbWVzc2FnZXMgc2VudCBzaW5jZSBsYXN0IGBTZXNzaW9uUmVzbXVtcHRpb25Ub2tlblVwZGF0ZWAuIFRoaXMgZmllbGQgd2lsbCBlbmFibGUgdGhlbSB0byBsaW1pdCBidWZmZXJpbmcgKGF2b2lkIGtlZXBpbmcgYWxsIHJlcXVlc3RzIGluIFJBTSkuXG5cbk5vdGU6IFRoaXMgc2hvdWxkIG5vdCBiZSB1c2VkIGZvciB3aGVuIHJlc3VtaW5nIGEgc2Vzc2lvbiBhdCBzb21lIHRpbWUgbGF0ZXIgLS0gaW4gdGhvc2UgY2FzZXMgcGFydGlhbCBhdWRpbyBhbmQgdmlkZW8gZnJhbWVzIGFyZWxpa2VseSBub3QgbmVlZGVkLiAqL1xuICBsYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXg/OiBzdHJpbmc7XG59XG5cbi8qKiBSZXNwb25zZSBtZXNzYWdlIGZvciBBUEkgY2FsbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyTWVzc2FnZSB7XG4gIC8qKiBTZW50IGluIHJlc3BvbnNlIHRvIGEgYExpdmVDbGllbnRTZXR1cGAgbWVzc2FnZSBmcm9tIHRoZSBjbGllbnQuICovXG4gIHNldHVwQ29tcGxldGU/OiBMaXZlU2VydmVyU2V0dXBDb21wbGV0ZTtcbiAgLyoqIENvbnRlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byBjbGllbnQgbWVzc2FnZXMuICovXG4gIHNlcnZlckNvbnRlbnQ/OiBMaXZlU2VydmVyQ29udGVudDtcbiAgLyoqIFJlcXVlc3QgZm9yIHRoZSBjbGllbnQgdG8gZXhlY3V0ZSB0aGUgYGZ1bmN0aW9uX2NhbGxzYCBhbmQgcmV0dXJuIHRoZSByZXNwb25zZXMgd2l0aCB0aGUgbWF0Y2hpbmcgYGlkYHMuICovXG4gIHRvb2xDYWxsPzogTGl2ZVNlcnZlclRvb2xDYWxsO1xuICAvKiogTm90aWZpY2F0aW9uIGZvciB0aGUgY2xpZW50IHRoYXQgYSBwcmV2aW91c2x5IGlzc3VlZCBgVG9vbENhbGxNZXNzYWdlYCB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYHMgc2hvdWxkIGhhdmUgYmVlbiBub3QgZXhlY3V0ZWQgYW5kIHNob3VsZCBiZSBjYW5jZWxsZWQuICovXG4gIHRvb2xDYWxsQ2FuY2VsbGF0aW9uPzogTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uO1xuICAvKiogVXNhZ2UgbWV0YWRhdGEgYWJvdXQgbW9kZWwgcmVzcG9uc2UocykuICovXG4gIHVzYWdlTWV0YWRhdGE/OiBVc2FnZU1ldGFkYXRhO1xuICAvKiogU2VydmVyIHdpbGwgZGlzY29ubmVjdCBzb29uLiAqL1xuICBnb0F3YXk/OiBMaXZlU2VydmVyR29Bd2F5O1xuICAvKiogVXBkYXRlIG9mIHRoZSBzZXNzaW9uIHJlc3VtcHRpb24gc3RhdGUuICovXG4gIHNlc3Npb25SZXN1bXB0aW9uVXBkYXRlPzogTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlO1xufVxuXG4vKiogQ29uZmlndXJlcyBhdXRvbWF0aWMgZGV0ZWN0aW9uIG9mIGFjdGl2aXR5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uIHtcbiAgLyoqIElmIGVuYWJsZWQsIGRldGVjdGVkIHZvaWNlIGFuZCB0ZXh0IGlucHV0IGNvdW50IGFzIGFjdGl2aXR5LiBJZiBkaXNhYmxlZCwgdGhlIGNsaWVudCBtdXN0IHNlbmQgYWN0aXZpdHkgc2lnbmFscy4gKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKiogRGV0ZXJtaW5lcyBob3cgbGlrZWx5IHNwZWVjaCBpcyB0byBiZSBkZXRlY3RlZC4gKi9cbiAgc3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5PzogU3RhcnRTZW5zaXRpdml0eTtcbiAgLyoqIERldGVybWluZXMgaG93IGxpa2VseSBkZXRlY3RlZCBzcGVlY2ggaXMgZW5kZWQuICovXG4gIGVuZE9mU3BlZWNoU2Vuc2l0aXZpdHk/OiBFbmRTZW5zaXRpdml0eTtcbiAgLyoqIFRoZSByZXF1aXJlZCBkdXJhdGlvbiBvZiBkZXRlY3RlZCBzcGVlY2ggYmVmb3JlIHN0YXJ0LW9mLXNwZWVjaCBpcyBjb21taXR0ZWQuIFRoZSBsb3dlciB0aGlzIHZhbHVlIHRoZSBtb3JlIHNlbnNpdGl2ZSB0aGUgc3RhcnQtb2Ytc3BlZWNoIGRldGVjdGlvbiBpcyBhbmQgdGhlIHNob3J0ZXIgc3BlZWNoIGNhbiBiZSByZWNvZ25pemVkLiBIb3dldmVyLCB0aGlzIGFsc28gaW5jcmVhc2VzIHRoZSBwcm9iYWJpbGl0eSBvZiBmYWxzZSBwb3NpdGl2ZXMuICovXG4gIHByZWZpeFBhZGRpbmdNcz86IG51bWJlcjtcbiAgLyoqIFRoZSByZXF1aXJlZCBkdXJhdGlvbiBvZiBkZXRlY3RlZCBub24tc3BlZWNoIChlLmcuIHNpbGVuY2UpIGJlZm9yZSBlbmQtb2Ytc3BlZWNoIGlzIGNvbW1pdHRlZC4gVGhlIGxhcmdlciB0aGlzIHZhbHVlLCB0aGUgbG9uZ2VyIHNwZWVjaCBnYXBzIGNhbiBiZSB3aXRob3V0IGludGVycnVwdGluZyB0aGUgdXNlcidzIGFjdGl2aXR5IGJ1dCB0aGlzIHdpbGwgaW5jcmVhc2UgdGhlIG1vZGVsJ3MgbGF0ZW5jeS4gKi9cbiAgc2lsZW5jZUR1cmF0aW9uTXM/OiBudW1iZXI7XG59XG5cbi8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuXG5cbiAgVGhpcyBjYW4gb25seSBiZSBzZW50IGlmIGF1dG9tYXRpYyAoaS5lLiBzZXJ2ZXItc2lkZSkgYWN0aXZpdHkgZGV0ZWN0aW9uIGlzXG4gIGRpc2FibGVkLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZWFsdGltZUlucHV0Q29uZmlnIHtcbiAgLyoqIElmIG5vdCBzZXQsIGF1dG9tYXRpYyBhY3Rpdml0eSBkZXRlY3Rpb24gaXMgZW5hYmxlZCBieSBkZWZhdWx0LiBJZiBhdXRvbWF0aWMgdm9pY2UgZGV0ZWN0aW9uIGlzIGRpc2FibGVkLCB0aGUgY2xpZW50IG11c3Qgc2VuZCBhY3Rpdml0eSBzaWduYWxzLiAqL1xuICBhdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbj86IEF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uO1xuICAvKiogRGVmaW5lcyB3aGF0IGVmZmVjdCBhY3Rpdml0eSBoYXMuICovXG4gIGFjdGl2aXR5SGFuZGxpbmc/OiBBY3Rpdml0eUhhbmRsaW5nO1xuICAvKiogRGVmaW5lcyB3aGljaCBpbnB1dCBpcyBpbmNsdWRlZCBpbiB0aGUgdXNlcidzIHR1cm4uICovXG4gIHR1cm5Db3ZlcmFnZT86IFR1cm5Db3ZlcmFnZTtcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gb2Ygc2Vzc2lvbiByZXN1bXB0aW9uIG1lY2hhbmlzbS5cblxuICBJbmNsdWRlZCBpbiBgTGl2ZUNvbm5lY3RDb25maWcuc2Vzc2lvbl9yZXN1bXB0aW9uYC4gSWYgaW5jbHVkZWQgc2VydmVyXG4gIHdpbGwgc2VuZCBgTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlYCBtZXNzYWdlcy5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2Vzc2lvblJlc3VtcHRpb25Db25maWcge1xuICAvKiogU2Vzc2lvbiByZXN1bXB0aW9uIGhhbmRsZSBvZiBwcmV2aW91cyBzZXNzaW9uIChzZXNzaW9uIHRvIHJlc3RvcmUpLlxuXG5JZiBub3QgcHJlc2VudCBuZXcgc2Vzc2lvbiB3aWxsIGJlIHN0YXJ0ZWQuICovXG4gIGhhbmRsZT86IHN0cmluZztcbiAgLyoqIElmIHNldCB0aGUgc2VydmVyIHdpbGwgc2VuZCBgbGFzdF9jb25zdW1lZF9jbGllbnRfbWVzc2FnZV9pbmRleGAgaW4gdGhlIGBzZXNzaW9uX3Jlc3VtcHRpb25fdXBkYXRlYCBtZXNzYWdlcyB0byBhbGxvdyBmb3IgdHJhbnNwYXJlbnQgcmVjb25uZWN0aW9ucy4gKi9cbiAgdHJhbnNwYXJlbnQ/OiBib29sZWFuO1xufVxuXG4vKiogQ29udGV4dCB3aW5kb3cgd2lsbCBiZSB0cnVuY2F0ZWQgYnkga2VlcGluZyBvbmx5IHN1ZmZpeCBvZiBpdC5cblxuICBDb250ZXh0IHdpbmRvdyB3aWxsIGFsd2F5cyBiZSBjdXQgYXQgc3RhcnQgb2YgVVNFUiByb2xlIHR1cm4uIFN5c3RlbVxuICBpbnN0cnVjdGlvbnMgYW5kIGBCaWRpR2VuZXJhdGVDb250ZW50U2V0dXAucHJlZml4X3R1cm5zYCB3aWxsIG5vdCBiZVxuICBzdWJqZWN0IHRvIHRoZSBzbGlkaW5nIHdpbmRvdyBtZWNoYW5pc20sIHRoZXkgd2lsbCBhbHdheXMgc3RheSBhdCB0aGVcbiAgYmVnaW5uaW5nIG9mIGNvbnRleHQgd2luZG93LlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTbGlkaW5nV2luZG93IHtcbiAgLyoqIFNlc3Npb24gcmVkdWN0aW9uIHRhcmdldCAtLSBob3cgbWFueSB0b2tlbnMgd2Ugc2hvdWxkIGtlZXAuIFdpbmRvdyBzaG9ydGVuaW5nIG9wZXJhdGlvbiBoYXMgc29tZSBsYXRlbmN5IGNvc3RzLCBzbyB3ZSBzaG91bGQgYXZvaWQgcnVubmluZyBpdCBvbiBldmVyeSB0dXJuLiBTaG91bGQgYmUgPCB0cmlnZ2VyX3Rva2Vucy4gSWYgbm90IHNldCwgdHJpZ2dlcl90b2tlbnMvMiBpcyBhc3N1bWVkLiAqL1xuICB0YXJnZXRUb2tlbnM/OiBzdHJpbmc7XG59XG5cbi8qKiBFbmFibGVzIGNvbnRleHQgd2luZG93IGNvbXByZXNzaW9uIC0tIG1lY2hhbmlzbSBtYW5hZ2luZyBtb2RlbCBjb250ZXh0IHdpbmRvdyBzbyBpdCBkb2VzIG5vdCBleGNlZWQgZ2l2ZW4gbGVuZ3RoLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZyB7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIChiZWZvcmUgcnVubmluZyB0dXJuKSB0aGF0IHRyaWdnZXJzIGNvbnRleHQgd2luZG93IGNvbXByZXNzaW9uIG1lY2hhbmlzbS4gKi9cbiAgdHJpZ2dlclRva2Vucz86IHN0cmluZztcbiAgLyoqIFNsaWRpbmcgd2luZG93IGNvbXByZXNzaW9uIG1lY2hhbmlzbS4gKi9cbiAgc2xpZGluZ1dpbmRvdz86IFNsaWRpbmdXaW5kb3c7XG59XG5cbi8qKiBNZXNzYWdlIGNvbnRhaW5zIGNvbmZpZ3VyYXRpb24gdGhhdCB3aWxsIGFwcGx5IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHN0cmVhbWluZyBzZXNzaW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDbGllbnRTZXR1cCB7XG4gIC8qKiBcbiAgICAgIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZSBvZiB0aGUgcHVibGlzaGVyIG1vZGVsIG9yIHR1bmVkIG1vZGVsIGVuZHBvaW50IHRvXG4gICAgICB1c2UuXG4gICAgICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKiBUaGUgZ2VuZXJhdGlvbiBjb25maWd1cmF0aW9uIGZvciB0aGUgc2Vzc2lvbi5cbiAgICAgIE5vdGU6IG9ubHkgYSBzdWJzZXQgb2YgZmllbGRzIGFyZSBzdXBwb3J0ZWQuXG4gICAgICAgKi9cbiAgZ2VuZXJhdGlvbkNvbmZpZz86IEdlbmVyYXRpb25Db25maWc7XG4gIC8qKiBUaGUgdXNlciBwcm92aWRlZCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIGZvciB0aGUgbW9kZWwuXG4gICAgICBOb3RlOiBvbmx5IHRleHQgc2hvdWxkIGJlIHVzZWQgaW4gcGFydHMgYW5kIGNvbnRlbnQgaW4gZWFjaCBwYXJ0IHdpbGwgYmVcbiAgICAgIGluIGEgc2VwYXJhdGUgcGFyYWdyYXBoLiAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnQ7XG4gIC8qKiAgQSBsaXN0IG9mIGBUb29sc2AgdGhlIG1vZGVsIG1heSB1c2UgdG8gZ2VuZXJhdGUgdGhlIG5leHQgcmVzcG9uc2UuXG5cbiAgICAgIEEgYFRvb2xgIGlzIGEgcGllY2Ugb2YgY29kZSB0aGF0IGVuYWJsZXMgdGhlIHN5c3RlbSB0byBpbnRlcmFjdCB3aXRoXG4gICAgICBleHRlcm5hbCBzeXN0ZW1zIHRvIHBlcmZvcm0gYW4gYWN0aW9uLCBvciBzZXQgb2YgYWN0aW9ucywgb3V0c2lkZSBvZlxuICAgICAga25vd2xlZGdlIGFuZCBzY29wZSBvZiB0aGUgbW9kZWwuICovXG4gIHRvb2xzPzogVG9vbExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyZXMgdGhlIHJlYWx0aW1lIGlucHV0IGJlaGF2aW9yIGluIEJpZGlHZW5lcmF0ZUNvbnRlbnQuICovXG4gIHJlYWx0aW1lSW5wdXRDb25maWc/OiBSZWFsdGltZUlucHV0Q29uZmlnO1xuICAvKiogQ29uZmlndXJlcyBzZXNzaW9uIHJlc3VtcHRpb24gbWVjaGFuaXNtLlxuXG4gICAgICAgICAgSWYgaW5jbHVkZWQgc2VydmVyIHdpbGwgc2VuZCBTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSBtZXNzYWdlcy4gKi9cbiAgc2Vzc2lvblJlc3VtcHRpb24/OiBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgY29udGV4dCB3aW5kb3cgY29tcHJlc3Npb24gbWVjaGFuaXNtLlxuXG4gICAgICBJZiBpbmNsdWRlZCwgc2VydmVyIHdpbGwgY29tcHJlc3MgY29udGV4dCB3aW5kb3cgdG8gZml0IGludG8gZ2l2ZW4gbGVuZ3RoLiAqL1xuICBjb250ZXh0V2luZG93Q29tcHJlc3Npb24/OiBDb250ZXh0V2luZG93Q29tcHJlc3Npb25Db25maWc7XG59XG5cbi8qKiBJbmNyZW1lbnRhbCB1cGRhdGUgb2YgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIGRlbGl2ZXJlZCBmcm9tIHRoZSBjbGllbnQuXG5cbiAgQWxsIHRoZSBjb250ZW50IGhlcmUgd2lsbCB1bmNvbmRpdGlvbmFsbHkgYmUgYXBwZW5kZWQgdG8gdGhlIGNvbnZlcnNhdGlvblxuICBoaXN0b3J5IGFuZCB1c2VkIGFzIHBhcnQgb2YgdGhlIHByb21wdCB0byB0aGUgbW9kZWwgdG8gZ2VuZXJhdGUgY29udGVudC5cblxuICBBIG1lc3NhZ2UgaGVyZSB3aWxsIGludGVycnVwdCBhbnkgY3VycmVudCBtb2RlbCBnZW5lcmF0aW9uLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50Q29udGVudCB7XG4gIC8qKiBUaGUgY29udGVudCBhcHBlbmRlZCB0byB0aGUgY3VycmVudCBjb252ZXJzYXRpb24gd2l0aCB0aGUgbW9kZWwuXG5cbiAgICAgIEZvciBzaW5nbGUtdHVybiBxdWVyaWVzLCB0aGlzIGlzIGEgc2luZ2xlIGluc3RhbmNlLiBGb3IgbXVsdGktdHVyblxuICAgICAgcXVlcmllcywgdGhpcyBpcyBhIHJlcGVhdGVkIGZpZWxkIHRoYXQgY29udGFpbnMgY29udmVyc2F0aW9uIGhpc3RvcnkgYW5kXG4gICAgICBsYXRlc3QgcmVxdWVzdC5cbiAgICAgICAqL1xuICB0dXJucz86IENvbnRlbnRbXTtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBzZXJ2ZXIgY29udGVudCBnZW5lcmF0aW9uIHNob3VsZCBzdGFydCB3aXRoXG4gIHRoZSBjdXJyZW50bHkgYWNjdW11bGF0ZWQgcHJvbXB0LiBPdGhlcndpc2UsIHRoZSBzZXJ2ZXIgd2lsbCBhd2FpdFxuICBhZGRpdGlvbmFsIG1lc3NhZ2VzIGJlZm9yZSBzdGFydGluZyBnZW5lcmF0aW9uLiAqL1xuICB0dXJuQ29tcGxldGU/OiBib29sZWFuO1xufVxuXG4vKiogTWFya3MgdGhlIHN0YXJ0IG9mIHVzZXIgYWN0aXZpdHkuXG5cbiAgVGhpcyBjYW4gb25seSBiZSBzZW50IGlmIGF1dG9tYXRpYyAoaS5lLiBzZXJ2ZXItc2lkZSkgYWN0aXZpdHkgZGV0ZWN0aW9uIGlzXG4gIGRpc2FibGVkLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBY3Rpdml0eVN0YXJ0IHt9XG5cbi8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuXG5cbiAgVGhpcyBjYW4gb25seSBiZSBzZW50IGlmIGF1dG9tYXRpYyAoaS5lLiBzZXJ2ZXItc2lkZSkgYWN0aXZpdHkgZGV0ZWN0aW9uIGlzXG4gIGRpc2FibGVkLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBY3Rpdml0eUVuZCB7fVxuXG4vKiogVXNlciBpbnB1dCB0aGF0IGlzIHNlbnQgaW4gcmVhbCB0aW1lLlxuXG4gIFRoaXMgaXMgZGlmZmVyZW50IGZyb20gYExpdmVDbGllbnRDb250ZW50YCBpbiBhIGZldyB3YXlzOlxuXG4gICAgLSBDYW4gYmUgc2VudCBjb250aW51b3VzbHkgd2l0aG91dCBpbnRlcnJ1cHRpb24gdG8gbW9kZWwgZ2VuZXJhdGlvbi5cbiAgICAtIElmIHRoZXJlIGlzIGEgbmVlZCB0byBtaXggZGF0YSBpbnRlcmxlYXZlZCBhY3Jvc3MgdGhlXG4gICAgICBgTGl2ZUNsaWVudENvbnRlbnRgIGFuZCB0aGUgYExpdmVDbGllbnRSZWFsdGltZUlucHV0YCwgc2VydmVyIGF0dGVtcHRzIHRvXG4gICAgICBvcHRpbWl6ZSBmb3IgYmVzdCByZXNwb25zZSwgYnV0IHRoZXJlIGFyZSBubyBndWFyYW50ZWVzLlxuICAgIC0gRW5kIG9mIHR1cm4gaXMgbm90IGV4cGxpY2l0bHkgc3BlY2lmaWVkLCBidXQgaXMgcmF0aGVyIGRlcml2ZWQgZnJvbSB1c2VyXG4gICAgICBhY3Rpdml0eSAoZm9yIGV4YW1wbGUsIGVuZCBvZiBzcGVlY2gpLlxuICAgIC0gRXZlbiBiZWZvcmUgdGhlIGVuZCBvZiB0dXJuLCB0aGUgZGF0YSBpcyBwcm9jZXNzZWQgaW5jcmVtZW50YWxseVxuICAgICAgdG8gb3B0aW1pemUgZm9yIGEgZmFzdCBzdGFydCBvZiB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwuXG4gICAgLSBJcyBhbHdheXMgYXNzdW1lZCB0byBiZSB0aGUgdXNlcidzIGlucHV0IChjYW5ub3QgYmUgdXNlZCB0byBwb3B1bGF0ZVxuICAgICAgY29udmVyc2F0aW9uIGhpc3RvcnkpLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dCB7XG4gIC8qKiBJbmxpbmVkIGJ5dGVzIGRhdGEgZm9yIG1lZGlhIGlucHV0LiAqL1xuICBtZWRpYUNodW5rcz86IEJsb2JbXTtcbiAgLyoqIE1hcmtzIHRoZSBzdGFydCBvZiB1c2VyIGFjdGl2aXR5LiAqL1xuICBhY3Rpdml0eVN0YXJ0PzogQWN0aXZpdHlTdGFydDtcbiAgLyoqIE1hcmtzIHRoZSBlbmQgb2YgdXNlciBhY3Rpdml0eS4gKi9cbiAgYWN0aXZpdHlFbmQ/OiBBY3Rpdml0eUVuZDtcbn1cblxuLyoqIENsaWVudCBnZW5lcmF0ZWQgcmVzcG9uc2UgdG8gYSBgVG9vbENhbGxgIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblxuICBJbmRpdmlkdWFsIGBGdW5jdGlvblJlc3BvbnNlYCBvYmplY3RzIGFyZSBtYXRjaGVkIHRvIHRoZSByZXNwZWN0aXZlXG4gIGBGdW5jdGlvbkNhbGxgIG9iamVjdHMgYnkgdGhlIGBpZGAgZmllbGQuXG5cbiAgTm90ZSB0aGF0IGluIHRoZSB1bmFyeSBhbmQgc2VydmVyLXN0cmVhbWluZyBHZW5lcmF0ZUNvbnRlbnQgQVBJcyBmdW5jdGlvblxuICBjYWxsaW5nIGhhcHBlbnMgYnkgZXhjaGFuZ2luZyB0aGUgYENvbnRlbnRgIHBhcnRzLCB3aGlsZSBpbiB0aGUgYmlkaVxuICBHZW5lcmF0ZUNvbnRlbnQgQVBJcyBmdW5jdGlvbiBjYWxsaW5nIGhhcHBlbnMgb3ZlciB0aGlzIGRlZGljYXRlZCBzZXQgb2ZcbiAgbWVzc2FnZXMuXG4gICAqL1xuZXhwb3J0IGNsYXNzIExpdmVDbGllbnRUb29sUmVzcG9uc2Uge1xuICAvKiogVGhlIHJlc3BvbnNlIHRvIHRoZSBmdW5jdGlvbiBjYWxscy4gKi9cbiAgZnVuY3Rpb25SZXNwb25zZXM/OiBGdW5jdGlvblJlc3BvbnNlW107XG59XG5cbi8qKiBNZXNzYWdlcyBzZW50IGJ5IHRoZSBjbGllbnQgaW4gdGhlIEFQSSBjYWxsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDbGllbnRNZXNzYWdlIHtcbiAgLyoqIE1lc3NhZ2UgdG8gYmUgc2VudCBieSB0aGUgc3lzdGVtIHdoZW4gY29ubmVjdGluZyB0byB0aGUgQVBJLiBTREsgdXNlcnMgc2hvdWxkIG5vdCBzZW5kIHRoaXMgbWVzc2FnZS4gKi9cbiAgc2V0dXA/OiBMaXZlQ2xpZW50U2V0dXA7XG4gIC8qKiBJbmNyZW1lbnRhbCB1cGRhdGUgb2YgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIGRlbGl2ZXJlZCBmcm9tIHRoZSBjbGllbnQuICovXG4gIGNsaWVudENvbnRlbnQ/OiBMaXZlQ2xpZW50Q29udGVudDtcbiAgLyoqIFVzZXIgaW5wdXQgdGhhdCBpcyBzZW50IGluIHJlYWwgdGltZS4gKi9cbiAgcmVhbHRpbWVJbnB1dD86IExpdmVDbGllbnRSZWFsdGltZUlucHV0O1xuICAvKiogUmVzcG9uc2UgdG8gYSBgVG9vbENhbGxNZXNzYWdlYCByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuICovXG4gIHRvb2xSZXNwb25zZT86IExpdmVDbGllbnRUb29sUmVzcG9uc2U7XG59XG5cbi8qKiBUaGUgYXVkaW8gdHJhbnNjcmlwdGlvbiBjb25maWd1cmF0aW9uIGluIFNldHVwLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1ZGlvVHJhbnNjcmlwdGlvbkNvbmZpZyB7fVxuXG4vKiogU2Vzc2lvbiBjb25maWcgZm9yIHRoZSBBUEkgY29ubmVjdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ29ubmVjdENvbmZpZyB7XG4gIC8qKiBUaGUgZ2VuZXJhdGlvbiBjb25maWd1cmF0aW9uIGZvciB0aGUgc2Vzc2lvbi4gKi9cbiAgZ2VuZXJhdGlvbkNvbmZpZz86IEdlbmVyYXRpb25Db25maWc7XG4gIC8qKiBUaGUgcmVxdWVzdGVkIG1vZGFsaXRpZXMgb2YgdGhlIHJlc3BvbnNlLiBSZXByZXNlbnRzIHRoZSBzZXQgb2ZcbiAgICAgIG1vZGFsaXRpZXMgdGhhdCB0aGUgbW9kZWwgY2FuIHJldHVybi4gRGVmYXVsdHMgdG8gQVVESU8gaWYgbm90IHNwZWNpZmllZC5cbiAgICAgICAqL1xuICByZXNwb25zZU1vZGFsaXRpZXM/OiBNb2RhbGl0eVtdO1xuICAvKiogVGhlIHNwZWVjaCBnZW5lcmF0aW9uIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBzcGVlY2hDb25maWc/OiBTcGVlY2hDb25maWc7XG4gIC8qKiBUaGUgdXNlciBwcm92aWRlZCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIGZvciB0aGUgbW9kZWwuXG4gICAgICBOb3RlOiBvbmx5IHRleHQgc2hvdWxkIGJlIHVzZWQgaW4gcGFydHMgYW5kIGNvbnRlbnQgaW4gZWFjaCBwYXJ0IHdpbGwgYmVcbiAgICAgIGluIGEgc2VwYXJhdGUgcGFyYWdyYXBoLiAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnQ7XG4gIC8qKiBBIGxpc3Qgb2YgYFRvb2xzYCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSB0aGUgbmV4dCByZXNwb25zZS5cblxuICAgICAgQSBgVG9vbGAgaXMgYSBwaWVjZSBvZiBjb2RlIHRoYXQgZW5hYmxlcyB0aGUgc3lzdGVtIHRvIGludGVyYWN0IHdpdGhcbiAgICAgIGV4dGVybmFsIHN5c3RlbXMgdG8gcGVyZm9ybSBhbiBhY3Rpb24sIG9yIHNldCBvZiBhY3Rpb25zLCBvdXRzaWRlIG9mXG4gICAgICBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC4gKi9cbiAgdG9vbHM/OiBUb29sTGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJlcyBzZXNzaW9uIHJlc3VtcHRpb24gbWVjaGFuaXNtLlxuXG5JZiBpbmNsdWRlZCB0aGUgc2VydmVyIHdpbGwgc2VuZCBTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSBtZXNzYWdlcy4gKi9cbiAgc2Vzc2lvblJlc3VtcHRpb24/OiBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgdGhlIHJlYWx0aW1lIGlucHV0IGJlaGF2aW9yIGluIEJpZGlHZW5lcmF0ZUNvbnRlbnQuICovXG4gIHJlYWx0aW1lSW5wdXRDb25maWc/OiBSZWFsdGltZUlucHV0Q29uZmlnO1xuICAvKiogQ29uZmlndXJlcyBjb250ZXh0IHdpbmRvdyBjb21wcmVzc2lvbiBtZWNoYW5pc20uXG5cbiAgICAgIElmIGluY2x1ZGVkLCBzZXJ2ZXIgd2lsbCBjb21wcmVzcyBjb250ZXh0IHdpbmRvdyB0byBmaXQgaW50byBnaXZlbiBsZW5ndGguICovXG4gIGNvbnRleHRXaW5kb3dDb21wcmVzc2lvbj86IENvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDb25uZWN0UGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIGNhbGxiYWNrcyAqL1xuICBjYWxsYmFja3M6IExpdmVDYWxsYmFja3M7XG4gIC8qKiBPcHRpb25hbCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29uZmlnPzogTGl2ZUNvbm5lY3RDb25maWc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBpbml0aWFsaXppbmcgYSBuZXcgY2hhdCBzZXNzaW9uLlxuXG4gIFRoZXNlIHBhcmFtZXRlcnMgYXJlIHVzZWQgd2hlbiBjcmVhdGluZyBhIGNoYXQgc2Vzc2lvbiB3aXRoIHRoZVxuICBgY2hhdHMuY3JlYXRlKClgIG1ldGhvZC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlQ2hhdFBhcmFtZXRlcnMge1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIHVzZSBmb3IgdGhlIGNoYXQgc2Vzc2lvbi5cblxuICAgICAgRm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJywgJ2dlbWluaS0xLjUtcHJvJywgZXRjLiBTZWUgZ2VtaW5pIEFQSVxuICAgICAgZG9jcyB0byBmaW5kIHRoZSBhdmFpbGFibGUgbW9kZWxzLlxuICAgICAgICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBDb25maWcgZm9yIHRoZSBlbnRpcmUgY2hhdCBzZXNzaW9uLlxuXG4gICAgICBUaGlzIGNvbmZpZyBhcHBsaWVzIHRvIGFsbCByZXF1ZXN0cyB3aXRoaW4gdGhlIHNlc3Npb25cbiAgICAgIHVubGVzcyBvdmVycmlkZGVuIGJ5IGEgcGVyLXJlcXVlc3QgYGNvbmZpZ2AgaW4gYFNlbmRNZXNzYWdlUGFyYW1ldGVyc2AuXG4gICAgICAgKi9cbiAgY29uZmlnPzogR2VuZXJhdGVDb250ZW50Q29uZmlnO1xuICAvKiogVGhlIGluaXRpYWwgY29udmVyc2F0aW9uIGhpc3RvcnkgZm9yIHRoZSBjaGF0IHNlc3Npb24uXG5cbiAgICAgIFRoaXMgYWxsb3dzIHlvdSB0byBzdGFydCB0aGUgY2hhdCB3aXRoIGEgcHJlLWV4aXN0aW5nIGhpc3RvcnkuIFRoZSBoaXN0b3J5XG4gICAgICBtdXN0IGJlIGEgbGlzdCBvZiBgQ29udGVudGAgYWx0ZXJuYXRpbmcgYmV0d2VlbiAndXNlcicgYW5kICdtb2RlbCcgcm9sZXMuXG4gICAgICBJdCBzaG91bGQgc3RhcnQgd2l0aCBhICd1c2VyJyBtZXNzYWdlLlxuICAgICAgICovXG4gIGhpc3Rvcnk/OiBDb250ZW50W107XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBzZW5kaW5nIGEgbWVzc2FnZSB3aXRoaW4gYSBjaGF0IHNlc3Npb24uXG5cbiAgVGhlc2UgcGFyYW1ldGVycyBhcmUgdXNlZCB3aXRoIHRoZSBgY2hhdC5zZW5kTWVzc2FnZSgpYCBtZXRob2QuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlbmRNZXNzYWdlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgbWVzc2FnZSB0byBzZW5kIHRvIHRoZSBtb2RlbC5cblxuICAgICAgVGhlIFNESyB3aWxsIGNvbWJpbmUgYWxsIHBhcnRzIGludG8gYSBzaW5nbGUgJ3VzZXInIGNvbnRlbnQgdG8gc2VuZCB0b1xuICAgICAgdGhlIG1vZGVsLlxuICAgICAgICovXG4gIG1lc3NhZ2U6IFBhcnRMaXN0VW5pb247XG4gIC8qKiAgQ29uZmlnIGZvciB0aGlzIHNwZWNpZmljIHJlcXVlc3QuXG5cbiAgICAgIFBsZWFzZSBub3RlIHRoYXQgdGhlIHBlci1yZXF1ZXN0IGNvbmZpZyBkb2VzIG5vdCBjaGFuZ2UgdGhlIGNoYXQgbGV2ZWxcbiAgICAgIGNvbmZpZywgbm9yIGluaGVyaXQgZnJvbSBpdC4gSWYgeW91IGludGVuZCB0byB1c2Ugc29tZSB2YWx1ZXMgZnJvbSB0aGVcbiAgICAgIGNoYXQncyBkZWZhdWx0IGNvbmZpZywgeW91IG11c3QgZXhwbGljaXRseSBjb3B5IHRoZW0gaW50byB0aGlzIHBlci1yZXF1ZXN0XG4gICAgICBjb25maWcuXG4gICAgICAgKi9cbiAgY29uZmlnPzogR2VuZXJhdGVDb250ZW50Q29uZmlnO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3Igc2VuZGluZyBjbGllbnQgY29udGVudCB0byB0aGUgbGl2ZSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBDbGllbnQgY29udGVudCB0byBzZW5kIHRvIHRoZSBzZXNzaW9uLiAqL1xuICB0dXJucz86IENvbnRlbnRMaXN0VW5pb247XG4gIC8qKiBJZiB0cnVlLCBpbmRpY2F0ZXMgdGhhdCB0aGUgc2VydmVyIGNvbnRlbnQgZ2VuZXJhdGlvbiBzaG91bGQgc3RhcnQgd2l0aFxuICB0aGUgY3VycmVudGx5IGFjY3VtdWxhdGVkIHByb21wdC4gT3RoZXJ3aXNlLCB0aGUgc2VydmVyIHdpbGwgYXdhaXRcbiAgYWRkaXRpb25hbCBtZXNzYWdlcyBiZWZvcmUgc3RhcnRpbmcgZ2VuZXJhdGlvbi4gKi9cbiAgdHVybkNvbXBsZXRlPzogYm9vbGVhbjtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgcmVhbHRpbWUgaW5wdXQgdG8gdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZW5kUmVhbHRpbWVJbnB1dFBhcmFtZXRlcnMge1xuICAvKiogUmVhbHRpbWUgaW5wdXQgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgbWVkaWE6IEJsb2I7XG4gIC8qKiBNYXJrcyB0aGUgc3RhcnQgb2YgdXNlciBhY3Rpdml0eS4gKi9cbiAgYWN0aXZpdHlTdGFydD86IEFjdGl2aXR5U3RhcnQ7XG4gIC8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuICovXG4gIGFjdGl2aXR5RW5kPzogQWN0aXZpdHlFbmQ7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBzZW5kaW5nIHRvb2wgcmVzcG9uc2VzIHRvIHRoZSBsaXZlIEFQSS4gKi9cbmV4cG9ydCBjbGFzcyBMaXZlU2VuZFRvb2xSZXNwb25zZVBhcmFtZXRlcnMge1xuICAvKiogVG9vbCByZXNwb25zZXMgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgZnVuY3Rpb25SZXNwb25zZXM6IEZ1bmN0aW9uUmVzcG9uc2VbXSB8IEZ1bmN0aW9uUmVzcG9uc2UgPSBbXTtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBnZXQgbWV0aG9kIG9mIHRoZSBvcGVyYXRpb25zIG1vZHVsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBPcGVyYXRpb25HZXRQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBvcGVyYXRpb24gdG8gYmUgcmV0cmlldmVkLiAqL1xuICBvcGVyYXRpb246IEdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBHZXRPcGVyYXRpb25Db25maWc7XG59XG5cbmV4cG9ydCB0eXBlIFBhcnRVbmlvbiA9IFBhcnQgfCBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIFBhcnRMaXN0VW5pb24gPSBQYXJ0VW5pb25bXSB8IFBhcnRVbmlvbjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFVuaW9uID0gQ29udGVudCB8IFBhcnRVbmlvbltdIHwgUGFydFVuaW9uO1xuXG5leHBvcnQgdHlwZSBDb250ZW50TGlzdFVuaW9uID0gQ29udGVudFVuaW9uW10gfCBDb250ZW50VW5pb247XG5cbmV4cG9ydCB0eXBlIFNjaGVtYVVuaW9uID0gU2NoZW1hO1xuXG5leHBvcnQgdHlwZSBTcGVlY2hDb25maWdVbmlvbiA9IFNwZWVjaENvbmZpZyB8IHN0cmluZztcblxuZXhwb3J0IHR5cGUgVG9vbExpc3RVbmlvbiA9IFRvb2xbXTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHtCYXNlTW9kdWxlfSBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0ICogYXMgY29udmVydGVycyBmcm9tICcuL2NvbnZlcnRlcnMvX2NhY2hlc19jb252ZXJ0ZXJzJztcbmltcG9ydCB7UGFnZWRJdGVtLCBQYWdlcn0gZnJvbSAnLi9wYWdlcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYWNoZXMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgY2FjaGVkIGNvbnRlbnQgY29uZmlndXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGxpc3QgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgcGFnaW5hdGVkIHJlc3VsdHMgb2YgdGhlIGxpc3Qgb2YgY2FjaGVkIGNvbnRlbnRzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjYWNoZWRDb250ZW50cyA9IGF3YWl0IGFpLmNhY2hlcy5saXN0KHtjb25maWc6IHsncGFnZVNpemUnOiAyfX0pO1xuICAgKiBmb3IgKGNvbnN0IGNhY2hlZENvbnRlbnQgb2YgY2FjaGVkQ29udGVudHMpIHtcbiAgICogICBjb25zb2xlLmxvZyhjYWNoZWRDb250ZW50KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGxpc3QgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzID0ge30sXG4gICk6IFByb21pc2U8UGFnZXI8dHlwZXMuQ2FjaGVkQ29udGVudD4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLkNhY2hlZENvbnRlbnQ+KFxuICAgICAgUGFnZWRJdGVtLlBBR0VEX0lURU1fQ0FDSEVEX0NPTlRFTlRTLFxuICAgICAgKHg6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnMpID0+IHRoaXMubGlzdEludGVybmFsKHgpLFxuICAgICAgYXdhaXQgdGhpcy5saXN0SW50ZXJuYWwocGFyYW1zKSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FjaGVkIGNvbnRlbnRzIHJlc291cmNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBDb250ZXh0IGNhY2hpbmcgaXMgb25seSBzdXBwb3J0ZWQgZm9yIHNwZWNpZmljIG1vZGVscy4gU2VlIFtHZW1pbmlcbiAgICogRGV2ZWxvcGVyIEFQSSByZWZlcmVuY2VdIChodHRwczovL2FpLmdvb2dsZS5kZXYvZ2VtaW5pLWFwaS9kb2NzL2NhY2hpbmc/bGFuZz1ub2RlL2NvbnRleHQtY2FjKVxuICAgKiBhbmQgW1ZlcnRleCBBSSByZWZlcmVuY2VdIChodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9jb250ZXh0LWNhY2hlL2NvbnRleHQtY2FjaGUtb3ZlcnZpZXcjc3VwcG9ydGVkX21vZGVscylcbiAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGNyZWF0ZSByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBjcmVhdGVkIGNhY2hlZCBjb250ZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjb250ZW50cyA9IC4uLjsgLy8gSW5pdGlhbGl6ZSB0aGUgY29udGVudCB0byBjYWNoZS5cbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5jYWNoZXMuY3JlYXRlKHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0xLjUtZmxhc2gnLFxuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAnY29udGVudHMnOiBjb250ZW50cyxcbiAgICogICAgJ2Rpc3BsYXlOYW1lJzogJ3Rlc3QgY2FjaGUnLFxuICAgKiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nOiAnV2hhdCBpcyB0aGUgc3VtIG9mIHRoZSB0d28gcGRmcz8nLFxuICAgKiAgICAndHRsJzogJzg2NDAwcycsXG4gICAqICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZShcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdjYWNoZWRDb250ZW50cycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2NhY2hlZENvbnRlbnRzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNhY2hlZENvbnRlbnRGcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQ2FjaGVkQ29udGVudDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGNhY2hlZCBjb250ZW50IGNvbmZpZ3VyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBnZXQgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmNhY2hlcy5nZXQoe25hbWU6ICdnZW1pbmktMS41LWZsYXNoJ30pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGdldChcbiAgICBwYXJhbXM6IHR5cGVzLkdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNhY2hlZENvbnRlbnRGcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQ2FjaGVkQ29udGVudDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGNhY2hlZCBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBkZWxldGUgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgZW1wdHkgcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXdhaXQgYWkuY2FjaGVzLmRlbGV0ZSh7bmFtZTogJ2dlbWluaS0xLjUtZmxhc2gnfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKFxuICAgIHBhcmFtczogdHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KCk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZUZyb21NbGRldigpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGNhY2hlZCBjb250ZW50IGNvbmZpZ3VyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSB1cGRhdGUgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgdXBkYXRlZCBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5jYWNoZXMudXBkYXRlKHtcbiAgICogICBuYW1lOiAnZ2VtaW5pLTEuNS1mbGFzaCcsXG4gICAqICAgY29uZmlnOiB7J3R0bCc6ICc3NjAwcyd9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIHVwZGF0ZShcbiAgICBwYXJhbXM6IHR5cGVzLlVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLnVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNhY2hlZENvbnRlbnRGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMudXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxpc3RJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdjYWNoZWRDb250ZW50cycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdjYWNoZWRDb250ZW50cycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuL190cmFuc2Zvcm1lcnMnO1xuaW1wb3J0IHtNb2RlbHN9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcmVzcG9uc2UgaXMgdmFsaWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFJlc3BvbnNlKHJlc3BvbnNlOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSk6IGJvb2xlYW4ge1xuICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlcyA9PSB1bmRlZmluZWQgfHwgcmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgY29udGVudCA9IHJlc3BvbnNlLmNhbmRpZGF0ZXNbMF0/LmNvbnRlbnQ7XG4gIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzVmFsaWRDb250ZW50KGNvbnRlbnQpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkQ29udGVudChjb250ZW50OiB0eXBlcy5Db250ZW50KTogYm9vbGVhbiB7XG4gIGlmIChjb250ZW50LnBhcnRzID09PSB1bmRlZmluZWQgfHwgY29udGVudC5wYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQucGFydHMpIHtcbiAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkIHx8IE9iamVjdC5rZXlzKHBhcnQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGFydC50ZXh0ICE9PSB1bmRlZmluZWQgJiYgcGFydC50ZXh0ID09PSAnJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIGhpc3RvcnkgY29udGFpbnMgdGhlIGNvcnJlY3Qgcm9sZXMuXG4gKlxuICogQHJlbWFya3NcbiAqIEV4cGVjdHMgdGhlIGhpc3RvcnkgdG8gc3RhcnQgd2l0aCBhIHVzZXIgdHVybiBhbmQgdGhlbiBhbHRlcm5hdGUgYmV0d2VlblxuICogdXNlciBhbmQgbW9kZWwgdHVybnMuXG4gKlxuICogQHRocm93cyBFcnJvciBpZiB0aGUgaGlzdG9yeSBkb2VzIG5vdCBzdGFydCB3aXRoIGEgdXNlciB0dXJuLlxuICogQHRocm93cyBFcnJvciBpZiB0aGUgaGlzdG9yeSBjb250YWlucyBhbiBpbnZhbGlkIHJvbGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlSGlzdG9yeShoaXN0b3J5OiB0eXBlcy5Db250ZW50W10pIHtcbiAgLy8gRW1wdHkgaGlzdG9yeSBpcyB2YWxpZC5cbiAgaWYgKGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChoaXN0b3J5WzBdLnJvbGUgIT09ICd1c2VyJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSGlzdG9yeSBtdXN0IHN0YXJ0IHdpdGggYSB1c2VyIHR1cm4uJyk7XG4gIH1cbiAgZm9yIChjb25zdCBjb250ZW50IG9mIGhpc3RvcnkpIHtcbiAgICBpZiAoY29udGVudC5yb2xlICE9PSAndXNlcicgJiYgY29udGVudC5yb2xlICE9PSAnbW9kZWwnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvbGUgbXVzdCBiZSB1c2VyIG9yIG1vZGVsLCBidXQgZ290ICR7Y29udGVudC5yb2xlfS5gKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgY3VyYXRlZCAodmFsaWQpIGhpc3RvcnkgZnJvbSBhIGNvbXByZWhlbnNpdmUgaGlzdG9yeS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIG1vZGVsIG1heSBzb21ldGltZXMgZ2VuZXJhdGUgaW52YWxpZCBvciBlbXB0eSBjb250ZW50cyhlLmcuLCBkdWUgdG8gc2FmdHlcbiAqIGZpbHRlcnMgb3IgcmVjaXRhdGlvbikuIEV4dHJhY3RpbmcgdmFsaWQgdHVybnMgZnJvbSB0aGUgaGlzdG9yeVxuICogZW5zdXJlcyB0aGF0IHN1YnNlcXVlbnQgcmVxdWVzdHMgY291bGQgYmUgYWNjcGV0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5mdW5jdGlvbiBleHRyYWN0Q3VyYXRlZEhpc3RvcnkoXG4gIGNvbXByZWhlbnNpdmVIaXN0b3J5OiB0eXBlcy5Db250ZW50W10sXG4pOiB0eXBlcy5Db250ZW50W10ge1xuICBpZiAoY29tcHJlaGVuc2l2ZUhpc3RvcnkgPT09IHVuZGVmaW5lZCB8fCBjb21wcmVoZW5zaXZlSGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgY3VyYXRlZEhpc3Rvcnk6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICBjb25zdCBsZW5ndGggPSBjb21wcmVoZW5zaXZlSGlzdG9yeS5sZW5ndGg7XG4gIGxldCBpID0gMDtcbiAgbGV0IHVzZXJJbnB1dCA9IGNvbXByZWhlbnNpdmVIaXN0b3J5WzBdO1xuICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgIGlmIChjb21wcmVoZW5zaXZlSGlzdG9yeVtpXS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgIHVzZXJJbnB1dCA9IGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldO1xuICAgICAgaSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtb2RlbE91dHB1dDogdHlwZXMuQ29udGVudFtdID0gW107XG4gICAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICAgICB3aGlsZSAoaSA8IGxlbmd0aCAmJiBjb21wcmVoZW5zaXZlSGlzdG9yeVtpXS5yb2xlID09PSAnbW9kZWwnKSB7XG4gICAgICAgIG1vZGVsT3V0cHV0LnB1c2goY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0pO1xuICAgICAgICBpZiAoaXNWYWxpZCAmJiAhaXNWYWxpZENvbnRlbnQoY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0pKSB7XG4gICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIGN1cmF0ZWRIaXN0b3J5LnB1c2godXNlcklucHV0KTtcbiAgICAgICAgY3VyYXRlZEhpc3RvcnkucHVzaCguLi5tb2RlbE91dHB1dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjdXJhdGVkSGlzdG9yeTtcbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgY2xhc3MgdG8gY3JlYXRlIGEgY2hhdCBzZXNzaW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdHMge1xuICBwcml2YXRlIHJlYWRvbmx5IG1vZGVsc01vZHVsZTogTW9kZWxzO1xuICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50O1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsc01vZHVsZTogTW9kZWxzLCBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHRoaXMubW9kZWxzTW9kdWxlID0gbW9kZWxzTW9kdWxlO1xuICAgIHRoaXMuYXBpQ2xpZW50ID0gYXBpQ2xpZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY2hhdCBzZXNzaW9uLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgY29uZmlnIGluIHRoZSBwYXJhbXMgd2lsbCBiZSB1c2VkIGZvciBhbGwgcmVxdWVzdHMgd2l0aGluIHRoZSBjaGF0XG4gICAqIHNlc3Npb24gdW5sZXNzIG92ZXJyaWRkZW4gYnkgYSBwZXItcmVxdWVzdCBgY29uZmlnYCBpblxuICAgKiBAc2VlIHtAbGluayB0eXBlcy5TZW5kTWVzc2FnZVBhcmFtZXRlcnMjY29uZmlnfS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIGEgY2hhdCBzZXNzaW9uLlxuICAgKiBAcmV0dXJucyBBIG5ldyBjaGF0IHNlc3Npb24uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNoYXQgPSBhaS5jaGF0cy5jcmVhdGUoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCdcbiAgICogICBjb25maWc6IHtcbiAgICogICAgIHRlbXBlcmF0dXJlOiAwLjUsXG4gICAqICAgICBtYXhPdXRwdXRUb2tlbnM6IDEwMjQsXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjcmVhdGUocGFyYW1zOiB0eXBlcy5DcmVhdGVDaGF0UGFyYW1ldGVycykge1xuICAgIHJldHVybiBuZXcgQ2hhdChcbiAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgdGhpcy5tb2RlbHNNb2R1bGUsXG4gICAgICBwYXJhbXMubW9kZWwsXG4gICAgICBwYXJhbXMuY29uZmlnLFxuICAgICAgcGFyYW1zLmhpc3RvcnksXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENoYXQgc2Vzc2lvbiB0aGF0IGVuYWJsZXMgc2VuZGluZyBtZXNzYWdlcyB0byB0aGUgbW9kZWwgd2l0aCBwcmV2aW91c1xuICogY29udmVyc2F0aW9uIGNvbnRleHQuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSBzZXNzaW9uIG1haW50YWlucyBhbGwgdGhlIHR1cm5zIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0IHtcbiAgLy8gQSBwcm9taXNlIHRvIHJlcHJlc2VudCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWVzc2FnZSBiZWluZyBzZW50IHRvIHRoZVxuICAvLyBtb2RlbC5cbiAgcHJpdmF0ZSBzZW5kUHJvbWlzZTogUHJvbWlzZTx2b2lkPiA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBtb2RlbHNNb2R1bGU6IE1vZGVscyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vZGVsOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyA9IHt9LFxuICAgIHByaXZhdGUgaGlzdG9yeTogdHlwZXMuQ29udGVudFtdID0gW10sXG4gICkge1xuICAgIHZhbGlkYXRlSGlzdG9yeShoaXN0b3J5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIG1vZGVsIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Qgd2lsbCB3YWl0IGZvciB0aGUgcHJldmlvdXMgbWVzc2FnZSB0byBiZSBwcm9jZXNzZWQgYmVmb3JlXG4gICAqIHNlbmRpbmcgdGhlIG5leHQgbWVzc2FnZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgQ2hhdCNzZW5kTWVzc2FnZVN0cmVhbX0gZm9yIHN0cmVhbWluZyBtZXRob2QuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwYXJhbWV0ZXJzIGZvciBzZW5kaW5nIG1lc3NhZ2VzIHdpdGhpbiBhIGNoYXQgc2Vzc2lvbi5cbiAgICogQHJldHVybnMgVGhlIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNoYXQgPSBhaS5jaGF0cy5jcmVhdGUoe21vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCd9KTtcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKHtcbiAgICogICBtZXNzYWdlOiAnV2h5IGlzIHRoZSBza3kgYmx1ZT8nXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZS50ZXh0KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBzZW5kTWVzc2FnZShcbiAgICBwYXJhbXM6IHR5cGVzLlNlbmRNZXNzYWdlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4ge1xuICAgIGF3YWl0IHRoaXMuc2VuZFByb21pc2U7XG4gICAgY29uc3QgaW5wdXRDb250ZW50ID0gdC50Q29udGVudCh0aGlzLmFwaUNsaWVudCwgcGFyYW1zLm1lc3NhZ2UpO1xuICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IHRoaXMubW9kZWxzTW9kdWxlLmdlbmVyYXRlQ29udGVudCh7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIGNvbnRlbnRzOiB0aGlzLmdldEhpc3RvcnkodHJ1ZSkuY29uY2F0KGlucHV0Q29udGVudCksXG4gICAgICBjb25maWc6IHBhcmFtcy5jb25maWcgPz8gdGhpcy5jb25maWcsXG4gICAgfSk7XG4gICAgdGhpcy5zZW5kUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgIGNvbnN0IG91dHB1dENvbnRlbnQgPSByZXNwb25zZS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ7XG4gICAgICBjb25zdCBtb2RlbE91dHB1dCA9IG91dHB1dENvbnRlbnQgPyBbb3V0cHV0Q29udGVudF0gOiBbXTtcbiAgICAgIHRoaXMucmVjb3JkSGlzdG9yeShpbnB1dENvbnRlbnQsIG1vZGVsT3V0cHV0KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSgpO1xuICAgIGF3YWl0IHRoaXMuc2VuZFByb21pc2U7XG4gICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIG1vZGVsIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBpbiBjaHVua3MuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIG1lc3NhZ2UgdG8gYmUgcHJvY2Vzc2VkIGJlZm9yZVxuICAgKiBzZW5kaW5nIHRoZSBuZXh0IG1lc3NhZ2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIENoYXQjc2VuZE1lc3NhZ2V9IGZvciBub24tc3RyZWFtaW5nIG1ldGhvZC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIHBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgdGhlIG1lc3NhZ2UuXG4gICAqIEByZXR1cm4gVGhlIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNoYXQgPSBhaS5jaGF0cy5jcmVhdGUoe21vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCd9KTtcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKHtcbiAgICogICBtZXNzYWdlOiAnV2h5IGlzIHRoZSBza3kgYmx1ZT8nXG4gICAqIH0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlc3BvbnNlKSB7XG4gICAqICAgY29uc29sZS5sb2coY2h1bmsudGV4dCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBzZW5kTWVzc2FnZVN0cmVhbShcbiAgICBwYXJhbXM6IHR5cGVzLlNlbmRNZXNzYWdlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4+IHtcbiAgICBhd2FpdCB0aGlzLnNlbmRQcm9taXNlO1xuICAgIGNvbnN0IGlucHV0Q29udGVudCA9IHQudENvbnRlbnQodGhpcy5hcGlDbGllbnQsIHBhcmFtcy5tZXNzYWdlKTtcbiAgICBjb25zdCBzdHJlYW1SZXNwb25zZSA9IHRoaXMubW9kZWxzTW9kdWxlLmdlbmVyYXRlQ29udGVudFN0cmVhbSh7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIGNvbnRlbnRzOiB0aGlzLmdldEhpc3RvcnkodHJ1ZSkuY29uY2F0KGlucHV0Q29udGVudCksXG4gICAgICBjb25maWc6IHBhcmFtcy5jb25maWcgPz8gdGhpcy5jb25maWcsXG4gICAgfSk7XG4gICAgdGhpcy5zZW5kUHJvbWlzZSA9IHN0cmVhbVJlc3BvbnNlLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0cmVhbVJlc3BvbnNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJvY2Vzc1N0cmVhbVJlc3BvbnNlKHJlc3BvbnNlLCBpbnB1dENvbnRlbnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2hhdCBoaXN0b3J5LlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgaGlzdG9yeSBpcyBhIGxpc3Qgb2YgY29udGVudHMgYWx0ZXJuYXRpbmcgYmV0d2VlbiB1c2VyIGFuZCBtb2RlbC5cbiAgICpcbiAgICogVGhlcmUgYXJlIHR3byB0eXBlcyBvZiBoaXN0b3J5OlxuICAgKiAtIFRoZSBgY3VyYXRlZCBoaXN0b3J5YCBjb250YWlucyBvbmx5IHRoZSB2YWxpZCB0dXJucyBiZXR3ZWVuIHVzZXIgYW5kXG4gICAqIG1vZGVsLCB3aGljaCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBzdWJzZXF1ZW50IHJlcXVlc3RzIHNlbnQgdG8gdGhlIG1vZGVsLlxuICAgKiAtIFRoZSBgY29tcHJlaGVuc2l2ZSBoaXN0b3J5YCBjb250YWlucyBhbGwgdHVybnMsIGluY2x1ZGluZyBpbnZhbGlkIG9yXG4gICAqICAgZW1wdHkgbW9kZWwgb3V0cHV0cywgcHJvdmlkaW5nIGEgY29tcGxldGUgcmVjb3JkIG9mIHRoZSBoaXN0b3J5LlxuICAgKlxuICAgKiBUaGUgaGlzdG9yeSBpcyB1cGRhdGVkIGFmdGVyIHJlY2VpdmluZyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgbW9kZWwsXG4gICAqIGZvciBzdHJlYW1pbmcgcmVzcG9uc2UsIGl0IG1lYW5zIHJlY2VpdmluZyB0aGUgbGFzdCBjaHVuayBvZiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIFRoZSBgY29tcHJlaGVuc2l2ZSBoaXN0b3J5YCBpcyByZXR1cm5lZCBieSBkZWZhdWx0LiBUbyBnZXQgdGhlIGBjdXJhdGVkXG4gICAqIGhpc3RvcnlgLCBzZXQgdGhlIGBjdXJhdGVkYCBwYXJhbWV0ZXIgdG8gYHRydWVgLlxuICAgKlxuICAgKiBAcGFyYW0gY3VyYXRlZCAtIHdoZXRoZXIgdG8gcmV0dXJuIHRoZSBjdXJhdGVkIGhpc3Rvcnkgb3IgdGhlIGNvbXByZWhlbnNpdmVcbiAgICogICAgIGhpc3RvcnkuXG4gICAqIEByZXR1cm4gSGlzdG9yeSBjb250ZW50cyBhbHRlcm5hdGluZyBiZXR3ZWVuIHVzZXIgYW5kIG1vZGVsIGZvciB0aGUgZW50aXJlXG4gICAqICAgICBjaGF0IHNlc3Npb24uXG4gICAqL1xuICBnZXRIaXN0b3J5KGN1cmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZSk6IHR5cGVzLkNvbnRlbnRbXSB7XG4gICAgcmV0dXJuIGN1cmF0ZWQgPyBleHRyYWN0Q3VyYXRlZEhpc3RvcnkodGhpcy5oaXN0b3J5KSA6IHRoaXMuaGlzdG9yeTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgKnByb2Nlc3NTdHJlYW1SZXNwb25zZShcbiAgICBzdHJlYW1SZXNwb25zZTogQXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+LFxuICAgIGlucHV0Q29udGVudDogdHlwZXMuQ29udGVudCxcbiAgKSB7XG4gICAgY29uc3Qgb3V0cHV0Q29udGVudDogdHlwZXMuQ29udGVudFtdID0gW107XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW1SZXNwb25zZSkge1xuICAgICAgaWYgKGlzVmFsaWRSZXNwb25zZShjaHVuaykpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudDtcbiAgICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG91dHB1dENvbnRlbnQucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgeWllbGQgY2h1bms7XG4gICAgfVxuICAgIHRoaXMucmVjb3JkSGlzdG9yeShpbnB1dENvbnRlbnQsIG91dHB1dENvbnRlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWNvcmRIaXN0b3J5KFxuICAgIHVzZXJJbnB1dDogdHlwZXMuQ29udGVudCxcbiAgICBtb2RlbE91dHB1dDogdHlwZXMuQ29udGVudFtdLFxuICApIHtcbiAgICBsZXQgb3V0cHV0Q29udGVudHM6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgIGlmIChcbiAgICAgIG1vZGVsT3V0cHV0Lmxlbmd0aCA+IDAgJiZcbiAgICAgIG1vZGVsT3V0cHV0LmV2ZXJ5KChjb250ZW50KSA9PiBjb250ZW50LnJvbGUgPT09ICdtb2RlbCcpXG4gICAgKSB7XG4gICAgICBvdXRwdXRDb250ZW50cyA9IG1vZGVsT3V0cHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBcHBlbmRzIGFuIGVtcHR5IGNvbnRlbnQgd2hlbiBtb2RlbCByZXR1cm5zIGVtcHR5IHJlc3BvbnNlLCBzbyB0aGF0IHRoZVxuICAgICAgLy8gaGlzdG9yeSBpcyBhbHdheXMgYWx0ZXJuYXRpbmcgYmV0d2VlbiB1c2VyIGFuZCBtb2RlbC5cbiAgICAgIG91dHB1dENvbnRlbnRzLnB1c2goe1xuICAgICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgICBwYXJ0czogW10sXG4gICAgICB9IGFzIHR5cGVzLkNvbnRlbnQpO1xuICAgIH1cbiAgICB0aGlzLmhpc3RvcnkucHVzaCh1c2VySW5wdXQpO1xuICAgIHRoaXMuaGlzdG9yeS5wdXNoKC4uLm91dHB1dENvbnRlbnRzKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0RmlsZXNDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEZpbGVzQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlU2l6ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlU2l6ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVNpemUnXSwgZnJvbVBhZ2VTaXplKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlVG9rZW4nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlVG9rZW4nXSwgZnJvbVBhZ2VUb2tlbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0RmlsZXNQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBsaXN0RmlsZXNDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxlU3RhdHVzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZpbGVTdGF0dXMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGV0YWlscyddKTtcbiAgaWYgKGZyb21EZXRhaWxzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGV0YWlscyddLCBmcm9tRGV0YWlscyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVzc2FnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21lc3NhZ2UnXSk7XG4gIGlmIChmcm9tTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lc3NhZ2UnXSwgZnJvbU1lc3NhZ2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb2RlJ10pO1xuICBpZiAoZnJvbUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb2RlJ10sIGZyb21Db2RlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TaXplQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzaXplQnl0ZXMnXSk7XG4gIGlmIChmcm9tU2l6ZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2l6ZUJ5dGVzJ10sIGZyb21TaXplQnl0ZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmF0aW9uVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4cGlyYXRpb25UaW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhwaXJhdGlvblRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleHBpcmF0aW9uVGltZSddLCBmcm9tRXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TaGEyNTZIYXNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2hhMjU2SGFzaCddKTtcbiAgaWYgKGZyb21TaGEyNTZIYXNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2hhMjU2SGFzaCddLCBmcm9tU2hhMjU2SGFzaCk7XG4gIH1cblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb3dubG9hZFVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rvd25sb2FkVXJpJ10pO1xuICBpZiAoZnJvbURvd25sb2FkVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG93bmxvYWRVcmknXSwgZnJvbURvd25sb2FkVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRlJ10pO1xuICBpZiAoZnJvbVN0YXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhdGUnXSwgZnJvbVN0YXRlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Tb3VyY2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzb3VyY2UnXSk7XG4gIGlmIChmcm9tU291cmNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc291cmNlJ10sIGZyb21Tb3VyY2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlcnJvciddLFxuICAgICAgZmlsZVN0YXR1c1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tRXJyb3IpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZpbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlJ10pO1xuICBpZiAoZnJvbUZpbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlJ10sIGZpbGVUb01sZGV2KGFwaUNsaWVudCwgZnJvbUZpbGUpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0RmlsZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdmaWxlJ10sXG4gICAgICB0LnRGaWxlTmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVGaWxlUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ2ZpbGUnXSxcbiAgICAgIHQudEZpbGVOYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVTdGF0dXNGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GaWxlU3RhdHVzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RldGFpbHMnXSk7XG4gIGlmIChmcm9tRGV0YWlscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RldGFpbHMnXSwgZnJvbURldGFpbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1lc3NhZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXNzYWdlJ10pO1xuICBpZiAoZnJvbU1lc3NhZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXNzYWdlJ10sIGZyb21NZXNzYWdlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29kZSddKTtcbiAgaWYgKGZyb21Db2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZSddLCBmcm9tQ29kZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TaXplQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzaXplQnl0ZXMnXSk7XG4gIGlmIChmcm9tU2l6ZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2l6ZUJ5dGVzJ10sIGZyb21TaXplQnl0ZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmF0aW9uVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4cGlyYXRpb25UaW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhwaXJhdGlvblRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleHBpcmF0aW9uVGltZSddLCBmcm9tRXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TaGEyNTZIYXNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2hhMjU2SGFzaCddKTtcbiAgaWYgKGZyb21TaGEyNTZIYXNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2hhMjU2SGFzaCddLCBmcm9tU2hhMjU2SGFzaCk7XG4gIH1cblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb3dubG9hZFVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rvd25sb2FkVXJpJ10pO1xuICBpZiAoZnJvbURvd25sb2FkVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG93bmxvYWRVcmknXSwgZnJvbURvd25sb2FkVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRlJ10pO1xuICBpZiAoZnJvbVN0YXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhdGUnXSwgZnJvbVN0YXRlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Tb3VyY2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzb3VyY2UnXSk7XG4gIGlmIChmcm9tU291cmNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc291cmNlJ10sIGZyb21Tb3VyY2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlcnJvciddLFxuICAgICAgZmlsZVN0YXR1c0Zyb21NbGRldihhcGlDbGllbnQsIGZyb21FcnJvciksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RGaWxlc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEZpbGVzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVzJ10pO1xuICBpZiAoZnJvbUZpbGVzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRmlsZXMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2ZpbGVzJ10sXG4gICAgICAgIGZyb21GaWxlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZmlsZUZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlcyddLCBmcm9tRmlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUh0dHBIZWFkZXJzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaHR0cEhlYWRlcnMnXSk7XG4gIGlmIChmcm9tSHR0cEhlYWRlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydodHRwSGVhZGVycyddLCBmcm9tSHR0cEhlYWRlcnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2KCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbic7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbic7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fZmlsZXNfY29udmVydGVycyc7XG5pbXBvcnQge1BhZ2VkSXRlbSwgUGFnZXJ9IGZyb20gJy4vcGFnZXJzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgRmlsZXMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgYWxsIGN1cnJlbnQgcHJvamVjdCBmaWxlcyBmcm9tIHRoZSBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IHJlcXVlc3RcbiAgICogQHJldHVybiBUaGUgcGFnaW5hdGVkIHJlc3VsdHMgb2YgdGhlIGxpc3Qgb2YgZmlsZXNcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogVGhlIGZvbGxvd2luZyBjb2RlIHByaW50cyB0aGUgbmFtZXMgb2YgYWxsIGZpbGVzIGZyb20gdGhlIHNlcnZpY2UsIHRoZVxuICAgKiBzaXplIG9mIGVhY2ggcGFnZSBpcyAxMC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgbGlzdFJlc3BvbnNlID0gYXdhaXQgYWkuZmlsZXMubGlzdCh7Y29uZmlnOiB7J3BhZ2VTaXplJzogMTB9fSk7XG4gICAqIGZvciBhd2FpdCAoY29uc3QgZmlsZSBvZiBsaXN0UmVzcG9uc2UpIHtcbiAgICogICBjb25zb2xlLmxvZyhmaWxlLm5hbWUpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RGaWxlc1BhcmFtZXRlcnMgPSB7fSxcbiAgKTogUHJvbWlzZTxQYWdlcjx0eXBlcy5GaWxlPj4gPT4ge1xuICAgIHJldHVybiBuZXcgUGFnZXI8dHlwZXMuRmlsZT4oXG4gICAgICBQYWdlZEl0ZW0uUEFHRURfSVRFTV9GSUxFUyxcbiAgICAgICh4OiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzKSA9PiB0aGlzLmxpc3RJbnRlcm5hbCh4KSxcbiAgICAgIGF3YWl0IHRoaXMubGlzdEludGVybmFsKHBhcmFtcyksXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBsb2FkcyBhIGZpbGUgYXN5bmNocm9ub3VzbHkgdG8gdGhlIEdlbWluaSBBUEkuXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgaW4gVmVydGV4IEFJLlxuICAgKiBTdXBwb3J0ZWQgdXBsb2FkIHNvdXJjZXM6XG4gICAqIC0gTm9kZS5qczogRmlsZSBwYXRoIChzdHJpbmcpIG9yIEJsb2Igb2JqZWN0LlxuICAgKiAtIEJyb3dzZXI6IEJsb2Igb2JqZWN0IChlLmcuLCBGaWxlKS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGBtaW1lVHlwZWAgY2FuIGJlIHNwZWNpZmllZCBpbiB0aGUgYGNvbmZpZ2AgcGFyYW1ldGVyLiBJZiBvbWl0dGVkOlxuICAgKiAgLSBGb3IgZmlsZSBwYXRoIChzdHJpbmcpIGlucHV0cywgdGhlIGBtaW1lVHlwZWAgd2lsbCBiZSBpbmZlcnJlZCBmcm9tIHRoZVxuICAgKiAgICAgZmlsZSBleHRlbnNpb24uXG4gICAqICAtIEZvciBCbG9iIG9iamVjdCBpbnB1dHMsIHRoZSBgbWltZVR5cGVgIHdpbGwgYmUgc2V0IHRvIHRoZSBCbG9iJ3MgYHR5cGVgXG4gICAqICAgICBwcm9wZXJ0eS5cbiAgICogU29tZXggZWFtcGxlcyBmb3IgZmlsZSBleHRlbnNpb24gdG8gbWltZVR5cGUgbWFwcGluZzpcbiAgICogLnR4dCAtPiB0ZXh0L3BsYWluXG4gICAqIC5qc29uIC0+IGFwcGxpY2F0aW9uL2pzb25cbiAgICogLmpwZyAgLT4gaW1hZ2UvanBlZ1xuICAgKiAucG5nIC0+IGltYWdlL3BuZ1xuICAgKiAubXAzIC0+IGF1ZGlvL21wZWdcbiAgICogLm1wNCAtPiB2aWRlby9tcDRcbiAgICpcbiAgICogVGhpcyBzZWN0aW9uIGNhbiBjb250YWluIG11bHRpcGxlIHBhcmFncmFwaHMgYW5kIGNvZGUgZXhhbXBsZXMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBPcHRpb25hbCBwYXJhbWV0ZXJzIHNwZWNpZmllZCBpbiB0aGVcbiAgICogICAgICAgIGB0eXBlcy5VcGxvYWRGaWxlUGFyYW1ldGVyc2AgaW50ZXJmYWNlLlxuICAgKiAgICAgICAgIEBzZWUge0BsaW5rIHR5cGVzLlVwbG9hZEZpbGVQYXJhbWV0ZXJzI2NvbmZpZ30gZm9yIHRoZSBvcHRpb25hbFxuICAgKiAgICAgICAgIGNvbmZpZyBpbiB0aGUgcGFyYW1ldGVycy5cbiAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGB0eXBlcy5GaWxlYCBvYmplY3QuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgY2FsbGVkIG9uIGEgVmVydGV4IEFJIGNsaWVudC5cbiAgICogQHRocm93cyBBbiBlcnJvciBpZiB0aGUgYG1pbWVUeXBlYCBpcyBub3QgcHJvdmlkZWQgYW5kIGNhbiBub3QgYmUgaW5mZXJyZWQsXG4gICAqIHRoZSBgbWltZVR5cGVgIGNhbiBiZSBwcm92aWRlZCBpbiB0aGUgYHBhcmFtcy5jb25maWdgIHBhcmFtZXRlci5cbiAgICogQHRocm93cyBBbiBlcnJvciBvY2N1cnMgaWYgYSBzdWl0YWJsZSB1cGxvYWQgbG9jYXRpb24gY2Fubm90IGJlIGVzdGFibGlzaGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgdXBsb2FkcyBhIGZpbGUgdG8gR2VtaW5pIEFQSS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgZmlsZSA9IGF3YWl0IGFpLmZpbGVzLnVwbG9hZCh7ZmlsZTogJ2ZpbGUudHh0JywgY29uZmlnOiB7XG4gICAqICAgbWltZVR5cGU6ICd0ZXh0L3BsYWluJyxcbiAgICogfX0pO1xuICAgKiBjb25zb2xlLmxvZyhmaWxlLm5hbWUpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIHVwbG9hZChwYXJhbXM6IHR5cGVzLlVwbG9hZEZpbGVQYXJhbWV0ZXJzKTogUHJvbWlzZTx0eXBlcy5GaWxlPiB7XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVmVydGV4IEFJIGRvZXMgbm90IHN1cHBvcnQgdXBsb2FkaW5nIGZpbGVzLiBZb3UgY2FuIHNoYXJlIGZpbGVzIHRocm91Z2ggYSBHQ1MgYnVja2V0LicsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmFwaUNsaWVudFxuICAgICAgLnVwbG9hZEZpbGUocGFyYW1zLmZpbGUsIHBhcmFtcy5jb25maWcpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGNvbnZlcnRlcnMuZmlsZUZyb21NbGRldih0aGlzLmFwaUNsaWVudCwgcmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gZmlsZSBhcyB0eXBlcy5GaWxlO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxpc3RJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RGaWxlc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuTGlzdEZpbGVzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTGlzdEZpbGVzUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3RGaWxlc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKCdmaWxlcycsIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5MaXN0RmlsZXNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0RmlsZXNSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5DcmVhdGVGaWxlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVGaWxlUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd1cGxvYWQvdjFiZXRhL2ZpbGVzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY3JlYXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGZpbGUgaW5mb3JtYXRpb24gZnJvbSB0aGUgc2VydmljZS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IHJlcXVlc3RcbiAgICogQHJldHVybiBUaGUgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0eXBlcy5GaWxlIG9iamVjdCByZXF1ZXN0ZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNvbmZpZzogR2V0RmlsZVBhcmFtZXRlcnMgPSB7XG4gICAqICAgbmFtZTogZmlsZU5hbWUsXG4gICAqIH07XG4gICAqIGZpbGUgPSBhd2FpdCBhaS5maWxlcy5nZXQoY29uZmlnKTtcbiAgICogY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBnZXQocGFyYW1zOiB0eXBlcy5HZXRGaWxlUGFyYW1ldGVycyk6IFByb21pc2U8dHlwZXMuRmlsZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5GaWxlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRGaWxlUGFyYW1ldGVyc1RvTWxkZXYodGhpcy5hcGlDbGllbnQsIHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2ZpbGVzL3tmaWxlfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5GaWxlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmZpbGVGcm9tTWxkZXYodGhpcy5hcGlDbGllbnQsIGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5GaWxlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSByZW1vdGVseSBzdG9yZWQgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZGVsZXRlIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIERlbGV0ZUZpbGVSZXNwb25zZSwgdGhlIHJlc3BvbnNlIGZvciB0aGUgZGVsZXRlIG1ldGhvZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogVGhlIGZvbGxvd2luZyBjb2RlIGRlbGV0ZXMgYW4gZXhhbXBsZSBmaWxlIG5hbWVkIFwiZmlsZXMvbWVob3pweGY4NzdkXCIuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmZpbGVzLmRlbGV0ZSh7bmFtZTogZmlsZS5uYW1lfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKFxuICAgIHBhcmFtczogdHlwZXMuRGVsZXRlRmlsZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRGVsZXRlRmlsZVJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUZpbGVSZXNwb25zZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZGVsZXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnZmlsZXMve2ZpbGV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZUZpbGVSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZGVsZXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2KCk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24nO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fdHJhbnNmb3JtZXJzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUGFydCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndmlkZW9NZXRhZGF0YSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVEYXRhJ10sIGZyb21GaWxlRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddLCBmcm9tRnVuY3Rpb25DYWxsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5saW5lRGF0YSddLCBmcm9tSW5saW5lRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVBhcnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydwYXJ0cyddLFxuICAgICAgICBmcm9tUGFydHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVtYVRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TY2hlbWEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleGFtcGxlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4YW1wbGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXR0ZXJuJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhdHRlcm4gcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZWZhdWx0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlZmF1bHQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhMZW5ndGgnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWF4TGVuZ3RoIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluTGVuZ3RoJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pbkxlbmd0aCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pblByb3BlcnRpZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWluUHJvcGVydGllcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heFByb3BlcnRpZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWF4UHJvcGVydGllcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFueU9mID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYW55T2YnXSk7XG4gIGlmIChmcm9tQW55T2YgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhbnlPZiddLCBmcm9tQW55T2YpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVudW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbnVtJ10pO1xuICBpZiAoZnJvbUVudW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbnVtJ10sIGZyb21FbnVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Gb3JtYXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmb3JtYXQnXSk7XG4gIGlmIChmcm9tRm9ybWF0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZm9ybWF0J10sIGZyb21Gb3JtYXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaXRlbXMnXSk7XG4gIGlmIChmcm9tSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpdGVtcyddLCBmcm9tSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heEl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4SXRlbXMnXSk7XG4gIGlmIChmcm9tTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhJdGVtcyddLCBmcm9tTWF4SXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heGltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhpbXVtJ10pO1xuICBpZiAoZnJvbU1heGltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhpbXVtJ10sIGZyb21NYXhpbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkl0ZW1zJ10pO1xuICBpZiAoZnJvbU1pbkl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluSXRlbXMnXSwgZnJvbU1pbkl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5pbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluaW11bSddKTtcbiAgaWYgKGZyb21NaW5pbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluaW11bSddLCBmcm9tTWluaW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVsbGFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydudWxsYWJsZSddKTtcbiAgaWYgKGZyb21OdWxsYWJsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ251bGxhYmxlJ10sIGZyb21OdWxsYWJsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSk7XG4gIGlmIChmcm9tUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSwgZnJvbVByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnR5T3JkZXJpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9wZXJ0eU9yZGVyaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvcGVydHlPcmRlcmluZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnR5T3JkZXJpbmcnXSwgZnJvbVByb3BlcnR5T3JkZXJpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlcXVpcmVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVxdWlyZWQnXSk7XG4gIGlmIChmcm9tUmVxdWlyZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXF1aXJlZCddLCBmcm9tUmVxdWlyZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpdGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGl0bGUnXSk7XG4gIGlmIChmcm9tVGl0bGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0eXBlJ10pO1xuICBpZiAoZnJvbVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0eXBlJ10sIGZyb21UeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmV0eVNldHRpbmdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2FmZXR5U2V0dGluZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGhvZCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYXRlZ29yeSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhdGVnb3J5J10pO1xuICBpZiAoZnJvbUNhdGVnb3J5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2F0ZWdvcnknXSwgZnJvbUNhdGVnb3J5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaHJlc2hvbGQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aHJlc2hvbGQnXSk7XG4gIGlmIChmcm9tVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhyZXNob2xkJ10sIGZyb21UaHJlc2hvbGQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25EZWNsYXJhdGlvblRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkRlY2xhcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVzcG9uc2UgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFyYW1ldGVycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSk7XG4gIGlmIChmcm9tUGFyYW1ldGVycyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSwgZnJvbVBhcmFtZXRlcnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlU2VhcmNoVG9NbGRldigpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRHluYW1pY1JldHJpZXZhbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAoZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EeW5hbWljVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZHluYW1pY1RocmVzaG9sZCcsXG4gIF0pO1xuICBpZiAoZnJvbUR5bmFtaWNUaHJlc2hvbGQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkeW5hbWljVGhyZXNob2xkJ10sIGZyb21EeW5hbWljVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFJldHJpZXZhbFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVTZWFyY2hSZXRyaWV2YWwsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZHluYW1pY1JldHJpZXZhbENvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydkeW5hbWljUmV0cmlldmFsQ29uZmlnJ10sXG4gICAgICBkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkRlY2xhcmF0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJ10sXG4gICAgICAgIGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb25EZWNsYXJhdGlvblRvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJ10sXG4gICAgICAgIGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JldHJpZXZhbCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXRyaWV2YWwgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10sIGdvb2dsZVNlYXJjaFRvTWxkZXYoKSk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJ10sXG4gICAgICBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb01sZGV2KGFwaUNsaWVudCwgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb2RlRXhlY3V0aW9uJ10sIGZyb21Db2RlRXhlY3V0aW9uKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGxpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhbGxvd2VkRnVuY3Rpb25OYW1lcycsXG4gIF0pO1xuICBpZiAoZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnXSxcbiAgICAgIGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJ10sXG4gICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZWJ1aWx0Vm9pY2VDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUHJlYnVpbHRWb2ljZUNvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZvaWNlTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZvaWNlTmFtZSddKTtcbiAgaWYgKGZyb21Wb2ljZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2b2ljZU5hbWUnXSwgZnJvbVZvaWNlTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2b2ljZUNvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Wb2ljZUNvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVByZWJ1aWx0Vm9pY2VDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVidWlsdFZvaWNlQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJlYnVpbHRWb2ljZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ByZWJ1aWx0Vm9pY2VDb25maWcnXSxcbiAgICAgIHByZWJ1aWx0Vm9pY2VDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbVByZWJ1aWx0Vm9pY2VDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGVlY2hDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU3BlZWNoQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVm9pY2VDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2b2ljZUNvbmZpZyddKTtcbiAgaWYgKGZyb21Wb2ljZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZvaWNlQ29uZmlnJ10sXG4gICAgICB2b2ljZUNvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tVm9pY2VDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aGlua2luZ0NvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5UaGlua2luZ0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVUaG91Z2h0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVUaG91Z2h0cycsXG4gIF0pO1xuICBpZiAoZnJvbUluY2x1ZGVUaG91Z2h0cyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luY2x1ZGVUaG91Z2h0cyddLCBmcm9tSW5jbHVkZVRob3VnaHRzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0J1ZGdldCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQnVkZ2V0JyxcbiAgXSk7XG4gIGlmIChmcm9tVGhpbmtpbmdCdWRnZXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aGlua2luZ0J1ZGdldCddLCBmcm9tVGhpbmtpbmdCdWRnZXQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvTWxkZXYoYXBpQ2xpZW50LCB0LnRDb250ZW50KGFwaUNsaWVudCwgZnJvbVN5c3RlbUluc3RydWN0aW9uKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10pO1xuICBpZiAoZnJvbVRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGVtcGVyYXR1cmUnXSwgZnJvbVRlbXBlcmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BQID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wUCddKTtcbiAgaWYgKGZyb21Ub3BQICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wUCddLCBmcm9tVG9wUCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wSyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcEsnXSk7XG4gIGlmIChmcm9tVG9wSyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RvcEsnXSwgZnJvbVRvcEspO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhbmRpZGF0ZUNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYW5kaWRhdGVDb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhbmRpZGF0ZUNvdW50J10sIGZyb21DYW5kaWRhdGVDb3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4T3V0cHV0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4T3V0cHV0VG9rZW5zJ10sIGZyb21NYXhPdXRwdXRUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0b3BTZXF1ZW5jZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdG9wU2VxdWVuY2VzJyxcbiAgXSk7XG4gIGlmIChmcm9tU3RvcFNlcXVlbmNlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0b3BTZXF1ZW5jZXMnXSwgZnJvbVN0b3BTZXF1ZW5jZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUxvZ3Byb2JzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VMb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlTG9ncHJvYnMnXSwgZnJvbVJlc3BvbnNlTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbG9ncHJvYnMnXSk7XG4gIGlmIChmcm9tTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsb2dwcm9icyddLCBmcm9tTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZXNlbmNlUGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZXNlbmNlUGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbVByZXNlbmNlUGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ByZXNlbmNlUGVuYWx0eSddLCBmcm9tUHJlc2VuY2VQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GcmVxdWVuY3lQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnJlcXVlbmN5UGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbUZyZXF1ZW5jeVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmcmVxdWVuY3lQZW5hbHR5J10sIGZyb21GcmVxdWVuY3lQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZWVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKTtcbiAgaWYgKGZyb21TZWVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2VlZCddLCBmcm9tU2VlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VNaW1lVHlwZSddLCBmcm9tUmVzcG9uc2VNaW1lVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VTY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZVNjaGVtYScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlU2NoZW1hICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VTY2hlbWEnXSxcbiAgICAgIHNjaGVtYVRvTWxkZXYoYXBpQ2xpZW50LCB0LnRTY2hlbWEoYXBpQ2xpZW50LCBmcm9tUmVzcG9uc2VTY2hlbWEpKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JvdXRpbmdDb25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncm91dGluZ0NvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eVNldHRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5U2V0dGluZ3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlTZXR0aW5ncyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVNhZmV0eVNldHRpbmdzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnc2FmZXR5U2V0dGluZ3MnXSxcbiAgICAgICAgZnJvbVNhZmV0eVNldHRpbmdzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBzYWZldHlTZXR0aW5nVG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3NhZmV0eVNldHRpbmdzJ10sXG4gICAgICAgIGZyb21TYWZldHlTZXR0aW5ncyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Ub29scykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIHQudFRvb2xzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRUb29scyhhcGlDbGllbnQsIGZyb21Ub29scykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbFRvTWxkZXYoYXBpQ2xpZW50LCB0LnRUb29sKGFwaUNsaWVudCwgaXRlbSkpO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsndG9vbHMnXSxcbiAgICAgICAgdC50VG9vbHMoYXBpQ2xpZW50LCBmcm9tVG9vbHMpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xDb25maWcnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWyd0b29sQ29uZmlnJ10sXG4gICAgICB0b29sQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsYWJlbHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNhY2hlZENvbnRlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnY2FjaGVkQ29udGVudCddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tQ2FjaGVkQ29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1vZGFsaXRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1vZGFsaXRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1vZGFsaXRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZWRpYVJlc29sdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtZWRpYVJlc29sdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21NZWRpYVJlc29sdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZWRpYVJlc29sdXRpb24nXSwgZnJvbU1lZGlhUmVzb2x1dGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tU3BlZWNoQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10pO1xuICBpZiAoZnJvbVNwZWVjaENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NwZWVjaENvbmZpZyddLFxuICAgICAgc3BlZWNoQ29uZmlnVG9NbGRldihcbiAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICB0LnRTcGVlY2hDb25maWcoYXBpQ2xpZW50LCBmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdWRpb1RpbWVzdGFtcCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhdWRpb1RpbWVzdGFtcCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21UaGlua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3RoaW5raW5nQ29uZmlnJ10sXG4gICAgICB0aGlua2luZ0NvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tVGhpbmtpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBnZW5lcmF0ZUNvbnRlbnRDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGFza1R5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0YXNrVHlwZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UYXNrVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ3Rhc2tUeXBlJ10sXG4gICAgICBmcm9tVGFza1R5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaXRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpdGxlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRpdGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3JlcXVlc3RzW10nLCAndGl0bGUnXSwgZnJvbVRpdGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dERpbWVuc2lvbmFsaXR5JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncmVxdWVzdHNbXScsICdvdXRwdXREaW1lbnNpb25hbGl0eSddLFxuICAgICAgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5LFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWltZVR5cGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdXRvVHJ1bmNhdGUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXV0b1RydW5jYXRlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JlcXVlc3RzW10nLCAnY29udGVudCddLFxuICAgICAgdC50Q29udGVudHNGb3JFbWJlZChhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBlbWJlZENvbnRlbnRDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWxGb3JFbWJlZENvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbEZvckVtYmVkQ29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JlcXVlc3RzW10nLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsRm9yRW1iZWRDb250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZXNDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRHY3NVcmknXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3V0cHV0R2NzVXJpIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmVnYXRpdmVQcm9tcHQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbmVnYXRpdmVQcm9tcHQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OdW1iZXJPZkltYWdlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ251bWJlck9mSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTnVtYmVyT2ZJbWFnZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYW1wbGVDb3VudCddLFxuICAgICAgZnJvbU51bWJlck9mSW1hZ2VzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQXNwZWN0UmF0aW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhc3BlY3RSYXRpbyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Bc3BlY3RSYXRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2FzcGVjdFJhdGlvJ10sXG4gICAgICBmcm9tQXNwZWN0UmF0aW8sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HdWlkYW5jZVNjYWxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ3VpZGFuY2VTY2FsZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUd1aWRhbmNlU2NhbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdndWlkYW5jZVNjYWxlJ10sXG4gICAgICBmcm9tR3VpZGFuY2VTY2FsZSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2VlZCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUZpbHRlckxldmVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5RmlsdGVyTGV2ZWwnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlGaWx0ZXJMZXZlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhZmV0eVNldHRpbmcnXSxcbiAgICAgIGZyb21TYWZldHlGaWx0ZXJMZXZlbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlU2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnaW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVSYWlSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlUmFpUmVhc29uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5jbHVkZVJhaVJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2luY2x1ZGVSYWlSZWFzb24nXSxcbiAgICAgIGZyb21JbmNsdWRlUmFpUmVhc29uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFuZ3VhZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYW5ndWFnZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYW5ndWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2xhbmd1YWdlJ10sXG4gICAgICBmcm9tTGFuZ3VhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dE1pbWVUeXBlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0TWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ21pbWVUeXBlJ10sXG4gICAgICBmcm9tT3V0cHV0TWltZVR5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRDb21wcmVzc2lvblF1YWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ2NvbXByZXNzaW9uUXVhbGl0eSddLFxuICAgICAgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FkZFdhdGVybWFyayddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhZGRXYXRlcm1hcmsgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmhhbmNlUHJvbXB0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VuaGFuY2VQcm9tcHQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgZ2VuZXJhdGVJbWFnZXNDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlbFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0TW9kZWxQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50VG9rZW5zQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdzeXN0ZW1JbnN0cnVjdGlvbiBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0b29scyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dlbmVyYXRpb25Db25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdnZW5lcmF0aW9uQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFRvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgY291bnRUb2tlbnNDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2djc1VyaSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZUJ5dGVzJ10pO1xuICBpZiAoZnJvbUltYWdlQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydieXRlc0Jhc2U2NEVuY29kZWQnXSxcbiAgICAgIHQudEJ5dGVzKGFwaUNsaWVudCwgZnJvbUltYWdlQnl0ZXMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc0NvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU51bWJlck9mVmlkZW9zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZWaWRlb3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZlZpZGVvcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZWaWRlb3MsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRHY3NVcmknXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3V0cHV0R2NzVXJpIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnBzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZwcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUR1cmF0aW9uU2Vjb25kcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R1cmF0aW9uU2Vjb25kcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2R1cmF0aW9uU2Vjb25kcyddLFxuICAgICAgZnJvbUR1cmF0aW9uU2Vjb25kcyxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2VlZCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhc3BlY3RSYXRpbyddLFxuICAgICAgZnJvbUFzcGVjdFJhdGlvLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzb2x1dGlvbiddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXNvbHV0aW9uIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwdWJzdWJUb3BpYyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwdWJzdWJUb3BpYyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5lZ2F0aXZlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmVnYXRpdmVQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OZWdhdGl2ZVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ25lZ2F0aXZlUHJvbXB0J10sXG4gICAgICBmcm9tTmVnYXRpdmVQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmhhbmNlUHJvbXB0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2VuaGFuY2VQcm9tcHQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZSddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICdpbWFnZSddLFxuICAgICAgaW1hZ2VUb01sZGV2KGFwaUNsaWVudCwgZnJvbUltYWdlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUGFydCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVEYXRhJ10sIGZyb21GaWxlRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddLCBmcm9tRnVuY3Rpb25DYWxsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5saW5lRGF0YSddLCBmcm9tSW5saW5lRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0VG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgZnJvbVBhcnRzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUm9sZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JvbGUnXSk7XG4gIGlmIChmcm9tUm9sZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JvbGUnXSwgZnJvbVJvbGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NoZW1hVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TY2hlbWEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21FeGFtcGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZSddKTtcbiAgaWYgKGZyb21FeGFtcGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhhbXBsZSddLCBmcm9tRXhhbXBsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGF0dGVybiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhdHRlcm4nXSk7XG4gIGlmIChmcm9tUGF0dGVybiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhdHRlcm4nXSwgZnJvbVBhdHRlcm4pO1xuICB9XG5cbiAgY29uc3QgZnJvbURlZmF1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZWZhdWx0J10pO1xuICBpZiAoZnJvbURlZmF1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZWZhdWx0J10sIGZyb21EZWZhdWx0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhMZW5ndGggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhMZW5ndGgnXSk7XG4gIGlmIChmcm9tTWF4TGVuZ3RoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4TGVuZ3RoJ10sIGZyb21NYXhMZW5ndGgpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbkxlbmd0aCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkxlbmd0aCddKTtcbiAgaWYgKGZyb21NaW5MZW5ndGggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5MZW5ndGgnXSwgZnJvbU1pbkxlbmd0aCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21pblByb3BlcnRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21NaW5Qcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluUHJvcGVydGllcyddLCBmcm9tTWluUHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4UHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heFByb3BlcnRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhQcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4UHJvcGVydGllcyddLCBmcm9tTWF4UHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tQW55T2YgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhbnlPZiddKTtcbiAgaWYgKGZyb21BbnlPZiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FueU9mJ10sIGZyb21BbnlPZik7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tRW51bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VudW0nXSk7XG4gIGlmIChmcm9tRW51bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VudW0nXSwgZnJvbUVudW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbUZvcm1hdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Zvcm1hdCddKTtcbiAgaWYgKGZyb21Gb3JtYXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmb3JtYXQnXSwgZnJvbUZvcm1hdCk7XG4gIH1cblxuICBjb25zdCBmcm9tSXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpdGVtcyddKTtcbiAgaWYgKGZyb21JdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2l0ZW1zJ10sIGZyb21JdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4SXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhJdGVtcyddKTtcbiAgaWYgKGZyb21NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heEl0ZW1zJ10sIGZyb21NYXhJdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4aW11bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heGltdW0nXSk7XG4gIGlmIChmcm9tTWF4aW11bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heGltdW0nXSwgZnJvbU1heGltdW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbkl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluSXRlbXMnXSk7XG4gIGlmIChmcm9tTWluSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5JdGVtcyddLCBmcm9tTWluSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbmltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5pbXVtJ10pO1xuICBpZiAoZnJvbU1pbmltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW5pbXVtJ10sIGZyb21NaW5pbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OdWxsYWJsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ251bGxhYmxlJ10pO1xuICBpZiAoZnJvbU51bGxhYmxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbnVsbGFibGUnXSwgZnJvbU51bGxhYmxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9wZXJ0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvcGVydGllcyddKTtcbiAgaWYgKGZyb21Qcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvcGVydGllcyddLCBmcm9tUHJvcGVydGllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydHlPcmRlcmluZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb3BlcnR5T3JkZXJpbmcnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9wZXJ0eU9yZGVyaW5nICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvcGVydHlPcmRlcmluZyddLCBmcm9tUHJvcGVydHlPcmRlcmluZyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVxdWlyZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXF1aXJlZCddKTtcbiAgaWYgKGZyb21SZXF1aXJlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlcXVpcmVkJ10sIGZyb21SZXF1aXJlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGl0bGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aXRsZSddKTtcbiAgaWYgKGZyb21UaXRsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpdGxlJ10sIGZyb21UaXRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R5cGUnXSk7XG4gIGlmIChmcm9tVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R5cGUnXSwgZnJvbVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZXR5U2V0dGluZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2FmZXR5U2V0dGluZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1ldGhvZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGhvZCddKTtcbiAgaWYgKGZyb21NZXRob2QgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRob2QnXSwgZnJvbU1ldGhvZCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2F0ZWdvcnkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYXRlZ29yeSddKTtcbiAgaWYgKGZyb21DYXRlZ29yeSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhdGVnb3J5J10sIGZyb21DYXRlZ29yeSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhyZXNob2xkJ10pO1xuICBpZiAoZnJvbVRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RocmVzaG9sZCddLCBmcm9tVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uRGVjbGFyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIHNjaGVtYVRvVmVydGV4KGFwaUNsaWVudCwgZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJhbWV0ZXJzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFyYW1ldGVycyddKTtcbiAgaWYgKGZyb21QYXJhbWV0ZXJzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFyYW1ldGVycyddLCBmcm9tUGFyYW1ldGVycyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hUb1ZlcnRleCgpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkR5bmFtaWNSZXRyaWV2YWxDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRHluYW1pY1RocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNUaHJlc2hvbGQnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZHluYW1pY1RocmVzaG9sZCddLCBmcm9tRHluYW1pY1RocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkeW5hbWljUmV0cmlldmFsQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnXSxcbiAgICAgIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSxcbiAgICAgICAgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmV0cmlldmFsJ10pO1xuICBpZiAoZnJvbVJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JldHJpZXZhbCddLCBmcm9tUmV0cmlldmFsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10sIGdvb2dsZVNlYXJjaFRvVmVydGV4KCkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGVFeGVjdXRpb24nXSwgZnJvbUNvZGVFeGVjdXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGxpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhbGxvd2VkRnVuY3Rpb25OYW1lcycsXG4gIF0pO1xuICBpZiAoZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnXSxcbiAgICAgIGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyddLFxuICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlYnVpbHRWb2ljZUNvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUHJlYnVpbHRWb2ljZUNvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZvaWNlTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZvaWNlTmFtZSddKTtcbiAgaWYgKGZyb21Wb2ljZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2b2ljZU5hbWUnXSwgZnJvbVZvaWNlTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2b2ljZUNvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVm9pY2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QcmVidWlsdFZvaWNlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlYnVpbHRWb2ljZUNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVByZWJ1aWx0Vm9pY2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwcmVidWlsdFZvaWNlQ29uZmlnJ10sXG4gICAgICBwcmVidWlsdFZvaWNlQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tUHJlYnVpbHRWb2ljZUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNwZWVjaENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU3BlZWNoQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVm9pY2VDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2b2ljZUNvbmZpZyddKTtcbiAgaWYgKGZyb21Wb2ljZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZvaWNlQ29uZmlnJ10sXG4gICAgICB2b2ljZUNvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbVZvaWNlQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhpbmtpbmdDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlRoaW5raW5nQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW5jbHVkZVRob3VnaHRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVRob3VnaHRzJyxcbiAgXSk7XG4gIGlmIChmcm9tSW5jbHVkZVRob3VnaHRzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5jbHVkZVRob3VnaHRzJ10sIGZyb21JbmNsdWRlVGhvdWdodHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQnVkZ2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdCdWRnZXQnLFxuICBdKTtcbiAgaWYgKGZyb21UaGlua2luZ0J1ZGdldCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RoaW5raW5nQnVkZ2V0J10sIGZyb21UaGlua2luZ0J1ZGdldCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgdC50Q29udGVudChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGVtcGVyYXR1cmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZW1wZXJhdHVyZSddKTtcbiAgaWYgKGZyb21UZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10sIGZyb21UZW1wZXJhdHVyZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wUCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcFAnXSk7XG4gIGlmIChmcm9tVG9wUCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RvcFAnXSwgZnJvbVRvcFApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcEsgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BLJ10pO1xuICBpZiAoZnJvbVRvcEsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BLJ10sIGZyb21Ub3BLKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYW5kaWRhdGVDb3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhbmRpZGF0ZUNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FuZGlkYXRlQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYW5kaWRhdGVDb3VudCddLCBmcm9tQ2FuZGlkYXRlQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heE91dHB1dFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heE91dHB1dFRva2VucycsXG4gIF0pO1xuICBpZiAoZnJvbU1heE91dHB1dFRva2VucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heE91dHB1dFRva2VucyddLCBmcm9tTWF4T3V0cHV0VG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdG9wU2VxdWVuY2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3RvcFNlcXVlbmNlcycsXG4gIF0pO1xuICBpZiAoZnJvbVN0b3BTZXF1ZW5jZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzdG9wU2VxdWVuY2VzJ10sIGZyb21TdG9wU2VxdWVuY2VzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUxvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VMb2dwcm9icycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZUxvZ3Byb2JzJ10sIGZyb21SZXNwb25zZUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xvZ3Byb2JzJ10pO1xuICBpZiAoZnJvbUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbG9ncHJvYnMnXSwgZnJvbUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QcmVzZW5jZVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVzZW5jZVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21QcmVzZW5jZVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcmVzZW5jZVBlbmFsdHknXSwgZnJvbVByZXNlbmNlUGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnJlcXVlbmN5UGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2ZyZXF1ZW5jeVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21GcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnJlcXVlbmN5UGVuYWx0eSddLCBmcm9tRnJlcXVlbmN5UGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1pbWVUeXBlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlTWltZVR5cGUnXSwgZnJvbVJlc3BvbnNlTWltZVR5cGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VTY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVNjaGVtYSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlU2NoZW1hJ10sXG4gICAgICBzY2hlbWFUb1ZlcnRleChhcGlDbGllbnQsIHQudFNjaGVtYShhcGlDbGllbnQsIGZyb21SZXNwb25zZVNjaGVtYSkpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUm91dGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JvdXRpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21Sb3V0aW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm91dGluZ0NvbmZpZyddLCBmcm9tUm91dGluZ0NvbmZpZyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5U2V0dGluZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlTZXR0aW5ncycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNhZmV0eVNldHRpbmdzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tU2FmZXR5U2V0dGluZ3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzYWZldHlTZXR0aW5ncyddLFxuICAgICAgICBmcm9tU2FmZXR5U2V0dGluZ3MubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHNhZmV0eVNldHRpbmdUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3NhZmV0eVNldHRpbmdzJ10sXG4gICAgICAgIGZyb21TYWZldHlTZXR0aW5ncyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Ub29scykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIHQudFRvb2xzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRUb29scyhhcGlDbGllbnQsIGZyb21Ub29scykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdG9vbFRvVmVydGV4KGFwaUNsaWVudCwgdC50VG9vbChhcGlDbGllbnQsIGl0ZW0pKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIHQudFRvb2xzKGFwaUNsaWVudCwgZnJvbVRvb2xzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndG9vbENvbmZpZyddLFxuICAgICAgdG9vbENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbVRvb2xDb25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFiZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFiZWxzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhYmVscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydsYWJlbHMnXSwgZnJvbUxhYmVscyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21DYWNoZWRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnQnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbUNhY2hlZENvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzcGVlY2hDb25maWcnXSxcbiAgICAgIHNwZWVjaENvbmZpZ1RvVmVydGV4KFxuICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgIHQudFNwZWVjaENvbmZpZyhhcGlDbGllbnQsIGZyb21TcGVlY2hDb25maWcpLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUF1ZGlvVGltZXN0YW1wID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYXVkaW9UaW1lc3RhbXAnLFxuICBdKTtcbiAgaWYgKGZyb21BdWRpb1RpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F1ZGlvVGltZXN0YW1wJ10sIGZyb21BdWRpb1RpbWVzdGFtcCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhpbmtpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aGlua2luZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVRoaW5raW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndGhpbmtpbmdDb25maWcnXSxcbiAgICAgIHRoaW5raW5nQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tVGhpbmtpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Db250ZW50cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoXG4gICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50VG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dlbmVyYXRpb25Db25maWcnXSxcbiAgICAgIGdlbmVyYXRlQ29udGVudENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRhc2tUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGFza1R5cGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGFza1R5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzW10nLCAndGFza190eXBlJ10sXG4gICAgICBmcm9tVGFza1R5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaXRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpdGxlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRpdGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2luc3RhbmNlc1tdJywgJ3RpdGxlJ10sIGZyb21UaXRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXREaW1lbnNpb25hbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnb3V0cHV0RGltZW5zaW9uYWxpdHknXSxcbiAgICAgIGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzW10nLCAnbWltZVR5cGUnXSxcbiAgICAgIGZyb21NaW1lVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUF1dG9UcnVuY2F0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1dG9UcnVuY2F0ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21BdXRvVHJ1bmNhdGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhdXRvVHJ1bmNhdGUnXSxcbiAgICAgIGZyb21BdXRvVHJ1bmNhdGUsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ2NvbnRlbnQnXSxcbiAgICAgIHQudENvbnRlbnRzRm9yRW1iZWQoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgZW1iZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU91dHB1dEdjc1VyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRHY3NVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzdG9yYWdlVXJpJ10sXG4gICAgICBmcm9tT3V0cHV0R2NzVXJpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTmVnYXRpdmVQcm9tcHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZWdhdGl2ZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU5lZ2F0aXZlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbmVnYXRpdmVQcm9tcHQnXSxcbiAgICAgIGZyb21OZWdhdGl2ZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU51bWJlck9mSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZJbWFnZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZkltYWdlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZJbWFnZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXNwZWN0UmF0aW8nXSxcbiAgICAgIGZyb21Bc3BlY3RSYXRpbyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUd1aWRhbmNlU2NhbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdndWlkYW5jZVNjYWxlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR3VpZGFuY2VTY2FsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2d1aWRhbmNlU2NhbGUnXSxcbiAgICAgIGZyb21HdWlkYW5jZVNjYWxlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydwYXJhbWV0ZXJzJywgJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUZpbHRlckxldmVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5RmlsdGVyTGV2ZWwnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlGaWx0ZXJMZXZlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhZmV0eVNldHRpbmcnXSxcbiAgICAgIGZyb21TYWZldHlGaWx0ZXJMZXZlbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlU2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnaW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVSYWlSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlUmFpUmVhc29uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5jbHVkZVJhaVJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2luY2x1ZGVSYWlSZWFzb24nXSxcbiAgICAgIGZyb21JbmNsdWRlUmFpUmVhc29uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFuZ3VhZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYW5ndWFnZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYW5ndWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2xhbmd1YWdlJ10sXG4gICAgICBmcm9tTGFuZ3VhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dE1pbWVUeXBlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0TWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ21pbWVUeXBlJ10sXG4gICAgICBmcm9tT3V0cHV0TWltZVR5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRDb21wcmVzc2lvblF1YWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ2NvbXByZXNzaW9uUXVhbGl0eSddLFxuICAgICAgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFkZFdhdGVybWFyayA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FkZFdhdGVybWFyayddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21BZGRXYXRlcm1hcmsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhZGRXYXRlcm1hcmsnXSxcbiAgICAgIGZyb21BZGRXYXRlcm1hcmssXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmhhbmNlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5oYW5jZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVuaGFuY2VQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdlbmhhbmNlUHJvbXB0J10sXG4gICAgICBmcm9tRW5oYW5jZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgZ2VuZXJhdGVJbWFnZXNDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWxQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRNb2RlbFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzeXN0ZW1JbnN0cnVjdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVN5c3RlbUluc3RydWN0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3N5c3RlbUluc3RydWN0aW9uJ10sXG4gICAgICBjb250ZW50VG9WZXJ0ZXgoYXBpQ2xpZW50LCB0LnRDb250ZW50KGFwaUNsaWVudCwgZnJvbVN5c3RlbUluc3RydWN0aW9uKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tVG9vbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWyd0b29scyddLFxuICAgICAgICBmcm9tVG9vbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbHMnXSwgZnJvbVRvb2xzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGlvbkNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRpb25Db25maWcnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21HZW5lcmF0aW9uQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2dlbmVyYXRpb25Db25maWcnXSxcbiAgICAgIGZyb21HZW5lcmF0aW9uQ29uZmlnLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGNvdW50VG9rZW5zQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db21wdXRlVG9rZW5zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbWFnZVRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnY3NVcmknXSk7XG4gIGlmIChmcm9tR2NzVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2NzVXJpJ10sIGZyb21HY3NVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZUJ5dGVzJ10pO1xuICBpZiAoZnJvbUltYWdlQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydieXRlc0Jhc2U2NEVuY29kZWQnXSxcbiAgICAgIHQudEJ5dGVzKGFwaUNsaWVudCwgZnJvbUltYWdlQnl0ZXMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc0NvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OdW1iZXJPZlZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ251bWJlck9mVmlkZW9zJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTnVtYmVyT2ZWaWRlb3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYW1wbGVDb3VudCddLFxuICAgICAgZnJvbU51bWJlck9mVmlkZW9zLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0R2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0R2NzVXJpJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dEdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3N0b3JhZ2VVcmknXSxcbiAgICAgIGZyb21PdXRwdXRHY3NVcmksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GcHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmcHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRnBzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3BhcmFtZXRlcnMnLCAnZnBzJ10sIGZyb21GcHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUR1cmF0aW9uU2Vjb25kcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R1cmF0aW9uU2Vjb25kcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2R1cmF0aW9uU2Vjb25kcyddLFxuICAgICAgZnJvbUR1cmF0aW9uU2Vjb25kcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsncGFyYW1ldGVycycsICdzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXNwZWN0UmF0aW8nXSxcbiAgICAgIGZyb21Bc3BlY3RSYXRpbyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc29sdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNvbHV0aW9uJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVJlc29sdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdyZXNvbHV0aW9uJ10sXG4gICAgICBmcm9tUmVzb2x1dGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHVic3ViVG9waWMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwdWJzdWJUb3BpYyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QdWJzdWJUb3BpYyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3B1YnN1YlRvcGljJ10sXG4gICAgICBmcm9tUHVic3ViVG9waWMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZWdhdGl2ZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25lZ2F0aXZlUHJvbXB0JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTmVnYXRpdmVQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICduZWdhdGl2ZVByb21wdCddLFxuICAgICAgZnJvbU5lZ2F0aXZlUHJvbXB0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5oYW5jZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuaGFuY2VQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmhhbmNlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZW5oYW5jZVByb21wdCddLFxuICAgICAgZnJvbUVuaGFuY2VQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2UnXSk7XG4gIGlmIChmcm9tSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAnaW1hZ2UnXSxcbiAgICAgIGltYWdlVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tSW1hZ2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVBhcnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydwYXJ0cyddLFxuICAgICAgICBmcm9tUGFydHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgZnJvbVBhcnRzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUm9sZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JvbGUnXSk7XG4gIGlmIChmcm9tUm9sZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JvbGUnXSwgZnJvbVJvbGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2l0YXRpb25NZXRhZGF0YUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNpdGF0aW9uTWV0YWRhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DaXRhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjaXRhdGlvblNvdXJjZXMnXSk7XG4gIGlmIChmcm9tQ2l0YXRpb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2l0YXRpb25zJ10sIGZyb21DaXRhdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuZGlkYXRlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuZGlkYXRlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnQnXSk7XG4gIGlmIChmcm9tQ29udGVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbnRlbnQnXSxcbiAgICAgIGNvbnRlbnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tQ29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DaXRhdGlvbk1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2l0YXRpb25NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbUNpdGF0aW9uTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjaXRhdGlvbk1ldGFkYXRhJ10sXG4gICAgICBjaXRhdGlvbk1ldGFkYXRhRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbUNpdGF0aW9uTWV0YWRhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSk7XG4gIGlmIChmcm9tVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSwgZnJvbVRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbmlzaFJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbmlzaFJlYXNvbiddKTtcbiAgaWYgKGZyb21GaW5pc2hSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaW5pc2hSZWFzb24nXSwgZnJvbUZpbmlzaFJlYXNvbik7XG4gIH1cblxuICBjb25zdCBmcm9tQXZnTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdmdMb2dwcm9icyddKTtcbiAgaWYgKGZyb21BdmdMb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F2Z0xvZ3Byb2JzJ10sIGZyb21BdmdMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tR3JvdW5kaW5nTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdncm91bmRpbmdNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbUdyb3VuZGluZ01ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ3JvdW5kaW5nTWV0YWRhdGEnXSxcbiAgICAgIGZyb21Hcm91bmRpbmdNZXRhZGF0YSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluZGV4ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5kZXgnXSk7XG4gIGlmIChmcm9tSW5kZXggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbmRleCddLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxvZ3Byb2JzUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbG9ncHJvYnNSZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Mb2dwcm9ic1Jlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzUmVzdWx0J10sIGZyb21Mb2dwcm9ic1Jlc3VsdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5UmF0aW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eVJhdGluZ3MnLFxuICBdKTtcbiAgaWYgKGZyb21TYWZldHlSYXRpbmdzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2FmZXR5UmF0aW5ncyddLCBmcm9tU2FmZXR5UmF0aW5ncyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhbmRpZGF0ZXMnXSk7XG4gIGlmIChmcm9tQ2FuZGlkYXRlcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhbmRpZGF0ZXMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NhbmRpZGF0ZXMnXSxcbiAgICAgICAgZnJvbUNhbmRpZGF0ZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZUZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYW5kaWRhdGVzJ10sIGZyb21DYW5kaWRhdGVzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWxWZXJzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWxWZXJzaW9uJ10pO1xuICBpZiAoZnJvbU1vZGVsVmVyc2lvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGVsVmVyc2lvbiddLCBmcm9tTW9kZWxWZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9tcHRGZWVkYmFjayA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdEZlZWRiYWNrJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0RmVlZGJhY2sgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9tcHRGZWVkYmFjayddLCBmcm9tUHJvbXB0RmVlZGJhY2spO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VzYWdlTWV0YWRhdGEnXSwgZnJvbVVzYWdlTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3NGcm9tTWxkZXYoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50RW1iZWRkaW5nRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudEVtYmVkZGluZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZhbHVlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZhbHVlcyddKTtcbiAgaWYgKGZyb21WYWx1ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2YWx1ZXMnXSwgZnJvbVZhbHVlcyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRNZXRhZGF0YUZyb21NbGRldigpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21FbWJlZGRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW1iZWRkaW5ncyddKTtcbiAgaWYgKGZyb21FbWJlZGRpbmdzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRW1iZWRkaW5ncykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZW1iZWRkaW5ncyddLFxuICAgICAgICBmcm9tRW1iZWRkaW5ncy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gY29udGVudEVtYmVkZGluZ0Zyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbWJlZGRpbmdzJ10sIGZyb21FbWJlZGRpbmdzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ21ldGFkYXRhJ10sXG4gICAgICBlbWJlZENvbnRlbnRNZXRhZGF0YUZyb21NbGRldigpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbWFnZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2VCeXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2J5dGVzQmFzZTY0RW5jb2RlZCcsXG4gIF0pO1xuICBpZiAoZnJvbUltYWdlQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbWFnZUJ5dGVzJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21JbWFnZUJ5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZXR5QXR0cmlidXRlc0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eUF0dHJpYnV0ZXMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DYXRlZ29yaWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ2NhdGVnb3JpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21DYXRlZ29yaWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2F0ZWdvcmllcyddLCBmcm9tQ2F0ZWdvcmllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2NvcmVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ3Njb3JlcycsXG4gIF0pO1xuICBpZiAoZnJvbVNjb3JlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Njb3JlcyddLCBmcm9tU2NvcmVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50VHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRUeXBlJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udGVudFR5cGUnXSwgZnJvbUNvbnRlbnRUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZEltYWdlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2UnXSxcbiAgICAgIGltYWdlRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbUltYWdlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJhaUZpbHRlcmVkUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpRmlsdGVyZWRSZWFzb24nLFxuICBdKTtcbiAgaWYgKGZyb21SYWlGaWx0ZXJlZFJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaUZpbHRlcmVkUmVhc29uJ10sXG4gICAgICBmcm9tUmFpRmlsdGVyZWRSZWFzb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tU2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIHNhZmV0eUF0dHJpYnV0ZXNGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tU2FmZXR5QXR0cmlidXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2VuZXJhdGVkSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRJbWFnZXMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21HZW5lcmF0ZWRJbWFnZXMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2dlbmVyYXRlZEltYWdlcyddLFxuICAgICAgICBmcm9tR2VuZXJhdGVkSW1hZ2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBnZW5lcmF0ZWRJbWFnZUZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRJbWFnZXMnXSwgZnJvbUdlbmVyYXRlZEltYWdlcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAoZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgc2FmZXR5QXR0cmlidXRlc0Zyb21NbGRldihhcGlDbGllbnQsIGZyb21Qb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRwb2ludEZyb21NbGRldigpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1bmVkTW9kZWxJbmZvRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVHVuZWRNb2RlbEluZm8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21CYXNlTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiYXNlTW9kZWwnXSk7XG4gIGlmIChmcm9tQmFzZU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYmFzZU1vZGVsJ10sIGZyb21CYXNlTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RlbEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLk1vZGVsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2ZXJzaW9uJ10pO1xuICBpZiAoZnJvbVZlcnNpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2ZXJzaW9uJ10sIGZyb21WZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5lZE1vZGVsSW5mbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVR1bmVkTW9kZWxJbmZvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndHVuZWRNb2RlbEluZm8nXSxcbiAgICAgIHR1bmVkTW9kZWxJbmZvRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVR1bmVkTW9kZWxJbmZvKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUlucHV0VG9rZW5MaW1pdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lucHV0VG9rZW5MaW1pdCcsXG4gIF0pO1xuICBpZiAoZnJvbUlucHV0VG9rZW5MaW1pdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lucHV0VG9rZW5MaW1pdCddLCBmcm9tSW5wdXRUb2tlbkxpbWl0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRUb2tlbkxpbWl0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0VG9rZW5MaW1pdCcsXG4gIF0pO1xuICBpZiAoZnJvbU91dHB1dFRva2VuTGltaXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydvdXRwdXRUb2tlbkxpbWl0J10sIGZyb21PdXRwdXRUb2tlbkxpbWl0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdXBwb3J0ZWRBY3Rpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3VwcG9ydGVkR2VuZXJhdGlvbk1ldGhvZHMnLFxuICBdKTtcbiAgaWYgKGZyb21TdXBwb3J0ZWRBY3Rpb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3VwcG9ydGVkQWN0aW9ucyddLCBmcm9tU3VwcG9ydGVkQWN0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRvdGFsVG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG90YWxUb2tlbnMnXSk7XG4gIGlmIChmcm9tVG90YWxUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3RhbFRva2VucyddLCBmcm9tVG90YWxUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21VcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlbycsICd1cmknXSk7XG4gIGlmIChmcm9tVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJpJ10sIGZyb21VcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlbycsXG4gICAgJ2VuY29kZWRWaWRlbycsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlb0J5dGVzJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21WaWRlb0J5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5jb2RpbmcnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkVmlkZW9Gcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZWRWaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlbyddLFxuICAgICAgdmlkZW9Gcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tVmlkZW8pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRlZFNhbXBsZXMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21HZW5lcmF0ZWRWaWRlb3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2dlbmVyYXRlZFZpZGVvcyddLFxuICAgICAgICBmcm9tR2VuZXJhdGVkVmlkZW9zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBnZW5lcmF0ZWRWaWRlb0Zyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRWaWRlb3MnXSwgZnJvbUdlbmVyYXRlZFZpZGVvcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaU1lZGlhRmlsdGVyZWRDb3VudCddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJ10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21ldGFkYXRhJ10sIGZyb21NZXRhZGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9uZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvbmUnXSk7XG4gIGlmIChmcm9tRG9uZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvbmUnXSwgZnJvbURvbmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlcnJvciddLCBmcm9tRXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2UnLFxuICAgICdnZW5lcmF0ZVZpZGVvUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlJyxcbiAgICAnZ2VuZXJhdGVWaWRlb1Jlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzdWx0J10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVJlc3VsdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUGFydCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVEYXRhJ10sIGZyb21GaWxlRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddLCBmcm9tRnVuY3Rpb25DYWxsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5saW5lRGF0YSddLCBmcm9tSW5saW5lRGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudEZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVBhcnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydwYXJ0cyddLFxuICAgICAgICBmcm9tUGFydHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNpdGF0aW9uTWV0YWRhdGFGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2l0YXRpb25NZXRhZGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NpdGF0aW9ucyddKTtcbiAgaWYgKGZyb21DaXRhdGlvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjaXRhdGlvbnMnXSwgZnJvbUNpdGF0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5kaWRhdGVGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuZGlkYXRlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnQnXSk7XG4gIGlmIChmcm9tQ29udGVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbnRlbnQnXSxcbiAgICAgIGNvbnRlbnRGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2l0YXRpb25NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NpdGF0aW9uTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21DaXRhdGlvbk1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY2l0YXRpb25NZXRhZGF0YSddLFxuICAgICAgY2l0YXRpb25NZXRhZGF0YUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ2l0YXRpb25NZXRhZGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaW5pc2hNZXNzYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZmluaXNoTWVzc2FnZScsXG4gIF0pO1xuICBpZiAoZnJvbUZpbmlzaE1lc3NhZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaW5pc2hNZXNzYWdlJ10sIGZyb21GaW5pc2hNZXNzYWdlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaW5pc2hSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaW5pc2hSZWFzb24nXSk7XG4gIGlmIChmcm9tRmluaXNoUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmluaXNoUmVhc29uJ10sIGZyb21GaW5pc2hSZWFzb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUF2Z0xvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXZnTG9ncHJvYnMnXSk7XG4gIGlmIChmcm9tQXZnTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhdmdMb2dwcm9icyddLCBmcm9tQXZnTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdyb3VuZGluZ01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ3JvdW5kaW5nTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Hcm91bmRpbmdNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dyb3VuZGluZ01ldGFkYXRhJ10sXG4gICAgICBmcm9tR3JvdW5kaW5nTWV0YWRhdGEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmRleCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2luZGV4J10pO1xuICBpZiAoZnJvbUluZGV4ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5kZXgnXSwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2dwcm9ic1Jlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xvZ3Byb2JzUmVzdWx0JyxcbiAgXSk7XG4gIGlmIChmcm9tTG9ncHJvYnNSZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsb2dwcm9ic1Jlc3VsdCddLCBmcm9tTG9ncHJvYnNSZXN1bHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eVJhdGluZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlSYXRpbmdzJyxcbiAgXSk7XG4gIGlmIChmcm9tU2FmZXR5UmF0aW5ncyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NhZmV0eVJhdGluZ3MnXSwgZnJvbVNhZmV0eVJhdGluZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DYW5kaWRhdGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY2FuZGlkYXRlcyddKTtcbiAgaWYgKGZyb21DYW5kaWRhdGVzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ2FuZGlkYXRlcykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY2FuZGlkYXRlcyddLFxuICAgICAgICBmcm9tQ2FuZGlkYXRlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlRnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYW5kaWRhdGVzJ10sIGZyb21DYW5kaWRhdGVzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlSWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZUlkJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlSWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZUlkJ10sIGZyb21SZXNwb25zZUlkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbFZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbFZlcnNpb24nXSk7XG4gIGlmIChmcm9tTW9kZWxWZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWxWZXJzaW9uJ10sIGZyb21Nb2RlbFZlcnNpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdEZlZWRiYWNrID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvbXB0RmVlZGJhY2snLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRGZWVkYmFjayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdEZlZWRiYWNrJ10sIGZyb21Qcm9tcHRGZWVkYmFjayk7XG4gIH1cblxuICBjb25zdCBmcm9tVXNhZ2VNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VzYWdlTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXNhZ2VNZXRhZGF0YSddLCBmcm9tVXNhZ2VNZXRhZGF0YSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50RW1iZWRkaW5nU3RhdGlzdGljc0Zyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50RW1iZWRkaW5nU3RhdGlzdGljcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRydW5jYXRlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RydW5jYXRlZCddKTtcbiAgaWYgKGZyb21UcnVuY2F0ZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0cnVuY2F0ZWQnXSwgZnJvbVRydW5jYXRlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuX2NvdW50J10pO1xuICBpZiAoZnJvbVRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b2tlbkNvdW50J10sIGZyb21Ub2tlbkNvdW50KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRFbWJlZGRpbmdGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudEVtYmVkZGluZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZhbHVlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZhbHVlcyddKTtcbiAgaWYgKGZyb21WYWx1ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2YWx1ZXMnXSwgZnJvbVZhbHVlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhdGlzdGljcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRpc3RpY3MnXSk7XG4gIGlmIChmcm9tU3RhdGlzdGljcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3N0YXRpc3RpY3MnXSxcbiAgICAgIGNvbnRlbnRFbWJlZGRpbmdTdGF0aXN0aWNzRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21TdGF0aXN0aWNzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50TWV0YWRhdGFGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRDb250ZW50TWV0YWRhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21CaWxsYWJsZUNoYXJhY3RlckNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYmlsbGFibGVDaGFyYWN0ZXJDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUJpbGxhYmxlQ2hhcmFjdGVyQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydiaWxsYWJsZUNoYXJhY3RlckNvdW50J10sXG4gICAgICBmcm9tQmlsbGFibGVDaGFyYWN0ZXJDb3VudCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21FbWJlZGRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnNbXScsXG4gICAgJ2VtYmVkZGluZ3MnLFxuICBdKTtcbiAgaWYgKGZyb21FbWJlZGRpbmdzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRW1iZWRkaW5ncykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZW1iZWRkaW5ncyddLFxuICAgICAgICBmcm9tRW1iZWRkaW5ncy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gY29udGVudEVtYmVkZGluZ0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW1iZWRkaW5ncyddLCBmcm9tRW1iZWRkaW5ncyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydtZXRhZGF0YSddLFxuICAgICAgZW1iZWRDb250ZW50TWV0YWRhdGFGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbU1ldGFkYXRhKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnY3NVcmknXSk7XG4gIGlmIChmcm9tR2NzVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2NzVXJpJ10sIGZyb21HY3NVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdieXRlc0Jhc2U2NEVuY29kZWQnLFxuICBdKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2VCeXRlcyddLFxuICAgICAgdC50Qnl0ZXMoYXBpQ2xpZW50LCBmcm9tSW1hZ2VCeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmV0eUF0dHJpYnV0ZXNGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2FmZXR5QXR0cmlidXRlcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNhdGVnb3JpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlBdHRyaWJ1dGVzJyxcbiAgICAnY2F0ZWdvcmllcycsXG4gIF0pO1xuICBpZiAoZnJvbUNhdGVnb3JpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYXRlZ29yaWVzJ10sIGZyb21DYXRlZ29yaWVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TY29yZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlBdHRyaWJ1dGVzJyxcbiAgICAnc2NvcmVzJyxcbiAgXSk7XG4gIGlmIChmcm9tU2NvcmVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2NvcmVzJ10sIGZyb21TY29yZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudFR5cGUnXSk7XG4gIGlmIChmcm9tQ29udGVudFR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb250ZW50VHlwZSddLCBmcm9tQ29udGVudFR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkSW1hZ2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2UnXSxcbiAgICAgIGltYWdlRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlGaWx0ZXJlZFJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaUZpbHRlcmVkUmVhc29uJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpRmlsdGVyZWRSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlGaWx0ZXJlZFJlYXNvbiddLFxuICAgICAgZnJvbVJhaUZpbHRlcmVkUmVhc29uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVNhZmV0eUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBzYWZldHlBdHRyaWJ1dGVzRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21TYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuaGFuY2VkUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbUVuaGFuY2VkUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW5oYW5jZWRQcm9tcHQnXSwgZnJvbUVuaGFuY2VkUHJvbXB0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZEltYWdlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWRpY3Rpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGVkSW1hZ2VzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tR2VuZXJhdGVkSW1hZ2VzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydnZW5lcmF0ZWRJbWFnZXMnXSxcbiAgICAgICAgZnJvbUdlbmVyYXRlZEltYWdlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkSW1hZ2VGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRlZEltYWdlcyddLCBmcm9tR2VuZXJhdGVkSW1hZ2VzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBzYWZldHlBdHRyaWJ1dGVzRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21Qb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRwb2ludEZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbmRwb2ludCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmRwb2ludCddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVwbG95ZWRNb2RlbElkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZGVwbG95ZWRNb2RlbElkJyxcbiAgXSk7XG4gIGlmIChmcm9tRGVwbG95ZWRNb2RlbElkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVwbG95ZWRNb2RlbElkJ10sIGZyb21EZXBsb3llZE1vZGVsSWQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVuZWRNb2RlbEluZm9Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVHVuZWRNb2RlbEluZm8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21CYXNlTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdsYWJlbHMnLFxuICAgICdnb29nbGUtdmVydGV4LWxsbS10dW5pbmctYmFzZS1tb2RlbC1pZCcsXG4gIF0pO1xuICBpZiAoZnJvbUJhc2VNb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Jhc2VNb2RlbCddLCBmcm9tQmFzZU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DcmVhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY3JlYXRlVGltZSddKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVXBkYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tVXBkYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSwgZnJvbVVwZGF0ZVRpbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9kZWxGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTW9kZWwsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tVmVyc2lvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZlcnNpb25JZCddKTtcbiAgaWYgKGZyb21WZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmVyc2lvbiddLCBmcm9tVmVyc2lvbik7XG4gIH1cblxuICBjb25zdCBmcm9tRW5kcG9pbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVwbG95ZWRNb2RlbHMnXSk7XG4gIGlmIChmcm9tRW5kcG9pbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tRW5kcG9pbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydlbmRwb2ludHMnXSxcbiAgICAgICAgZnJvbUVuZHBvaW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZW5kcG9pbnRGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuZHBvaW50cyddLCBmcm9tRW5kcG9pbnRzKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tTGFiZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFiZWxzJ10pO1xuICBpZiAoZnJvbUxhYmVscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xhYmVscyddLCBmcm9tTGFiZWxzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5lZE1vZGVsSW5mbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVR1bmVkTW9kZWxJbmZvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndHVuZWRNb2RlbEluZm8nXSxcbiAgICAgIHR1bmVkTW9kZWxJbmZvRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21UdW5lZE1vZGVsSW5mbyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50VG9rZW5zUmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRvdGFsVG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG90YWxUb2tlbnMnXSk7XG4gIGlmIChmcm9tVG90YWxUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3RhbFRva2VucyddLCBmcm9tVG90YWxUb2tlbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRva2Vuc0luZm8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b2tlbnNJbmZvJ10pO1xuICBpZiAoZnJvbVRva2Vuc0luZm8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b2tlbnNJbmZvJ10sIGZyb21Ub2tlbnNJbmZvKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYnl0ZXNCYXNlNjRFbmNvZGVkJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9CeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZpZGVvQnl0ZXMnXSxcbiAgICAgIHQudEJ5dGVzKGFwaUNsaWVudCwgZnJvbVZpZGVvQnl0ZXMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZWRWaWRlb0Zyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZWRWaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlbyddLFxuICAgICAgdmlkZW9Gcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbVZpZGVvKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2VuZXJhdGVkVmlkZW9zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW9zJ10pO1xuICBpZiAoZnJvbUdlbmVyYXRlZFZpZGVvcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUdlbmVyYXRlZFZpZGVvcykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZ2VuZXJhdGVkVmlkZW9zJ10sXG4gICAgICAgIGZyb21HZW5lcmF0ZWRWaWRlb3MubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRWaWRlb3MnXSwgZnJvbUdlbmVyYXRlZFZpZGVvcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaU1lZGlhRmlsdGVyZWRDb3VudCddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRDb3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJ10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvbmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb25lJ10pO1xuICBpZiAoZnJvbURvbmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb25lJ10sIGZyb21Eb25lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXJyb3InXSwgZnJvbUVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3VsdCddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tUmVzdWx0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIGNvbnRlbnRGcm9tTWxkZXYsXG4gIGNvbnRlbnRGcm9tVmVydGV4LFxuICBjb250ZW50VG9NbGRldixcbiAgY29udGVudFRvVmVydGV4LFxuICB0b29sVG9NbGRldixcbiAgdG9vbFRvVmVydGV4LFxufSBmcm9tICcuL19tb2RlbHNfY29udmVydGVycyc7XG5cbi8qKlxuICogQ29udmVydGVycyBmb3IgbGl2ZSBjbGllbnQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ29ubmVjdFBhcmFtZXRlcnMsXG4pOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9PSB1bmRlZmluZWQgJiYgZnJvbUNvbmZpZyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXR1cCddLFxuICAgICAgbGl2ZUNvbm5lY3RDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2V0dXAnLCAnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzLFxuKTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2Uge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPT0gdW5kZWZpbmVkICYmIGZyb21Db25maWcgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2V0dXAnXSxcbiAgICAgIGxpdmVDb25uZWN0Q29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZXR1cCcsICdtb2RlbCddLCBmcm9tTW9kZWwpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZVNlcnZlck1lc3NhZ2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZSxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNldHVwQ29tcGxldGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXR1cENvbXBsZXRlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2V0dXBDb21wbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NldHVwQ29tcGxldGUnXSwgZnJvbVNldHVwQ29tcGxldGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlcnZlckNvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXJ2ZXJDb250ZW50JyxcbiAgXSk7XG4gIGlmIChmcm9tU2VydmVyQ29udGVudCAhPT0gdW5kZWZpbmVkICYmIGZyb21TZXJ2ZXJDb250ZW50ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NlcnZlckNvbnRlbnQnXSxcbiAgICAgIGxpdmVTZXJ2ZXJDb250ZW50RnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVNlcnZlckNvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENhbGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ2FsbCddKTtcbiAgaWYgKGZyb21Ub29sQ2FsbCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ2FsbCAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sQ2FsbCddLFxuICAgICAgbGl2ZVNlcnZlclRvb2xDYWxsRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVRvb2xDYWxsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDYWxsQ2FuY2VsbGF0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbENhbGxDYW5jZWxsYXRpb24nLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbVRvb2xDYWxsQ2FuY2VsbGF0aW9uICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sQ2FsbENhbmNlbGxhdGlvbiddLFxuICAgICAgbGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uRnJvbU1sZGV2KFxuICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbixcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Vc2FnZU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndXNhZ2VNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVzYWdlTWV0YWRhdGEgIT0gdW5kZWZpbmVkICYmIGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndXNhZ2VNZXRhZGF0YSddLFxuICAgICAgdXNhZ2VNZXRhZGF0YUZyb21NbGRldihhcGlDbGllbnQsIGZyb21Vc2FnZU1ldGFkYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvQXdheSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvQXdheSddKTtcbiAgaWYgKGZyb21Hb0F3YXkgIT09IHVuZGVmaW5lZCAmJiBmcm9tR29Bd2F5ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvQXdheSddLFxuICAgICAgbGl2ZVNlcnZlckdvQXdheUZyb21NbGRldihmcm9tR29Bd2F5KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlc3Npb25SZXN1bXB0aW9uVXBkYXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2Vzc2lvblJlc3VtcHRpb25VcGRhdGUnLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbVNlc3Npb25SZXN1bXB0aW9uVXBkYXRlICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSddLFxuICAgICAgbGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlRnJvbU1sZGV2KGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVTZXJ2ZXJNZXNzYWdlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlLFxuKTogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2Uge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2V0dXBDb21wbGV0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NldHVwQ29tcGxldGUnLFxuICBdKTtcbiAgaWYgKGZyb21TZXR1cENvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2V0dXBDb21wbGV0ZSddLCBmcm9tU2V0dXBDb21wbGV0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VydmVyQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NlcnZlckNvbnRlbnQnLFxuICBdKTtcbiAgaWYgKGZyb21TZXJ2ZXJDb250ZW50ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlcnZlckNvbnRlbnQgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2VydmVyQ29udGVudCddLFxuICAgICAgbGl2ZVNlcnZlckNvbnRlbnRGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbVNlcnZlckNvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENhbGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ2FsbCddKTtcbiAgaWYgKGZyb21Ub29sQ2FsbCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ2FsbCAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sQ2FsbCddLFxuICAgICAgbGl2ZVNlcnZlclRvb2xDYWxsRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21Ub29sQ2FsbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rvb2xDYWxsQ2FuY2VsbGF0aW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbiAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbENhbGxDYW5jZWxsYXRpb24nXSxcbiAgICAgIGxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbkZyb21WZXJ0ZXgoXG4gICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgZnJvbVRvb2xDYWxsQ2FuY2VsbGF0aW9uLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvQXdheSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvQXdheSddKTtcbiAgaWYgKGZyb21Hb0F3YXkgIT09IHVuZGVmaW5lZCAmJiBmcm9tR29Bd2F5ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvQXdheSddLFxuICAgICAgbGl2ZVNlcnZlckdvQXdheUZyb21WZXJ0ZXgoZnJvbUdvQXdheSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nlc3Npb25SZXN1bXB0aW9uVXBkYXRlJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2Vzc2lvblJlc3VtcHRpb25VcGRhdGUnXSxcbiAgICAgIGxpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZUZyb21WZXJ0ZXgoZnJvbVNlc3Npb25SZXN1bXB0aW9uVXBkYXRlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSB1bmRlZmluZWQgJiYgZnJvbVVzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd1c2FnZU1ldGFkYXRhJ10sXG4gICAgICB1c2FnZU1ldGFkYXRhRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21Vc2FnZU1ldGFkYXRhKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBzbGlkaW5nV2luZG93VG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuU2xpZGluZ1dpbmRvdyxcbik6IHR5cGVzLlNsaWRpbmdXaW5kb3cge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGFyZ2V0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGFyZ2V0VG9rZW5zJ10pO1xuICBpZiAoZnJvbVRhcmdldFRva2VucyAhPT0gdW5kZWZpbmVkICYmIGZyb21UYXJnZXRUb2tlbnMgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGFyZ2V0VG9rZW5zJ10sIGZyb21UYXJnZXRUb2tlbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBzbGlkaW5nV2luZG93VG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNsaWRpbmdXaW5kb3csXG4pOiB0eXBlcy5TbGlkaW5nV2luZG93IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRhcmdldFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RhcmdldFRva2VucyddKTtcbiAgaWYgKGZyb21UYXJnZXRUb2tlbnMgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGFyZ2V0VG9rZW5zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RhcmdldFRva2VucyddLCBmcm9tVGFyZ2V0VG9rZW5zKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gY29udGV4dFdpbmRvd0NvbXByZXNzaW9uVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnLFxuKTogdHlwZXMuQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRyaWdnZXJUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0cmlnZ2VyVG9rZW5zJyxcbiAgXSk7XG4gIGlmIChmcm9tVHJpZ2dlclRva2VucyAhPT0gdW5kZWZpbmVkICYmIGZyb21UcmlnZ2VyVG9rZW5zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RyaWdnZXJUb2tlbnMnXSwgZnJvbVRyaWdnZXJUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNsaWRpbmdXaW5kb3cgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzbGlkaW5nV2luZG93JyxcbiAgXSk7XG4gIGlmIChmcm9tU2xpZGluZ1dpbmRvdyAhPT0gdW5kZWZpbmVkICYmIGZyb21TbGlkaW5nV2luZG93ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NsaWRpbmdXaW5kb3cnXSxcbiAgICAgIHNsaWRpbmdXaW5kb3dUb01sZGV2KGZyb21TbGlkaW5nV2luZG93KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBjb250ZXh0V2luZG93Q29tcHJlc3Npb25Ub1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnLFxuKTogdHlwZXMuQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRyaWdnZXJUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0cmlnZ2VyVG9rZW5zJyxcbiAgXSk7XG4gIGlmIChmcm9tVHJpZ2dlclRva2VucyAhPT0gdW5kZWZpbmVkICYmIGZyb21UcmlnZ2VyVG9rZW5zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RyaWdnZXJUb2tlbnMnXSwgZnJvbVRyaWdnZXJUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNsaWRpbmdXaW5kb3cgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzbGlkaW5nV2luZG93JyxcbiAgXSk7XG4gIGlmIChmcm9tU2xpZGluZ1dpbmRvdyAhPT0gdW5kZWZpbmVkICYmIGZyb21TbGlkaW5nV2luZG93ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NsaWRpbmdXaW5kb3cnXSxcbiAgICAgIHNsaWRpbmdXaW5kb3dUb1ZlcnRleChmcm9tU2xpZGluZ1dpbmRvdyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb25Ub01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbixcbik6IHR5cGVzLkF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbURpc2FibGVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzYWJsZWQnXSk7XG4gIGlmIChmcm9tRGlzYWJsZWQgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGlzYWJsZWQgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzYWJsZWQnXSwgZnJvbURpc2FibGVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHknLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21TdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHkgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21TdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHkgIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3N0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eSddLFxuICAgICAgZnJvbVN0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuZE9mU3BlZWNoU2Vuc2l0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmRPZlNwZWVjaFNlbnNpdGl2aXR5JyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tRW5kT2ZTcGVlY2hTZW5zaXRpdml0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbUVuZE9mU3BlZWNoU2Vuc2l0aXZpdHkgIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2VuZE9mU3BlZWNoU2Vuc2l0aXZpdHknXSxcbiAgICAgIGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlZml4UGFkZGluZ01zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZml4UGFkZGluZ01zJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJlZml4UGFkZGluZ01zICE9PSB1bmRlZmluZWQgJiYgZnJvbVByZWZpeFBhZGRpbmdNcyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcmVmaXhQYWRkaW5nTXMnXSwgZnJvbVByZWZpeFBhZGRpbmdNcyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2lsZW5jZUR1cmF0aW9uTXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzaWxlbmNlRHVyYXRpb25NcycsXG4gIF0pO1xuICBpZiAoZnJvbVNpbGVuY2VEdXJhdGlvbk1zICE9PSB1bmRlZmluZWQgJiYgZnJvbVNpbGVuY2VEdXJhdGlvbk1zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NpbGVuY2VEdXJhdGlvbk1zJ10sXG4gICAgICBmcm9tU2lsZW5jZUR1cmF0aW9uTXMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb25Ub1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24sXG4pOiB0eXBlcy5BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EaXNhYmxlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc2FibGVkJ10pO1xuICBpZiAoZnJvbURpc2FibGVkICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc2FibGVkICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc2FibGVkJ10sIGZyb21EaXNhYmxlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5JyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHknXSxcbiAgICAgIGZyb21TdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5kT2ZTcGVlY2hTZW5zaXRpdml0eScsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbUVuZE9mU3BlZWNoU2Vuc2l0aXZpdHkgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlbmRPZlNwZWVjaFNlbnNpdGl2aXR5J10sXG4gICAgICBmcm9tRW5kT2ZTcGVlY2hTZW5zaXRpdml0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZWZpeFBhZGRpbmdNcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWZpeFBhZGRpbmdNcycsXG4gIF0pO1xuICBpZiAoZnJvbVByZWZpeFBhZGRpbmdNcyAhPT0gdW5kZWZpbmVkICYmIGZyb21QcmVmaXhQYWRkaW5nTXMgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlZml4UGFkZGluZ01zJ10sIGZyb21QcmVmaXhQYWRkaW5nTXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNpbGVuY2VEdXJhdGlvbk1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2lsZW5jZUR1cmF0aW9uTXMnLFxuICBdKTtcbiAgaWYgKGZyb21TaWxlbmNlRHVyYXRpb25NcyAhPT0gdW5kZWZpbmVkICYmIGZyb21TaWxlbmNlRHVyYXRpb25NcyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzaWxlbmNlRHVyYXRpb25NcyddLFxuICAgICAgZnJvbVNpbGVuY2VEdXJhdGlvbk1zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHJlYWx0aW1lSW5wdXRDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5SZWFsdGltZUlucHV0Q29uZmlnLFxuKTogdHlwZXMuUmVhbHRpbWVJbnB1dENvbmZpZyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2F1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24nXSxcbiAgICAgIGF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uVG9NbGRldihmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQWN0aXZpdHlIYW5kbGluZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FjdGl2aXR5SGFuZGxpbmcnLFxuICBdKTtcbiAgaWYgKGZyb21BY3Rpdml0eUhhbmRsaW5nICE9PSB1bmRlZmluZWQgJiYgZnJvbUFjdGl2aXR5SGFuZGxpbmcgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYWN0aXZpdHlIYW5kbGluZyddLCBmcm9tQWN0aXZpdHlIYW5kbGluZyk7XG4gIH1cblxuICBjb25zdCBmcm9tVHVybkNvdmVyYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHVybkNvdmVyYWdlJ10pO1xuICBpZiAoZnJvbVR1cm5Db3ZlcmFnZSAhPT0gdW5kZWZpbmVkICYmIGZyb21UdXJuQ292ZXJhZ2UgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVybkNvdmVyYWdlJ10sIGZyb21UdXJuQ292ZXJhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiByZWFsdGltZUlucHV0Q29uZmlnVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlJlYWx0aW1lSW5wdXRDb25maWcsXG4pOiB0eXBlcy5SZWFsdGltZUlucHV0Q29uZmlnIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24nLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbUF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydhdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiddLFxuICAgICAgYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb25Ub1ZlcnRleChmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQWN0aXZpdHlIYW5kbGluZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FjdGl2aXR5SGFuZGxpbmcnLFxuICBdKTtcbiAgaWYgKGZyb21BY3Rpdml0eUhhbmRsaW5nICE9PSB1bmRlZmluZWQgJiYgZnJvbUFjdGl2aXR5SGFuZGxpbmcgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYWN0aXZpdHlIYW5kbGluZyddLCBmcm9tQWN0aXZpdHlIYW5kbGluZyk7XG4gIH1cblxuICBjb25zdCBmcm9tVHVybkNvdmVyYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHVybkNvdmVyYWdlJ10pO1xuICBpZiAoZnJvbVR1cm5Db3ZlcmFnZSAhPT0gdW5kZWZpbmVkICYmIGZyb21UdXJuQ292ZXJhZ2UgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVybkNvdmVyYWdlJ10sIGZyb21UdXJuQ292ZXJhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlQ29ubmVjdENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ29ubmVjdENvbmZpZyxcbik6IHR5cGVzLkxpdmVDbGllbnRTZXR1cCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRpb25Db25maWcgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0aW9uQ29uZmlnJ10sIGZyb21HZW5lcmF0aW9uQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1vZGFsaXRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1vZGFsaXRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1vZGFsaXRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJywgJ3Jlc3BvbnNlTW9kYWxpdGllcyddLFxuICAgICAgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJywgJ3NwZWVjaENvbmZpZyddLFxuICAgICAgZnJvbVNwZWVjaENvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvTWxkZXYoYXBpQ2xpZW50LCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKFxuICAgIGZyb21Ub29scyAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbVRvb2xzICE9PSBudWxsICYmXG4gICAgQXJyYXkuaXNBcnJheShmcm9tVG9vbHMpXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29scyddLFxuICAgICAgZnJvbVRvb2xzLm1hcCgoaXRlbTogdHlwZXMuVG9vbCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbFRvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Nlc3Npb25SZXN1bXB0aW9uJ10sXG4gICAgICBsaXZlQ2xpZW50U2Vzc2lvblJlc3VtcHRpb25Db25maWdUb01sZGV2KGZyb21TZXNzaW9uUmVzdW1wdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbnRleHRXaW5kb3dDb21wcmVzc2lvbiddLFxuICAgICAgY29udGV4dFdpbmRvd0NvbXByZXNzaW9uVG9NbGRldihmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZWFsdGltZUlucHV0Q29uZmlnJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JlYWx0aW1lSW5wdXRDb25maWcnXSxcbiAgICAgIHJlYWx0aW1lSW5wdXRDb25maWdUb01sZGV2KGZyb21SZWFsdGltZUlucHV0Q29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlQ29ubmVjdENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RDb25maWcsXG4pOiB0eXBlcy5MaXZlQ2xpZW50U2V0dXAge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2VuZXJhdGlvbkNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRpb25Db25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0aW9uQ29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGlvbkNvbmZpZyddLCBmcm9tR2VuZXJhdGlvbkNvbmZpZyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZycsICdyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXQgZGVmYXVsdCB0byBBVURJTyB0byBhbGlnbiB3aXRoIE1MRGV2IEFQSS5cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZycsICdyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIFsnQVVESU8nXSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJywgJ3NwZWVjaENvbmZpZyddLFxuICAgICAgZnJvbVNwZWVjaENvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChcbiAgICBmcm9tVG9vbHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Ub29scyAhPT0gbnVsbCAmJlxuICAgIEFycmF5LmlzQXJyYXkoZnJvbVRvb2xzKVxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbHMnXSxcbiAgICAgIGZyb21Ub29scy5tYXAoKGl0ZW06IHR5cGVzLlRvb2wpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZXNzaW9uUmVzdW1wdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nlc3Npb25SZXN1bXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tU2Vzc2lvblJlc3VtcHRpb24gIT09IHVuZGVmaW5lZCAmJiBmcm9tU2Vzc2lvblJlc3VtcHRpb24gIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2Vzc2lvblJlc3VtcHRpb24nXSxcbiAgICAgIGxpdmVDbGllbnRTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZ1RvVmVydGV4KGZyb21TZXNzaW9uUmVzdW1wdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbnRleHRXaW5kb3dDb21wcmVzc2lvbiddLFxuICAgICAgY29udGV4dFdpbmRvd0NvbXByZXNzaW9uVG9WZXJ0ZXgoZnJvbUNvbnRleHRXaW5kb3dDb21wcmVzc2lvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0Q29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dENvbmZpZycsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21SZWFsdGltZUlucHV0Q29uZmlnICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZWFsdGltZUlucHV0Q29uZmlnJ10sXG4gICAgICByZWFsdGltZUlucHV0Q29uZmlnVG9WZXJ0ZXgoZnJvbVJlYWx0aW1lSW5wdXRDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJDb250ZW50RnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlckNvbnRlbnQsXG4pOiB0eXBlcy5MaXZlU2VydmVyQ29udGVudCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbFR1cm4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbFR1cm4nXSk7XG4gIGlmIChmcm9tTW9kZWxUdXJuICE9PSB1bmRlZmluZWQgJiYgZnJvbU1vZGVsVHVybiAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydtb2RlbFR1cm4nXSxcbiAgICAgIGNvbnRlbnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tTW9kZWxUdXJuKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1cm5Db21wbGV0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R1cm5Db21wbGV0ZSddKTtcbiAgaWYgKGZyb21UdXJuQ29tcGxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0dXJuQ29tcGxldGUnXSwgZnJvbVR1cm5Db21wbGV0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW50ZXJydXB0ZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbnRlcnJ1cHRlZCddKTtcbiAgaWYgKGZyb21JbnRlcnJ1cHRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ludGVycnVwdGVkJ10sIGZyb21JbnRlcnJ1cHRlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGlvbkNvbXBsZXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbXBsZXRlJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGlvbkNvbXBsZXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbXBsZXRlJ10sXG4gICAgICBmcm9tR2VuZXJhdGlvbkNvbXBsZXRlLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJDb250ZW50RnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJDb250ZW50LFxuKTogdHlwZXMuTGl2ZVNlcnZlckNvbnRlbnQge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWxUdXJuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWxUdXJuJ10pO1xuICBpZiAoZnJvbU1vZGVsVHVybiAhPT0gdW5kZWZpbmVkICYmIGZyb21Nb2RlbFR1cm4gIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbW9kZWxUdXJuJ10sXG4gICAgICBjb250ZW50RnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21Nb2RlbFR1cm4pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVHVybkNvbXBsZXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHVybkNvbXBsZXRlJ10pO1xuICBpZiAoZnJvbVR1cm5Db21wbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R1cm5Db21wbGV0ZSddLCBmcm9tVHVybkNvbXBsZXRlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnRlcnJ1cHRlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ludGVycnVwdGVkJ10pO1xuICBpZiAoZnJvbUludGVycnVwdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW50ZXJydXB0ZWQnXSwgZnJvbUludGVycnVwdGVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29tcGxldGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0aW9uQ29tcGxldGUnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0aW9uQ29tcGxldGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29tcGxldGUnXSxcbiAgICAgIGZyb21HZW5lcmF0aW9uQ29tcGxldGUsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbCxcbik6IHR5cGVzLkZ1bmN0aW9uQ2FsbCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lkJ10pO1xuICBpZiAoZnJvbUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaWQnXSwgZnJvbUlkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BcmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXJncyddKTtcbiAgaWYgKGZyb21BcmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXJncyddLCBmcm9tQXJncyk7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBmdW5jdGlvbkNhbGxGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsLFxuKTogdHlwZXMuRnVuY3Rpb25DYWxsIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUFyZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhcmdzJ10pO1xuICBpZiAoZnJvbUFyZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhcmdzJ10sIGZyb21BcmdzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJUb29sQ2FsbEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJUb29sQ2FsbCxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJUb29sQ2FsbCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkNhbGxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25DYWxscycsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbUZ1bmN0aW9uQ2FsbHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21GdW5jdGlvbkNhbGxzICE9PSBudWxsICYmXG4gICAgQXJyYXkuaXNBcnJheShmcm9tRnVuY3Rpb25DYWxscylcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbHMnXSxcbiAgICAgIGZyb21GdW5jdGlvbkNhbGxzLm1hcCgoaXRlbTogdHlwZXMuRnVuY3Rpb25DYWxsKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbkNhbGxGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJUb29sQ2FsbEZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGwsXG4pOiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGwge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbHMnLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21GdW5jdGlvbkNhbGxzICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tRnVuY3Rpb25DYWxscyAhPT0gbnVsbCAmJlxuICAgIEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uQ2FsbHMpXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGxzJ10sXG4gICAgICBmcm9tRnVuY3Rpb25DYWxscy5tYXAoKGl0ZW06IHR5cGVzLkZ1bmN0aW9uQ2FsbCkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25DYWxsRnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uLFxuKTogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUlkcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lkcyddKTtcbiAgaWYgKGZyb21JZHMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpZHMnXSwgZnJvbUlkcyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbkZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGxDYW5jZWxsYXRpb24sXG4pOiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGxDYW5jZWxsYXRpb24ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSWRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaWRzJ10pO1xuICBpZiAoZnJvbUlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lkcyddLCBmcm9tSWRzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZVNlcnZlckdvQXdheUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlckdvQXdheSxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJHb0F3YXkge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGltZUxlZnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aW1lTGVmdCddKTtcbiAgaWYgKGZyb21UaW1lTGVmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpbWVMZWZ0J10sIGZyb21UaW1lTGVmdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJHb0F3YXlGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyR29Bd2F5LFxuKTogdHlwZXMuTGl2ZVNlcnZlckdvQXdheSB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UaW1lTGVmdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpbWVMZWZ0J10pO1xuICBpZiAoZnJvbVRpbWVMZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGltZUxlZnQnXSwgZnJvbVRpbWVMZWZ0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUsXG4pOiB0eXBlcy5MaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmV3SGFuZGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmV3SGFuZGxlJ10pO1xuICBpZiAoZnJvbU5ld0hhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25ld0hhbmRsZSddLCBmcm9tTmV3SGFuZGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bWFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXN1bWFibGUnXSk7XG4gIGlmIChmcm9tUmVzdW1hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzdW1hYmxlJ10sIGZyb21SZXN1bWFibGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCcsXG4gIF0pO1xuICBpZiAoZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2xhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCddLFxuICAgICAgZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGVGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUsXG4pOiB0eXBlcy5MaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmV3SGFuZGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmV3SGFuZGxlJ10pO1xuICBpZiAoZnJvbU5ld0hhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25ld0hhbmRsZSddLCBmcm9tTmV3SGFuZGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bWFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXN1bWFibGUnXSk7XG4gIGlmIChmcm9tUmVzdW1hYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzdW1hYmxlJ10sIGZyb21SZXN1bWFibGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCcsXG4gIF0pO1xuICBpZiAoZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2xhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCddLFxuICAgICAgZnJvbUxhc3RDb25zdW1lZENsaWVudE1lc3NhZ2VJbmRleCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlQ2xpZW50U2Vzc2lvblJlc3VtcHRpb25Db25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TZXNzaW9uUmVzdW1wdGlvbkNvbmZpZyxcbik6IHR5cGVzLlNlc3Npb25SZXN1bXB0aW9uQ29uZmlnIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUhhbmRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2hhbmRsZSddKTtcbiAgaWYgKGZyb21IYW5kbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydoYW5kbGUnXSwgZnJvbUhhbmRsZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHJhbnNwYXJlbnQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndHJhbnNwYXJlbnQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZUNsaWVudFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNlc3Npb25SZXN1bXB0aW9uQ29uZmlnLFxuKTogdHlwZXMuU2Vzc2lvblJlc3VtcHRpb25Db25maWcge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSGFuZGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaGFuZGxlJ10pO1xuICBpZiAoZnJvbUhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2hhbmRsZSddLCBmcm9tSGFuZGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UcmFuc3BhcmVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RyYW5zcGFyZW50J10pO1xuICBpZiAoZnJvbVRyYW5zcGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHJhbnNwYXJlbnQnXSwgZnJvbVRyYW5zcGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGFsaXR5VG9rZW5Db3VudEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLk1vZGFsaXR5VG9rZW5Db3VudCxcbik6IHR5cGVzLk1vZGFsaXR5VG9rZW5Db3VudCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGFsaXR5J10pO1xuICBpZiAoZnJvbU1vZGFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kYWxpdHknXSwgZnJvbU1vZGFsaXR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9rZW5Db3VudCddKTtcbiAgaWYgKGZyb21Ub2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9rZW5Db3VudCddLCBmcm9tVG9rZW5Db3VudCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2FnZU1ldGFkYXRhRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVXNhZ2VNZXRhZGF0YSxcbik6IHR5cGVzLlVzYWdlTWV0YWRhdGEge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJvbXB0VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvbXB0VG9rZW5Db3VudCddLCBmcm9tUHJvbXB0VG9rZW5Db3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYWNoZWRDb250ZW50VG9rZW5Db3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY2FjaGVkQ29udGVudFRva2VuQ291bnQnXSxcbiAgICAgIGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlVG9rZW5Db3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlVG9rZW5Db3VudCddLFxuICAgICAgZnJvbVJlc3BvbnNlVG9rZW5Db3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbFVzZVByb21wdFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub29sVXNlUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tVG9vbFVzZVByb21wdFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0c1Rva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aG91Z2h0c1Rva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21UaG91Z2h0c1Rva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0aG91Z2h0c1Rva2VuQ291bnQnXSxcbiAgICAgIGZyb21UaG91Z2h0c1Rva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b3RhbFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub3RhbFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3RhbFRva2VuQ291bnQnXSwgZnJvbVRvdGFsVG9rZW5Db3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdFRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tUHJvbXB0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydwcm9tcHRUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21Qcm9tcHRUb2tlbnNEZXRhaWxzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVUb2tlbnNEZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVUb2tlbnNEZXRhaWxzJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FjaGVUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ2FjaGVUb2tlbnNEZXRhaWxzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYWNoZVRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbUNhY2hlVG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYWNoZVRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbUNhY2hlVG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlVG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncmVzcG9uc2VUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncmVzcG9uc2VUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzJyxcbiAgXSk7XG4gIGlmIChmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsndG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RhbGl0eVRva2VuQ291bnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9kYWxpdHlUb2tlbkNvdW50RnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLk1vZGFsaXR5VG9rZW5Db3VudCxcbik6IHR5cGVzLk1vZGFsaXR5VG9rZW5Db3VudCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGFsaXR5J10pO1xuICBpZiAoZnJvbU1vZGFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kYWxpdHknXSwgZnJvbU1vZGFsaXR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9rZW5Db3VudCddKTtcbiAgaWYgKGZyb21Ub2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9rZW5Db3VudCddLCBmcm9tVG9rZW5Db3VudCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2FnZU1ldGFkYXRhRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVzYWdlTWV0YWRhdGEsXG4pOiB0eXBlcy5Vc2FnZU1ldGFkYXRhIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVByb21wdFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdFRva2VuQ291bnQnXSwgZnJvbVByb21wdFRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVzVG9rZW5Db3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlVG9rZW5Db3VudCddLFxuICAgICAgZnJvbVJlc3BvbnNlVG9rZW5Db3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbFVzZVByb21wdFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub29sVXNlUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tVG9vbFVzZVByb21wdFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0c1Rva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aG91Z2h0c1Rva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21UaG91Z2h0c1Rva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0aG91Z2h0c1Rva2VuQ291bnQnXSxcbiAgICAgIGZyb21UaG91Z2h0c1Rva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b3RhbFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub3RhbFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3RhbFRva2VuQ291bnQnXSwgZnJvbVRvdGFsVG9rZW5Db3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdFRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tUHJvbXB0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlVG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlVG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlVG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhY2hlVG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY2FjaGVUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21DYWNoZVRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NhY2hlVG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tQ2FjaGVUb2tlbnNEZXRhaWxzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsndG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlc1Rva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Jlc3BvbnNlVG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RhbGl0eVRva2VuQ291bnRGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydyZXNwb25zZVRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRyYWZmaWNUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHJhZmZpY1R5cGUnXSk7XG4gIGlmIChmcm9tVHJhZmZpY1R5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0cmFmZmljVHlwZSddLCBmcm9tVHJhZmZpY1R5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBMaXZlIGNsaWVudC5cbiAqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQnO1xuaW1wb3J0IHtBdXRofSBmcm9tICcuL19hdXRoJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi9fdHJhbnNmb3JtZXJzJztcbmltcG9ydCB7V2ViU29ja2V0LCBXZWJTb2NrZXRDYWxsYmFja3MsIFdlYlNvY2tldEZhY3Rvcnl9IGZyb20gJy4vX3dlYnNvY2tldCc7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fbGl2ZV9jb252ZXJ0ZXJzJztcbmltcG9ydCB7Y29udGVudFRvTWxkZXYsIGNvbnRlbnRUb1ZlcnRleH0gZnJvbSAnLi9jb252ZXJ0ZXJzL19tb2RlbHNfY29udmVydGVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgRlVOQ1RJT05fUkVTUE9OU0VfUkVRVUlSRVNfSUQgPVxuICAnRnVuY3Rpb25SZXNwb25zZSByZXF1ZXN0IG11c3QgaGF2ZSBhbiBgaWRgIGZpZWxkIGZyb20gdGhlIHJlc3BvbnNlIG9mIGEgVG9vbENhbGwuRnVuY3Rpb25hbENhbGxzIGluIEdvb2dsZSBBSS4nO1xuXG4vKipcbiAqIEhhbmRsZXMgaW5jb21pbmcgbWVzc2FnZXMgZnJvbSB0aGUgV2ViU29ja2V0LlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIGluY29taW5nIG1lc3NhZ2VzLCB0cmFuc2Zvcm1pbmcgdGhlbVxuICogaW50byBMaXZlU2VydmVyTWVzc2FnZXMsIGFuZCB0aGVuIGNhbGxpbmcgdGhlIG9ubWVzc2FnZSBjYWxsYmFjay4gTm90ZSB0aGF0XG4gKiB0aGUgZmlyc3QgbWVzc2FnZSB3aGljaCBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIgaXMgYSBzZXR1cENvbXBsZXRlXG4gKiBtZXNzYWdlLlxuICpcbiAqIEBwYXJhbSBhcGlDbGllbnQgVGhlIEFwaUNsaWVudCBpbnN0YW5jZS5cbiAqIEBwYXJhbSBvbm1lc3NhZ2UgVGhlIHVzZXItcHJvdmlkZWQgb25tZXNzYWdlIGNhbGxiYWNrIChpZiBhbnkpLlxuICogQHBhcmFtIGV2ZW50IFRoZSBNZXNzYWdlRXZlbnQgZnJvbSB0aGUgV2ViU29ja2V0LlxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVXZWJTb2NrZXRNZXNzYWdlKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgb25tZXNzYWdlOiAobXNnOiB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZSkgPT4gdm9pZCxcbiAgZXZlbnQ6IE1lc3NhZ2VFdmVudCxcbik6IFByb21pc2U8dm9pZD4ge1xuICBsZXQgc2VydmVyTWVzc2FnZTogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2U7XG4gIGxldCBkYXRhOiB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZTtcbiAgaWYgKGV2ZW50LmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgZGF0YSA9IEpTT04ucGFyc2UoYXdhaXQgZXZlbnQuZGF0YS50ZXh0KCkpIGFzIHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlO1xuICB9IGVsc2Uge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIGFzIHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlO1xuICB9XG4gIGlmIChhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgc2VydmVyTWVzc2FnZSA9IGNvbnZlcnRlcnMubGl2ZVNlcnZlck1lc3NhZ2VGcm9tVmVydGV4KGFwaUNsaWVudCwgZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc2VydmVyTWVzc2FnZSA9IGNvbnZlcnRlcnMubGl2ZVNlcnZlck1lc3NhZ2VGcm9tTWxkZXYoYXBpQ2xpZW50LCBkYXRhKTtcbiAgfVxuXG4gIG9ubWVzc2FnZShzZXJ2ZXJNZXNzYWdlKTtcbn1cblxuLyoqXG4gICBMaXZlIGNsYXNzIGVuY2Fwc3VsYXRlcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgbGl2ZSBpbnRlcmFjdGlvbiB3aXRoIHRoZVxuICAgR2VuZXJhdGl2ZSBMYW5ndWFnZSBBUEkuIEl0IGVtYmVkcyBBcGlDbGllbnQgZm9yIGdlbmVyYWwgQVBJIHNldHRpbmdzLlxuXG4gICBAZXhwZXJpbWVudGFsXG4gICovXG5leHBvcnQgY2xhc3MgTGl2ZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgd2ViU29ja2V0RmFjdG9yeTogV2ViU29ja2V0RmFjdG9yeSxcbiAgKSB7fVxuXG4gIC8qKlxuICAgICBFc3RhYmxpc2hlcyBhIGNvbm5lY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBtb2RlbCB3aXRoIHRoZSBnaXZlblxuICAgICBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgU2Vzc2lvbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoYXQgY29ubmVjdGlvbi5cblxuICAgICBAZXhwZXJpbWVudGFsXG5cbiAgICAgQHJlbWFya3NcbiAgICAgSWYgdXNpbmcgdGhlIEdlbWluaSBBUEksIExpdmUgaXMgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGJlaGluZCBBUElcbiAgICAgdmVyc2lvbiBgdjFhbHBoYWAuIEVuc3VyZSB0aGF0IHRoZSBBUEkgdmVyc2lvbiBpcyBzZXQgdG8gYHYxYWxwaGFgIHdoZW5cbiAgICAgaW5pdGlhbGl6aW5nIHRoZSBTREsgaWYgcmVseWluZyBvbiB0aGUgR2VtaW5pIEFQSS5cblxuICAgICBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGVzdGFibGlzaGluZyBhIGNvbm5lY3Rpb24gdG8gdGhlIG1vZGVsLlxuICAgICBAcmV0dXJuIEEgbGl2ZSBzZXNzaW9uLlxuXG4gICAgIEBleGFtcGxlXG4gICAgIGBgYHRzXG4gICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhaS5saXZlLmNvbm5lY3Qoe1xuICAgICAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC1leHAnLFxuICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgcmVzcG9uc2VNb2RhbGl0aWVzOiBbTW9kYWxpdHkuQVVESU9dLFxuICAgICAgIH0sXG4gICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICBvbm9wZW46ICgpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byB0aGUgc29ja2V0LicpO1xuICAgICAgICAgfSxcbiAgICAgICAgIG9ubWVzc2FnZTogKGU6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXI6ICVzXFxuJywgZGVidWcoZS5kYXRhKSk7XG4gICAgICAgICB9LFxuICAgICAgICAgb25lcnJvcjogKGU6IEVycm9yRXZlbnQpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIG9jY3VycmVkOiAlc1xcbicsIGRlYnVnKGUuZXJyb3IpKTtcbiAgICAgICAgIH0sXG4gICAgICAgICBvbmNsb3NlOiAoZTogQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBjbG9zZWQuJyk7XG4gICAgICAgICB9LFxuICAgICAgIH0sXG4gICAgIH0pO1xuICAgICBgYGBcbiAgICAqL1xuICBhc3luYyBjb25uZWN0KHBhcmFtczogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzKTogUHJvbWlzZTxTZXNzaW9uPiB7XG4gICAgY29uc3Qgd2Vic29ja2V0QmFzZVVybCA9IHRoaXMuYXBpQ2xpZW50LmdldFdlYnNvY2tldEJhc2VVcmwoKTtcbiAgICBjb25zdCBhcGlWZXJzaW9uID0gdGhpcy5hcGlDbGllbnQuZ2V0QXBpVmVyc2lvbigpO1xuICAgIGxldCB1cmw6IHN0cmluZztcbiAgICBjb25zdCBoZWFkZXJzID0gbWFwVG9IZWFkZXJzKHRoaXMuYXBpQ2xpZW50LmdldERlZmF1bHRIZWFkZXJzKCkpO1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHVybCA9IGAke3dlYnNvY2tldEJhc2VVcmx9L3dzL2dvb2dsZS5jbG91ZC5haXBsYXRmb3JtLiR7XG4gICAgICAgIGFwaVZlcnNpb25cbiAgICAgIH0uTGxtQmlkaVNlcnZpY2UvQmlkaUdlbmVyYXRlQ29udGVudGA7XG4gICAgICBhd2FpdCB0aGlzLmF1dGguYWRkQXV0aEhlYWRlcnMoaGVhZGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuYXBpQ2xpZW50LmdldEFwaUtleSgpO1xuICAgICAgdXJsID0gYCR7d2Vic29ja2V0QmFzZVVybH0vd3MvZ29vZ2xlLmFpLmdlbmVyYXRpdmVsYW5ndWFnZS4ke1xuICAgICAgICBhcGlWZXJzaW9uXG4gICAgICB9LkdlbmVyYXRpdmVTZXJ2aWNlLkJpZGlHZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7YXBpS2V5fWA7XG4gICAgfVxuXG4gICAgbGV0IG9ub3BlblJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIGNvbnN0IG9ub3BlblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZTogKHZhbHVlOiB1bmtub3duKSA9PiB2b2lkKSA9PiB7XG4gICAgICBvbm9wZW5SZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczogdHlwZXMuTGl2ZUNhbGxiYWNrcyA9IHBhcmFtcy5jYWxsYmFja3M7XG5cbiAgICBjb25zdCBvbm9wZW5Bd2FpdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFja3M/Lm9ub3Blbj8uKCk7XG4gICAgICBvbm9wZW5SZXNvbHZlKHt9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBpQ2xpZW50ID0gdGhpcy5hcGlDbGllbnQ7XG5cbiAgICBjb25zdCB3ZWJzb2NrZXRDYWxsYmFja3M6IFdlYlNvY2tldENhbGxiYWNrcyA9IHtcbiAgICAgIG9ub3Blbjogb25vcGVuQXdhaXRlZENhbGxiYWNrLFxuICAgICAgb25tZXNzYWdlOiAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICB2b2lkIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoYXBpQ2xpZW50LCBjYWxsYmFja3Mub25tZXNzYWdlLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgb25lcnJvcjpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmVycm9yID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBFcnJvckV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgICAgb25jbG9zZTpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmNsb3NlID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBDbG9zZUV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBjb25uID0gdGhpcy53ZWJTb2NrZXRGYWN0b3J5LmNyZWF0ZShcbiAgICAgIHVybCxcbiAgICAgIGhlYWRlcnNUb01hcChoZWFkZXJzKSxcbiAgICAgIHdlYnNvY2tldENhbGxiYWNrcyxcbiAgICApO1xuICAgIGNvbm4uY29ubmVjdCgpO1xuICAgIC8vIFdhaXQgZm9yIHRoZSB3ZWJzb2NrZXQgdG8gb3BlbiBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cbiAgICBhd2FpdCBvbm9wZW5Qcm9taXNlO1xuXG4gICAgbGV0IHRyYW5zZm9ybWVkTW9kZWwgPSB0LnRNb2RlbCh0aGlzLmFwaUNsaWVudCwgcGFyYW1zLm1vZGVsKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkgJiZcbiAgICAgIHRyYW5zZm9ybWVkTW9kZWwuc3RhcnRzV2l0aCgncHVibGlzaGVycy8nKVxuICAgICkge1xuICAgICAgY29uc3QgcHJvamVjdCA9IHRoaXMuYXBpQ2xpZW50LmdldFByb2plY3QoKTtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5hcGlDbGllbnQuZ2V0TG9jYXRpb24oKTtcbiAgICAgIHRyYW5zZm9ybWVkTW9kZWwgPVxuICAgICAgICBgcHJvamVjdHMvJHtwcm9qZWN0fS9sb2NhdGlvbnMvJHtsb2NhdGlvbn0vYCArIHRyYW5zZm9ybWVkTW9kZWw7XG4gICAgfVxuXG4gICAgbGV0IGNsaWVudE1lc3NhZ2U6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlID0ge307XG4gICAgY29uc3QgbGl2ZUNvbm5lY3RQYXJhbWV0ZXJzOiB0eXBlcy5MaXZlQ29ubmVjdFBhcmFtZXRlcnMgPSB7XG4gICAgICBtb2RlbDogdHJhbnNmb3JtZWRNb2RlbCxcbiAgICAgIGNvbmZpZzogcGFyYW1zLmNvbmZpZyxcbiAgICAgIGNhbGxiYWNrczogcGFyYW1zLmNhbGxiYWNrcyxcbiAgICB9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNsaWVudE1lc3NhZ2UgPSBjb252ZXJ0ZXJzLmxpdmVDb25uZWN0UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgbGl2ZUNvbm5lY3RQYXJhbWV0ZXJzLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpZW50TWVzc2FnZSA9IGNvbnZlcnRlcnMubGl2ZUNvbm5lY3RQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIGxpdmVDb25uZWN0UGFyYW1ldGVycyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbm4uc2VuZChKU09OLnN0cmluZ2lmeShjbGllbnRNZXNzYWdlKSk7XG4gICAgcmV0dXJuIG5ldyBTZXNzaW9uKGNvbm4sIHRoaXMuYXBpQ2xpZW50KTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0TGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1lcnRlcnM6IHR5cGVzLkxpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXRlcnMgPVxuICB7XG4gICAgdHVybkNvbXBsZXRlOiB0cnVlLFxuICB9O1xuXG4vKipcbiAgIFJlcHJlc2VudHMgYSBjb25uZWN0aW9uIHRvIHRoZSBBUEkuXG5cbiAgIEBleHBlcmltZW50YWxcbiAgKi9cbmV4cG9ydCBjbGFzcyBTZXNzaW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgY29ubjogV2ViU29ja2V0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICkge31cblxuICBwcml2YXRlIHRMaXZlQ2xpZW50Q29udGVudChcbiAgICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgICBwYXJhbXM6IHR5cGVzLkxpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXRlcnMsXG4gICk6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlIHtcbiAgICBpZiAocGFyYW1zLnR1cm5zICE9PSBudWxsICYmIHBhcmFtcy50dXJucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgY29udGVudHM6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29udGVudHMgPSB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgcGFyYW1zLnR1cm5zIGFzIHR5cGVzLkNvbnRlbnRMaXN0VW5pb24sXG4gICAgICAgICk7XG4gICAgICAgIGlmIChhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICAgICAgY29udGVudHMgPSBjb250ZW50cy5tYXAoKGl0ZW0pID0+IGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZW50cyA9IGNvbnRlbnRzLm1hcCgoaXRlbSkgPT4gY29udGVudFRvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBwYXJzZSBjbGllbnQgY29udGVudCBcInR1cm5zXCIsIHR5cGU6ICcke3R5cGVvZiBwYXJhbXMudHVybnN9J2AsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnRDb250ZW50OiB7dHVybnM6IGNvbnRlbnRzLCB0dXJuQ29tcGxldGU6IHBhcmFtcy50dXJuQ29tcGxldGV9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50Q29udGVudDoge3R1cm5Db21wbGV0ZTogcGFyYW1zLnR1cm5Db21wbGV0ZX0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgdExpdmVDbGllbnRSZWFsdGltZUlucHV0KFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHBhcmFtczogdHlwZXMuTGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVycyxcbiAgKTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2Uge1xuICAgIGxldCBjbGllbnRNZXNzYWdlOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSA9IHt9O1xuICAgIGlmICghKCdtZWRpYScgaW4gcGFyYW1zKSB8fCAhcGFyYW1zLm1lZGlhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gY29udmVydCByZWFsdGltZSBpbnB1dCBcIm1lZGlhXCIsIHR5cGU6ICcke3R5cGVvZiBwYXJhbXMubWVkaWF9J2AsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIExpdmVDbGllbnRSZWFsdGltZUlucHV0XG4gICAgY2xpZW50TWVzc2FnZSA9IHtcbiAgICAgIHJlYWx0aW1lSW5wdXQ6IHtcbiAgICAgICAgbWVkaWFDaHVua3M6IFtwYXJhbXMubWVkaWFdLFxuICAgICAgICBhY3Rpdml0eVN0YXJ0OiBwYXJhbXMuYWN0aXZpdHlTdGFydCxcbiAgICAgICAgYWN0aXZpdHlFbmQ6IHBhcmFtcy5hY3Rpdml0eUVuZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gY2xpZW50TWVzc2FnZTtcbiAgfVxuXG4gIHByaXZhdGUgdExpdmVDbGllbnR0VG9vbFJlc3BvbnNlKFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHBhcmFtczogdHlwZXMuTGl2ZVNlbmRUb29sUmVzcG9uc2VQYXJhbWV0ZXJzLFxuICApOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSB7XG4gICAgbGV0IGZ1bmN0aW9uUmVzcG9uc2VzOiB0eXBlcy5GdW5jdGlvblJlc3BvbnNlW10gPSBbXTtcblxuICAgIGlmIChwYXJhbXMuZnVuY3Rpb25SZXNwb25zZXMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmdW5jdGlvblJlc3BvbnNlcyBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zLmZ1bmN0aW9uUmVzcG9uc2VzKSkge1xuICAgICAgZnVuY3Rpb25SZXNwb25zZXMgPSBbcGFyYW1zLmZ1bmN0aW9uUmVzcG9uc2VzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVuY3Rpb25SZXNwb25zZXMgPSBwYXJhbXMuZnVuY3Rpb25SZXNwb25zZXM7XG4gICAgfVxuXG4gICAgaWYgKGZ1bmN0aW9uUmVzcG9uc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmdW5jdGlvblJlc3BvbnNlcyBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uUmVzcG9uc2Ugb2YgZnVuY3Rpb25SZXNwb25zZXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGZ1bmN0aW9uUmVzcG9uc2UgIT09ICdvYmplY3QnIHx8XG4gICAgICAgIGZ1bmN0aW9uUmVzcG9uc2UgPT09IG51bGwgfHxcbiAgICAgICAgISgnbmFtZScgaW4gZnVuY3Rpb25SZXNwb25zZSkgfHxcbiAgICAgICAgISgncmVzcG9uc2UnIGluIGZ1bmN0aW9uUmVzcG9uc2UpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgcGFyc2UgZnVuY3Rpb24gcmVzcG9uc2UsIHR5cGUgJyR7dHlwZW9mIGZ1bmN0aW9uUmVzcG9uc2V9Jy5gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKCFhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpICYmICEoJ2lkJyBpbiBmdW5jdGlvblJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRlVOQ1RJT05fUkVTUE9OU0VfUkVRVUlSRVNfSUQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudE1lc3NhZ2U6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlID0ge1xuICAgICAgdG9vbFJlc3BvbnNlOiB7ZnVuY3Rpb25SZXNwb25zZXM6IGZ1bmN0aW9uUmVzcG9uc2VzfSxcbiAgICB9O1xuICAgIHJldHVybiBjbGllbnRNZXNzYWdlO1xuICB9XG5cbiAgLyoqXG4gICAgU2VuZCBhIG1lc3NhZ2Ugb3ZlciB0aGUgZXN0YWJsaXNoZWQgY29ubmVjdGlvbi5cblxuICAgIEBwYXJhbSBwYXJhbXMgLSBDb250YWlucyB0d28gKipvcHRpb25hbCoqIHByb3BlcnRpZXMsIGB0dXJuc2AgYW5kXG4gICAgICAgIGB0dXJuQ29tcGxldGVgLlxuXG4gICAgICAtIGB0dXJuc2Agd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBgQ29udGVudFtdYFxuICAgICAgLSBgdHVybkNvbXBsZXRlOiB0cnVlYCBbZGVmYXVsdF0gaW5kaWNhdGVzIHRoYXQgeW91IGFyZSBkb25lIHNlbmRpbmdcbiAgICAgICAgY29udGVudCBhbmQgZXhwZWN0IGEgcmVzcG9uc2UuIElmIGB0dXJuQ29tcGxldGU6IGZhbHNlYCwgdGhlIHNlcnZlclxuICAgICAgICB3aWxsIHdhaXQgZm9yIGFkZGl0aW9uYWwgbWVzc2FnZXMgYmVmb3JlIHN0YXJ0aW5nIGdlbmVyYXRpb24uXG5cbiAgICBAZXhwZXJpbWVudGFsXG5cbiAgICBAcmVtYXJrc1xuICAgIFRoZXJlIGFyZSB0d28gd2F5cyB0byBzZW5kIG1lc3NhZ2VzIHRvIHRoZSBsaXZlIEFQSTpcbiAgICBgc2VuZENsaWVudENvbnRlbnRgIGFuZCBgc2VuZFJlYWx0aW1lSW5wdXRgLlxuXG4gICAgYHNlbmRDbGllbnRDb250ZW50YCBtZXNzYWdlcyBhcmUgYWRkZWQgdG8gdGhlIG1vZGVsIGNvbnRleHQgKippbiBvcmRlcioqLlxuICAgIEhhdmluZyBhIGNvbnZlcnNhdGlvbiB1c2luZyBgc2VuZENsaWVudENvbnRlbnRgIG1lc3NhZ2VzIGlzIHJvdWdobHlcbiAgICBlcXVpdmFsZW50IHRvIHVzaW5nIHRoZSBgQ2hhdC5zZW5kTWVzc2FnZVN0cmVhbWAsIGV4Y2VwdCB0aGF0IHRoZSBzdGF0ZSBvZlxuICAgIHRoZSBgY2hhdGAgaGlzdG9yeSBpcyBzdG9yZWQgb24gdGhlIEFQSSBzZXJ2ZXIgaW5zdGVhZCBvZiBsb2NhbGx5LlxuXG4gICAgQmVjYXVzZSBvZiBgc2VuZENsaWVudENvbnRlbnRgJ3Mgb3JkZXIgZ3VhcmFudGVlLCB0aGUgbW9kZWwgY2Fubm90IHJlc3BvbnNcbiAgICBhcyBxdWlja2x5IHRvIGBzZW5kQ2xpZW50Q29udGVudGAgbWVzc2FnZXMgYXMgdG8gYHNlbmRSZWFsdGltZUlucHV0YFxuICAgIG1lc3NhZ2VzLiBUaGlzIG1ha2VzIHRoZSBiaWdnZXN0IGRpZmZlcmVuY2Ugd2hlbiBzZW5kaW5nIG9iamVjdHMgdGhhdCBoYXZlXG4gICAgc2lnbmlmaWNhbnQgcHJlcHJvY2Vzc2luZyB0aW1lICh0eXBpY2FsbHkgaW1hZ2VzKS5cblxuICAgIFRoZSBgc2VuZENsaWVudENvbnRlbnRgIG1lc3NhZ2Ugc2VuZHMgYSBgQ29udGVudFtdYFxuICAgIHdoaWNoIGhhcyBtb3JlIG9wdGlvbnMgdGhhbiB0aGUgYEJsb2JgIHNlbnQgYnkgYHNlbmRSZWFsdGltZUlucHV0YC5cblxuICAgIFNvIHRoZSBtYWluIHVzZS1jYXNlcyBmb3IgYHNlbmRDbGllbnRDb250ZW50YCBvdmVyIGBzZW5kUmVhbHRpbWVJbnB1dGAgYXJlOlxuXG4gICAgLSBTZW5kaW5nIGFueXRoaW5nIHRoYXQgY2FuJ3QgYmUgcmVwcmVzZW50ZWQgYXMgYSBgQmxvYmAgKHRleHQsXG4gICAgYHNlbmRDbGllbnRDb250ZW50KHt0dXJucz1cIkhlbGxvP1wifWApKS5cbiAgICAtIE1hbmFnaW5nIHR1cm5zIHdoZW4gbm90IHVzaW5nIGF1ZGlvIGlucHV0IGFuZCB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24uXG4gICAgICAoYHNlbmRDbGllbnRDb250ZW50KHt0dXJuQ29tcGxldGU6dHJ1ZX0pYCBvciB0aGUgc2hvcnQgZm9ybVxuICAgIGBzZW5kQ2xpZW50Q29udGVudCgpYClcbiAgICAtIFByZWZpbGxpbmcgYSBjb252ZXJzYXRpb24gY29udGV4dFxuICAgICAgYGBgXG4gICAgICBzZW5kQ2xpZW50Q29udGVudCh7XG4gICAgICAgICAgdHVybnM6IFtcbiAgICAgICAgICAgIENvbnRlbnQoe3JvbGU6dXNlciwgcGFydHM6Li4ufSksXG4gICAgICAgICAgICBDb250ZW50KHtyb2xlOnVzZXIsIHBhcnRzOi4uLn0pLFxuICAgICAgICAgICAgLi4uXG4gICAgICAgICAgXVxuICAgICAgfSlcbiAgICAgIGBgYFxuICAgIEBleHBlcmltZW50YWxcbiAgICovXG4gIHNlbmRDbGllbnRDb250ZW50KHBhcmFtczogdHlwZXMuTGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1ldGVycykge1xuICAgIHBhcmFtcyA9IHtcbiAgICAgIC4uLmRlZmF1bHRMaXZlU2VuZENsaWVudENvbnRlbnRQYXJhbWVydGVycyxcbiAgICAgIC4uLnBhcmFtcyxcbiAgICB9O1xuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPSB0aGlzLnRMaXZlQ2xpZW50Q29udGVudChcbiAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAgU2VuZCBhIHJlYWx0aW1lIG1lc3NhZ2Ugb3ZlciB0aGUgZXN0YWJsaXNoZWQgY29ubmVjdGlvbi5cblxuICAgIEBwYXJhbSBwYXJhbXMgLSBDb250YWlucyBvbmUgcHJvcGVydHksIGBtZWRpYWAuXG5cbiAgICAgIC0gYG1lZGlhYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIGBCbG9iYFxuXG4gICAgQGV4cGVyaW1lbnRhbFxuXG4gICAgQHJlbWFya3NcbiAgICBVc2UgYHNlbmRSZWFsdGltZUlucHV0YCBmb3IgcmVhbHRpbWUgYXVkaW8gY2h1bmtzIGFuZCB2aWRlbyBmcmFtZXMgKGltYWdlcykuXG5cbiAgICBXaXRoIGBzZW5kUmVhbHRpbWVJbnB1dGAgdGhlIGFwaSB3aWxsIHJlc3BvbmQgdG8gYXVkaW8gYXV0b21hdGljYWxseVxuICAgIGJhc2VkIG9uIHZvaWNlIGFjdGl2aXR5IGRldGVjdGlvbiAoVkFEKS5cblxuICAgIGBzZW5kUmVhbHRpbWVJbnB1dGAgaXMgb3B0aW1pemVkIGZvciByZXNwb25zaXZuZXNzIGF0IHRoZSBleHBlbnNlIG9mXG4gICAgZGV0ZXJtaW5pc3RpYyBvcmRlcmluZyBndWFyYW50ZWVzLiBBdWRpbyBhbmQgdmlkZW8gdG9rZW5zIGFyZSB0byB0aGVcbiAgICBjb250ZXh0IHdoZW4gdGhleSBiZWNvbWUgYXZhaWxhYmxlLlxuXG4gICAgTm90ZTogVGhlIENhbGwgc2lnbmF0dXJlIGV4cGVjdHMgYSBgQmxvYmAgb2JqZWN0LCBidXQgb25seSBhIHN1YnNldFxuICAgIG9mIGF1ZGlvIGFuZCBpbWFnZSBtaW1ldHlwZXMgYXJlIGFsbG93ZWQuXG4gICAqL1xuICBzZW5kUmVhbHRpbWVJbnB1dChwYXJhbXM6IHR5cGVzLkxpdmVTZW5kUmVhbHRpbWVJbnB1dFBhcmFtZXRlcnMpIHtcbiAgICBpZiAocGFyYW1zLm1lZGlhID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWVkaWEgaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPVxuICAgICAgdGhpcy50TGl2ZUNsaWVudFJlYWx0aW1lSW5wdXQodGhpcy5hcGlDbGllbnQsIHBhcmFtcyk7XG4gICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAgU2VuZCBhIGZ1bmN0aW9uIHJlc3BvbnNlIG1lc3NhZ2Ugb3ZlciB0aGUgZXN0YWJsaXNoZWQgY29ubmVjdGlvbi5cblxuICAgIEBwYXJhbSBwYXJhbXMgLSBDb250YWlucyBwcm9wZXJ0eSBgZnVuY3Rpb25SZXNwb25zZXNgLlxuXG4gICAgICAtIGBmdW5jdGlvblJlc3BvbnNlc2Agd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBgZnVuY3Rpb25SZXNwb25zZXNbXWBcblxuICAgIEByZW1hcmtzXG4gICAgVXNlIGBzZW5kRnVuY3Rpb25SZXNwb25zZWAgdG8gcmVwbHkgdG8gYExpdmVTZXJ2ZXJUb29sQ2FsbGAgZnJvbSB0aGUgc2VydmVyLlxuXG4gICAgVXNlIHtAbGluayB0eXBlcy5MaXZlQ29ubmVjdENvbmZpZyN0b29sc30gdG8gY29uZmlndXJlIHRoZSBjYWxsYWJsZSBmdW5jdGlvbnMuXG5cbiAgICBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBzZW5kVG9vbFJlc3BvbnNlKHBhcmFtczogdHlwZXMuTGl2ZVNlbmRUb29sUmVzcG9uc2VQYXJhbWV0ZXJzKSB7XG4gICAgaWYgKHBhcmFtcy5mdW5jdGlvblJlc3BvbnNlcyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2wgcmVzcG9uc2UgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPVxuICAgICAgdGhpcy50TGl2ZUNsaWVudHRUb29sUmVzcG9uc2UodGhpcy5hcGlDbGllbnQsIHBhcmFtcyk7XG4gICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAgIFRlcm1pbmF0ZXMgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuXG4gICAgIEBleHBlcmltZW50YWxcblxuICAgICBAZXhhbXBsZVxuICAgICBgYGB0c1xuICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYWkubGl2ZS5jb25uZWN0KHtcbiAgICAgICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gtZXhwJyxcbiAgICAgICBjb25maWc6IHtcbiAgICAgICAgIHJlc3BvbnNlTW9kYWxpdGllczogW01vZGFsaXR5LkFVRElPXSxcbiAgICAgICB9XG4gICAgIH0pO1xuXG4gICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgYGBgXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLmNvbm4uY2xvc2UoKTtcbiAgfVxufVxuXG4vLyBDb252ZXJ0cyBhbiBoZWFkZXJzIG9iamVjdCB0byBhIFwibWFwXCIgb2JqZWN0IGFzIGV4cGVjdGVkIGJ5IHRoZSBXZWJTb2NrZXRcbi8vIGNvbnN0cnVjdG9yLiBXZSB1c2UgdGhpcyBhcyB0aGUgQXV0aCBpbnRlcmZhY2Ugd29ya3Mgd2l0aCBIZWFkZXJzIG9iamVjdHNcbi8vIHdoaWxlIHRoZSBXZWJTb2NrZXQgY29uc3RydWN0b3IgdGFrZXMgYSBtYXAuXG5mdW5jdGlvbiBoZWFkZXJzVG9NYXAoaGVhZGVyczogSGVhZGVycyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBoZWFkZXJNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaGVhZGVyTWFwW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBoZWFkZXJNYXA7XG59XG5cbi8vIENvbnZlcnRzIGEgXCJtYXBcIiBvYmplY3QgdG8gYSBoZWFkZXJzIG9iamVjdC4gV2UgdXNlIHRoaXMgYXMgdGhlIEF1dGhcbi8vIGludGVyZmFjZSB3b3JrcyB3aXRoIEhlYWRlcnMgb2JqZWN0cyB3aGlsZSB0aGUgQVBJIGNsaWVudCBkZWZhdWx0IGhlYWRlcnNcbi8vIHJldHVybnMgYSBtYXAuXG5mdW5jdGlvbiBtYXBUb0hlYWRlcnMobWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogSGVhZGVycyB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhtYXApKSB7XG4gICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGhlYWRlcnM7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19tb2RlbHNfY29udmVydGVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlcyBhbiBBUEkgcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50IHdpdGggYSBnaXZlbiBtb2RlbC5cbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIFZlcnRleCBBSSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIGZ1bGwgcmVzb3VyY2UgbmFtZSBzdGFydHMgd2l0aCAncHJvamVjdHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAncHJvamVjdHMvbXktcHJvamVjdC1pZC9sb2NhdGlvbnMvdXMtY2VudHJhbDEvcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIHBhcnRpYWwgcmVzb3VyY2UgbmFtZSB3aXRoICdwdWJsaXNoZXJzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJyBvclxuICAgKiAgJ3B1Ymxpc2hlcnMvbWV0YS9tb2RlbHMvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICogLSBgL2Agc2VwYXJhdGVkIHB1Ymxpc2hlciBhbmQgbW9kZWwgbmFtZSwgZm9yIGV4YW1wbGU6XG4gICAqICdnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaCcgb3IgJ21ldGEvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIEdlbWluaSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ21vZGVscy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdtb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCdcbiAgICogLSBGb3IgdHVuZWQgbW9kZWxzLCB0aGUgbW9kZWwgbmFtZSBzdGFydHMgd2l0aCAndHVuZWRNb2RlbHMvJyxcbiAgICogZm9yIGV4YW1wbGU6XG4gICAqICd0dW5lZE1vZGVscy8xMjM0NTY3ODkwMTIzNDU2Nzg5J1xuICAgKlxuICAgKiBTb21lIG1vZGVscyBzdXBwb3J0IG11bHRpbW9kYWwgaW5wdXQgYW5kIG91dHB1dC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIGNvbnRlbnQuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gZ2VuZXJhdGluZyBjb250ZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6ICd3aHkgaXMgdGhlIHNreSBibHVlPycsXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICBjYW5kaWRhdGVDb3VudDogMixcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2VuZXJhdGVDb250ZW50ID0gYXN5bmMgKFxuICAgIHBhcmFtczogdHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdlbmVyYXRlQ29udGVudEludGVybmFsKHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFuIEFQSSByZXF1ZXN0IHRvIGdlbmVyYXRlIGNvbnRlbnQgd2l0aCBhIGdpdmVuIG1vZGVsIGFuZCB5aWVsZHMgdGhlXG4gICAqIHJlc3BvbnNlIGluIGNodW5rcy5cbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIFZlcnRleCBBSSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIGZ1bGwgcmVzb3VyY2UgbmFtZSBzdGFydHMgd2l0aCAncHJvamVjdHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAncHJvamVjdHMvbXktcHJvamVjdC1pZC9sb2NhdGlvbnMvdXMtY2VudHJhbDEvcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIHBhcnRpYWwgcmVzb3VyY2UgbmFtZSB3aXRoICdwdWJsaXNoZXJzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJyBvclxuICAgKiAgJ3B1Ymxpc2hlcnMvbWV0YS9tb2RlbHMvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICogLSBgL2Agc2VwYXJhdGVkIHB1Ymxpc2hlciBhbmQgbW9kZWwgbmFtZSwgZm9yIGV4YW1wbGU6XG4gICAqICdnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaCcgb3IgJ21ldGEvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIEdlbWluaSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ21vZGVscy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdtb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCdcbiAgICogLSBGb3IgdHVuZWQgbW9kZWxzLCB0aGUgbW9kZWwgbmFtZSBzdGFydHMgd2l0aCAndHVuZWRNb2RlbHMvJyxcbiAgICogZm9yIGV4YW1wbGU6XG4gICAqICAndHVuZWRNb2RlbHMvMTIzNDU2Nzg5MDEyMzQ1Njc4OSdcbiAgICpcbiAgICogU29tZSBtb2RlbHMgc3VwcG9ydCBtdWx0aW1vZGFsIGlucHV0IGFuZCBvdXRwdXQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBjb250ZW50IHdpdGggc3RyZWFtaW5nIHJlc3BvbnNlLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIGdlbmVyYXRpbmcgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50U3RyZWFtKHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOiAnd2h5IGlzIHRoZSBza3kgYmx1ZT8nLFxuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgbWF4T3V0cHV0VG9rZW5zOiAyMDAsXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXNwb25zZSkge1xuICAgKiAgIGNvbnNvbGUubG9nKGNodW5rKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGdlbmVyYXRlQ29udGVudFN0cmVhbSA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+PiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVDb250ZW50U3RyZWFtSW50ZXJuYWwocGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIGltYWdlIGJhc2VkIG9uIGEgdGV4dCBkZXNjcmlwdGlvbiBhbmQgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1vZGVsIHRvIHVzZS5cbiAgICogQHBhcmFtIHByb21wdCAtIEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgaW1hZ2UgdG8gZ2VuZXJhdGUuXG4gICAqIEBwYXJhbSBbY29uZmlnXSAtIFRoZSBjb25maWcgZm9yIGltYWdlIGdlbmVyYXRpb24uXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubW9kZWxzLmdlbmVyYXRlSW1hZ2VzKHtcbiAgICogIG1vZGVsOiAnaW1hZ2VuLTMuMC1nZW5lcmF0ZS0wMDInLFxuICAgKiAgcHJvbXB0OiAnUm9ib3QgaG9sZGluZyBhIHJlZCBza2F0ZWJvYXJkJyxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBudW1iZXJPZkltYWdlczogMSxcbiAgICogICAgaW5jbHVkZVJhaVJlYXNvbjogdHJ1ZSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBnZW5lcmF0ZUltYWdlcyA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVJbWFnZXNJbnRlcm5hbChwYXJhbXMpLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICBsZXQgcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkSW1hZ2VzID0gW107XG5cbiAgICAgIGlmIChhcGlSZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZ2VuZXJhdGVkSW1hZ2Ugb2YgYXBpUmVzcG9uc2UuZ2VuZXJhdGVkSW1hZ2VzKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZ2VuZXJhdGVkSW1hZ2UgJiZcbiAgICAgICAgICAgIGdlbmVyYXRlZEltYWdlPy5zYWZldHlBdHRyaWJ1dGVzICYmXG4gICAgICAgICAgICBnZW5lcmF0ZWRJbWFnZT8uc2FmZXR5QXR0cmlidXRlcz8uY29udGVudFR5cGUgPT09ICdQb3NpdGl2ZSBQcm9tcHQnXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMgPSBnZW5lcmF0ZWRJbWFnZT8uc2FmZXR5QXR0cmlidXRlcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhdGVkSW1hZ2VzLnB1c2goZ2VuZXJhdGVkSW1hZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHJlc3BvbnNlOiB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlO1xuXG4gICAgICBpZiAocG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgIGdlbmVyYXRlZEltYWdlczogZ2VuZXJhdGVkSW1hZ2VzLFxuICAgICAgICAgIHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlczogcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgZ2VuZXJhdGVkSW1hZ2VzOiBnZW5lcmF0ZWRJbWFnZXMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUNvbnRlbnRJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OmdlbmVyYXRlQ29udGVudCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpnZW5lcmF0ZUNvbnRlbnQnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUNvbnRlbnRTdHJlYW1JbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06c3RyZWFtR2VuZXJhdGVDb250ZW50P2FsdD1zc2UnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgY29uc3QgYXBpQ2xpZW50ID0gdGhpcy5hcGlDbGllbnQ7XG4gICAgICByZXNwb25zZSA9IGFwaUNsaWVudC5yZXF1ZXN0U3RyZWFtKHtcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICB9KSBhcyBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKGFzeW5jIGZ1bmN0aW9uKiAoXG4gICAgICAgIGFwaVJlc3BvbnNlOiBBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4sXG4gICAgICApIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhcGlSZXNwb25zZSkge1xuICAgICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChcbiAgICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICAgIGNodW5rLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICAgIHlpZWxkIHR5cGVkUmVzcDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpzdHJlYW1HZW5lcmF0ZUNvbnRlbnQ/YWx0PXNzZScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICBjb25zdCBhcGlDbGllbnQgPSB0aGlzLmFwaUNsaWVudDtcbiAgICAgIHJlc3BvbnNlID0gYXBpQ2xpZW50LnJlcXVlc3RTdHJlYW0oe1xuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgIH0pIGFzIFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+PjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oYXN5bmMgZnVuY3Rpb24qIChcbiAgICAgICAgYXBpUmVzcG9uc2U6IEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPixcbiAgICAgICkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGFwaVJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoXG4gICAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgICBjaHVuayxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgICB5aWVsZCB0eXBlZFJlc3A7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGVtYmVkZGluZ3MgZm9yIHRoZSBnaXZlbiBjb250ZW50cy4gT25seSB0ZXh0IGlzIHN1cHBvcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBlbWJlZGRpbmcgY29udGVudHMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZW1iZWRDb250ZW50KHtcbiAgICogIG1vZGVsOiAndGV4dC1lbWJlZGRpbmctMDA0JyxcbiAgICogIGNvbnRlbnRzOiBbXG4gICAqICAgICdXaGF0IGlzIHlvdXIgbmFtZT8nLFxuICAgKiAgICAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIGNvbG9yPycsXG4gICAqICBdLFxuICAgKiAgY29uZmlnOiB7XG4gICAqICAgIG91dHB1dERpbWVuc2lvbmFsaXR5OiA2NCxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZW1iZWRDb250ZW50KFxuICAgIHBhcmFtczogdHlwZXMuRW1iZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06cHJlZGljdCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpiYXRjaEVtYmVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBpbWFnZSBiYXNlZCBvbiBhIHRleHQgZGVzY3JpcHRpb24gYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBpbWFnZXMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVJbWFnZXMoe1xuICAgKiAgbW9kZWw6ICdpbWFnZW4tMy4wLWdlbmVyYXRlLTAwMicsXG4gICAqICBwcm9tcHQ6ICdSb2JvdCBob2xkaW5nIGEgcmVkIHNrYXRlYm9hcmQnLFxuICAgKiAgY29uZmlnOiB7XG4gICAqICAgIG51bWJlck9mSW1hZ2VzOiAxLFxuICAgKiAgICBpbmNsdWRlUmFpUmVhc29uOiB0cnVlLFxuICAgKiAgfSxcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlPy5nZW5lcmF0ZWRJbWFnZXM/LlswXT8uaW1hZ2U/LmltYWdlQnl0ZXMpO1xuICAgKiBgYGBcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVJbWFnZXNJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06cHJlZGljdCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgaW5mb3JtYXRpb24gYWJvdXQgYSBtb2RlbCBieSBuYW1lLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBtb2RlbEluZm8gPSBhd2FpdCBhaS5tb2RlbHMuZ2V0KHttb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZ2V0KHBhcmFtczogdHlwZXMuR2V0TW9kZWxQYXJhbWV0ZXJzKTogUHJvbWlzZTx0eXBlcy5Nb2RlbD4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5Nb2RlbD47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldE1vZGVsUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLk1vZGVsPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLm1vZGVsRnJvbVZlcnRleCh0aGlzLmFwaUNsaWVudCwgYXBpUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLk1vZGVsO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldE1vZGVsUGFyYW1ldGVyc1RvTWxkZXYodGhpcy5hcGlDbGllbnQsIHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Nb2RlbD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5tb2RlbEZyb21NbGRldih0aGlzLmFwaUNsaWVudCwgYXBpUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLk1vZGVsO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvdW50cyB0aGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgZ2l2ZW4gY29udGVudHMuIE11bHRpbW9kYWwgaW5wdXQgaXNcbiAgICogc3VwcG9ydGVkIGZvciBHZW1pbmkgbW9kZWxzLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNvdW50aW5nIHRva2Vucy5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5jb3VudFRva2Vucyh7XG4gICAqICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgY29udGVudHM6ICdUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLidcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjb3VudFRva2VucyhcbiAgICBwYXJhbXM6IHR5cGVzLkNvdW50VG9rZW5zUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jb3VudFRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Y291bnRUb2tlbnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY291bnRUb2tlbnNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jb3VudFRva2Vuc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpjb3VudFRva2VucycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jb3VudFRva2Vuc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gYSBsaXN0IG9mIGNvbnRlbnRzLCByZXR1cm5zIGEgY29ycmVzcG9uZGluZyBUb2tlbnNJbmZvIGNvbnRhaW5pbmdcbiAgICogdGhlIGxpc3Qgb2YgdG9rZW5zIGFuZCBsaXN0IG9mIHRva2VuIGlkcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY29tcHV0aW5nIHRva2Vucy5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5jb21wdXRlVG9rZW5zKHtcbiAgICogIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICBjb250ZW50czogJ1doYXQgaXMgeW91ciBuYW1lPydcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjb21wdXRlVG9rZW5zKFxuICAgIHBhcmFtczogdHlwZXMuQ29tcHV0ZVRva2Vuc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmNvbXB1dGVUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OmNvbXB1dGVUb2tlbnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jb21wdXRlVG9rZW5zUmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICBHZW5lcmF0ZXMgdmlkZW9zIGJhc2VkIG9uIGEgdGV4dCBkZXNjcmlwdGlvbiBhbmQgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIHZpZGVvcy5cbiAgICogQHJldHVybiBBIFByb21pc2U8R2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+IHdoaWNoIGFsbG93cyB5b3UgdG8gdHJhY2sgdGhlIHByb2dyZXNzIGFuZCBldmVudHVhbGx5IHJldHJpZXZlIHRoZSBnZW5lcmF0ZWQgdmlkZW9zIHVzaW5nIHRoZSBvcGVyYXRpb25zLmdldCBtZXRob2QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IG9wZXJhdGlvbiA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZVZpZGVvcyh7XG4gICAqICBtb2RlbDogJ3Zlby0yLjAtZ2VuZXJhdGUtMDAxJyxcbiAgICogIHByb21wdDogJ0EgbmVvbiBob2xvZ3JhbSBvZiBhIGNhdCBkcml2aW5nIGF0IHRvcCBzcGVlZCcsXG4gICAqICBjb25maWc6IHtcbiAgICogICAgbnVtYmVyT2ZWaWRlb3M6IDFcbiAgICogfSk7XG4gICAqXG4gICAqIHdoaWxlICghb3BlcmF0aW9uLmRvbmUpIHtcbiAgICogICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMDApKTtcbiAgICogICBvcGVyYXRpb24gPSBhd2FpdCBhaS5vcGVyYXRpb25zLmdldFZpZGVvc09wZXJhdGlvbih7b3BlcmF0aW9uOiBvcGVyYXRpb259KTtcbiAgICogfVxuICAgKlxuICAgKiBjb25zb2xlLmxvZyhvcGVyYXRpb24ucmVzcG9uc2U/LmdlbmVyYXRlZFZpZGVvcz8uWzBdPy52aWRlbz8udXJpKTtcbiAgICogYGBgXG4gICAqL1xuXG4gIGFzeW5jIGdlbmVyYXRlVmlkZW9zKFxuICAgIHBhcmFtczogdHlwZXMuR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3RMb25nUnVubmluZycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3RMb25nUnVubmluZycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb247XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vX2NvbW1vbic7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4uL190cmFuc2Zvcm1lcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRPcGVyYXRpb25QYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tT3BlcmF0aW9uTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ29wZXJhdGlvbk5hbWUnLFxuICBdKTtcbiAgaWYgKGZyb21PcGVyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdvcGVyYXRpb25OYW1lJ10sXG4gICAgICBmcm9tT3BlcmF0aW9uTmFtZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRPcGVyYXRpb25QYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tT3BlcmF0aW9uTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ29wZXJhdGlvbk5hbWUnLFxuICBdKTtcbiAgaWYgKGZyb21PcGVyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdvcGVyYXRpb25OYW1lJ10sXG4gICAgICBmcm9tT3BlcmF0aW9uTmFtZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tT3BlcmF0aW9uTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ29wZXJhdGlvbk5hbWUnLFxuICBdKTtcbiAgaWYgKGZyb21PcGVyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnb3BlcmF0aW9uTmFtZSddLCBmcm9tT3BlcmF0aW9uTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzb3VyY2VOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzb3VyY2VOYW1lJ10pO1xuICBpZiAoZnJvbVJlc291cmNlTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ191cmwnLCAncmVzb3VyY2VOYW1lJ10sIGZyb21SZXNvdXJjZU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nLCAndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW8nLFxuICAgICdlbmNvZGVkVmlkZW8nLFxuICBdKTtcbiAgaWYgKGZyb21WaWRlb0J5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW9CeXRlcyddLFxuICAgICAgdC50Qnl0ZXMoYXBpQ2xpZW50LCBmcm9tVmlkZW9CeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuY29kaW5nJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW8nXSxcbiAgICAgIHZpZGVvRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVZpZGVvKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRWaWRlb3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0ZWRTYW1wbGVzJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGVkVmlkZW9zICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tR2VuZXJhdGVkVmlkZW9zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydnZW5lcmF0ZWRWaWRlb3MnXSxcbiAgICAgICAgZnJvbUdlbmVyYXRlZFZpZGVvcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkVmlkZW9Gcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIGZyb21HZW5lcmF0ZWRWaWRlb3MpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvbmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb25lJ10pO1xuICBpZiAoZnJvbURvbmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb25lJ10sIGZyb21Eb25lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXJyb3InXSwgZnJvbUVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlJyxcbiAgICAnZ2VuZXJhdGVWaWRlb1Jlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihhcGlDbGllbnQsIGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZScsXG4gICAgJ2dlbmVyYXRlVmlkZW9SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3VsdCddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihhcGlDbGllbnQsIGZyb21SZXN1bHQpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5WaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKTtcbiAgaWYgKGZyb21VcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmknXSwgZnJvbVVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tVmlkZW9CeXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2J5dGVzQmFzZTY0RW5jb2RlZCcsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlb0J5dGVzJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21WaWRlb0J5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkVmlkZW9Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW8nXSxcbiAgICAgIHZpZGVvRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21WaWRlbyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvcyddKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21HZW5lcmF0ZWRWaWRlb3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2dlbmVyYXRlZFZpZGVvcyddLFxuICAgICAgICBmcm9tR2VuZXJhdGVkVmlkZW9zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBnZW5lcmF0ZWRWaWRlb0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIGZyb21HZW5lcmF0ZWRWaWRlb3MpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXN1bHQnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbVJlc3VsdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHtCYXNlTW9kdWxlfSBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0ICogYXMgY29udmVydGVycyBmcm9tICcuL2NvbnZlcnRlcnMvX29wZXJhdGlvbnNfY29udmVydGVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbnMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc3RhdHVzIG9mIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBnZXQgb3BlcmF0aW9uIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIHVwZGF0ZWQgT3BlcmF0aW9uIG9iamVjdCwgd2l0aCB0aGUgbGF0ZXN0IHN0YXR1cyBvciByZXN1bHQuXG4gICAqL1xuICBhc3luYyBnZXRWaWRlb3NPcGVyYXRpb24oXG4gICAgcGFyYW1ldGVyczogdHlwZXMuT3BlcmF0aW9uR2V0UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj4ge1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHBhcmFtZXRlcnMub3BlcmF0aW9uO1xuICAgIGNvbnN0IGNvbmZpZyA9IHBhcmFtZXRlcnMuY29uZmlnO1xuXG4gICAgaWYgKG9wZXJhdGlvbi5uYW1lID09PSB1bmRlZmluZWQgfHwgb3BlcmF0aW9uLm5hbWUgPT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiBuYW1lIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IG9wZXJhdGlvbi5uYW1lLnNwbGl0KCcvb3BlcmF0aW9ucy8nKVswXTtcbiAgICAgIHZhciBodHRwT3B0aW9uczogdHlwZXMuSHR0cE9wdGlvbnMgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChjb25maWcgJiYgJ2h0dHBPcHRpb25zJyBpbiBjb25maWcpIHtcbiAgICAgICAgaHR0cE9wdGlvbnMgPSBjb25maWcuaHR0cE9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmZldGNoUHJlZGljdFZpZGVvc09wZXJhdGlvbkludGVybmFsKHtcbiAgICAgICAgb3BlcmF0aW9uTmFtZTogb3BlcmF0aW9uLm5hbWUsXG4gICAgICAgIHJlc291cmNlTmFtZTogcmVzb3VyY2VOYW1lLFxuICAgICAgICBjb25maWc6IHtodHRwT3B0aW9uczogaHR0cE9wdGlvbnN9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZpZGVvc09wZXJhdGlvbkludGVybmFsKHtcbiAgICAgICAgb3BlcmF0aW9uTmFtZTogb3BlcmF0aW9uLm5hbWUsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRWaWRlb3NPcGVyYXRpb25JbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdldE9wZXJhdGlvblBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7b3BlcmF0aW9uTmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldE9wZXJhdGlvblBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne29wZXJhdGlvbk5hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmZXRjaFByZWRpY3RWaWRlb3NPcGVyYXRpb25JbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5mZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7cmVzb3VyY2VOYW1lfTpmZXRjaFByZWRpY3RPcGVyYXRpb24nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0F1dGh9IGZyb20gJy4vX2F1dGgnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbic7XG5pbXBvcnQge1VwbG9hZGVyfSBmcm9tICcuL191cGxvYWRlcic7XG5pbXBvcnQge0ZpbGUsIEh0dHBPcHRpb25zLCBIdHRwUmVzcG9uc2UsIFVwbG9hZEZpbGVDb25maWd9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBDT05URU5UX1RZUEVfSEVBREVSID0gJ0NvbnRlbnQtVHlwZSc7XG5jb25zdCBTRVJWRVJfVElNRU9VVF9IRUFERVIgPSAnWC1TZXJ2ZXItVGltZW91dCc7XG5jb25zdCBVU0VSX0FHRU5UX0hFQURFUiA9ICdVc2VyLUFnZW50JztcbmNvbnN0IEdPT0dMRV9BUElfQ0xJRU5UX0hFQURFUiA9ICd4LWdvb2ctYXBpLWNsaWVudCc7XG5leHBvcnQgY29uc3QgU0RLX1ZFUlNJT04gPSAnMC44LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbmNvbnN0IExJQlJBUllfTEFCRUwgPSBgZ29vZ2xlLWdlbmFpLXNkay8ke1NES19WRVJTSU9OfWA7XG5jb25zdCBWRVJURVhfQUlfQVBJX0RFRkFVTFRfVkVSU0lPTiA9ICd2MWJldGExJztcbmNvbnN0IEdPT0dMRV9BSV9BUElfREVGQVVMVF9WRVJTSU9OID0gJ3YxYmV0YSc7XG5jb25zdCByZXNwb25zZUxpbmVSRSA9IC9eZGF0YTogKC4qKSg/OlxcblxcbnxcXHJcXHJ8XFxyXFxuXFxyXFxuKS87XG5cbi8qKlxuICogQ2xpZW50IGVycm9ycyByYWlzZWQgYnkgdGhlIEdlbkFJIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YWNrVHJhY2U/OiBzdHJpbmcpIHtcbiAgICBpZiAoc3RhY2tUcmFjZSkge1xuICAgICAgc3VwZXIobWVzc2FnZSwge2NhdXNlOiBzdGFja1RyYWNlfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UsIHtjYXVzZTogbmV3IEVycm9yKCkuc3RhY2t9KTtcbiAgICB9XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLm5hbWUgPSAnQ2xpZW50RXJyb3InO1xuICB9XG59XG5cbi8qKlxuICogU2VydmVyIGVycm9ycyByYWlzZWQgYnkgdGhlIEdlbkFJIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YWNrVHJhY2U/OiBzdHJpbmcpIHtcbiAgICBpZiAoc3RhY2tUcmFjZSkge1xuICAgICAgc3VwZXIobWVzc2FnZSwge2NhdXNlOiBzdGFja1RyYWNlfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UsIHtjYXVzZTogbmV3IEVycm9yKCkuc3RhY2t9KTtcbiAgICB9XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLm5hbWUgPSAnU2VydmVyRXJyb3InO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIHRoZSBBcGlDbGllbnQuIFRoZSBBcGlDbGllbnQgdXNlcyB0aGUgcGFyYW1ldGVyc1xuICogZm9yIGF1dGhlbnRpY2F0aW9uIHB1cnBvc2VzIGFzIHdlbGwgYXMgdG8gaW5mZXIgaWYgU0RLIHNob3VsZCBzZW5kIHRoZVxuICogcmVxdWVzdCB0byBWZXJ0ZXggQUkgb3IgR2VtaW5pIEFQSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcGlDbGllbnRJbml0T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgb2JqZWN0IHVzZWQgZm9yIGFkZGluZyBhdXRoZW50aWNhdGlvbiBoZWFkZXJzIHRvIEFQSSByZXF1ZXN0cy5cbiAgICovXG4gIGF1dGg6IEF1dGg7XG4gIC8qKlxuICAgKiBUaGUgdXBsb2FkZXIgdG8gdXNlIGZvciB1cGxvYWRpbmcgZmlsZXMuIFRoaXMgZmllbGQgaXMgcmVxdWlyZWQgZm9yXG4gICAqIGNyZWF0aW5nIGEgY2xpZW50LCB3aWxsIGJlIHNldCB0aHJvdWdoIHRoZSBOb2RlX2NsaWVudCBvciBXZWJfY2xpZW50LlxuICAgKi9cbiAgdXBsb2FkZXI6IFVwbG9hZGVyO1xuICAvKipcbiAgICogT3B0aW9uYWwuIFRoZSBHb29nbGUgQ2xvdWQgcHJvamVjdCBJRCBmb3IgVmVydGV4IEFJIHVzZXJzLlxuICAgKiBJdCBpcyBub3QgdGhlIG51bWVyaWMgcHJvamVjdCBuYW1lLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIFNESyB3aWxsIHRyeSB0byByZXNvbHZlIGl0IGZyb20gcnVudGltZSBlbnZpcm9ubWVudC5cbiAgICovXG4gIHByb2plY3Q/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gVGhlIEdvb2dsZSBDbG91ZCBwcm9qZWN0IGxvY2F0aW9uIGZvciBWZXJ0ZXggQUkgdXNlcnMuXG4gICAqIElmIG5vdCBwcm92aWRlZCwgU0RLIHdpbGwgdHJ5IHRvIHJlc29sdmUgaXQgZnJvbSBydW50aW1lIGVudmlyb25tZW50LlxuICAgKi9cbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgQVBJIEtleS4gVGhpcyBpcyByZXF1aXJlZCBmb3IgR2VtaW5pIEFQSSB1c2Vycy5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBTZXQgdG8gdHJ1ZSBpZiB5b3UgaW50ZW5kIHRvIGNhbGwgVmVydGV4IEFJIGVuZHBvaW50cy5cbiAgICogSWYgdW5zZXQsIGRlZmF1bHQgU0RLIGJlaGF2aW9yIGlzIHRvIGNhbGwgR2VtaW5pIEFQSS5cbiAgICovXG4gIHZlcnRleGFpPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBUaGUgQVBJIHZlcnNpb24gZm9yIHRoZSBlbmRwb2ludC5cbiAgICogSWYgdW5zZXQsIFNESyB3aWxsIGNob29zZSBhIGRlZmF1bHQgYXBpIHZlcnNpb24uXG4gICAqL1xuICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwuIEEgc2V0IG9mIGN1c3RvbWl6YWJsZSBjb25maWd1cmF0aW9uIGZvciBIVFRQIHJlcXVlc3RzLlxuICAgKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBBbiBleHRyYSBzdHJpbmcgdG8gYXBwZW5kIGF0IHRoZSBlbmQgb2YgdGhlIFVzZXItQWdlbnQgaGVhZGVyLlxuICAgKlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGUuZyBzcGVjaWZ5IHRoZSBydW50aW1lIGFuZCBpdHMgdmVyc2lvbi5cbiAgICovXG4gIHVzZXJBZ2VudEV4dHJhPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBzZW5kIGEgcmVxdWVzdCB0byBhbiBBUEkgZW5kcG9pbnQuXG4gKiBUaGlzIGludGVyZmFjZSBkZWZpbmVzIHRoZSBzdHJ1Y3R1cmUgZm9yIGNvbnN0cnVjdGluZyBhbmQgZXhlY3V0aW5nIEhUVFBcbiAqIHJlcXVlc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIFVSTCBwYXRoIGZyb20gdGhlIG1vZHVsZXMsIHRoaXMgcGF0aCBpcyBhcHBlbmRlZCB0byB0aGUgYmFzZSBBUEkgVVJMIHRvXG4gICAqIGZvcm0gdGhlIGNvbXBsZXRlIHJlcXVlc3QgVVJMLlxuICAgKlxuICAgKiBJZiB5b3Ugd2lzaCB0byBzZXQgZnVsbCBVUkwsIHVzZSBodHRwT3B0aW9ucy5iYXNlVXJsIGluc3RlYWQuIEV4YW1wbGUgdG9cbiAgICogc2V0IGZ1bGwgVVJMIGluIHRoZSByZXF1ZXN0OlxuICAgKlxuICAgKiBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHtcbiAgICogICBwYXRoOiAnJyxcbiAgICogICBodHRwT3B0aW9uczoge1xuICAgKiAgICAgYmFzZVVybDogJ2h0dHBzOi8vPGN1c3RvbS1mdWxsLXVybD4nLFxuICAgKiAgICAgYXBpVmVyc2lvbjogJycsXG4gICAqICAgfSxcbiAgICogICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICogfTtcbiAgICpcbiAgICogVGhlIHJlc3VsdCBVUkwgd2lsbCBiZTogaHR0cHM6Ly88Y3VzdG9tLWZ1bGwtdXJsPlxuICAgKlxuICAgKi9cbiAgcGF0aDogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgcXVlcnkgcGFyYW1ldGVycyB0byBiZSBhcHBlbmRlZCB0byB0aGUgcmVxdWVzdCBVUkwuXG4gICAqL1xuICBxdWVyeVBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIC8qKlxuICAgKiBPcHRpb25hbCByZXF1ZXN0IGJvZHkgaW4ganNvbiBzdHJpbmcgb3IgQmxvYiBmb3JtYXQsIEdFVCByZXF1ZXN0IGRvZXNuJ3RcbiAgICogbmVlZCBhIHJlcXVlc3QgYm9keS5cbiAgICovXG4gIGJvZHk/OiBzdHJpbmcgfCBCbG9iO1xuICAvKipcbiAgICogVGhlIEhUVFAgbWV0aG9kIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgaHR0cE1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURSc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBzZXQgb2YgY3VzdG9taXphYmxlIGNvbmZpZ3VyYXRpb24gZm9yIEhUVFAgcmVxdWVzdHMuXG4gICAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKipcbiAqIFRoZSBBcGlDbGllbnQgY2xhc3MgaXMgdXNlZCB0byBzZW5kIHJlcXVlc3RzIHRvIHRoZSBHZW1pbmkgQVBJIG9yIFZlcnRleCBBSVxuICogZW5kcG9pbnRzLlxuICovXG5leHBvcnQgY2xhc3MgQXBpQ2xpZW50IHtcbiAgcmVhZG9ubHkgY2xpZW50T3B0aW9uczogQXBpQ2xpZW50SW5pdE9wdGlvbnM7XG5cbiAgY29uc3RydWN0b3Iob3B0czogQXBpQ2xpZW50SW5pdE9wdGlvbnMpIHtcbiAgICB0aGlzLmNsaWVudE9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRzLFxuICAgICAgcHJvamVjdDogb3B0cy5wcm9qZWN0LFxuICAgICAgbG9jYXRpb246IG9wdHMubG9jYXRpb24sXG4gICAgICBhcGlLZXk6IG9wdHMuYXBpS2V5LFxuICAgICAgdmVydGV4YWk6IG9wdHMudmVydGV4YWksXG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRIdHRwT3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fTtcblxuICAgIGlmICh0aGlzLmNsaWVudE9wdGlvbnMudmVydGV4YWkpIHtcbiAgICAgIGluaXRIdHRwT3B0aW9ucy5hcGlWZXJzaW9uID1cbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmFwaVZlcnNpb24gPz8gVkVSVEVYX0FJX0FQSV9ERUZBVUxUX1ZFUlNJT047XG4gICAgICAvLyBBc3N1bWUgdGhhdCBwcm9qL2FwaSBrZXkgdmFsaWRhdGlvbiBvY2N1cnMgYmVmb3JlIHRoZXkgYXJlIHBhc3NlZCBpbi5cbiAgICAgIGlmICh0aGlzLmdldFByb2plY3QoKSB8fCB0aGlzLmdldExvY2F0aW9uKCkpIHtcbiAgICAgICAgaW5pdEh0dHBPcHRpb25zLmJhc2VVcmwgPSBgaHR0cHM6Ly8ke3RoaXMuY2xpZW50T3B0aW9ucy5sb2NhdGlvbn0tYWlwbGF0Zm9ybS5nb29nbGVhcGlzLmNvbS9gO1xuICAgICAgICB0aGlzLmNsaWVudE9wdGlvbnMuYXBpS2V5ID0gdW5kZWZpbmVkOyAvLyB1bnNldCBBUEkga2V5LlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5pdEh0dHBPcHRpb25zLmJhc2VVcmwgPSBgaHR0cHM6Ly9haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL2A7XG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5wcm9qZWN0ID0gdW5kZWZpbmVkOyAvLyB1bnNldCBwcm9qZWN0LlxuICAgICAgICB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb24gPSB1bmRlZmluZWQ7IC8vIHVuc2V0IGxvY2F0aW9uLlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbml0SHR0cE9wdGlvbnMuYXBpVmVyc2lvbiA9XG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5hcGlWZXJzaW9uID8/IEdPT0dMRV9BSV9BUElfREVGQVVMVF9WRVJTSU9OO1xuICAgICAgaW5pdEh0dHBPcHRpb25zLmJhc2VVcmwgPSBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vYDtcbiAgICB9XG5cbiAgICBpbml0SHR0cE9wdGlvbnMuaGVhZGVycyA9IHRoaXMuZ2V0RGVmYXVsdEhlYWRlcnMoKTtcblxuICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyA9IGluaXRIdHRwT3B0aW9ucztcblxuICAgIGlmIChvcHRzLmh0dHBPcHRpb25zKSB7XG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMgPSB0aGlzLnBhdGNoSHR0cE9wdGlvbnMoXG4gICAgICAgIGluaXRIdHRwT3B0aW9ucyxcbiAgICAgICAgb3B0cy5odHRwT3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaXNWZXJ0ZXhBSSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLnZlcnRleGFpID8/IGZhbHNlO1xuICB9XG5cbiAgZ2V0UHJvamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLnByb2plY3Q7XG4gIH1cblxuICBnZXRMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9uO1xuICB9XG5cbiAgZ2V0QXBpVmVyc2lvbigpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMgJiZcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5hcGlWZXJzaW9uICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYXBpVmVyc2lvbjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBUEkgdmVyc2lvbiBpcyBub3Qgc2V0LicpO1xuICB9XG5cbiAgZ2V0QmFzZVVybCgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMgJiZcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5iYXNlVXJsICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYmFzZVVybDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCYXNlIFVSTCBpcyBub3Qgc2V0LicpO1xuICB9XG5cbiAgZ2V0UmVxdWVzdFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0VXJsSW50ZXJuYWwodGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIGdldEhlYWRlcnMoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuaGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmhlYWRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSGVhZGVycyBhcmUgbm90IHNldC4nKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFJlcXVlc3RVcmxJbnRlcm5hbChodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zKSB7XG4gICAgaWYgKFxuICAgICAgIWh0dHBPcHRpb25zIHx8XG4gICAgICBodHRwT3B0aW9ucy5iYXNlVXJsID09PSB1bmRlZmluZWQgfHxcbiAgICAgIGh0dHBPcHRpb25zLmFwaVZlcnNpb24gPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIG9wdGlvbnMgYXJlIG5vdCBjb3JyZWN0bHkgc2V0LicpO1xuICAgIH1cbiAgICBjb25zdCBiYXNlVXJsID0gaHR0cE9wdGlvbnMuYmFzZVVybC5lbmRzV2l0aCgnLycpXG4gICAgICA/IGh0dHBPcHRpb25zLmJhc2VVcmwuc2xpY2UoMCwgLTEpXG4gICAgICA6IGh0dHBPcHRpb25zLmJhc2VVcmw7XG4gICAgY29uc3QgdXJsRWxlbWVudDogQXJyYXk8c3RyaW5nPiA9IFtiYXNlVXJsXTtcbiAgICBpZiAoaHR0cE9wdGlvbnMuYXBpVmVyc2lvbiAmJiBodHRwT3B0aW9ucy5hcGlWZXJzaW9uICE9PSAnJykge1xuICAgICAgdXJsRWxlbWVudC5wdXNoKGh0dHBPcHRpb25zLmFwaVZlcnNpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdXJsRWxlbWVudC5qb2luKCcvJyk7XG4gIH1cblxuICBnZXRCYXNlUmVzb3VyY2VQYXRoKCkge1xuICAgIHJldHVybiBgcHJvamVjdHMvJHt0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdH0vbG9jYXRpb25zLyR7XG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb25cbiAgICB9YDtcbiAgfVxuXG4gIGdldEFwaUtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmFwaUtleTtcbiAgfVxuXG4gIGdldFdlYnNvY2tldEJhc2VVcmwoKSB7XG4gICAgY29uc3QgYmFzZVVybCA9IHRoaXMuZ2V0QmFzZVVybCgpO1xuICAgIGNvbnN0IHVybFBhcnRzID0gbmV3IFVSTChiYXNlVXJsKTtcbiAgICB1cmxQYXJ0cy5wcm90b2NvbCA9ICd3c3MnO1xuICAgIHJldHVybiB1cmxQYXJ0cy50b1N0cmluZygpO1xuICB9XG5cbiAgc2V0QmFzZVVybCh1cmw6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5iYXNlVXJsID0gdXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUVFAgb3B0aW9ucyBhcmUgbm90IGNvcnJlY3RseSBzZXQuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RVcmwoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGh0dHBPcHRpb25zOiBIdHRwT3B0aW9ucyxcbiAgICBwcmVwZW5kUHJvamVjdExvY2F0aW9uOiBib29sZWFuLFxuICApOiBVUkwge1xuICAgIGNvbnN0IHVybEVsZW1lbnQ6IEFycmF5PHN0cmluZz4gPSBbdGhpcy5nZXRSZXF1ZXN0VXJsSW50ZXJuYWwoaHR0cE9wdGlvbnMpXTtcbiAgICBpZiAocHJlcGVuZFByb2plY3RMb2NhdGlvbikge1xuICAgICAgdXJsRWxlbWVudC5wdXNoKHRoaXMuZ2V0QmFzZVJlc291cmNlUGF0aCgpKTtcbiAgICB9XG4gICAgaWYgKHBhdGggIT09ICcnKSB7XG4gICAgICB1cmxFbGVtZW50LnB1c2gocGF0aCk7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dXJsRWxlbWVudC5qb2luKCcvJyl9YCk7XG5cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRQcmVwZW5kVmVydGV4UHJvamVjdFBhdGgocmVxdWVzdDogSHR0cFJlcXVlc3QpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jbGllbnRPcHRpb25zLmFwaUtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2xpZW50T3B0aW9ucy52ZXJ0ZXhhaSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5wYXRoLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIHBhdGggYWxyZWFkeSBzdGFydHMgd2l0aFxuICAgICAgLy8gYHByb2plY3RzLzxwcm9qZWN0Pi9sb2NhdGlvbi88bG9jYXRpb24+YC5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmVxdWVzdC5odHRwTWV0aG9kID09PSAnR0VUJyAmJlxuICAgICAgcmVxdWVzdC5wYXRoLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscycpXG4gICAgKSB7XG4gICAgICAvLyBUaGVzZSBwYXRocyBhcmUgdXNlZCBieSBWZXJ0ZXgncyBtb2RlbHMuZ2V0IGFuZCBtb2RlbHMubGlzdFxuICAgICAgLy8gY2FsbHMuIEZvciBiYXNlIG1vZGVscyBWZXJ0ZXggZG9lcyBub3QgYWNjZXB0IGEgcHJvamVjdC9sb2NhdGlvblxuICAgICAgLy8gcHJlZml4IChmb3IgdHVuZWQgbW9kZWwgdGhlIHByZWZpeCBpcyByZXF1aXJlZCkuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdChyZXF1ZXN0OiBIdHRwUmVxdWVzdCk6IFByb21pc2U8SHR0cFJlc3BvbnNlPiB7XG4gICAgbGV0IHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyE7XG4gICAgaWYgKHJlcXVlc3QuaHR0cE9wdGlvbnMpIHtcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMucGF0Y2hIdHRwT3B0aW9ucyhcbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zISxcbiAgICAgICAgcmVxdWVzdC5odHRwT3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlcGVuZFByb2plY3RMb2NhdGlvbiA9IHRoaXMuc2hvdWxkUHJlcGVuZFZlcnRleFByb2plY3RQYXRoKHJlcXVlc3QpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuY29uc3RydWN0VXJsKFxuICAgICAgcmVxdWVzdC5wYXRoLFxuICAgICAgcGF0Y2hlZEh0dHBPcHRpb25zLFxuICAgICAgcHJlcGVuZFByb2plY3RMb2NhdGlvbixcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnF1ZXJ5UGFyYW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXF1ZXN0LnF1ZXJ5UGFyYW1zKSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge307XG4gICAgaWYgKHJlcXVlc3QuaHR0cE1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgIGlmIChyZXF1ZXN0LmJvZHkgJiYgcmVxdWVzdC5ib2R5ICE9PSAne30nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWVzdCBib2R5IHNob3VsZCBiZSBlbXB0eSBmb3IgR0VUIHJlcXVlc3QsIGJ1dCBnb3Qgbm9uIGVtcHR5IHJlcXVlc3QgYm9keScsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RJbml0LmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RJbml0ID0gYXdhaXQgdGhpcy5pbmNsdWRlRXh0cmFIdHRwT3B0aW9uc1RvUmVxdWVzdEluaXQoXG4gICAgICByZXF1ZXN0SW5pdCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnVuYXJ5QXBpQ2FsbCh1cmwsIHJlcXVlc3RJbml0LCByZXF1ZXN0Lmh0dHBNZXRob2QpO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXRjaEh0dHBPcHRpb25zKFxuICAgIGJhc2VIdHRwT3B0aW9uczogSHR0cE9wdGlvbnMsXG4gICAgcmVxdWVzdEh0dHBPcHRpb25zOiBIdHRwT3B0aW9ucyxcbiAgKTogSHR0cE9wdGlvbnMge1xuICAgIGNvbnN0IHBhdGNoZWRIdHRwT3B0aW9ucyA9IEpTT04ucGFyc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShiYXNlSHR0cE9wdGlvbnMpLFxuICAgICkgYXMgSHR0cE9wdGlvbnM7XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXF1ZXN0SHR0cE9wdGlvbnMpKSB7XG4gICAgICAvLyBSZWNvcmRzIGNvbXBpbGUgdG8gb2JqZWN0cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFMyMzQ1VFM3MDUzOiBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGVcbiAgICAgICAgLy8gYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlXG4gICAgICAgIC8vICdIdHRwT3B0aW9ucycuXG4gICAgICAgIHBhdGNoZWRIdHRwT3B0aW9uc1trZXldID0gey4uLnBhdGNoZWRIdHRwT3B0aW9uc1trZXldLCAuLi52YWx1ZX07XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUzIzNDVUUzcwNTM6IEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZVxuICAgICAgICAvLyBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGVcbiAgICAgICAgLy8gJ0h0dHBPcHRpb25zJy5cbiAgICAgICAgcGF0Y2hlZEh0dHBPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhdGNoZWRIdHRwT3B0aW9ucztcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RTdHJlYW0oXG4gICAgcmVxdWVzdDogSHR0cFJlcXVlc3QsXG4gICAgLy8gVE9ETzogYi80MDcwNTk0MzAgLSBSZXBsYWNlIHdpdGggSHR0cFJlc3BvbnNlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgbGV0IHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyE7XG4gICAgaWYgKHJlcXVlc3QuaHR0cE9wdGlvbnMpIHtcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMucGF0Y2hIdHRwT3B0aW9ucyhcbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zISxcbiAgICAgICAgcmVxdWVzdC5odHRwT3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlcGVuZFByb2plY3RMb2NhdGlvbiA9IHRoaXMuc2hvdWxkUHJlcGVuZFZlcnRleFByb2plY3RQYXRoKHJlcXVlc3QpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuY29uc3RydWN0VXJsKFxuICAgICAgcmVxdWVzdC5wYXRoLFxuICAgICAgcGF0Y2hlZEh0dHBPcHRpb25zLFxuICAgICAgcHJlcGVuZFByb2plY3RMb2NhdGlvbixcbiAgICApO1xuICAgIGlmICghdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ2FsdCcpIHx8IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdhbHQnKSAhPT0gJ3NzZScpIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdhbHQnLCAnc3NlJyk7XG4gICAgfVxuICAgIGxldCByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQgPSB7fTtcbiAgICByZXF1ZXN0SW5pdC5ib2R5ID0gcmVxdWVzdC5ib2R5O1xuICAgIHJlcXVlc3RJbml0ID0gYXdhaXQgdGhpcy5pbmNsdWRlRXh0cmFIdHRwT3B0aW9uc1RvUmVxdWVzdEluaXQoXG4gICAgICByZXF1ZXN0SW5pdCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUFwaUNhbGwodXJsLCByZXF1ZXN0SW5pdCwgcmVxdWVzdC5odHRwTWV0aG9kKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5jbHVkZUV4dHJhSHR0cE9wdGlvbnNUb1JlcXVlc3RJbml0KFxuICAgIHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCxcbiAgICBodHRwT3B0aW9uczogSHR0cE9wdGlvbnMsXG4gICk6IFByb21pc2U8UmVxdWVzdEluaXQ+IHtcbiAgICBpZiAoaHR0cE9wdGlvbnMgJiYgaHR0cE9wdGlvbnMudGltZW91dCAmJiBodHRwT3B0aW9ucy50aW1lb3V0ID4gMCkge1xuICAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgY29uc3Qgc2lnbmFsID0gYWJvcnRDb250cm9sbGVyLnNpZ25hbDtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gYWJvcnRDb250cm9sbGVyLmFib3J0KCksIGh0dHBPcHRpb25zLnRpbWVvdXQpO1xuICAgICAgcmVxdWVzdEluaXQuc2lnbmFsID0gc2lnbmFsO1xuICAgIH1cbiAgICByZXF1ZXN0SW5pdC5oZWFkZXJzID0gYXdhaXQgdGhpcy5nZXRIZWFkZXJzSW50ZXJuYWwoaHR0cE9wdGlvbnMpO1xuICAgIHJldHVybiByZXF1ZXN0SW5pdDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdW5hcnlBcGlDYWxsKFxuICAgIHVybDogVVJMLFxuICAgIHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCxcbiAgICBodHRwTWV0aG9kOiAnR0VUJyB8ICdQT1NUJyB8ICdQQVRDSCcgfCAnREVMRVRFJyxcbiAgKTogUHJvbWlzZTxIdHRwUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5hcGlDYWxsKHVybC50b1N0cmluZygpLCB7XG4gICAgICAuLi5yZXF1ZXN0SW5pdCxcbiAgICAgIG1ldGhvZDogaHR0cE1ldGhvZCxcbiAgICB9KVxuICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGF3YWl0IHRocm93RXJyb3JJZk5vdE9LKHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3RyZWFtQXBpQ2FsbChcbiAgICB1cmw6IFVSTCxcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICAgaHR0cE1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURScsXG4gICAgLy8gVE9ETzogYi80MDcwNTk0MzAgLSBSZXBsYWNlIHdpdGggSHR0cFJlc3BvbnNlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8YW55Pj4ge1xuICAgIHJldHVybiB0aGlzLmFwaUNhbGwodXJsLnRvU3RyaW5nKCksIHtcbiAgICAgIC4uLnJlcXVlc3RJbml0LFxuICAgICAgbWV0aG9kOiBodHRwTWV0aG9kLFxuICAgIH0pXG4gICAgICAudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgYXdhaXQgdGhyb3dFcnJvcklmTm90T0socmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU3RyZWFtUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jICpwcm9jZXNzU3RyZWFtUmVzcG9uc2UoXG4gICAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICAgIC8vIFRPRE86IGIvNDA3MDU5NDMwIC0gUmVwbGFjZSB3aXRoIEh0dHBSZXNwb25zZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICApOiBBc3luY0dlbmVyYXRvcjxhbnk+IHtcbiAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZT8uYm9keT8uZ2V0UmVhZGVyKCk7XG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcbiAgICBpZiAoIXJlYWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBib2R5IGlzIGVtcHR5Jyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBidWZmZXIgPSAnJztcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGlmIChidWZmZXIudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb21wbGV0ZSBKU09OIHNlZ21lbnQgYXQgdGhlIGVuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaHVua1N0cmluZyA9IGRlY29kZXIuZGVjb2RlKHZhbHVlKTtcbiAgICAgICAgYnVmZmVyICs9IGNodW5rU3RyaW5nO1xuICAgICAgICBsZXQgbWF0Y2ggPSBidWZmZXIubWF0Y2gocmVzcG9uc2VMaW5lUkUpO1xuICAgICAgICB3aGlsZSAobWF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBwcm9jZXNzZWRDaHVua1N0cmluZyA9IG1hdGNoWzFdO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaHVua0RhdGEgPSBKU09OLnBhcnNlKHByb2Nlc3NlZENodW5rU3RyaW5nKTtcbiAgICAgICAgICAgIHlpZWxkIGNodW5rRGF0YTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgbWF0Y2ggPSBidWZmZXIubWF0Y2gocmVzcG9uc2VMaW5lUkUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYGV4Y2VwdGlvbiBwYXJzaW5nIHN0cmVhbSBjaHVuayAke3Byb2Nlc3NlZENodW5rU3RyaW5nfS4gJHtlfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBhcGlDYWxsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCxcbiAgKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIHJlcXVlc3RJbml0KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBleGNlcHRpb24gJHtlfSBzZW5kaW5nIHJlcXVlc3RgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldERlZmF1bHRIZWFkZXJzKCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGNvbnN0IHZlcnNpb25IZWFkZXJWYWx1ZSA9XG4gICAgICBMSUJSQVJZX0xBQkVMICsgJyAnICsgdGhpcy5jbGllbnRPcHRpb25zLnVzZXJBZ2VudEV4dHJhO1xuXG4gICAgaGVhZGVyc1tVU0VSX0FHRU5UX0hFQURFUl0gPSB2ZXJzaW9uSGVhZGVyVmFsdWU7XG4gICAgaGVhZGVyc1tHT09HTEVfQVBJX0NMSUVOVF9IRUFERVJdID0gdmVyc2lvbkhlYWRlclZhbHVlO1xuICAgIGhlYWRlcnNbQ09OVEVOVF9UWVBFX0hFQURFUl0gPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0SGVhZGVyc0ludGVybmFsKFxuICAgIGh0dHBPcHRpb25zOiBIdHRwT3B0aW9ucyB8IHVuZGVmaW5lZCxcbiAgKTogUHJvbWlzZTxIZWFkZXJzPiB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgaWYgKGh0dHBPcHRpb25zICYmIGh0dHBPcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGh0dHBPcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gQXBwZW5kIGEgdGltZW91dCBoZWFkZXIgaWYgaXQgaXMgc2V0LCBub3RlIHRoYXQgdGhlIHRpbWVvdXQgb3B0aW9uIGlzXG4gICAgICAvLyBpbiBtaWxsaXNlY29uZHMgYnV0IHRoZSBoZWFkZXIgaXMgaW4gc2Vjb25kcy5cbiAgICAgIGlmIChodHRwT3B0aW9ucy50aW1lb3V0ICYmIGh0dHBPcHRpb25zLnRpbWVvdXQgPiAwKSB7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKFxuICAgICAgICAgIFNFUlZFUl9USU1FT1VUX0hFQURFUixcbiAgICAgICAgICBTdHJpbmcoTWF0aC5jZWlsKGh0dHBPcHRpb25zLnRpbWVvdXQgLyAxMDAwKSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuY2xpZW50T3B0aW9ucy5hdXRoLmFkZEF1dGhIZWFkZXJzKGhlYWRlcnMpO1xuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZHMgYSBmaWxlIGFzeW5jaHJvbm91c2x5IHVzaW5nIEdlbWluaSBBUEkgb25seSwgdGhpcyBpcyBub3Qgc3VwcG9ydGVkXG4gICAqIGluIFZlcnRleCBBSS5cbiAgICpcbiAgICogQHBhcmFtIGZpbGUgVGhlIHN0cmluZyBwYXRoIHRvIHRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkIG9yIGEgQmxvYiBvYmplY3QuXG4gICAqIEBwYXJhbSBjb25maWcgT3B0aW9uYWwgcGFyYW1ldGVycyBzcGVjaWZpZWQgaW4gdGhlIGBVcGxvYWRGaWxlQ29uZmlnYFxuICAgKiAgICAgaW50ZXJmYWNlLiBAc2VlIHtAbGluayBVcGxvYWRGaWxlQ29uZmlnfVxuICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgYEZpbGVgIG9iamVjdC5cbiAgICogQHRocm93cyBBbiBlcnJvciBpZiBjYWxsZWQgb24gYSBWZXJ0ZXggQUkgY2xpZW50LlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIHRoZSBgbWltZVR5cGVgIGlzIG5vdCBwcm92aWRlZCBhbmQgY2FuIG5vdCBiZSBpbmZlcnJlZCxcbiAgICovXG4gIGFzeW5jIHVwbG9hZEZpbGUoXG4gICAgZmlsZTogc3RyaW5nIHwgQmxvYixcbiAgICBjb25maWc/OiBVcGxvYWRGaWxlQ29uZmlnLFxuICApOiBQcm9taXNlPEZpbGU+IHtcbiAgICBjb25zdCBmaWxlVG9VcGxvYWQ6IEZpbGUgPSB7fTtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgIGZpbGVUb1VwbG9hZC5taW1lVHlwZSA9IGNvbmZpZy5taW1lVHlwZTtcbiAgICAgIGZpbGVUb1VwbG9hZC5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICBmaWxlVG9VcGxvYWQuZGlzcGxheU5hbWUgPSBjb25maWcuZGlzcGxheU5hbWU7XG4gICAgfVxuXG4gICAgaWYgKGZpbGVUb1VwbG9hZC5uYW1lICYmICFmaWxlVG9VcGxvYWQubmFtZS5zdGFydHNXaXRoKCdmaWxlcy8nKSkge1xuICAgICAgZmlsZVRvVXBsb2FkLm5hbWUgPSBgZmlsZXMvJHtmaWxlVG9VcGxvYWQubmFtZX1gO1xuICAgIH1cblxuICAgIGNvbnN0IHVwbG9hZGVyID0gdGhpcy5jbGllbnRPcHRpb25zLnVwbG9hZGVyO1xuICAgIGNvbnN0IGZpbGVTdGF0ID0gYXdhaXQgdXBsb2FkZXIuc3RhdChmaWxlKTtcbiAgICBmaWxlVG9VcGxvYWQuc2l6ZUJ5dGVzID0gU3RyaW5nKGZpbGVTdGF0LnNpemUpO1xuICAgIGNvbnN0IG1pbWVUeXBlID0gY29uZmlnPy5taW1lVHlwZSA/PyBmaWxlU3RhdC50eXBlO1xuICAgIGlmIChtaW1lVHlwZSA9PT0gdW5kZWZpbmVkIHx8IG1pbWVUeXBlID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2FuIG5vdCBkZXRlcm1pbmUgbWltZVR5cGUuIFBsZWFzZSBwcm92aWRlIG1pbWVUeXBlIGluIHRoZSBjb25maWcuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGZpbGVUb1VwbG9hZC5taW1lVHlwZSA9IG1pbWVUeXBlO1xuXG4gICAgY29uc3QgdXBsb2FkVXJsID0gYXdhaXQgdGhpcy5mZXRjaFVwbG9hZFVybChmaWxlVG9VcGxvYWQsIGNvbmZpZyk7XG4gICAgcmV0dXJuIHVwbG9hZGVyLnVwbG9hZChmaWxlLCB1cGxvYWRVcmwsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmZXRjaFVwbG9hZFVybChcbiAgICBmaWxlOiBGaWxlLFxuICAgIGNvbmZpZz86IFVwbG9hZEZpbGVDb25maWcsXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IGh0dHBPcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9O1xuICAgIGlmIChjb25maWc/Lmh0dHBPcHRpb25zKSB7XG4gICAgICBodHRwT3B0aW9ucyA9IGNvbmZpZy5odHRwT3B0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgaHR0cE9wdGlvbnMgPSB7XG4gICAgICAgIGFwaVZlcnNpb246ICcnLCAvLyBhcGktdmVyc2lvbiBpcyBzZXQgaW4gdGhlIHBhdGguXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUdvb2ctVXBsb2FkLVByb3RvY29sJzogJ3Jlc3VtYWJsZScsXG4gICAgICAgICAgJ1gtR29vZy1VcGxvYWQtQ29tbWFuZCc6ICdzdGFydCcsXG4gICAgICAgICAgJ1gtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtTGVuZ3RoJzogYCR7ZmlsZS5zaXplQnl0ZXN9YCxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlJzogYCR7ZmlsZS5taW1lVHlwZX1gLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5OiBSZWNvcmQ8c3RyaW5nLCBGaWxlPiA9IHtcbiAgICAgICdmaWxlJzogZmlsZSxcbiAgICB9O1xuICAgIGNvbnN0IGh0dHBSZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICBwYXRoOiBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAndXBsb2FkL3YxYmV0YS9maWxlcycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICksXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgIGh0dHBPcHRpb25zLFxuICAgIH0pO1xuXG4gICAgaWYgKCFodHRwUmVzcG9uc2UgfHwgIWh0dHBSZXNwb25zZT8uaGVhZGVycykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnU2VydmVyIGRpZCBub3QgcmV0dXJuIGFuIEh0dHBSZXNwb25zZSBvciB0aGUgcmV0dXJuZWQgSHR0cFJlc3BvbnNlIGRpZCBub3QgaGF2ZSBoZWFkZXJzLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHVwbG9hZFVybDogc3RyaW5nIHwgdW5kZWZpbmVkID1cbiAgICAgIGh0dHBSZXNwb25zZT8uaGVhZGVycz8uWyd4LWdvb2ctdXBsb2FkLXVybCddO1xuICAgIGlmICh1cGxvYWRVcmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnRmFpbGVkIHRvIGdldCB1cGxvYWQgdXJsLiBTZXJ2ZXIgZGlkIG5vdCByZXR1cm4gdGhlIHgtZ29vZ2xlLXVwbG9hZC11cmwgaW4gdGhlIGhlYWRlcnMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHVwbG9hZFVybDtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB0aHJvd0Vycm9ySWZOb3RPSyhyZXNwb25zZTogUmVzcG9uc2UgfCB1bmRlZmluZWQpIHtcbiAgaWYgKHJlc3BvbnNlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3IoJ3Jlc3BvbnNlIGlzIHVuZGVmaW5lZCcpO1xuICB9XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICBjb25zdCBzdGF0dXM6IG51bWJlciA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICBjb25zdCBzdGF0dXNUZXh0OiBzdHJpbmcgPSByZXNwb25zZS5zdGF0dXNUZXh0O1xuICAgIGxldCBlcnJvckJvZHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgIGVycm9yQm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JCb2R5ID0ge1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2U6ICdleGNlcHRpb24gcGFyc2luZyByZXNwb25zZScsXG4gICAgICAgICAgY29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBnb3Qgc3RhdHVzOiAke3N0YXR1c30gJHtzdGF0dXNUZXh0fS4gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgIGVycm9yQm9keSxcbiAgICApfWA7XG4gICAgaWYgKHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNTAwKSB7XG4gICAgICBjb25zdCBjbGllbnRFcnJvciA9IG5ldyBDbGllbnRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgdGhyb3cgY2xpZW50RXJyb3I7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPj0gNTAwICYmIHN0YXR1cyA8IDYwMCkge1xuICAgICAgY29uc3Qgc2VydmVyRXJyb3IgPSBuZXcgU2VydmVyRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRocm93IHNlcnZlckVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQge0ZpbGVTdGF0LCBVcGxvYWRlcn0gZnJvbSAnLi4vX3VwbG9hZGVyJztcbmltcG9ydCB7RmlsZSwgSHR0cFJlc3BvbnNlfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7Y3Jvc3NFcnJvcn0gZnJvbSAnLi9fY3Jvc3NfZXJyb3InO1xuXG5leHBvcnQgY29uc3QgTUFYX0NIVU5LX1NJWkUgPSAxMDI0ICogMTAyNCAqIDg7IC8vIGJ5dGVzXG5leHBvcnQgY2xhc3MgQ3Jvc3NVcGxvYWRlciBpbXBsZW1lbnRzIFVwbG9hZGVyIHtcbiAgYXN5bmMgdXBsb2FkKFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgdXBsb2FkVXJsOiBzdHJpbmcsXG4gICAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICk6IFByb21pc2U8RmlsZT4ge1xuICAgIGlmICh0eXBlb2YgZmlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IGNyb3NzRXJyb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVwbG9hZEJsb2IoZmlsZSwgdXBsb2FkVXJsLCBhcGlDbGllbnQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN0YXQoZmlsZTogc3RyaW5nIHwgQmxvYik6IFByb21pc2U8RmlsZVN0YXQ+IHtcbiAgICBpZiAodHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBjcm9zc0Vycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRCbG9iU3RhdChmaWxlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEJsb2IoXG4gIGZpbGU6IEJsb2IsXG4gIHVwbG9hZFVybDogc3RyaW5nLFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbik6IFByb21pc2U8RmlsZT4ge1xuICBsZXQgZmlsZVNpemUgPSAwO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgbGV0IHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UgPSBuZXcgSHR0cFJlc3BvbnNlKG5ldyBSZXNwb25zZSgpKTtcbiAgbGV0IHVwbG9hZENvbW1hbmQgPSAndXBsb2FkJztcbiAgZmlsZVNpemUgPSBmaWxlLnNpemU7XG4gIHdoaWxlIChvZmZzZXQgPCBmaWxlU2l6ZSkge1xuICAgIGNvbnN0IGNodW5rU2l6ZSA9IE1hdGgubWluKE1BWF9DSFVOS19TSVpFLCBmaWxlU2l6ZSAtIG9mZnNldCk7XG4gICAgY29uc3QgY2h1bmsgPSBmaWxlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY2h1bmtTaXplKTtcbiAgICBpZiAob2Zmc2V0ICsgY2h1bmtTaXplID49IGZpbGVTaXplKSB7XG4gICAgICB1cGxvYWRDb21tYW5kICs9ICcsIGZpbmFsaXplJztcbiAgICB9XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucmVxdWVzdCh7XG4gICAgICBwYXRoOiAnJyxcbiAgICAgIGJvZHk6IGNodW5rLFxuICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgaHR0cE9wdGlvbnM6IHtcbiAgICAgICAgYXBpVmVyc2lvbjogJycsXG4gICAgICAgIGJhc2VVcmw6IHVwbG9hZFVybCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUdvb2ctVXBsb2FkLUNvbW1hbmQnOiB1cGxvYWRDb21tYW5kLFxuICAgICAgICAgICdYLUdvb2ctVXBsb2FkLU9mZnNldCc6IFN0cmluZyhvZmZzZXQpLFxuICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6IFN0cmluZyhjaHVua1NpemUpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBvZmZzZXQgKz0gY2h1bmtTaXplO1xuICAgIC8vIFRoZSBgeC1nb29nLXVwbG9hZC1zdGF0dXNgIGhlYWRlciBmaWVsZCBjYW4gYmUgYGFjdGl2ZWAsIGBmaW5hbGAgYW5kXG4gICAgLy9gY2FuY2VsbGVkYCBpbiByZXNwb3NuZS5cbiAgICBpZiAocmVzcG9uc2U/LmhlYWRlcnM/LlsneC1nb29nLXVwbG9hZC1zdGF0dXMnXSAhPT0gJ2FjdGl2ZScpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBUT0RPKGIvNDAxMzkxNDMwKSBJbnZlc3RpZ2F0ZSB3aHkgdGhlIHVwbG9hZCBzdGF0dXMgaXMgbm90IGZpbmFsaXplZFxuICAgIC8vIGV2ZW4gdGhvdWdoIGFsbCBjb250ZW50IGhhcyBiZWVuIHVwbG9hZGVkLlxuICAgIGlmIChmaWxlU2l6ZSA8PSBvZmZzZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0FsbCBjb250ZW50IGhhcyBiZWVuIHVwbG9hZGVkLCBidXQgdGhlIHVwbG9hZCBzdGF0dXMgaXMgbm90IGZpbmFsaXplZC4nLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzcG9uc2VKc29uID0gKGF3YWl0IHJlc3BvbnNlPy5qc29uKCkpIGFzIFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgRmlsZSB8IHVua25vd25cbiAgPjtcbiAgaWYgKHJlc3BvbnNlPy5oZWFkZXJzPy5bJ3gtZ29vZy11cGxvYWQtc3RhdHVzJ10gIT09ICdmaW5hbCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgZmlsZTogVXBsb2FkIHN0YXR1cyBpcyBub3QgZmluYWxpemVkLicpO1xuICB9XG4gIHJldHVybiByZXNwb25zZUpzb25bJ2ZpbGUnXSBhcyBGaWxlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QmxvYlN0YXQoZmlsZTogQmxvYik6IFByb21pc2U8RmlsZVN0YXQ+IHtcbiAgY29uc3QgZmlsZVN0YXQ6IEZpbGVTdGF0ID0ge3NpemU6IGZpbGUuc2l6ZSwgdHlwZTogZmlsZS50eXBlfTtcbiAgcmV0dXJuIGZpbGVTdGF0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQge0ZpbGVTdGF0LCBVcGxvYWRlcn0gZnJvbSAnLi4vX3VwbG9hZGVyJztcbmltcG9ydCB7Z2V0QmxvYlN0YXQsIHVwbG9hZEJsb2J9IGZyb20gJy4uL2Nyb3NzL19jcm9zc191cGxvYWRlcic7XG5pbXBvcnQge0ZpbGV9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJVcGxvYWRlciBpbXBsZW1lbnRzIFVwbG9hZGVyIHtcbiAgYXN5bmMgdXBsb2FkKFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgdXBsb2FkVXJsOiBzdHJpbmcsXG4gICAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICk6IFByb21pc2U8RmlsZT4ge1xuICAgIGlmICh0eXBlb2YgZmlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBwYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB1cGxvYWRlci4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgdXBsb2FkQmxvYihmaWxlLCB1cGxvYWRVcmwsIGFwaUNsaWVudCk7XG4gIH1cblxuICBhc3luYyBzdGF0KGZpbGU6IHN0cmluZyB8IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIHBhdGggaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHVwbG9hZGVyLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgZ2V0QmxvYlN0YXQoZmlsZSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBXZWJTb2NrZXRDYWxsYmFja3MsXG4gIFdlYlNvY2tldEZhY3RvcnksXG4gIFdlYlNvY2tldCBhcyBXcyxcbn0gZnJvbSAnLi4vX3dlYnNvY2tldCc7XG5cbi8vIFRPRE8oKGIvNDAxMjcxMDgyKTogcmUtZW5hYmxlIGxpbnQgb25jZSBCcm93c2VyV2ViU29ja2V0RmFjdG9yeSBpc1xuLy8gaW1wbGVtZW50ZWQuXG4vKiAgZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG5leHBvcnQgY2xhc3MgQnJvd3NlcldlYlNvY2tldEZhY3RvcnkgaW1wbGVtZW50cyBXZWJTb2NrZXRGYWN0b3J5IHtcbiAgY3JlYXRlKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgY2FsbGJhY2tzOiBXZWJTb2NrZXRDYWxsYmFja3MsXG4gICk6IFdzIHtcbiAgICByZXR1cm4gbmV3IEJyb3dzZXJXZWJTb2NrZXQodXJsLCBoZWFkZXJzLCBjYWxsYmFja3MpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyV2ViU29ja2V0IGltcGxlbWVudHMgV3Mge1xuICBwcml2YXRlIHdzPzogV2ViU29ja2V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdXJsOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2FsbGJhY2tzOiBXZWJTb2NrZXRDYWxsYmFja3MsXG4gICkge31cblxuICBjb25uZWN0KCk6IHZvaWQge1xuICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMudXJsKTtcblxuICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5jYWxsYmFja3Mub25vcGVuO1xuICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMuY2FsbGJhY2tzLm9uZXJyb3I7XG4gICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy5jYWxsYmFja3Mub25jbG9zZTtcbiAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMuY2FsbGJhY2tzLm9ubWVzc2FnZTtcbiAgfVxuXG4gIHNlbmQobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMud3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZCcpO1xuICAgIH1cblxuICAgIHRoaXMud3Muc2VuZChtZXNzYWdlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGlmICh0aGlzLndzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLndzLmNsb3NlKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7QXV0aH0gZnJvbSAnLi4vX2F1dGgnO1xuXG5leHBvcnQgY29uc3QgR09PR0xFX0FQSV9LRVlfSEVBREVSID0gJ3gtZ29vZy1hcGkta2V5Jztcbi8vIFRPRE8oYi8zOTUxMjI1MzMpOiBXZSBuZWVkIGEgc2VjdXJlIGNsaWVudCBzaWRlIGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbS5cbmV4cG9ydCBjbGFzcyBXZWJBdXRoIGltcGxlbWVudHMgQXV0aCB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBpS2V5OiBzdHJpbmcpIHt9XG5cbiAgYXN5bmMgYWRkQXV0aEhlYWRlcnMoaGVhZGVyczogSGVhZGVycyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChoZWFkZXJzLmdldChHT09HTEVfQVBJX0tFWV9IRUFERVIpICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhlYWRlcnMuYXBwZW5kKEdPT0dMRV9BUElfS0VZX0hFQURFUiwgdGhpcy5hcGlLZXkpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0IHtDYWNoZXN9IGZyb20gJy4uL2NhY2hlcyc7XG5pbXBvcnQge0NoYXRzfSBmcm9tICcuLi9jaGF0cyc7XG5pbXBvcnQge0dvb2dsZUdlbkFJT3B0aW9uc30gZnJvbSAnLi4vY2xpZW50JztcbmltcG9ydCB7RmlsZXN9IGZyb20gJy4uL2ZpbGVzJztcbmltcG9ydCB7TGl2ZX0gZnJvbSAnLi4vbGl2ZSc7XG5pbXBvcnQge01vZGVsc30gZnJvbSAnLi4vbW9kZWxzJztcbmltcG9ydCB7T3BlcmF0aW9uc30gZnJvbSAnLi4vb3BlcmF0aW9ucyc7XG5cbmltcG9ydCB7QnJvd3NlclVwbG9hZGVyfSBmcm9tICcuL19icm93c2VyX3VwbG9hZGVyJztcbmltcG9ydCB7QnJvd3NlcldlYlNvY2tldEZhY3Rvcnl9IGZyb20gJy4vX2Jyb3dzZXJfd2Vic29ja2V0JztcbmltcG9ydCB7V2ViQXV0aH0gZnJvbSAnLi9fd2ViX2F1dGgnO1xuXG5jb25zdCBMQU5HVUFHRV9MQUJFTF9QUkVGSVggPSAnZ2wtbm9kZS8nO1xuXG4vKipcbiAqIFRoZSBHb29nbGUgR2VuQUkgU0RLLlxuICpcbiAqIEByZW1hcmtzXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIEdlbkFJIGZlYXR1cmVzIHRocm91Z2ggZWl0aGVyIHRoZSB7QGxpbmtcbiAqIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9yZWZlcmVuY2UvcmVzdCB8IEdlbWluaSBBUEl9IG9yXG4gKiB0aGUge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9yZWZlcmVuY2UvcmVzdCB8IFZlcnRleCBBSVxuICogQVBJfS5cbiAqXG4gKiBUaGUge0BsaW5rIEdvb2dsZUdlbkFJT3B0aW9ucy52ZXJ0ZXhhaX0gdmFsdWUgZGV0ZXJtaW5lcyB3aGljaCBvZiB0aGUgQVBJXG4gKiBzZXJ2aWNlcyB0byB1c2UuXG4gKlxuICogV2hlbiB1c2luZyB0aGUgR2VtaW5pIEFQSSwgYSB7QGxpbmsgR29vZ2xlR2VuQUlPcHRpb25zLmFwaUtleX0gbXVzdCBhbHNvIGJlXG4gKiBzZXQuIFdoZW4gdXNpbmcgVmVydGV4IEFJLCBjdXJyZW50bHkgb25seSB7QGxpbmsgR29vZ2xlR2VuQUlPcHRpb25zLmFwaUtleX1cbiAqIGlzIHN1cHBvcnRlZCB2aWEgRXhwcmVzcyBtb2RlLiB7QGxpbmsgR29vZ2xlR2VuQUlPcHRpb25zLnByb2plY3R9IGFuZCB7QGxpbmtcbiAqIEdvb2dsZUdlbkFJT3B0aW9ucy5sb2NhdGlvbn0gc2hvdWxkIG5vdCBiZSBzZXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIEluaXRpYWxpemluZyB0aGUgU0RLIGZvciB1c2luZyB0aGUgR2VtaW5pIEFQSTpcbiAqIGBgYHRzXG4gKiBpbXBvcnQge0dvb2dsZUdlbkFJfSBmcm9tICdAZ29vZ2xlL2dlbmFpJztcbiAqIGNvbnN0IGFpID0gbmV3IEdvb2dsZUdlbkFJKHthcGlLZXk6ICdHRU1JTklfQVBJX0tFWSd9KTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBJbml0aWFsaXppbmcgdGhlIFNESyBmb3IgdXNpbmcgdGhlIFZlcnRleCBBSSBBUEk6XG4gKiBgYGB0c1xuICogaW1wb3J0IHtHb29nbGVHZW5BSX0gZnJvbSAnQGdvb2dsZS9nZW5haSc7XG4gKiBjb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7XG4gKiAgIHZlcnRleGFpOiB0cnVlLFxuICogICBwcm9qZWN0OiAnUFJPSkVDVF9JRCcsXG4gKiAgIGxvY2F0aW9uOiAnUFJPSkVDVF9MT0NBVElPTidcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG5leHBvcnQgY2xhc3MgR29vZ2xlR2VuQUkge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXBpS2V5Pzogc3RyaW5nO1xuICBwdWJsaWMgcmVhZG9ubHkgdmVydGV4YWk6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgYXBpVmVyc2lvbj86IHN0cmluZztcbiAgcmVhZG9ubHkgbW9kZWxzOiBNb2RlbHM7XG4gIHJlYWRvbmx5IGxpdmU6IExpdmU7XG4gIHJlYWRvbmx5IGNoYXRzOiBDaGF0cztcbiAgcmVhZG9ubHkgY2FjaGVzOiBDYWNoZXM7XG4gIHJlYWRvbmx5IGZpbGVzOiBGaWxlcztcbiAgcmVhZG9ubHkgb3BlcmF0aW9uczogT3BlcmF0aW9ucztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHb29nbGVHZW5BSU9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5hcGlLZXkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBBUEkgS2V5IG11c3QgYmUgc2V0IHdoZW4gcnVubmluZyBpbiBhIGJyb3dzZXInKTtcbiAgICB9XG4gICAgLy8gV2ViIGNsaWVudCBvbmx5IHN1cHBvcnRzIEFQSSBrZXkgbW9kZSBmb3IgVmVydGV4IEFJLlxuICAgIGlmIChvcHRpb25zLnByb2plY3QgfHwgb3B0aW9ucy5sb2NhdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVmVydGV4IEFJIHByb2plY3QgYmFzZWQgYXV0aGVudGljYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBicm93c2VyIHJ1bnRpbWVzLiBQbGVhc2UgZG8gbm90IHByb3ZpZGUgYSBwcm9qZWN0IG9yIGxvY2F0aW9uLicsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnZlcnRleGFpID0gb3B0aW9ucy52ZXJ0ZXhhaSA/PyBmYWxzZTtcblxuICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgdGhpcy5hcGlWZXJzaW9uID0gb3B0aW9ucy5hcGlWZXJzaW9uO1xuICAgIGNvbnN0IGF1dGggPSBuZXcgV2ViQXV0aCh0aGlzLmFwaUtleSk7XG4gICAgdGhpcy5hcGlDbGllbnQgPSBuZXcgQXBpQ2xpZW50KHtcbiAgICAgIGF1dGg6IGF1dGgsXG4gICAgICBhcGlWZXJzaW9uOiB0aGlzLmFwaVZlcnNpb24sXG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgdmVydGV4YWk6IHRoaXMudmVydGV4YWksXG4gICAgICBodHRwT3B0aW9uczogb3B0aW9ucy5odHRwT3B0aW9ucyxcbiAgICAgIHVzZXJBZ2VudEV4dHJhOiBMQU5HVUFHRV9MQUJFTF9QUkVGSVggKyAnd2ViJyxcbiAgICAgIHVwbG9hZGVyOiBuZXcgQnJvd3NlclVwbG9hZGVyKCksXG4gICAgfSk7XG4gICAgdGhpcy5tb2RlbHMgPSBuZXcgTW9kZWxzKHRoaXMuYXBpQ2xpZW50KTtcbiAgICB0aGlzLmxpdmUgPSBuZXcgTGl2ZSh0aGlzLmFwaUNsaWVudCwgYXV0aCwgbmV3IEJyb3dzZXJXZWJTb2NrZXRGYWN0b3J5KCkpO1xuICAgIHRoaXMuY2hhdHMgPSBuZXcgQ2hhdHModGhpcy5tb2RlbHMsIHRoaXMuYXBpQ2xpZW50KTtcbiAgICB0aGlzLmNhY2hlcyA9IG5ldyBDYWNoZXModGhpcy5hcGlDbGllbnQpO1xuICAgIHRoaXMuZmlsZXMgPSBuZXcgRmlsZXModGhpcy5hcGlDbGllbnQpO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IG5ldyBPcGVyYXRpb25zKHRoaXMuYXBpQ2xpZW50KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IE1vZGFsLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgY2xhc3MgQXVkaW9SZWNvcmRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIG1lZGlhUmVjb3JkZXI6IE1lZGlhUmVjb3JkZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGNodW5rczogQmxvYlBhcnRbXSA9IFtdO1xuICAgIHByaXZhdGUgcmVzb2x2ZTogKHZhbHVlOiBCbG9iIHwgUHJvbWlzZUxpa2U8QmxvYj4pID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBoYW5kbGVBdWRpb1JlY29yZGluZzogKGF1ZGlvRmlsZTogQmxvYiB8IG51bGwsIHRyYW5zY3JpYmU6IGJvb2xlYW4sIGtlZXBBdWRpbzogYm9vbGVhbiwgaW5jbHVkZUF1ZGlvRmlsZUxpbms6IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc1JlY29yZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgdGltZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgaW50ZXJ2YWxJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBlbGFwc2VkVGltZTogbnVtYmVyID0gMDsgLy8gVG8ga2VlcCB0cmFjayBvZiB0aGUgZWxhcHNlZCB0aW1lXG4gICAgcHJpdmF0ZSByZWREb3Q6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgaXNSZXNldHRpbmc6IGJvb2xlYW4gPSBmYWxzZTsgLy8gRmxhZyB0byB0cmFjayByZXNldCBzdGF0ZVxuICAgIHByaXZhdGUga2VlcEF1ZGlvQ2hlY2tib3g6IEhUTUxFbGVtZW50OyAvLyBBZGQgYSBwcm9wZXJ0eSBmb3IgdGhlIGNoZWNrYm94XG4gICAgcHJpdmF0ZSBpbmNsdWRlQXVkaW9GaWxlTGlua0NoZWNrYm94OiBIVE1MRWxlbWVudDsgLy8gQWRkIGEgcHJvcGVydHkgZm9yIHRoZSBjaGVja2JveFxuICAgIHByaXZhdGUgc2V0dGluZ3M6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogYW55LCBoYW5kbGVBdWRpb1JlY29yZGluZzogKGF1ZGlvRmlsZTogQmxvYiB8IG51bGwsIHRyYW5zY3JpYmU6IGJvb2xlYW4sIGtlZXBBdWRpbzogYm9vbGVhbiwgaW5jbHVkZUF1ZGlvRmlsZUxpbms6IGJvb2xlYW4pID0+IHZvaWQsIHNldHRpbmdzOiBhbnkpIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5oYW5kbGVBdWRpb1JlY29yZGluZyA9IGhhbmRsZUF1ZGlvUmVjb3JkaW5nO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7IC8vIEluaXRpYWxpemUgc2V0dGluZ3NcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsLCBtb2RhbEVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghY29udGVudEVsIHx8ICFtb2RhbEVsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdjb250ZW50RWwgb3IgbW9kYWxFbCBpcyBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBpbml0aWFsIHJlY29yZGluZyBzdGF0ZVxuICAgICAgICBtb2RhbEVsLmFkZENsYXNzKCdzbWFydC1tZW1vLXJlY29yZGluZycpO1xuXG4gICAgICAgIC8vIEhlYWRlciBhbmQgdGltZXIgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGhlYWRlclRpbWVyQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NtYXJ0LW1lbW8taGVhZGVyLXRpbWVyLWNvbnRhaW5lcicgfSk7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlclRpbWVyQ29udGFpbmVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1JlY29yZGluZy4uLicsIGNsczogJ3NtYXJ0LW1lbW8tcmVjb3JkaW5nLWhlYWRlcicgfSk7XG4gICAgICAgIHRoaXMudGltZXIgPSBoZWFkZXJUaW1lckNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzbWFydC1tZW1vLXRpbWVyJywgdGV4dDogJzAwOjAwJyB9KTtcblxuICAgICAgICAvLyBBZGQgc3BlY2lmaWMgY2xhc3MgdG8gbW9kYWwtY29udGVudFxuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ3NtYXJ0LW1lbW8tYXVkaW8tcmVjb3JkLW1vZGFsLWNvbnRlbnQnKTtcblxuICAgICAgICAvLyBSZWQgZG90IGFuaW1hdGlvbiBjb250YWluZXJcbiAgICAgICAgY29uc3QgcmVkRG90Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NtYXJ0LW1lbW8tcmVkLWRvdC1jb250YWluZXInIH0pO1xuICAgICAgICB0aGlzLnJlZERvdCA9IHJlZERvdENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLXJlZC1kb3QnIH0pO1xuXG4gICAgICAgIC8vIENvbnRyb2wgYnV0dG9ucyBncm91cFxuICAgICAgICBjb25zdCBjb250cm9sR3JvdXBXcmFwcGVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NtYXJ0LW1lbW8tY29udHJvbC1ncm91cC13cmFwcGVyJyB9KTtcbiAgICAgICAgY29uc3QgY29udHJvbEdyb3VwID0gY29udHJvbEdyb3VwV3JhcHBlci5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLW1vZGFsLWJ1dHRvbi1ncm91cCcgfSk7XG4gICAgICAgIGNvbnN0IHBsYXlQYXVzZUJ1dHRvbiA9IGNvbnRyb2xHcm91cC5jcmVhdGVFbCgnYnV0dG9uJywgeyBjbHM6ICdzbWFydC1tZW1vLW1vZGFsLWJ1dHRvbiBzbWFydC1tZW1vLWZsZXgnIH0pO1xuICAgICAgICBjb25zdCBzdG9wQnV0dG9uID0gY29udHJvbEdyb3VwLmNyZWF0ZUVsKCdidXR0b24nLCB7IGNsczogJ3NtYXJ0LW1lbW8tbW9kYWwtYnV0dG9uIHNtYXJ0LW1lbW8tZmxleCcgfSk7XG5cbiAgICAgICAgc2V0SWNvbihwbGF5UGF1c2VCdXR0b24sICdwYXVzZScpOyAvLyBJbml0aWFsbHkgc2V0IHRvIHBhdXNlXG4gICAgICAgIHNldEljb24oc3RvcEJ1dHRvbiwgJ3NxdWFyZScpOyAvLyBTdG9wIGljb25cblxuICAgICAgICBzdG9wQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9GaWxlID0gYXdhaXQgdGhpcy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUF1ZGlvUmVjb3JkaW5nKGF1ZGlvRmlsZSwgZmFsc2UsICh0aGlzLmtlZXBBdWRpb0NoZWNrYm94IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQsICh0aGlzLmluY2x1ZGVBdWRpb0ZpbGVMaW5rQ2hlY2tib3ggYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXlQYXVzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVjb3JkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIHNldEljb24ocGxheVBhdXNlQnV0dG9uLCAnY2lyY2xlJyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gJ1BhdXNlZCc7XG4gICAgICAgICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcygnc21hcnQtbWVtby1wYXVzZWQnKTtcbiAgICAgICAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKCdzbWFydC1tZW1vLXJlY29yZGluZycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtZU9yU3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZXRJY29uKHBsYXlQYXVzZUJ1dHRvbiwgJ3BhdXNlJyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gJ1JlY29yZGluZy4uLic7XG4gICAgICAgICAgICAgICAgbW9kYWxFbC5yZW1vdmVDbGFzcygnc21hcnQtbWVtby1wYXVzZWQnKTtcbiAgICAgICAgICAgICAgICBtb2RhbEVsLmFkZENsYXNzKCdzbWFydC1tZW1vLXJlY29yZGluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc1JlY29yZGluZyA9ICF0aGlzLmlzUmVjb3JkaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0cmFuc2NyaWJlQnV0dG9uID0gY29udHJvbEdyb3VwV3JhcHBlci5jcmVhdGVFbCgnYnV0dG9uJywgeyBjbHM6ICdzbWFydC1tZW1vLW1vZGFsLWJ1dHRvbiBzbWFydC1tZW1vLWZ1bGwtd2lkdGgtYnV0dG9uIHNtYXJ0LW1lbW8tdHJhbnNjcmliZS1idXR0b24nIH0pO1xuXG4gICAgICAgIHRyYW5zY3JpYmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0ZpbGUgPSBhd2FpdCB0aGlzLnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQXVkaW9SZWNvcmRpbmcoYXVkaW9GaWxlLCB0cnVlLCAodGhpcy5rZWVwQXVkaW9DaGVja2JveCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkLCAodGhpcy5pbmNsdWRlQXVkaW9GaWxlTGlua0NoZWNrYm94IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRJY29uKHRyYW5zY3JpYmVCdXR0b24sICdib29rLWF1ZGlvJyk7IC8vIEluaXRpYWxseSBzZXQgdG8gYnVsYlxuXG4gICAgICAgIC8vIEFwcGVuZCB0ZXh0IHRvIHRoZSBidXR0b25cbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgVHJhbnNjcmliZScpO1xuICAgICAgICB0cmFuc2NyaWJlQnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvblRleHQpO1xuXG4gICAgICAgIC8vIEFkZCBtYXJnaW4tcmlnaHQgdG8gdGhlIFNWRyBlbGVtZW50XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSB0cmFuc2NyaWJlQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xuICAgICAgICBpZiAoc3ZnRWxlbWVudCkge1xuICAgICAgICAgICAgc3ZnRWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9ICcxMHB4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IGNsczogJ3NtYXJ0LW1lbW8tbW9kYWwtYnV0dG9uIHNtYXJ0LW1lbW8tZnVsbC13aWR0aC1idXR0b24gc21hcnQtbWVtby1yZXNldC1idXR0b24nLCB0ZXh0OiAnUmVzdGFydCcgfSk7XG4gICAgICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYXJkUmVzZXQoKTtcbiAgICAgICAgICAgIHNldEljb24ocGxheVBhdXNlQnV0dG9uLCAnY2lyY2xlJyk7XG4gICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSAnUmVhZHkgdG8gUmVjb3JkJztcbiAgICAgICAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoJ3NtYXJ0LW1lbW8tcGF1c2VkJyk7XG4gICAgICAgICAgICBtb2RhbEVsLnJlbW92ZUNsYXNzKCdzbWFydC1tZW1vLXJlY29yZGluZycpO1xuICAgICAgICAgICAgLy8gRW5zdXJlIHJlZCBkb3Qgc3RvcHMgcHVsc2luZ1xuICAgICAgICAgICAgdGhpcy5yZWREb3QuY2xhc3NMaXN0LnJlbW92ZSgnc21hcnQtbWVtby1wdWxzZS1hbmltYXRpb24nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCB0aGUgY2hlY2tib3hcbiAgICAgICAgY29uc3Qga2VlcEF1ZGlvQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NtYXJ0LW1lbW8ta2VlcC1hdWRpby1jb250YWluZXInIH0pO1xuICAgICAgICB0aGlzLmtlZXBBdWRpb0NoZWNrYm94ID0ga2VlcEF1ZGlvQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JywgY2xzOiAnc21hcnQtbWVtby1rZWVwLWF1ZGlvLWNoZWNrYm94JyB9KTtcbiAgICAgICAgKHRoaXMua2VlcEF1ZGlvQ2hlY2tib3ggYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IHRoaXMuc2V0dGluZ3Mua2VlcEF1ZGlvIC8vIFNldCBjaGVja2VkIGJhc2VkIG9uIHNldHRpbmdzO1xuICAgICAgICBjb25zdCBrZWVwQXVkaW9MYWJlbCA9IGtlZXBBdWRpb0NvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdLZWVwIEF1ZGlvIEZpbGUnLCBjbHM6ICdzbWFydC1tZW1vLWtlZXAtYXVkaW8tbGFiZWwnIH0pO1xuICAgICAgICBrZWVwQXVkaW9MYWJlbC5odG1sRm9yID0gdGhpcy5rZWVwQXVkaW9DaGVja2JveC5pZDtcblxuICAgICAgICAvLyBBZGQgdGhlIGNoZWNrYm94IGZvciBpbmNsdWRpbmcgYXVkaW8gZmlsZSBsaW5rXG4gICAgICAgIGNvbnN0IGluY2x1ZGVBdWRpb0ZpbGVMaW5rQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NtYXJ0LW1lbW8taW5jbHVkZS1hdWRpby1maWxlLWxpbmstY29udGFpbmVyJyB9KTtcbiAgICAgICAgdGhpcy5pbmNsdWRlQXVkaW9GaWxlTGlua0NoZWNrYm94ID0gaW5jbHVkZUF1ZGlvRmlsZUxpbmtDb250YWluZXIuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnLCBjbHM6ICdzbWFydC1tZW1vLWluY2x1ZGUtYXVkaW8tZmlsZS1saW5rLWNoZWNrYm94JyB9KTtcbiAgICAgICAgKHRoaXMuaW5jbHVkZUF1ZGlvRmlsZUxpbmtDaGVja2JveCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gdGhpcy5zZXR0aW5ncy5pbmNsdWRlQXVkaW9GaWxlTGluazsgLy8gU2V0IGNoZWNrZWQgYmFzZWQgb24gc2V0dGluZ3NcbiAgICAgICAgY29uc3QgaW5jbHVkZUF1ZGlvRmlsZUxpbmtMYWJlbCA9IGluY2x1ZGVBdWRpb0ZpbGVMaW5rQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ0luY2x1ZGUgQXVkaW8gRmlsZSBMaW5rJywgY2xzOiAnc21hcnQtbWVtby1pbmNsdWRlLWF1ZGlvLWZpbGUtbGluay1sYWJlbCcgfSk7XG4gICAgICAgIGluY2x1ZGVBdWRpb0ZpbGVMaW5rTGFiZWwuaHRtbEZvciA9IHRoaXMuaW5jbHVkZUF1ZGlvRmlsZUxpbmtDaGVja2JveC5pZDtcblxuICAgICAgICAvLyBTdGFydCByZWNvcmRpbmcgaW1tZWRpYXRlbHkgdXBvbiBvcGVuaW5nIHRoZSBtb2RhbFxuICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZERvdC5jbGFzc0xpc3QuYWRkKCdzbWFydC1tZW1vLXB1bHNlLWFuaW1hdGlvbicpO1xuXG4gICAgICAgIC8vIEJsdXIgYW55IGZvY3VzZWQgZWxlbWVudFxuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRSZWNvcmRpbmcoKSB7XG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSlcbiAgICAgICAgICAgIC50aGVuKHN0cmVhbSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwTWVkaWFSZWNvcmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdGFydCgxMDAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFhdmFpbGFibGUnLCB0aGlzLm9uRGF0YUF2YWlsYWJsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyBtaWNyb3Bob25lOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXR1cE1lZGlhUmVjb3JkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdzdG9wJywgdGhpcy5vblN0b3AuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRhdGFBdmFpbGFibGUoZXZlbnQ6IEJsb2JFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc1Jlc2V0dGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2goZXZlbnQuZGF0YSk7XG4gICAgfVxuXG4gICAgb25TdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5pc1Jlc2V0dGluZykge1xuICAgICAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IGZhbHNlOyAvLyBSZXNldCB0aGUgZmxhZyBhZnRlciByZXNldFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYih0aGlzLmNodW5rcywgeyB0eXBlOiAnYXVkaW8vd2F2JyB9KTtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKGJsb2IpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVzb2x2ZSBmdW5jdGlvbiBpcyBub3QgZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2VSZWNvcmRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhUmVjb3JkZXIgJiYgdGhpcy5tZWRpYVJlY29yZGVyLnN0YXRlID09PSAncmVjb3JkaW5nJykge1xuICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgICAgICAgdGhpcy5lbGFwc2VkVGltZSArPSBEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWU7IC8vIEFjY3VtdWxhdGUgZWxhcHNlZCB0aW1lXG5cbiAgICAgICAgICAgIC8vIEVuc3VyZSByZWQgZG90IHN0b3BzIHB1bHNpbmdcbiAgICAgICAgICAgIHRoaXMucmVkRG90LmNsYXNzTGlzdC5yZW1vdmUoJ3NtYXJ0LW1lbW8tcHVsc2UtYW5pbWF0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWVPclN0YXJ0UmVjb3JkaW5nKCkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyICYmIHRoaXMubWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5yZXN1bWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIFJlc2V0IHN0YXJ0IHRpbWUgdG8gbm93XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xuXG4gICAgICAgIC8vIEVuc3VyZSByZWQgZG90IHN0YXJ0cyBwdWxzaW5nXG4gICAgICAgIHRoaXMucmVkRG90LmNsYXNzTGlzdC5hZGQoJ3NtYXJ0LW1lbW8tcHVsc2UtYW5pbWF0aW9uJyk7XG4gICAgfVxuXG4gICAgaGFyZFJlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uc3RvcCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1Jlc2V0dGluZyA9IHRydWU7IC8vIFNldCB0aGUgcmVzZXQgZmxhZ1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdOyAvLyBDbGVhciB0aGUgY2h1bmtzXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwOyAvLyBSZXNldCBlbGFwc2VkIHRpbWVcbiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgICAgdGhpcy50aW1lci50ZXh0Q29udGVudCA9ICcwMDowMCc7XG4gICAgICAgIC8vIEVuc3VyZSByZWQgZG90IHN0b3BzIHB1bHNpbmdcbiAgICAgICAgdGhpcy5yZWREb3QuY2xhc3NMaXN0LnJlbW92ZSgnc21hcnQtbWVtby1wdWxzZS1hbmltYXRpb24nKTsgLy8gRW5zdXJlIGl0J3MgcmVtb3ZlZCBvbiByZXNldFxuICAgIH1cblxuICAgIHN0b3BSZWNvcmRpbmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxCbG9iIHwgbnVsbD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdzdG9wJywgdGhpcy5vblN0b3AuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGFydFRpbWVyKCkge1xuICAgICAgICB0aGlzLnN0b3BUaW1lcigpOyAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZXJcbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lSW5TZWNvbmRzID0gTWF0aC5mbG9vcih0aGlzLmVsYXBzZWRUaW1lIC8gMTAwMCkgKyBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihlbGFwc2VkVGltZUluU2Vjb25kcyAvIDYwKTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBlbGFwc2VkVGltZUluU2Vjb25kcyAlIDYwO1xuICAgICAgICAgICAgdGhpcy50aW1lci50ZXh0Q29udGVudCA9IGAke3RoaXMucGFkTnVtYmVyKG1pbnV0ZXMpfToke3RoaXMucGFkTnVtYmVyKHNlY29uZHMpfWA7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIHN0b3BUaW1lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYWROdW1iZXIobnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB9XG5cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPEJsb2I+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFwcCwgVEZpbGUsIFRGb2xkZXIsIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRmlsZShhcHA6IEFwcCwgYXVkaW9CbG9iOiBCbG9iLCBmaWxlTmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpOiBQcm9taXNlPFRGaWxlPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGAke25vcm1hbGl6ZWRQYXRofS8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgYXdhaXQgZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGFwcCwgbm9ybWFsaXplZFBhdGgpO1xuXG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYXVkaW9CbG9iLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IGFwcC52YXVsdC5jcmVhdGVCaW5hcnkoZmlsZVBhdGgsIHVpbnQ4QXJyYXkpO1xuICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBjcmVhdGlvbiBmYWlsZWQgYW5kIHJldHVybmVkIG51bGwnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYXVkaW8gZmlsZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlRGlyZWN0b3J5RXhpc3RzKGFwcDogQXBwLCBmb2xkZXJQYXRoOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwYXJ0cyA9IGZvbGRlclBhdGguc3BsaXQoJy8nKTtcbiAgICBsZXQgY3VycmVudFBhdGggPSAnJztcblxuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICBjdXJyZW50UGF0aCA9IGN1cnJlbnRQYXRoID8gYCR7Y3VycmVudFBhdGh9LyR7cGFydH1gIDogcGFydDtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmb2xkZXIgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm9sZGVyIGFscmVhZHkgZXhpc3RzOiAke2N1cnJlbnRQYXRofWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y3VycmVudFBhdGh9IGlzIG5vdCBhIGZvbGRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0ZvbGRlciBhbHJlYWR5IGV4aXN0cycpKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9sZGVyIGFscmVhZHkgZXhpc3RzLCBjb250aW51ZSB0byB0aGUgbmV4dCBwYXJ0XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEhhbmRsZWQgZXhpc3RpbmcgZm9sZGVyOiAke2N1cnJlbnRQYXRofWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBlbnN1cmluZyBkaXJlY3RvcnkgZXhpc3RzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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Y0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBRUQsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEseUJBQXlCLEVBQ2pDLFFBQVEsOENBQThDLEVBQ3REO0FBQUEsTUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLG9CQUFvQixFQUNsRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyx1QkFBdUI7QUFDNUMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBRUQsUUFBSSx5QkFBUSxXQUFXLEVBQ3RCLFFBQVEsK0JBQStCLEVBQ3ZDLFFBQVEscUZBQXFGLEVBQzdGLFlBQVksY0FBWTtBQUN4QixlQUFTLFVBQVUsVUFBVSxRQUFRO0FBQ3JDLGVBQVMsVUFBVSxXQUFXLFVBQVU7QUFDeEMsZUFBUyxTQUFTLEtBQUssT0FBTyxTQUFTLHdCQUF3QjtBQUMvRCxlQUFTLFNBQVMsT0FBTyxVQUFnQztBQUN4RCxhQUFLLE9BQU8sU0FBUywyQkFBMkI7QUFDaEQsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGLENBQUM7QUFFRCxRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSx5QkFBeUIsRUFDakMsUUFBUSxxR0FBcUcsRUFDN0c7QUFBQSxNQUFRLFVBQ1IsS0FDRSxlQUFlLDhCQUE4QixFQUM3QyxTQUFTLEtBQUssT0FBTyxTQUFTLGdCQUFnQixFQUM5QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixhQUFLLE9BQU8sU0FBUyxtQkFBbUI7QUFDeEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFFRjtBQUNEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAicmVzb3VyY2VOYW1lIiwgInBhcnRUb01sZGV2IiwgImNvbW1vbi5nZXRWYWx1ZUJ5UGF0aCIsICJjb21tb24uc2V0VmFsdWVCeVBhdGgiLCAiY29udGVudFRvTWxkZXYiLCAiZnVuY3Rpb25EZWNsYXJhdGlvblRvTWxkZXYiLCAiZ29vZ2xlU2VhcmNoVG9NbGRldiIsICJkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9NbGRldiIsICJnb29nbGVTZWFyY2hSZXRyaWV2YWxUb01sZGV2IiwgInRvb2xUb01sZGV2IiwgImZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvTWxkZXYiLCAidG9vbENvbmZpZ1RvTWxkZXYiLCAidC50Q29udGVudHMiLCAidC50Q29udGVudCIsICJ0LnRDYWNoZXNNb2RlbCIsICJ0LnRDYWNoZWRDb250ZW50TmFtZSIsICJwYXJ0VG9WZXJ0ZXgiLCAiY29udGVudFRvVmVydGV4IiwgInNjaGVtYVRvVmVydGV4IiwgImZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleCIsICJnb29nbGVTZWFyY2hUb1ZlcnRleCIsICJkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9WZXJ0ZXgiLCAiZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9WZXJ0ZXgiLCAidG9vbFRvVmVydGV4IiwgImZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvVmVydGV4IiwgInRvb2xDb25maWdUb1ZlcnRleCIsICJQYWdlZEl0ZW0iLCAiT3V0Y29tZSIsICJMYW5ndWFnZSIsICJUeXBlIiwgIkhhcm1DYXRlZ29yeSIsICJIYXJtQmxvY2tNZXRob2QiLCAiSGFybUJsb2NrVGhyZXNob2xkIiwgIk1vZGUiLCAiRmluaXNoUmVhc29uIiwgIkhhcm1Qcm9iYWJpbGl0eSIsICJIYXJtU2V2ZXJpdHkiLCAiQmxvY2tlZFJlYXNvbiIsICJUcmFmZmljVHlwZSIsICJNb2RhbGl0eSIsICJNZWRpYVJlc29sdXRpb24iLCAiRHluYW1pY1JldHJpZXZhbENvbmZpZ01vZGUiLCAiRnVuY3Rpb25DYWxsaW5nQ29uZmlnTW9kZSIsICJTYWZldHlGaWx0ZXJMZXZlbCIsICJQZXJzb25HZW5lcmF0aW9uIiwgIkltYWdlUHJvbXB0TGFuZ3VhZ2UiLCAiRmlsZVN0YXRlIiwgIkZpbGVTb3VyY2UiLCAiTWFza1JlZmVyZW5jZU1vZGUiLCAiQ29udHJvbFJlZmVyZW5jZVR5cGUiLCAiU3ViamVjdFJlZmVyZW5jZVR5cGUiLCAiTWVkaWFNb2RhbGl0eSIsICJTdGFydFNlbnNpdGl2aXR5IiwgIkVuZFNlbnNpdGl2aXR5IiwgIkFjdGl2aXR5SGFuZGxpbmciLCAiVHVybkNvdmVyYWdlIiwgImV4ZWN1dGFibGVDb2RlIiwgImNvZGVFeGVjdXRpb25SZXN1bHQiLCAiY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbW1vbi5mb3JtYXRNYXAiLCAiY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmNhY2hlZENvbnRlbnRGcm9tTWxkZXYiLCAiY29udmVydGVycy5nZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZ2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlIiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMudXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLnVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tTWxkZXYiLCAidC50Q29udGVudCIsICJfYSIsICJjb21tb24uZ2V0VmFsdWVCeVBhdGgiLCAiY29tbW9uLnNldFZhbHVlQnlQYXRoIiwgInQudEZpbGVOYW1lIiwgImNvbnZlcnRlcnMuZmlsZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3RGaWxlc1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbW1vbi5mb3JtYXRNYXAiLCAiY29udmVydGVycy5saXN0RmlsZXNSZXNwb25zZUZyb21NbGRldiIsICJ0eXBlcy5MaXN0RmlsZXNSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmNyZWF0ZUZpbGVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmNyZWF0ZUZpbGVSZXNwb25zZUZyb21NbGRldiIsICJ0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2UiLCAiY29udmVydGVycy5nZXRGaWxlUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5kZWxldGVGaWxlUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5kZWxldGVGaWxlUmVzcG9uc2VGcm9tTWxkZXYiLCAidHlwZXMuRGVsZXRlRmlsZVJlc3BvbnNlIiwgInQudFNjaGVtYSIsICJ0LnRUb29scyIsICJ0LnRUb29sIiwgInQudENhY2hlZENvbnRlbnROYW1lIiwgInQudFNwZWVjaENvbmZpZyIsICJ0LnRNb2RlbCIsICJ0LnRDb250ZW50cyIsICJ0LnRDb250ZW50c0ZvckVtYmVkIiwgInQudEJ5dGVzIiwgInZpZGVvRnJvbU1sZGV2IiwgImdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2IiwgImdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tTWxkZXYiLCAiZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tTWxkZXYiLCAidmlkZW9Gcm9tVmVydGV4IiwgImdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleCIsICJnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgiLCAiY29udmVydGVycy5saXZlU2VydmVyTWVzc2FnZUZyb21WZXJ0ZXgiLCAiY29udmVydGVycy5saXZlU2VydmVyTWVzc2FnZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmxpdmVDb25uZWN0UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMubGl2ZUNvbm5lY3RQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5lbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5lbWJlZENvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2UiLCAiY29udmVydGVycy5lbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLm1vZGVsRnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmdldE1vZGVsUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5tb2RlbEZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuY291bnRUb2tlbnNSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5jb3VudFRva2Vuc1Jlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMuY29tcHV0ZVRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmNvbXB1dGVUb2tlbnNSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tTWxkZXYiLCAicmVzb3VyY2VOYW1lIiwgImNvbnZlcnRlcnMuZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5mZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=

/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CaptainsLogPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// node_modules/@google/genai/dist/web/index.mjs
var BaseModule = class {
};
function formatMap(templateString, valueMap) {
  const regex = /\{([^}]+)\}/g;
  return templateString.replace(regex, (match, key) => {
    if (Object.prototype.hasOwnProperty.call(valueMap, key)) {
      const value = valueMap[key];
      return value !== void 0 && value !== null ? String(value) : "";
    } else {
      throw new Error(`Key '${key}' not found in valueMap.`);
    }
  });
}
function setValueByPath(data, keys, value) {
  for (let i = 0; i < keys.length - 1; i++) {
    const key = keys[i];
    if (key.endsWith("[]")) {
      const keyName = key.slice(0, -2);
      if (!(keyName in data)) {
        if (Array.isArray(value)) {
          data[keyName] = Array.from({ length: value.length }, () => ({}));
        } else {
          throw new Error(`Value must be a list given an array path ${key}`);
        }
      }
      if (Array.isArray(data[keyName])) {
        const arrayData = data[keyName];
        if (Array.isArray(value)) {
          for (let j = 0; j < arrayData.length; j++) {
            const entry = arrayData[j];
            setValueByPath(entry, keys.slice(i + 1), value[j]);
          }
        } else {
          for (const d of arrayData) {
            setValueByPath(d, keys.slice(i + 1), value);
          }
        }
      }
      return;
    } else if (key.endsWith("[0]")) {
      const keyName = key.slice(0, -3);
      if (!(keyName in data)) {
        data[keyName] = [{}];
      }
      const arrayData = data[keyName];
      setValueByPath(arrayData[0], keys.slice(i + 1), value);
      return;
    }
    if (!data[key] || typeof data[key] !== "object") {
      data[key] = {};
    }
    data = data[key];
  }
  const keyToSet = keys[keys.length - 1];
  const existingData = data[keyToSet];
  if (existingData !== void 0) {
    if (!value || typeof value === "object" && Object.keys(value).length === 0) {
      return;
    }
    if (value === existingData) {
      return;
    }
    if (typeof existingData === "object" && typeof value === "object" && existingData !== null && value !== null) {
      Object.assign(existingData, value);
    } else {
      throw new Error(`Cannot set value for an existing key. Key: ${keyToSet}`);
    }
  } else {
    data[keyToSet] = value;
  }
}
function getValueByPath(data, keys) {
  try {
    if (keys.length === 1 && keys[0] === "_self") {
      return data;
    }
    for (let i = 0; i < keys.length; i++) {
      if (typeof data !== "object" || data === null) {
        return void 0;
      }
      const key = keys[i];
      if (key.endsWith("[]")) {
        const keyName = key.slice(0, -2);
        if (keyName in data) {
          const arrayData = data[keyName];
          if (!Array.isArray(arrayData)) {
            return void 0;
          }
          return arrayData.map((d) => getValueByPath(d, keys.slice(i + 1)));
        } else {
          return void 0;
        }
      } else {
        data = data[key];
      }
    }
    return data;
  } catch (error) {
    if (error instanceof TypeError) {
      return void 0;
    }
    throw error;
  }
}
function tModel(apiClient, model) {
  if (!model || typeof model !== "string") {
    throw new Error("model is required and must be a string");
  }
  if (apiClient.isVertexAI()) {
    if (model.startsWith("publishers/") || model.startsWith("projects/") || model.startsWith("models/")) {
      return model;
    } else if (model.indexOf("/") >= 0) {
      const parts = model.split("/", 2);
      return `publishers/${parts[0]}/models/${parts[1]}`;
    } else {
      return `publishers/google/models/${model}`;
    }
  } else {
    if (model.startsWith("models/") || model.startsWith("tunedModels/")) {
      return model;
    } else {
      return `models/${model}`;
    }
  }
}
function tCachesModel(apiClient, model) {
  const transformedModel = tModel(apiClient, model);
  if (!transformedModel) {
    return "";
  }
  if (transformedModel.startsWith("publishers/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/${transformedModel}`;
  } else if (transformedModel.startsWith("models/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/publishers/google/${transformedModel}`;
  } else {
    return transformedModel;
  }
}
function tPart(apiClient, origin) {
  if (origin === null || origin === void 0) {
    throw new Error("PartUnion is required");
  }
  if (typeof origin === "object") {
    return origin;
  }
  if (typeof origin === "string") {
    return { text: origin };
  }
  throw new Error(`Unsupported part type: ${typeof origin}`);
}
function tParts(apiClient, origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("PartListUnion is required");
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tPart(apiClient, item));
  }
  return [tPart(apiClient, origin)];
}
function _isContent(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "parts" in origin && Array.isArray(origin.parts);
}
function _isFunctionCallPart(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "functionCall" in origin;
}
function _isUserPart(origin) {
  if (origin === null || origin === void 0) {
    return false;
  }
  if (_isFunctionCallPart(origin)) {
    return false;
  }
  return true;
}
function _areUserParts(origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    return false;
  }
  return origin.every(_isUserPart);
}
function tContent(apiClient, origin) {
  if (origin === null || origin === void 0) {
    throw new Error("ContentUnion is required");
  }
  if (_isContent(origin)) {
    return origin;
  }
  if (_isUserPart(origin)) {
    return {
      role: "user",
      parts: tParts(apiClient, origin)
    };
  } else {
    return {
      role: "model",
      parts: tParts(apiClient, origin)
    };
  }
}
function tContentsForEmbed(apiClient, origin) {
  if (!origin) {
    return [];
  }
  if (apiClient.isVertexAI() && Array.isArray(origin)) {
    return origin.flatMap((item) => {
      const content = tContent(apiClient, item);
      if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
        return [content.parts[0].text];
      }
      return [];
    });
  } else if (apiClient.isVertexAI()) {
    const content = tContent(apiClient, origin);
    if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
      return [content.parts[0].text];
    }
    return [];
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tContent(apiClient, item));
  }
  return [tContent(apiClient, origin)];
}
function _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts) {
  if (accumulatedParts.length === 0) {
    return;
  }
  if (_areUserParts(accumulatedParts)) {
    result.push({
      role: "user",
      parts: tParts(apiClient, accumulatedParts)
    });
  } else {
    result.push({
      role: "model",
      parts: tParts(apiClient, accumulatedParts)
    });
  }
  accumulatedParts.length = 0;
}
function _handleCurrentPart(apiClient, result, accumulatedParts, currentPart) {
  if (_isUserPart(currentPart) === _areUserParts(accumulatedParts)) {
    accumulatedParts.push(currentPart);
  } else {
    _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
    accumulatedParts.length = 0;
    accumulatedParts.push(currentPart);
  }
}
function tContents(apiClient, origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("contents are required");
  }
  if (!Array.isArray(origin)) {
    return [tContent(apiClient, origin)];
  }
  const result = [];
  const accumulatedParts = [];
  for (const content of origin) {
    if (_isContent(content)) {
      _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
      result.push(content);
    } else if (typeof content === "string" || typeof content === "object" && !Array.isArray(content)) {
      _handleCurrentPart(apiClient, result, accumulatedParts, content);
    } else if (Array.isArray(content)) {
      _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
      result.push({
        role: "user",
        parts: tParts(apiClient, content)
      });
    } else {
      throw new Error(`Unsupported content type: ${typeof content}`);
    }
  }
  _appendAccumulatedPartsAsContent(apiClient, result, accumulatedParts);
  return result;
}
function processSchema(apiClient, schema) {
  if (!apiClient.isVertexAI()) {
    if ("default" in schema) {
      throw new Error("Default value is not supported in the response schema for the Gemini API.");
    }
  }
  if ("anyOf" in schema) {
    if (schema["anyOf"] !== void 0) {
      for (const subSchema of schema["anyOf"]) {
        processSchema(apiClient, subSchema);
      }
    }
  }
  if ("items" in schema) {
    if (schema["items"] !== void 0) {
      processSchema(apiClient, schema["items"]);
    }
  }
  if ("properties" in schema) {
    if (schema["properties"] !== void 0) {
      for (const subSchema of Object.values(schema["properties"])) {
        processSchema(apiClient, subSchema);
      }
    }
  }
}
function tSchema(apiClient, schema) {
  processSchema(apiClient, schema);
  return schema;
}
function tSpeechConfig(apiClient, speechConfig) {
  if (typeof speechConfig === "object" && "voiceConfig" in speechConfig) {
    return speechConfig;
  } else if (typeof speechConfig === "string") {
    return {
      voiceConfig: {
        prebuiltVoiceConfig: {
          voiceName: speechConfig
        }
      }
    };
  } else {
    throw new Error(`Unsupported speechConfig type: ${typeof speechConfig}`);
  }
}
function tTool(apiClient, tool) {
  return tool;
}
function tTools(apiClient, tool) {
  if (!Array.isArray(tool)) {
    throw new Error("tool is required and must be an array of Tools");
  }
  return tool;
}
function resourceName(client, resourceName2, resourcePrefix, splitsAfterPrefix = 1) {
  const shouldAppendPrefix = !resourceName2.startsWith(`${resourcePrefix}/`) && resourceName2.split("/").length === splitsAfterPrefix;
  if (client.isVertexAI()) {
    if (resourceName2.startsWith("projects/")) {
      return resourceName2;
    } else if (resourceName2.startsWith("locations/")) {
      return `projects/${client.getProject()}/${resourceName2}`;
    } else if (resourceName2.startsWith(`${resourcePrefix}/`)) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourceName2}`;
    } else if (shouldAppendPrefix) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourcePrefix}/${resourceName2}`;
    } else {
      return resourceName2;
    }
  }
  if (shouldAppendPrefix) {
    return `${resourcePrefix}/${resourceName2}`;
  }
  return resourceName2;
}
function tCachedContentName(apiClient, name) {
  if (typeof name !== "string") {
    throw new Error("name must be a string");
  }
  return resourceName(apiClient, name, "cachedContents");
}
function tBytes(apiClient, fromImageBytes) {
  if (typeof fromImageBytes !== "string") {
    throw new Error("fromImageBytes must be a string");
  }
  return fromImageBytes;
}
function tFileName(apiClient, fromName) {
  if (typeof fromName !== "string") {
    throw new Error("fromName must be a string");
  }
  if (fromName.startsWith("files/")) {
    return fromName.split("files/")[1];
  }
  return fromName;
}
function partToMldev$1(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["videoMetadata"]) !== void 0) {
    throw new Error("videoMetadata parameter is not supported in Gemini API.");
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function functionDeclarationToMldev$1(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["response"]) !== void 0) {
    throw new Error("response parameter is not supported in Gemini API.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToMldev$1() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToMldev$1(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$1());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToMldev$1(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev$1(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function createCachedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev$1(apiClient, item);
      })));
    } else {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev$1(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev$1(apiClient, fromToolConfig));
  }
  return toObject;
}
function createCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], createCachedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function updateCachedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], updateCachedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function listCachedContentsConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listCachedContentsConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromExample = getValueByPath(fromObject, ["example"]);
  if (fromExample != null) {
    setValueByPath(toObject, ["example"], fromExample);
  }
  const fromPattern = getValueByPath(fromObject, ["pattern"]);
  if (fromPattern != null) {
    setValueByPath(toObject, ["pattern"], fromPattern);
  }
  const fromDefault = getValueByPath(fromObject, ["default"]);
  if (fromDefault != null) {
    setValueByPath(toObject, ["default"], fromDefault);
  }
  const fromMaxLength = getValueByPath(fromObject, ["maxLength"]);
  if (fromMaxLength != null) {
    setValueByPath(toObject, ["maxLength"], fromMaxLength);
  }
  const fromMinLength = getValueByPath(fromObject, ["minLength"]);
  if (fromMinLength != null) {
    setValueByPath(toObject, ["minLength"], fromMinLength);
  }
  const fromMinProperties = getValueByPath(fromObject, [
    "minProperties"
  ]);
  if (fromMinProperties != null) {
    setValueByPath(toObject, ["minProperties"], fromMinProperties);
  }
  const fromMaxProperties = getValueByPath(fromObject, [
    "maxProperties"
  ]);
  if (fromMaxProperties != null) {
    setValueByPath(toObject, ["maxProperties"], fromMaxProperties);
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function functionDeclarationToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], schemaToVertex$1(apiClient, fromResponse));
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToVertex$1() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToVertex$1(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToVertex$1());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToVertex$1(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToVertex$1(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function createCachedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex$1(apiClient, item);
      })));
    } else {
      setValueByPath(parentObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex$1(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToVertex$1(apiClient, fromToolConfig));
  }
  return toObject;
}
function createCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], createCachedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function updateCachedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], updateCachedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function listCachedContentsConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listCachedContentsConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function cachedContentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (fromExpireTime != null) {
    setValueByPath(toObject, ["expireTime"], fromExpireTime);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function deleteCachedContentResponseFromMldev() {
  const toObject = {};
  return toObject;
}
function listCachedContentsResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    if (Array.isArray(fromCachedContents)) {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents.map((item) => {
        return cachedContentFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents);
    }
  }
  return toObject;
}
function cachedContentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (fromExpireTime != null) {
    setValueByPath(toObject, ["expireTime"], fromExpireTime);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function deleteCachedContentResponseFromVertex() {
  const toObject = {};
  return toObject;
}
function listCachedContentsResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    if (Array.isArray(fromCachedContents)) {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents.map((item) => {
        return cachedContentFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cachedContents"], fromCachedContents);
    }
  }
  return toObject;
}
var PagedItem;
(function(PagedItem2) {
  PagedItem2["PAGED_ITEM_BATCH_JOBS"] = "batchJobs";
  PagedItem2["PAGED_ITEM_MODELS"] = "models";
  PagedItem2["PAGED_ITEM_TUNING_JOBS"] = "tuningJobs";
  PagedItem2["PAGED_ITEM_FILES"] = "files";
  PagedItem2["PAGED_ITEM_CACHED_CONTENTS"] = "cachedContents";
})(PagedItem || (PagedItem = {}));
var Pager = class {
  constructor(name, request, response, params) {
    this.pageInternal = [];
    this.paramsInternal = {};
    this.requestInternal = request;
    this.init(name, response, params);
  }
  init(name, response, params) {
    var _a, _b;
    this.nameInternal = name;
    this.pageInternal = response[this.nameInternal] || [];
    this.idxInternal = 0;
    let requestParams = { config: {} };
    if (!params) {
      requestParams = { config: {} };
    } else if (typeof params === "object") {
      requestParams = Object.assign({}, params);
    } else {
      requestParams = params;
    }
    if (requestParams["config"]) {
      requestParams["config"]["pageToken"] = response["nextPageToken"];
    }
    this.paramsInternal = requestParams;
    this.pageInternalSize = (_b = (_a = requestParams["config"]) === null || _a === void 0 ? void 0 : _a["pageSize"]) !== null && _b !== void 0 ? _b : this.pageInternal.length;
  }
  initNextPage(response) {
    this.init(this.nameInternal, response, this.paramsInternal);
  }
  /**
   * Returns the current page, which is a list of items.
   *
   * @remarks
   * The first page is retrieved when the pager is created. The returned list of
   * items could be a subset of the entire list.
   */
  get page() {
    return this.pageInternal;
  }
  /**
   * Returns the type of paged item (for example, ``batch_jobs``).
   */
  get name() {
    return this.nameInternal;
  }
  /**
   * Returns the length of the page fetched each time by this pager.
   *
   * @remarks
   * The number of items in the page is less than or equal to the page length.
   */
  get pageSize() {
    return this.pageInternalSize;
  }
  /**
   * Returns the parameters when making the API request for the next page.
   *
   * @remarks
   * Parameters contain a set of optional configs that can be
   * used to customize the API request. For example, the `pageToken` parameter
   * contains the token to request the next page.
   */
  get params() {
    return this.paramsInternal;
  }
  /**
   * Returns the total number of items in the current page.
   */
  get pageLength() {
    return this.pageInternal.length;
  }
  /**
   * Returns the item at the given index.
   */
  getItem(index) {
    return this.pageInternal[index];
  }
  /**
   * Returns an async iterator that support iterating through all items
   * retrieved from the API.
   *
   * @remarks
   * The iterator will automatically fetch the next page if there are more items
   * to fetch from the API.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * for await (const file of pager) {
   *   console.log(file.name);
   * }
   * ```
   */
  [Symbol.asyncIterator]() {
    return {
      next: async () => {
        if (this.idxInternal >= this.pageLength) {
          if (this.hasNextPage()) {
            await this.nextPage();
          } else {
            return { value: void 0, done: true };
          }
        }
        const item = this.getItem(this.idxInternal);
        this.idxInternal += 1;
        return { value: item, done: false };
      },
      return: async () => {
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * Fetches the next page of items. This makes a new API request.
   *
   * @throws {Error} If there are no more pages to fetch.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * let page = pager.page;
   * while (true) {
   *   for (const file of page) {
   *     console.log(file.name);
   *   }
   *   if (!pager.hasNextPage()) {
   *     break;
   *   }
   *   page = await pager.nextPage();
   * }
   * ```
   */
  async nextPage() {
    if (!this.hasNextPage()) {
      throw new Error("No more pages to fetch.");
    }
    const response = await this.requestInternal(this.params);
    this.initNextPage(response);
    return this.page;
  }
  /**
   * Returns true if there are more pages to fetch from the API.
   */
  hasNextPage() {
    var _a;
    if (((_a = this.params["config"]) === null || _a === void 0 ? void 0 : _a["pageToken"]) !== void 0) {
      return true;
    }
    return false;
  }
};
var Outcome;
(function(Outcome2) {
  Outcome2["OUTCOME_UNSPECIFIED"] = "OUTCOME_UNSPECIFIED";
  Outcome2["OUTCOME_OK"] = "OUTCOME_OK";
  Outcome2["OUTCOME_FAILED"] = "OUTCOME_FAILED";
  Outcome2["OUTCOME_DEADLINE_EXCEEDED"] = "OUTCOME_DEADLINE_EXCEEDED";
})(Outcome || (Outcome = {}));
var Language;
(function(Language2) {
  Language2["LANGUAGE_UNSPECIFIED"] = "LANGUAGE_UNSPECIFIED";
  Language2["PYTHON"] = "PYTHON";
})(Language || (Language = {}));
var Type;
(function(Type2) {
  Type2["TYPE_UNSPECIFIED"] = "TYPE_UNSPECIFIED";
  Type2["STRING"] = "STRING";
  Type2["NUMBER"] = "NUMBER";
  Type2["INTEGER"] = "INTEGER";
  Type2["BOOLEAN"] = "BOOLEAN";
  Type2["ARRAY"] = "ARRAY";
  Type2["OBJECT"] = "OBJECT";
})(Type || (Type = {}));
var HarmCategory;
(function(HarmCategory2) {
  HarmCategory2["HARM_CATEGORY_UNSPECIFIED"] = "HARM_CATEGORY_UNSPECIFIED";
  HarmCategory2["HARM_CATEGORY_HATE_SPEECH"] = "HARM_CATEGORY_HATE_SPEECH";
  HarmCategory2["HARM_CATEGORY_DANGEROUS_CONTENT"] = "HARM_CATEGORY_DANGEROUS_CONTENT";
  HarmCategory2["HARM_CATEGORY_HARASSMENT"] = "HARM_CATEGORY_HARASSMENT";
  HarmCategory2["HARM_CATEGORY_SEXUALLY_EXPLICIT"] = "HARM_CATEGORY_SEXUALLY_EXPLICIT";
  HarmCategory2["HARM_CATEGORY_CIVIC_INTEGRITY"] = "HARM_CATEGORY_CIVIC_INTEGRITY";
})(HarmCategory || (HarmCategory = {}));
var HarmBlockMethod;
(function(HarmBlockMethod2) {
  HarmBlockMethod2["HARM_BLOCK_METHOD_UNSPECIFIED"] = "HARM_BLOCK_METHOD_UNSPECIFIED";
  HarmBlockMethod2["SEVERITY"] = "SEVERITY";
  HarmBlockMethod2["PROBABILITY"] = "PROBABILITY";
})(HarmBlockMethod || (HarmBlockMethod = {}));
var HarmBlockThreshold;
(function(HarmBlockThreshold2) {
  HarmBlockThreshold2["HARM_BLOCK_THRESHOLD_UNSPECIFIED"] = "HARM_BLOCK_THRESHOLD_UNSPECIFIED";
  HarmBlockThreshold2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  HarmBlockThreshold2["BLOCK_NONE"] = "BLOCK_NONE";
  HarmBlockThreshold2["OFF"] = "OFF";
})(HarmBlockThreshold || (HarmBlockThreshold = {}));
var Mode;
(function(Mode2) {
  Mode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  Mode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(Mode || (Mode = {}));
var FinishReason;
(function(FinishReason2) {
  FinishReason2["FINISH_REASON_UNSPECIFIED"] = "FINISH_REASON_UNSPECIFIED";
  FinishReason2["STOP"] = "STOP";
  FinishReason2["MAX_TOKENS"] = "MAX_TOKENS";
  FinishReason2["SAFETY"] = "SAFETY";
  FinishReason2["RECITATION"] = "RECITATION";
  FinishReason2["OTHER"] = "OTHER";
  FinishReason2["BLOCKLIST"] = "BLOCKLIST";
  FinishReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
  FinishReason2["SPII"] = "SPII";
  FinishReason2["MALFORMED_FUNCTION_CALL"] = "MALFORMED_FUNCTION_CALL";
  FinishReason2["IMAGE_SAFETY"] = "IMAGE_SAFETY";
})(FinishReason || (FinishReason = {}));
var HarmProbability;
(function(HarmProbability2) {
  HarmProbability2["HARM_PROBABILITY_UNSPECIFIED"] = "HARM_PROBABILITY_UNSPECIFIED";
  HarmProbability2["NEGLIGIBLE"] = "NEGLIGIBLE";
  HarmProbability2["LOW"] = "LOW";
  HarmProbability2["MEDIUM"] = "MEDIUM";
  HarmProbability2["HIGH"] = "HIGH";
})(HarmProbability || (HarmProbability = {}));
var HarmSeverity;
(function(HarmSeverity2) {
  HarmSeverity2["HARM_SEVERITY_UNSPECIFIED"] = "HARM_SEVERITY_UNSPECIFIED";
  HarmSeverity2["HARM_SEVERITY_NEGLIGIBLE"] = "HARM_SEVERITY_NEGLIGIBLE";
  HarmSeverity2["HARM_SEVERITY_LOW"] = "HARM_SEVERITY_LOW";
  HarmSeverity2["HARM_SEVERITY_MEDIUM"] = "HARM_SEVERITY_MEDIUM";
  HarmSeverity2["HARM_SEVERITY_HIGH"] = "HARM_SEVERITY_HIGH";
})(HarmSeverity || (HarmSeverity = {}));
var BlockedReason;
(function(BlockedReason2) {
  BlockedReason2["BLOCKED_REASON_UNSPECIFIED"] = "BLOCKED_REASON_UNSPECIFIED";
  BlockedReason2["SAFETY"] = "SAFETY";
  BlockedReason2["OTHER"] = "OTHER";
  BlockedReason2["BLOCKLIST"] = "BLOCKLIST";
  BlockedReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
})(BlockedReason || (BlockedReason = {}));
var TrafficType;
(function(TrafficType2) {
  TrafficType2["TRAFFIC_TYPE_UNSPECIFIED"] = "TRAFFIC_TYPE_UNSPECIFIED";
  TrafficType2["ON_DEMAND"] = "ON_DEMAND";
  TrafficType2["PROVISIONED_THROUGHPUT"] = "PROVISIONED_THROUGHPUT";
})(TrafficType || (TrafficType = {}));
var Modality;
(function(Modality2) {
  Modality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  Modality2["TEXT"] = "TEXT";
  Modality2["IMAGE"] = "IMAGE";
  Modality2["AUDIO"] = "AUDIO";
})(Modality || (Modality = {}));
var MediaResolution;
(function(MediaResolution2) {
  MediaResolution2["MEDIA_RESOLUTION_UNSPECIFIED"] = "MEDIA_RESOLUTION_UNSPECIFIED";
  MediaResolution2["MEDIA_RESOLUTION_LOW"] = "MEDIA_RESOLUTION_LOW";
  MediaResolution2["MEDIA_RESOLUTION_MEDIUM"] = "MEDIA_RESOLUTION_MEDIUM";
  MediaResolution2["MEDIA_RESOLUTION_HIGH"] = "MEDIA_RESOLUTION_HIGH";
})(MediaResolution || (MediaResolution = {}));
var DynamicRetrievalConfigMode;
(function(DynamicRetrievalConfigMode2) {
  DynamicRetrievalConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  DynamicRetrievalConfigMode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(DynamicRetrievalConfigMode || (DynamicRetrievalConfigMode = {}));
var FunctionCallingConfigMode;
(function(FunctionCallingConfigMode2) {
  FunctionCallingConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  FunctionCallingConfigMode2["AUTO"] = "AUTO";
  FunctionCallingConfigMode2["ANY"] = "ANY";
  FunctionCallingConfigMode2["NONE"] = "NONE";
})(FunctionCallingConfigMode || (FunctionCallingConfigMode = {}));
var SafetyFilterLevel;
(function(SafetyFilterLevel2) {
  SafetyFilterLevel2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  SafetyFilterLevel2["BLOCK_NONE"] = "BLOCK_NONE";
})(SafetyFilterLevel || (SafetyFilterLevel = {}));
var PersonGeneration;
(function(PersonGeneration2) {
  PersonGeneration2["DONT_ALLOW"] = "DONT_ALLOW";
  PersonGeneration2["ALLOW_ADULT"] = "ALLOW_ADULT";
  PersonGeneration2["ALLOW_ALL"] = "ALLOW_ALL";
})(PersonGeneration || (PersonGeneration = {}));
var ImagePromptLanguage;
(function(ImagePromptLanguage2) {
  ImagePromptLanguage2["auto"] = "auto";
  ImagePromptLanguage2["en"] = "en";
  ImagePromptLanguage2["ja"] = "ja";
  ImagePromptLanguage2["ko"] = "ko";
  ImagePromptLanguage2["hi"] = "hi";
})(ImagePromptLanguage || (ImagePromptLanguage = {}));
var FileState;
(function(FileState2) {
  FileState2["STATE_UNSPECIFIED"] = "STATE_UNSPECIFIED";
  FileState2["PROCESSING"] = "PROCESSING";
  FileState2["ACTIVE"] = "ACTIVE";
  FileState2["FAILED"] = "FAILED";
})(FileState || (FileState = {}));
var FileSource;
(function(FileSource2) {
  FileSource2["SOURCE_UNSPECIFIED"] = "SOURCE_UNSPECIFIED";
  FileSource2["UPLOADED"] = "UPLOADED";
  FileSource2["GENERATED"] = "GENERATED";
})(FileSource || (FileSource = {}));
var MaskReferenceMode;
(function(MaskReferenceMode2) {
  MaskReferenceMode2["MASK_MODE_DEFAULT"] = "MASK_MODE_DEFAULT";
  MaskReferenceMode2["MASK_MODE_USER_PROVIDED"] = "MASK_MODE_USER_PROVIDED";
  MaskReferenceMode2["MASK_MODE_BACKGROUND"] = "MASK_MODE_BACKGROUND";
  MaskReferenceMode2["MASK_MODE_FOREGROUND"] = "MASK_MODE_FOREGROUND";
  MaskReferenceMode2["MASK_MODE_SEMANTIC"] = "MASK_MODE_SEMANTIC";
})(MaskReferenceMode || (MaskReferenceMode = {}));
var ControlReferenceType;
(function(ControlReferenceType2) {
  ControlReferenceType2["CONTROL_TYPE_DEFAULT"] = "CONTROL_TYPE_DEFAULT";
  ControlReferenceType2["CONTROL_TYPE_CANNY"] = "CONTROL_TYPE_CANNY";
  ControlReferenceType2["CONTROL_TYPE_SCRIBBLE"] = "CONTROL_TYPE_SCRIBBLE";
  ControlReferenceType2["CONTROL_TYPE_FACE_MESH"] = "CONTROL_TYPE_FACE_MESH";
})(ControlReferenceType || (ControlReferenceType = {}));
var SubjectReferenceType;
(function(SubjectReferenceType2) {
  SubjectReferenceType2["SUBJECT_TYPE_DEFAULT"] = "SUBJECT_TYPE_DEFAULT";
  SubjectReferenceType2["SUBJECT_TYPE_PERSON"] = "SUBJECT_TYPE_PERSON";
  SubjectReferenceType2["SUBJECT_TYPE_ANIMAL"] = "SUBJECT_TYPE_ANIMAL";
  SubjectReferenceType2["SUBJECT_TYPE_PRODUCT"] = "SUBJECT_TYPE_PRODUCT";
})(SubjectReferenceType || (SubjectReferenceType = {}));
var MediaModality;
(function(MediaModality2) {
  MediaModality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  MediaModality2["TEXT"] = "TEXT";
  MediaModality2["IMAGE"] = "IMAGE";
  MediaModality2["VIDEO"] = "VIDEO";
  MediaModality2["AUDIO"] = "AUDIO";
  MediaModality2["DOCUMENT"] = "DOCUMENT";
})(MediaModality || (MediaModality = {}));
var StartSensitivity;
(function(StartSensitivity2) {
  StartSensitivity2["START_SENSITIVITY_UNSPECIFIED"] = "START_SENSITIVITY_UNSPECIFIED";
  StartSensitivity2["START_SENSITIVITY_HIGH"] = "START_SENSITIVITY_HIGH";
  StartSensitivity2["START_SENSITIVITY_LOW"] = "START_SENSITIVITY_LOW";
})(StartSensitivity || (StartSensitivity = {}));
var EndSensitivity;
(function(EndSensitivity2) {
  EndSensitivity2["END_SENSITIVITY_UNSPECIFIED"] = "END_SENSITIVITY_UNSPECIFIED";
  EndSensitivity2["END_SENSITIVITY_HIGH"] = "END_SENSITIVITY_HIGH";
  EndSensitivity2["END_SENSITIVITY_LOW"] = "END_SENSITIVITY_LOW";
})(EndSensitivity || (EndSensitivity = {}));
var ActivityHandling;
(function(ActivityHandling2) {
  ActivityHandling2["ACTIVITY_HANDLING_UNSPECIFIED"] = "ACTIVITY_HANDLING_UNSPECIFIED";
  ActivityHandling2["START_OF_ACTIVITY_INTERRUPTS"] = "START_OF_ACTIVITY_INTERRUPTS";
  ActivityHandling2["NO_INTERRUPTION"] = "NO_INTERRUPTION";
})(ActivityHandling || (ActivityHandling = {}));
var TurnCoverage;
(function(TurnCoverage2) {
  TurnCoverage2["TURN_COVERAGE_UNSPECIFIED"] = "TURN_COVERAGE_UNSPECIFIED";
  TurnCoverage2["TURN_INCLUDES_ONLY_ACTIVITY"] = "TURN_INCLUDES_ONLY_ACTIVITY";
  TurnCoverage2["TURN_INCLUDES_ALL_INPUT"] = "TURN_INCLUDES_ALL_INPUT";
})(TurnCoverage || (TurnCoverage = {}));
var GenerateContentResponse = class {
  /**
   * Returns the concatenation of all text parts from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the text from the first
   * one will be returned.
   * If there are non-text parts in the response, the concatenation of all text
   * parts will be returned, and a warning will be logged.
   * If there are thought parts in the response, the concatenation of all text
   * parts excluding the thought parts will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'Why is the sky blue?',
   * });
   *
   * console.debug(response.text);
   * ```
   */
  get text() {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning text from the first one.");
    }
    let text = "";
    let anyTextPartText = false;
    const nonTextParts = [];
    for (const part of (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) !== null && _h !== void 0 ? _h : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "text" && fieldName !== "thought" && (fieldValue !== null || fieldValue !== void 0)) {
          nonTextParts.push(fieldName);
        }
      }
      if (typeof part.text === "string") {
        if (typeof part.thought === "boolean" && part.thought) {
          continue;
        }
        anyTextPartText = true;
        text += part.text;
      }
    }
    if (nonTextParts.length > 0) {
      console.warn(`there are non-text parts ${nonTextParts} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`);
    }
    return anyTextPartText ? text : void 0;
  }
  /**
   * Returns the function calls from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the function calls from
   * the first one will be returned.
   * If there are no function calls in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const controlLightFunctionDeclaration: FunctionDeclaration = {
   *   name: 'controlLight',
   *   parameters: {
   *   type: Type.OBJECT,
   *   description: 'Set the brightness and color temperature of a room light.',
   *   properties: {
   *     brightness: {
   *       type: Type.NUMBER,
   *       description:
   *         'Light level from 0 to 100. Zero is off and 100 is full brightness.',
   *     },
   *     colorTemperature: {
   *       type: Type.STRING,
   *       description:
   *         'Color temperature of the light fixture which can be `daylight`, `cool` or `warm`.',
   *     },
   *   },
   *   required: ['brightness', 'colorTemperature'],
   *  };
   *  const response = await ai.models.generateContent({
   *     model: 'gemini-2.0-flash',
   *     contents: 'Dim the lights so the room feels cozy and warm.',
   *     config: {
   *       tools: [{functionDeclarations: [controlLightFunctionDeclaration]}],
   *       toolConfig: {
   *         functionCallingConfig: {
   *           mode: FunctionCallingConfigMode.ANY,
   *           allowedFunctionNames: ['controlLight'],
   *         },
   *       },
   *     },
   *   });
   *  console.debug(JSON.stringify(response.functionCalls));
   * ```
   */
  get functionCalls() {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning function calls from the first one.");
    }
    const functionCalls = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.functionCall).map((part) => part.functionCall).filter((functionCall) => functionCall !== void 0);
    if ((functionCalls === null || functionCalls === void 0 ? void 0 : functionCalls.length) === 0) {
      return void 0;
    }
    return functionCalls;
  }
  /**
   * Returns the first executable code from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the executable code from
   * the first one will be returned.
   * If there are no executable code in the response, undefined will be
   * returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.executableCode);
   * ```
   */
  get executableCode() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning executable code from the first one.");
    }
    const executableCode = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.executableCode).map((part) => part.executableCode).filter((executableCode2) => executableCode2 !== void 0);
    if ((executableCode === null || executableCode === void 0 ? void 0 : executableCode.length) === 0) {
      return void 0;
    }
    return (_j = executableCode === null || executableCode === void 0 ? void 0 : executableCode[0]) === null || _j === void 0 ? void 0 : _j.code;
  }
  /**
   * Returns the first code execution result from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the code execution result from
   * the first one will be returned.
   * If there are no code execution result in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.codeExecutionResult);
   * ```
   */
  get codeExecutionResult() {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a = this.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning code execution result from the first one.");
    }
    const codeExecutionResult = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.codeExecutionResult).map((part) => part.codeExecutionResult).filter((codeExecutionResult2) => codeExecutionResult2 !== void 0);
    if ((codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult.length) === 0) {
      return void 0;
    }
    return (_j = codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult[0]) === null || _j === void 0 ? void 0 : _j.output;
  }
};
var EmbedContentResponse = class {
};
var GenerateImagesResponse = class {
};
var CountTokensResponse = class {
};
var ComputeTokensResponse = class {
};
var DeleteCachedContentResponse = class {
};
var ListCachedContentsResponse = class {
};
var ListFilesResponse = class {
};
var HttpResponse = class {
  constructor(response) {
    const headers = {};
    for (const pair of response.headers.entries()) {
      headers[pair[0]] = pair[1];
    }
    this.headers = headers;
    this.responseInternal = response;
  }
  json() {
    return this.responseInternal.json();
  }
};
var CreateFileResponse = class {
};
var DeleteFileResponse = class {
};
var Caches = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Creates a cached contents resource.
   *
   * @remarks
   * Context caching is only supported for specific models. See [Gemini
   * Developer API reference] (https://ai.google.dev/gemini-api/docs/caching?lang=node/context-cac)
   * and [Vertex AI reference] (https://cloud.google.com/vertex-ai/generative-ai/docs/context-cache/context-cache-overview#supported_models)
   * for more information.
   *
   * @param params - The parameters for the create request.
   * @return The created cached content.
   *
   * @example
   * ```ts
   * const contents = ...; // Initialize the content to cache.
   * const response = await ai.caches.create({
   *   model: 'gemini-1.5-flash',
   *   config: {
   *    'contents': contents,
   *    'displayName': 'test cache',
   *    'systemInstruction': 'What is the sum of the two pdfs?',
   *    'ttl': '86400s',
   *  }
   * });
   * ```
   */
  async create(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = createCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = createCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Gets cached content configurations.
   *
   * @param params - The parameters for the get request.
   * @return The cached content.
   *
   * @example
   * ```ts
   * await ai.caches.get({name: 'gemini-1.5-flash'});
   * ```
   */
  async get(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Deletes cached content.
   *
   * @param params - The parameters for the delete request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.caches.delete({name: 'gemini-1.5-flash'});
   * ```
   */
  async delete(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = deleteCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteCachedContentResponseFromVertex();
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = deleteCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteCachedContentResponseFromMldev();
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Updates cached content configurations.
   *
   * @param params - The parameters for the update request.
   * @return The updated cached content.
   *
   * @example
   * ```ts
   * const response = await ai.caches.update({
   *   name: 'gemini-1.5-flash',
   *   config: {'ttl': '7600s'}
   * });
   * ```
   */
  async update(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = updateCachedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = updateCachedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = cachedContentFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  async listInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listCachedContentsParametersToVertex(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listCachedContentsParametersToMldev(this.apiClient, params);
      path = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m)
    return m.call(o);
  if (o && typeof o.length === "number")
    return {
      next: function() {
        if (o && i >= o.length)
          o = void 0;
        return { value: o && o[i++], done: !o };
      }
    };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}
function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = Object.create((typeof AsyncIterator === "function" ? AsyncIterator : Object).prototype), verb("next"), verb("throw"), verb("return", awaitReturn), i[Symbol.asyncIterator] = function() {
    return this;
  }, i;
  function awaitReturn(f) {
    return function(v) {
      return Promise.resolve(v).then(f, reject);
    };
  }
  function verb(n, f) {
    if (g[n]) {
      i[n] = function(v) {
        return new Promise(function(a, b) {
          q.push([n, v, a, b]) > 1 || resume(n, v);
        });
      };
      if (f)
        i[n] = f(i[n]);
    }
  }
  function resume(n, v) {
    try {
      step(g[n](v));
    } catch (e) {
      settle(q[0][3], e);
    }
  }
  function step(r) {
    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
  }
  function fulfill(value) {
    resume("next", value);
  }
  function reject(value) {
    resume("throw", value);
  }
  function settle(f, v) {
    if (f(v), q.shift(), q.length)
      resume(q[0][0], q[0][1]);
  }
}
function __asyncValues(o) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
    return this;
  }, i);
  function verb(n) {
    i[n] = o[n] && function(v) {
      return new Promise(function(resolve, reject) {
        v = o[n](v), settle(resolve, reject, v.done, v.value);
      });
    };
  }
  function settle(resolve, reject, d, v) {
    Promise.resolve(v).then(function(v2) {
      resolve({ value: v2, done: d });
    }, reject);
  }
}
function isValidResponse(response) {
  var _a;
  if (response.candidates == void 0 || response.candidates.length === 0) {
    return false;
  }
  const content = (_a = response.candidates[0]) === null || _a === void 0 ? void 0 : _a.content;
  if (content === void 0) {
    return false;
  }
  return isValidContent(content);
}
function isValidContent(content) {
  if (content.parts === void 0 || content.parts.length === 0) {
    return false;
  }
  for (const part of content.parts) {
    if (part === void 0 || Object.keys(part).length === 0) {
      return false;
    }
    if (part.text !== void 0 && part.text === "") {
      return false;
    }
  }
  return true;
}
function validateHistory(history) {
  if (history.length === 0) {
    return;
  }
  if (history[0].role !== "user") {
    throw new Error("History must start with a user turn.");
  }
  for (const content of history) {
    if (content.role !== "user" && content.role !== "model") {
      throw new Error(`Role must be user or model, but got ${content.role}.`);
    }
  }
}
function extractCuratedHistory(comprehensiveHistory) {
  if (comprehensiveHistory === void 0 || comprehensiveHistory.length === 0) {
    return [];
  }
  const curatedHistory = [];
  const length = comprehensiveHistory.length;
  let i = 0;
  let userInput = comprehensiveHistory[0];
  while (i < length) {
    if (comprehensiveHistory[i].role === "user") {
      userInput = comprehensiveHistory[i];
      i++;
    } else {
      const modelOutput = [];
      let isValid = true;
      while (i < length && comprehensiveHistory[i].role === "model") {
        modelOutput.push(comprehensiveHistory[i]);
        if (isValid && !isValidContent(comprehensiveHistory[i])) {
          isValid = false;
        }
        i++;
      }
      if (isValid) {
        curatedHistory.push(userInput);
        curatedHistory.push(...modelOutput);
      }
    }
  }
  return curatedHistory;
}
var Chats = class {
  constructor(modelsModule, apiClient) {
    this.modelsModule = modelsModule;
    this.apiClient = apiClient;
  }
  /**
   * Creates a new chat session.
   *
   * @remarks
   * The config in the params will be used for all requests within the chat
   * session unless overridden by a per-request `config` in
   * @see {@link types.SendMessageParameters#config}.
   *
   * @param params - Parameters for creating a chat session.
   * @returns A new chat session.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({
   *   model: 'gemini-2.0-flash'
   *   config: {
   *     temperature: 0.5,
   *     maxOutputTokens: 1024,
   *   }
   * });
   * ```
   */
  create(params) {
    return new Chat(this.apiClient, this.modelsModule, params.model, params.config, params.history);
  }
};
var Chat = class {
  constructor(apiClient, modelsModule, model, config = {}, history = []) {
    this.apiClient = apiClient;
    this.modelsModule = modelsModule;
    this.model = model;
    this.config = config;
    this.history = history;
    this.sendPromise = Promise.resolve();
    validateHistory(history);
  }
  /**
   * Sends a message to the model and returns the response.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessageStream} for streaming method.
   * @param params - parameters for sending messages within a chat session.
   * @returns The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessage({
   *   message: 'Why is the sky blue?'
   * });
   * console.log(response.text);
   * ```
   */
  async sendMessage(params) {
    var _a;
    await this.sendPromise;
    const inputContent = tContent(this.apiClient, params.message);
    const responsePromise = this.modelsModule.generateContent({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a = params.config) !== null && _a !== void 0 ? _a : this.config
    });
    this.sendPromise = (async () => {
      var _a2, _b;
      const response = await responsePromise;
      const outputContent = (_b = (_a2 = response.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content;
      const modelOutput = outputContent ? [outputContent] : [];
      this.recordHistory(inputContent, modelOutput);
      return;
    })();
    await this.sendPromise;
    return responsePromise;
  }
  /**
   * Sends a message to the model and returns the response in chunks.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessage} for non-streaming method.
   * @param params - parameters for sending the message.
   * @return The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessageStream({
   *   message: 'Why is the sky blue?'
   * });
   * for await (const chunk of response) {
   *   console.log(chunk.text);
   * }
   * ```
   */
  async sendMessageStream(params) {
    var _a;
    await this.sendPromise;
    const inputContent = tContent(this.apiClient, params.message);
    const streamResponse = this.modelsModule.generateContentStream({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a = params.config) !== null && _a !== void 0 ? _a : this.config
    });
    this.sendPromise = streamResponse.then(() => void 0);
    const response = await streamResponse;
    const result = this.processStreamResponse(response, inputContent);
    return result;
  }
  /**
   * Returns the chat history.
   *
   * @remarks
   * The history is a list of contents alternating between user and model.
   *
   * There are two types of history:
   * - The `curated history` contains only the valid turns between user and
   * model, which will be included in the subsequent requests sent to the model.
   * - The `comprehensive history` contains all turns, including invalid or
   *   empty model outputs, providing a complete record of the history.
   *
   * The history is updated after receiving the response from the model,
   * for streaming response, it means receiving the last chunk of the response.
   *
   * The `comprehensive history` is returned by default. To get the `curated
   * history`, set the `curated` parameter to `true`.
   *
   * @param curated - whether to return the curated history or the comprehensive
   *     history.
   * @return History contents alternating between user and model for the entire
   *     chat session.
   */
  getHistory(curated = false) {
    return curated ? extractCuratedHistory(this.history) : this.history;
  }
  processStreamResponse(streamResponse, inputContent) {
    var _a, _b;
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      var _c, e_1, _d, _e;
      const outputContent = [];
      try {
        for (var _f = true, streamResponse_1 = __asyncValues(streamResponse), streamResponse_1_1; streamResponse_1_1 = yield __await(streamResponse_1.next()), _c = streamResponse_1_1.done, !_c; _f = true) {
          _e = streamResponse_1_1.value;
          _f = false;
          const chunk = _e;
          if (isValidResponse(chunk)) {
            const content = (_b = (_a = chunk.candidates) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.content;
            if (content !== void 0) {
              outputContent.push(content);
            }
          }
          yield yield __await(chunk);
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (!_f && !_c && (_d = streamResponse_1.return))
            yield __await(_d.call(streamResponse_1));
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      this.recordHistory(inputContent, outputContent);
    });
  }
  recordHistory(userInput, modelOutput) {
    let outputContents = [];
    if (modelOutput.length > 0 && modelOutput.every((content) => content.role === "model")) {
      outputContents = modelOutput;
    } else {
      outputContents.push({
        role: "model",
        parts: []
      });
    }
    this.history.push(userInput);
    this.history.push(...outputContents);
  }
};
function listFilesConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listFilesParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], listFilesConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function fileStatusToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDetails = getValueByPath(fromObject, ["details"]);
  if (fromDetails != null) {
    setValueByPath(toObject, ["details"], fromDetails);
  }
  const fromMessage = getValueByPath(fromObject, ["message"]);
  if (fromMessage != null) {
    setValueByPath(toObject, ["message"], fromMessage);
  }
  const fromCode = getValueByPath(fromObject, ["code"]);
  if (fromCode != null) {
    setValueByPath(toObject, ["code"], fromCode);
  }
  return toObject;
}
function fileToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  const fromSizeBytes = getValueByPath(fromObject, ["sizeBytes"]);
  if (fromSizeBytes != null) {
    setValueByPath(toObject, ["sizeBytes"], fromSizeBytes);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromExpirationTime = getValueByPath(fromObject, [
    "expirationTime"
  ]);
  if (fromExpirationTime != null) {
    setValueByPath(toObject, ["expirationTime"], fromExpirationTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromSha256Hash = getValueByPath(fromObject, ["sha256Hash"]);
  if (fromSha256Hash != null) {
    setValueByPath(toObject, ["sha256Hash"], fromSha256Hash);
  }
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromDownloadUri = getValueByPath(fromObject, ["downloadUri"]);
  if (fromDownloadUri != null) {
    setValueByPath(toObject, ["downloadUri"], fromDownloadUri);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], fromState);
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    setValueByPath(toObject, ["source"], fromSource);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fileStatusToMldev(apiClient, fromError));
  }
  return toObject;
}
function createFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFile = getValueByPath(fromObject, ["file"]);
  if (fromFile != null) {
    setValueByPath(toObject, ["file"], fileToMldev(apiClient, fromFile));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function getFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function deleteFileParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function fileStatusFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDetails = getValueByPath(fromObject, ["details"]);
  if (fromDetails != null) {
    setValueByPath(toObject, ["details"], fromDetails);
  }
  const fromMessage = getValueByPath(fromObject, ["message"]);
  if (fromMessage != null) {
    setValueByPath(toObject, ["message"], fromMessage);
  }
  const fromCode = getValueByPath(fromObject, ["code"]);
  if (fromCode != null) {
    setValueByPath(toObject, ["code"], fromCode);
  }
  return toObject;
}
function fileFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  const fromSizeBytes = getValueByPath(fromObject, ["sizeBytes"]);
  if (fromSizeBytes != null) {
    setValueByPath(toObject, ["sizeBytes"], fromSizeBytes);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromExpirationTime = getValueByPath(fromObject, [
    "expirationTime"
  ]);
  if (fromExpirationTime != null) {
    setValueByPath(toObject, ["expirationTime"], fromExpirationTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromSha256Hash = getValueByPath(fromObject, ["sha256Hash"]);
  if (fromSha256Hash != null) {
    setValueByPath(toObject, ["sha256Hash"], fromSha256Hash);
  }
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromDownloadUri = getValueByPath(fromObject, ["downloadUri"]);
  if (fromDownloadUri != null) {
    setValueByPath(toObject, ["downloadUri"], fromDownloadUri);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], fromState);
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    setValueByPath(toObject, ["source"], fromSource);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fileStatusFromMldev(apiClient, fromError));
  }
  return toObject;
}
function listFilesResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromFiles = getValueByPath(fromObject, ["files"]);
  if (fromFiles != null) {
    if (Array.isArray(fromFiles)) {
      setValueByPath(toObject, ["files"], fromFiles.map((item) => {
        return fileFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["files"], fromFiles);
    }
  }
  return toObject;
}
function createFileResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromHttpHeaders = getValueByPath(fromObject, ["httpHeaders"]);
  if (fromHttpHeaders != null) {
    setValueByPath(toObject, ["httpHeaders"], fromHttpHeaders);
  }
  return toObject;
}
function deleteFileResponseFromMldev() {
  const toObject = {};
  return toObject;
}
var Files = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_FILES, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Uploads a file asynchronously to the Gemini API.
   * This method is not available in Vertex AI.
   * Supported upload sources:
   * - Node.js: File path (string) or Blob object.
   * - Browser: Blob object (e.g., File).
   *
   * @remarks
   * The `mimeType` can be specified in the `config` parameter. If omitted:
   *  - For file path (string) inputs, the `mimeType` will be inferred from the
   *     file extension.
   *  - For Blob object inputs, the `mimeType` will be set to the Blob's `type`
   *     property.
   * Somex eamples for file extension to mimeType mapping:
   * .txt -> text/plain
   * .json -> application/json
   * .jpg  -> image/jpeg
   * .png -> image/png
   * .mp3 -> audio/mpeg
   * .mp4 -> video/mp4
   *
   * This section can contain multiple paragraphs and code examples.
   *
   * @param params - Optional parameters specified in the
   *        `types.UploadFileParameters` interface.
   *         @see {@link types.UploadFileParameters#config} for the optional
   *         config in the parameters.
   * @return A promise that resolves to a `types.File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   * the `mimeType` can be provided in the `params.config` parameter.
   * @throws An error occurs if a suitable upload location cannot be established.
   *
   * @example
   * The following code uploads a file to Gemini API.
   *
   * ```ts
   * const file = await ai.files.upload({file: 'file.txt', config: {
   *   mimeType: 'text/plain',
   * }});
   * console.log(file.name);
   * ```
   */
  async upload(params) {
    if (this.apiClient.isVertexAI()) {
      throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");
    }
    return this.apiClient.uploadFile(params.file, params.config).then((response) => {
      const file = fileFromMldev(this.apiClient, response);
      return file;
    });
  }
  async listInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = listFilesParametersToMldev(this.apiClient, params);
      path = formatMap("files", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listFilesResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new ListFilesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async createInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createFileParametersToMldev(this.apiClient, params);
      path = formatMap("upload/v1beta/files", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = createFileResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new CreateFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Retrieves the file information from the service.
   *
   * @param params - The parameters for the get request
   * @return The Promise that resolves to the types.File object requested.
   *
   * @example
   * ```ts
   * const config: GetFileParameters = {
   *   name: fileName,
   * };
   * file = await ai.files.get(config);
   * console.log(file.name);
   * ```
   */
  async get(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = getFileParametersToMldev(this.apiClient, params);
      path = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = fileFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Deletes a remotely stored file.
   *
   * @param params - The parameters for the delete request.
   * @return The DeleteFileResponse, the response for the delete method.
   *
   * @example
   * The following code deletes an example file named "files/mehozpxf877d".
   *
   * ```ts
   * await ai.files.delete({name: file.name});
   * ```
   */
  async delete(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = deleteFileParametersToMldev(this.apiClient, params);
      path = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then(() => {
        const resp = deleteFileResponseFromMldev();
        const typedResp = new DeleteFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function partToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["videoMetadata"]) !== void 0) {
    throw new Error("videoMetadata parameter is not supported in Gemini API.");
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["example"]) !== void 0) {
    throw new Error("example parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["pattern"]) !== void 0) {
    throw new Error("pattern parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["default"]) !== void 0) {
    throw new Error("default parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["maxLength"]) !== void 0) {
    throw new Error("maxLength parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["minLength"]) !== void 0) {
    throw new Error("minLength parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["minProperties"]) !== void 0) {
    throw new Error("minProperties parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["maxProperties"]) !== void 0) {
    throw new Error("maxProperties parameter is not supported in Gemini API.");
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function safetySettingToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["method"]) !== void 0) {
    throw new Error("method parameter is not supported in Gemini API.");
  }
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function functionDeclarationToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["response"]) !== void 0) {
    throw new Error("response parameter is not supported in Gemini API.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToMldev() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToMldev(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToMldev(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function prebuiltVoiceConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceName = getValueByPath(fromObject, ["voiceName"]);
  if (fromVoiceName != null) {
    setValueByPath(toObject, ["voiceName"], fromVoiceName);
  }
  return toObject;
}
function voiceConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromPrebuiltVoiceConfig = getValueByPath(fromObject, [
    "prebuiltVoiceConfig"
  ]);
  if (fromPrebuiltVoiceConfig != null) {
    setValueByPath(toObject, ["prebuiltVoiceConfig"], prebuiltVoiceConfigToMldev(apiClient, fromPrebuiltVoiceConfig));
  }
  return toObject;
}
function speechConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceConfig = getValueByPath(fromObject, ["voiceConfig"]);
  if (fromVoiceConfig != null) {
    setValueByPath(toObject, ["voiceConfig"], voiceConfigToMldev(apiClient, fromVoiceConfig));
  }
  return toObject;
}
function thinkingConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromIncludeThoughts = getValueByPath(fromObject, [
    "includeThoughts"
  ]);
  if (fromIncludeThoughts != null) {
    setValueByPath(toObject, ["includeThoughts"], fromIncludeThoughts);
  }
  const fromThinkingBudget = getValueByPath(fromObject, [
    "thinkingBudget"
  ]);
  if (fromThinkingBudget != null) {
    setValueByPath(toObject, ["thinkingBudget"], fromThinkingBudget);
  }
  return toObject;
}
function generateContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], schemaToMldev(apiClient, tSchema(apiClient, fromResponseSchema)));
  }
  if (getValueByPath(fromObject, ["routingConfig"]) !== void 0) {
    throw new Error("routingConfig parameter is not supported in Gemini API.");
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    if (Array.isArray(fromSafetySettings)) {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings.map((item) => {
        return safetySettingToMldev(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings);
    }
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, tTools(apiClient, fromTools).map((item) => {
        return toolToMldev(apiClient, tTool(apiClient, item));
      })));
    } else {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, fromTools));
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev(apiClient, fromToolConfig));
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], speechConfigToMldev(apiClient, tSpeechConfig(apiClient, fromSpeechConfig)));
  }
  if (getValueByPath(fromObject, ["audioTimestamp"]) !== void 0) {
    throw new Error("audioTimestamp parameter is not supported in Gemini API.");
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], thinkingConfigToMldev(apiClient, fromThinkingConfig));
  }
  return toObject;
}
function generateContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function embedContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["requests[]", "taskType"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["requests[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["requests[]", "outputDimensionality"], fromOutputDimensionality);
  }
  if (getValueByPath(fromObject, ["mimeType"]) !== void 0) {
    throw new Error("mimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["autoTruncate"]) !== void 0) {
    throw new Error("autoTruncate parameter is not supported in Gemini API.");
  }
  return toObject;
}
function embedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    setValueByPath(toObject, ["requests[]", "content"], tContentsForEmbed(apiClient, fromContents));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], embedContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  const fromModelForEmbedContent = getValueByPath(fromObject, ["model"]);
  if (fromModelForEmbedContent !== void 0) {
    setValueByPath(toObject, ["requests[]", "model"], tModel(apiClient, fromModelForEmbedContent));
  }
  return toObject;
}
function generateImagesConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["negativePrompt"]) !== void 0) {
    throw new Error("negativePrompt parameter is not supported in Gemini API.");
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  if (getValueByPath(fromObject, ["addWatermark"]) !== void 0) {
    throw new Error("addWatermark parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["enhancePrompt"]) !== void 0) {
    throw new Error("enhancePrompt parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateImagesParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateImagesConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getModelParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function countTokensConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["systemInstruction"]) !== void 0) {
    throw new Error("systemInstruction parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["tools"]) !== void 0) {
    throw new Error("tools parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["generationConfig"]) !== void 0) {
    throw new Error("generationConfig parameter is not supported in Gemini API.");
  }
  return toObject;
}
function countTokensParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToMldev(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], countTokensConfigToMldev(apiClient, fromConfig));
  }
  return toObject;
}
function imageToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["gcsUri"]) !== void 0) {
    throw new Error("gcsUri parameter is not supported in Gemini API.");
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generateVideosConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["fps"]) !== void 0) {
    throw new Error("fps parameter is not supported in Gemini API.");
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  if (getValueByPath(fromObject, ["resolution"]) !== void 0) {
    throw new Error("resolution parameter is not supported in Gemini API.");
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  if (getValueByPath(fromObject, ["pubsubTopic"]) !== void 0) {
    throw new Error("pubsubTopic parameter is not supported in Gemini API.");
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  if (getValueByPath(fromObject, ["enhancePrompt"]) !== void 0) {
    throw new Error("enhancePrompt parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateVideosParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToMldev(apiClient, fromImage));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateVideosConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function schemaToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromExample = getValueByPath(fromObject, ["example"]);
  if (fromExample != null) {
    setValueByPath(toObject, ["example"], fromExample);
  }
  const fromPattern = getValueByPath(fromObject, ["pattern"]);
  if (fromPattern != null) {
    setValueByPath(toObject, ["pattern"], fromPattern);
  }
  const fromDefault = getValueByPath(fromObject, ["default"]);
  if (fromDefault != null) {
    setValueByPath(toObject, ["default"], fromDefault);
  }
  const fromMaxLength = getValueByPath(fromObject, ["maxLength"]);
  if (fromMaxLength != null) {
    setValueByPath(toObject, ["maxLength"], fromMaxLength);
  }
  const fromMinLength = getValueByPath(fromObject, ["minLength"]);
  if (fromMinLength != null) {
    setValueByPath(toObject, ["minLength"], fromMinLength);
  }
  const fromMinProperties = getValueByPath(fromObject, [
    "minProperties"
  ]);
  if (fromMinProperties != null) {
    setValueByPath(toObject, ["minProperties"], fromMinProperties);
  }
  const fromMaxProperties = getValueByPath(fromObject, [
    "maxProperties"
  ]);
  if (fromMaxProperties != null) {
    setValueByPath(toObject, ["maxProperties"], fromMaxProperties);
  }
  const fromAnyOf = getValueByPath(fromObject, ["anyOf"]);
  if (fromAnyOf != null) {
    setValueByPath(toObject, ["anyOf"], fromAnyOf);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromEnum = getValueByPath(fromObject, ["enum"]);
  if (fromEnum != null) {
    setValueByPath(toObject, ["enum"], fromEnum);
  }
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromItems = getValueByPath(fromObject, ["items"]);
  if (fromItems != null) {
    setValueByPath(toObject, ["items"], fromItems);
  }
  const fromMaxItems = getValueByPath(fromObject, ["maxItems"]);
  if (fromMaxItems != null) {
    setValueByPath(toObject, ["maxItems"], fromMaxItems);
  }
  const fromMaximum = getValueByPath(fromObject, ["maximum"]);
  if (fromMaximum != null) {
    setValueByPath(toObject, ["maximum"], fromMaximum);
  }
  const fromMinItems = getValueByPath(fromObject, ["minItems"]);
  if (fromMinItems != null) {
    setValueByPath(toObject, ["minItems"], fromMinItems);
  }
  const fromMinimum = getValueByPath(fromObject, ["minimum"]);
  if (fromMinimum != null) {
    setValueByPath(toObject, ["minimum"], fromMinimum);
  }
  const fromNullable = getValueByPath(fromObject, ["nullable"]);
  if (fromNullable != null) {
    setValueByPath(toObject, ["nullable"], fromNullable);
  }
  const fromProperties = getValueByPath(fromObject, ["properties"]);
  if (fromProperties != null) {
    setValueByPath(toObject, ["properties"], fromProperties);
  }
  const fromPropertyOrdering = getValueByPath(fromObject, [
    "propertyOrdering"
  ]);
  if (fromPropertyOrdering != null) {
    setValueByPath(toObject, ["propertyOrdering"], fromPropertyOrdering);
  }
  const fromRequired = getValueByPath(fromObject, ["required"]);
  if (fromRequired != null) {
    setValueByPath(toObject, ["required"], fromRequired);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (fromTitle != null) {
    setValueByPath(toObject, ["title"], fromTitle);
  }
  const fromType = getValueByPath(fromObject, ["type"]);
  if (fromType != null) {
    setValueByPath(toObject, ["type"], fromType);
  }
  return toObject;
}
function safetySettingToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMethod = getValueByPath(fromObject, ["method"]);
  if (fromMethod != null) {
    setValueByPath(toObject, ["method"], fromMethod);
  }
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function functionDeclarationToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], schemaToVertex(apiClient, fromResponse));
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  return toObject;
}
function googleSearchToVertex() {
  const toObject = {};
  return toObject;
}
function dynamicRetrievalConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromDynamicThreshold = getValueByPath(fromObject, [
    "dynamicThreshold"
  ]);
  if (fromDynamicThreshold != null) {
    setValueByPath(toObject, ["dynamicThreshold"], fromDynamicThreshold);
  }
  return toObject;
}
function googleSearchRetrievalToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromDynamicRetrievalConfig = getValueByPath(fromObject, [
    "dynamicRetrievalConfig"
  ]);
  if (fromDynamicRetrievalConfig != null) {
    setValueByPath(toObject, ["dynamicRetrievalConfig"], dynamicRetrievalConfigToVertex(apiClient, fromDynamicRetrievalConfig));
  }
  return toObject;
}
function toolToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    if (Array.isArray(fromFunctionDeclarations)) {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations.map((item) => {
        return functionDeclarationToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["functionDeclarations"], fromFunctionDeclarations);
    }
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToVertex());
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], googleSearchRetrievalToVertex(apiClient, fromGoogleSearchRetrieval));
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  return toObject;
}
function functionCallingConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  return toObject;
}
function toolConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToVertex(apiClient, fromFunctionCallingConfig));
  }
  return toObject;
}
function prebuiltVoiceConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceName = getValueByPath(fromObject, ["voiceName"]);
  if (fromVoiceName != null) {
    setValueByPath(toObject, ["voiceName"], fromVoiceName);
  }
  return toObject;
}
function voiceConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromPrebuiltVoiceConfig = getValueByPath(fromObject, [
    "prebuiltVoiceConfig"
  ]);
  if (fromPrebuiltVoiceConfig != null) {
    setValueByPath(toObject, ["prebuiltVoiceConfig"], prebuiltVoiceConfigToVertex(apiClient, fromPrebuiltVoiceConfig));
  }
  return toObject;
}
function speechConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVoiceConfig = getValueByPath(fromObject, ["voiceConfig"]);
  if (fromVoiceConfig != null) {
    setValueByPath(toObject, ["voiceConfig"], voiceConfigToVertex(apiClient, fromVoiceConfig));
  }
  return toObject;
}
function thinkingConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromIncludeThoughts = getValueByPath(fromObject, [
    "includeThoughts"
  ]);
  if (fromIncludeThoughts != null) {
    setValueByPath(toObject, ["includeThoughts"], fromIncludeThoughts);
  }
  const fromThinkingBudget = getValueByPath(fromObject, [
    "thinkingBudget"
  ]);
  if (fromThinkingBudget != null) {
    setValueByPath(toObject, ["thinkingBudget"], fromThinkingBudget);
  }
  return toObject;
}
function generateContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], schemaToVertex(apiClient, tSchema(apiClient, fromResponseSchema)));
  }
  const fromRoutingConfig = getValueByPath(fromObject, [
    "routingConfig"
  ]);
  if (fromRoutingConfig != null) {
    setValueByPath(toObject, ["routingConfig"], fromRoutingConfig);
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    if (Array.isArray(fromSafetySettings)) {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings.map((item) => {
        return safetySettingToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["safetySettings"], fromSafetySettings);
    }
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, tTools(apiClient, fromTools).map((item) => {
        return toolToVertex(apiClient, tTool(apiClient, item));
      })));
    } else {
      setValueByPath(parentObject, ["tools"], tTools(apiClient, fromTools));
    }
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToVertex(apiClient, fromToolConfig));
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], speechConfigToVertex(apiClient, tSpeechConfig(apiClient, fromSpeechConfig)));
  }
  const fromAudioTimestamp = getValueByPath(fromObject, [
    "audioTimestamp"
  ]);
  if (fromAudioTimestamp != null) {
    setValueByPath(toObject, ["audioTimestamp"], fromAudioTimestamp);
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], thinkingConfigToVertex(apiClient, fromThinkingConfig));
  }
  return toObject;
}
function generateContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function embedContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["instances[]", "task_type"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["instances[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["parameters", "outputDimensionality"], fromOutputDimensionality);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (parentObject !== void 0 && fromMimeType != null) {
    setValueByPath(parentObject, ["instances[]", "mimeType"], fromMimeType);
  }
  const fromAutoTruncate = getValueByPath(fromObject, ["autoTruncate"]);
  if (parentObject !== void 0 && fromAutoTruncate != null) {
    setValueByPath(parentObject, ["parameters", "autoTruncate"], fromAutoTruncate);
  }
  return toObject;
}
function embedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    setValueByPath(toObject, ["instances[]", "content"], tContentsForEmbed(apiClient, fromContents));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], embedContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function generateImagesConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromAddWatermark = getValueByPath(fromObject, ["addWatermark"]);
  if (parentObject !== void 0 && fromAddWatermark != null) {
    setValueByPath(parentObject, ["parameters", "addWatermark"], fromAddWatermark);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  return toObject;
}
function generateImagesParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateImagesConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function getModelParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function countTokensConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToVertex(apiClient, tContent(apiClient, fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    if (Array.isArray(fromTools)) {
      setValueByPath(parentObject, ["tools"], fromTools.map((item) => {
        return toolToVertex(apiClient, item);
      }));
    } else {
      setValueByPath(parentObject, ["tools"], fromTools);
    }
  }
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["generationConfig"], fromGenerationConfig);
  }
  return toObject;
}
function countTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], countTokensConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function computeTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    if (Array.isArray(fromContents)) {
      setValueByPath(toObject, ["contents"], tContents(apiClient, tContents(apiClient, fromContents).map((item) => {
        return contentToVertex(apiClient, item);
      })));
    } else {
      setValueByPath(toObject, ["contents"], tContents(apiClient, fromContents));
    }
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function imageToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generateVideosConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromFps = getValueByPath(fromObject, ["fps"]);
  if (parentObject !== void 0 && fromFps != null) {
    setValueByPath(parentObject, ["parameters", "fps"], fromFps);
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromResolution = getValueByPath(fromObject, ["resolution"]);
  if (parentObject !== void 0 && fromResolution != null) {
    setValueByPath(parentObject, ["parameters", "resolution"], fromResolution);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromPubsubTopic = getValueByPath(fromObject, ["pubsubTopic"]);
  if (parentObject !== void 0 && fromPubsubTopic != null) {
    setValueByPath(parentObject, ["parameters", "pubsubTopic"], fromPubsubTopic);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  return toObject;
}
function generateVideosParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToVertex(apiClient, fromImage));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], generateVideosConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function partFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function citationMetadataFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citationSources"]);
  if (fromCitations != null) {
    setValueByPath(toObject, ["citations"], fromCitations);
  }
  return toObject;
}
function candidateFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], contentFromMldev(apiClient, fromContent));
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromMldev(apiClient, fromCitationMetadata));
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    setValueByPath(toObject, ["safetyRatings"], fromSafetyRatings);
  }
  return toObject;
}
function generateContentResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    if (Array.isArray(fromCandidates)) {
      setValueByPath(toObject, ["candidates"], fromCandidates.map((item) => {
        return candidateFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["candidates"], fromCandidates);
    }
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function contentEmbeddingFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromValues = getValueByPath(fromObject, ["values"]);
  if (fromValues != null) {
    setValueByPath(toObject, ["values"], fromValues);
  }
  return toObject;
}
function embedContentMetadataFromMldev() {
  const toObject = {};
  return toObject;
}
function embedContentResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromEmbeddings = getValueByPath(fromObject, ["embeddings"]);
  if (fromEmbeddings != null) {
    if (Array.isArray(fromEmbeddings)) {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings.map((item) => {
        return contentEmbeddingFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings);
    }
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], embedContentMetadataFromMldev());
  }
  return toObject;
}
function imageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function safetyAttributesFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function generatedImageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromMldev(apiClient, fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromMldev(apiClient, fromSafetyAttributes));
  }
  return toObject;
}
function generateImagesResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    if (Array.isArray(fromGeneratedImages)) {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages.map((item) => {
        return generatedImageFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages);
    }
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromMldev(apiClient, fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function tunedModelInfoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function modelFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["version"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromMldev(apiClient, fromTunedModelInfo));
  }
  const fromInputTokenLimit = getValueByPath(fromObject, [
    "inputTokenLimit"
  ]);
  if (fromInputTokenLimit != null) {
    setValueByPath(toObject, ["inputTokenLimit"], fromInputTokenLimit);
  }
  const fromOutputTokenLimit = getValueByPath(fromObject, [
    "outputTokenLimit"
  ]);
  if (fromOutputTokenLimit != null) {
    setValueByPath(toObject, ["outputTokenLimit"], fromOutputTokenLimit);
  }
  const fromSupportedActions = getValueByPath(fromObject, [
    "supportedGenerationMethods"
  ]);
  if (fromSupportedActions != null) {
    setValueByPath(toObject, ["supportedActions"], fromSupportedActions);
  }
  return toObject;
}
function countTokensResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  return toObject;
}
function videoFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["video", "uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "video",
    "encodedVideo"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev$1(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromMldev$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromMldev$1(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev$1(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromMldev$1(apiClient, fromResult));
  }
  return toObject;
}
function partFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fromFileData);
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], fromFunctionCall);
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], fromInlineData);
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  return toObject;
}
function contentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    if (Array.isArray(fromParts)) {
      setValueByPath(toObject, ["parts"], fromParts.map((item) => {
        return partFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["parts"], fromParts);
    }
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function citationMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citations"]);
  if (fromCitations != null) {
    setValueByPath(toObject, ["citations"], fromCitations);
  }
  return toObject;
}
function candidateFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], contentFromVertex(apiClient, fromContent));
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromVertex(apiClient, fromCitationMetadata));
  }
  const fromFinishMessage = getValueByPath(fromObject, [
    "finishMessage"
  ]);
  if (fromFinishMessage != null) {
    setValueByPath(toObject, ["finishMessage"], fromFinishMessage);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    setValueByPath(toObject, ["safetyRatings"], fromSafetyRatings);
  }
  return toObject;
}
function generateContentResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    if (Array.isArray(fromCandidates)) {
      setValueByPath(toObject, ["candidates"], fromCandidates.map((item) => {
        return candidateFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["candidates"], fromCandidates);
    }
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromResponseId = getValueByPath(fromObject, ["responseId"]);
  if (fromResponseId != null) {
    setValueByPath(toObject, ["responseId"], fromResponseId);
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function contentEmbeddingStatisticsFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTruncated = getValueByPath(fromObject, ["truncated"]);
  if (fromTruncated != null) {
    setValueByPath(toObject, ["truncated"], fromTruncated);
  }
  const fromTokenCount = getValueByPath(fromObject, ["token_count"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function contentEmbeddingFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromValues = getValueByPath(fromObject, ["values"]);
  if (fromValues != null) {
    setValueByPath(toObject, ["values"], fromValues);
  }
  const fromStatistics = getValueByPath(fromObject, ["statistics"]);
  if (fromStatistics != null) {
    setValueByPath(toObject, ["statistics"], contentEmbeddingStatisticsFromVertex(apiClient, fromStatistics));
  }
  return toObject;
}
function embedContentMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromBillableCharacterCount = getValueByPath(fromObject, [
    "billableCharacterCount"
  ]);
  if (fromBillableCharacterCount != null) {
    setValueByPath(toObject, ["billableCharacterCount"], fromBillableCharacterCount);
  }
  return toObject;
}
function embedContentResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromEmbeddings = getValueByPath(fromObject, [
    "predictions[]",
    "embeddings"
  ]);
  if (fromEmbeddings != null) {
    if (Array.isArray(fromEmbeddings)) {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings.map((item) => {
        return contentEmbeddingFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["embeddings"], fromEmbeddings);
    }
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], embedContentMetadataFromVertex(apiClient, fromMetadata));
  }
  return toObject;
}
function imageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(apiClient, fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function safetyAttributesFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function generatedImageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromVertex(apiClient, fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromVertex(apiClient, fromSafetyAttributes));
  }
  const fromEnhancedPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromEnhancedPrompt != null) {
    setValueByPath(toObject, ["enhancedPrompt"], fromEnhancedPrompt);
  }
  return toObject;
}
function generateImagesResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    if (Array.isArray(fromGeneratedImages)) {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages.map((item) => {
        return generatedImageFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedImages"], fromGeneratedImages);
    }
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromVertex(apiClient, fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function endpointFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["endpoint"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDeployedModelId = getValueByPath(fromObject, [
    "deployedModelId"
  ]);
  if (fromDeployedModelId != null) {
    setValueByPath(toObject, ["deployedModelId"], fromDeployedModelId);
  }
  return toObject;
}
function tunedModelInfoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, [
    "labels",
    "google-vertex-llm-tuning-base-model-id"
  ]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function modelFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["versionId"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromEndpoints = getValueByPath(fromObject, ["deployedModels"]);
  if (fromEndpoints != null) {
    if (Array.isArray(fromEndpoints)) {
      setValueByPath(toObject, ["endpoints"], fromEndpoints.map((item) => {
        return endpointFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["endpoints"], fromEndpoints);
    }
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (fromLabels != null) {
    setValueByPath(toObject, ["labels"], fromLabels);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromVertex(apiClient, fromTunedModelInfo));
  }
  return toObject;
}
function countTokensResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  return toObject;
}
function computeTokensResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromTokensInfo = getValueByPath(fromObject, ["tokensInfo"]);
  if (fromTokensInfo != null) {
    setValueByPath(toObject, ["tokensInfo"], fromTokensInfo);
  }
  return toObject;
}
function videoFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex$1(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromVertex$1(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromVertex$1(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex$1(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, ["response"]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromVertex$1(apiClient, fromResult));
  }
  return toObject;
}
function liveConnectParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig !== void 0 && fromConfig !== null) {
    setValueByPath(toObject, ["setup"], liveConnectConfigToMldev(apiClient, fromConfig));
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel !== void 0) {
    setValueByPath(toObject, ["setup", "model"], fromModel);
  }
  return toObject;
}
function liveConnectParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig !== void 0 && fromConfig !== null) {
    setValueByPath(toObject, ["setup"], liveConnectConfigToVertex(apiClient, fromConfig));
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel !== void 0) {
    setValueByPath(toObject, ["setup", "model"], fromModel);
  }
  return toObject;
}
function liveServerMessageFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromSetupComplete = getValueByPath(fromObject, [
    "setupComplete"
  ]);
  if (fromSetupComplete !== void 0) {
    setValueByPath(toObject, ["setupComplete"], fromSetupComplete);
  }
  const fromServerContent = getValueByPath(fromObject, [
    "serverContent"
  ]);
  if (fromServerContent !== void 0 && fromServerContent !== null) {
    setValueByPath(toObject, ["serverContent"], liveServerContentFromMldev(apiClient, fromServerContent));
  }
  const fromToolCall = getValueByPath(fromObject, ["toolCall"]);
  if (fromToolCall !== void 0 && fromToolCall !== null) {
    setValueByPath(toObject, ["toolCall"], liveServerToolCallFromMldev(apiClient, fromToolCall));
  }
  const fromToolCallCancellation = getValueByPath(fromObject, [
    "toolCallCancellation"
  ]);
  if (fromToolCallCancellation !== void 0 && fromToolCallCancellation !== null) {
    setValueByPath(toObject, ["toolCallCancellation"], liveServerToolCallCancellationFromMldev(apiClient, fromToolCallCancellation));
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != void 0 && fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], usageMetadataFromMldev(apiClient, fromUsageMetadata));
  }
  const fromGoAway = getValueByPath(fromObject, ["goAway"]);
  if (fromGoAway !== void 0 && fromGoAway !== null) {
    setValueByPath(toObject, ["goAway"], liveServerGoAwayFromMldev(fromGoAway));
  }
  const fromSessionResumptionUpdate = getValueByPath(fromObject, [
    "sessionResumptionUpdate"
  ]);
  if (fromSessionResumptionUpdate !== void 0 && fromSessionResumptionUpdate !== null) {
    setValueByPath(toObject, ["sessionResumptionUpdate"], liveServerSessionResumptionUpdateFromMldev(fromSessionResumptionUpdate));
  }
  return toObject;
}
function liveServerMessageFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromSetupComplete = getValueByPath(fromObject, [
    "setupComplete"
  ]);
  if (fromSetupComplete !== void 0) {
    setValueByPath(toObject, ["setupComplete"], fromSetupComplete);
  }
  const fromServerContent = getValueByPath(fromObject, [
    "serverContent"
  ]);
  if (fromServerContent !== void 0 && fromServerContent !== null) {
    setValueByPath(toObject, ["serverContent"], liveServerContentFromVertex(apiClient, fromServerContent));
  }
  const fromToolCall = getValueByPath(fromObject, ["toolCall"]);
  if (fromToolCall !== void 0 && fromToolCall !== null) {
    setValueByPath(toObject, ["toolCall"], liveServerToolCallFromVertex(apiClient, fromToolCall));
  }
  const fromToolCallCancellation = getValueByPath(fromObject, [
    "toolCallCancellation"
  ]);
  if (fromToolCallCancellation !== void 0 && fromToolCallCancellation !== null) {
    setValueByPath(toObject, ["toolCallCancellation"], liveServerToolCallCancellationFromVertex(apiClient, fromToolCallCancellation));
  }
  const fromGoAway = getValueByPath(fromObject, ["goAway"]);
  if (fromGoAway !== void 0 && fromGoAway !== null) {
    setValueByPath(toObject, ["goAway"], liveServerGoAwayFromVertex(fromGoAway));
  }
  const fromSessionResumptionUpdate = getValueByPath(fromObject, [
    "sessionResumptionUpdate"
  ]);
  if (fromSessionResumptionUpdate !== void 0 && fromSessionResumptionUpdate !== null) {
    setValueByPath(toObject, ["sessionResumptionUpdate"], liveServerSessionResumptionUpdateFromVertex(fromSessionResumptionUpdate));
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != void 0 && fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], usageMetadataFromVertex(apiClient, fromUsageMetadata));
  }
  return toObject;
}
function slidingWindowToMldev(fromObject) {
  const toObject = {};
  const fromTargetTokens = getValueByPath(fromObject, ["targetTokens"]);
  if (fromTargetTokens !== void 0 && fromTargetTokens !== null) {
    setValueByPath(toObject, ["targetTokens"], fromTargetTokens);
  }
  return toObject;
}
function slidingWindowToVertex(fromObject) {
  const toObject = {};
  const fromTargetTokens = getValueByPath(fromObject, ["targetTokens"]);
  if (fromTargetTokens !== void 0 && fromTargetTokens !== null) {
    setValueByPath(toObject, ["targetTokens"], fromTargetTokens);
  }
  return toObject;
}
function contextWindowCompressionToMldev(fromObject) {
  const toObject = {};
  const fromTriggerTokens = getValueByPath(fromObject, [
    "triggerTokens"
  ]);
  if (fromTriggerTokens !== void 0 && fromTriggerTokens !== null) {
    setValueByPath(toObject, ["triggerTokens"], fromTriggerTokens);
  }
  const fromSlidingWindow = getValueByPath(fromObject, [
    "slidingWindow"
  ]);
  if (fromSlidingWindow !== void 0 && fromSlidingWindow !== null) {
    setValueByPath(toObject, ["slidingWindow"], slidingWindowToMldev(fromSlidingWindow));
  }
  return toObject;
}
function contextWindowCompressionToVertex(fromObject) {
  const toObject = {};
  const fromTriggerTokens = getValueByPath(fromObject, [
    "triggerTokens"
  ]);
  if (fromTriggerTokens !== void 0 && fromTriggerTokens !== null) {
    setValueByPath(toObject, ["triggerTokens"], fromTriggerTokens);
  }
  const fromSlidingWindow = getValueByPath(fromObject, [
    "slidingWindow"
  ]);
  if (fromSlidingWindow !== void 0 && fromSlidingWindow !== null) {
    setValueByPath(toObject, ["slidingWindow"], slidingWindowToVertex(fromSlidingWindow));
  }
  return toObject;
}
function automaticActivityDetectionToMldev(fromObject) {
  const toObject = {};
  const fromDisabled = getValueByPath(fromObject, ["disabled"]);
  if (fromDisabled !== void 0 && fromDisabled !== null) {
    setValueByPath(toObject, ["disabled"], fromDisabled);
  }
  const fromStartOfSpeechSensitivity = getValueByPath(fromObject, [
    "startOfSpeechSensitivity"
  ]);
  if (fromStartOfSpeechSensitivity !== void 0 && fromStartOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["startOfSpeechSensitivity"], fromStartOfSpeechSensitivity);
  }
  const fromEndOfSpeechSensitivity = getValueByPath(fromObject, [
    "endOfSpeechSensitivity"
  ]);
  if (fromEndOfSpeechSensitivity !== void 0 && fromEndOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["endOfSpeechSensitivity"], fromEndOfSpeechSensitivity);
  }
  const fromPrefixPaddingMs = getValueByPath(fromObject, [
    "prefixPaddingMs"
  ]);
  if (fromPrefixPaddingMs !== void 0 && fromPrefixPaddingMs !== null) {
    setValueByPath(toObject, ["prefixPaddingMs"], fromPrefixPaddingMs);
  }
  const fromSilenceDurationMs = getValueByPath(fromObject, [
    "silenceDurationMs"
  ]);
  if (fromSilenceDurationMs !== void 0 && fromSilenceDurationMs !== null) {
    setValueByPath(toObject, ["silenceDurationMs"], fromSilenceDurationMs);
  }
  return toObject;
}
function automaticActivityDetectionToVertex(fromObject) {
  const toObject = {};
  const fromDisabled = getValueByPath(fromObject, ["disabled"]);
  if (fromDisabled !== void 0 && fromDisabled !== null) {
    setValueByPath(toObject, ["disabled"], fromDisabled);
  }
  const fromStartOfSpeechSensitivity = getValueByPath(fromObject, [
    "startOfSpeechSensitivity"
  ]);
  if (fromStartOfSpeechSensitivity !== void 0 && fromStartOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["startOfSpeechSensitivity"], fromStartOfSpeechSensitivity);
  }
  const fromEndOfSpeechSensitivity = getValueByPath(fromObject, [
    "endOfSpeechSensitivity"
  ]);
  if (fromEndOfSpeechSensitivity !== void 0 && fromEndOfSpeechSensitivity !== null) {
    setValueByPath(toObject, ["endOfSpeechSensitivity"], fromEndOfSpeechSensitivity);
  }
  const fromPrefixPaddingMs = getValueByPath(fromObject, [
    "prefixPaddingMs"
  ]);
  if (fromPrefixPaddingMs !== void 0 && fromPrefixPaddingMs !== null) {
    setValueByPath(toObject, ["prefixPaddingMs"], fromPrefixPaddingMs);
  }
  const fromSilenceDurationMs = getValueByPath(fromObject, [
    "silenceDurationMs"
  ]);
  if (fromSilenceDurationMs !== void 0 && fromSilenceDurationMs !== null) {
    setValueByPath(toObject, ["silenceDurationMs"], fromSilenceDurationMs);
  }
  return toObject;
}
function realtimeInputConfigToMldev(fromObject) {
  const toObject = {};
  const fromAutomaticActivityDetection = getValueByPath(fromObject, [
    "automaticActivityDetection"
  ]);
  if (fromAutomaticActivityDetection !== void 0 && fromAutomaticActivityDetection !== null) {
    setValueByPath(toObject, ["automaticActivityDetection"], automaticActivityDetectionToMldev(fromAutomaticActivityDetection));
  }
  const fromActivityHandling = getValueByPath(fromObject, [
    "activityHandling"
  ]);
  if (fromActivityHandling !== void 0 && fromActivityHandling !== null) {
    setValueByPath(toObject, ["activityHandling"], fromActivityHandling);
  }
  const fromTurnCoverage = getValueByPath(fromObject, ["turnCoverage"]);
  if (fromTurnCoverage !== void 0 && fromTurnCoverage !== null) {
    setValueByPath(toObject, ["turnCoverage"], fromTurnCoverage);
  }
  return toObject;
}
function realtimeInputConfigToVertex(fromObject) {
  const toObject = {};
  const fromAutomaticActivityDetection = getValueByPath(fromObject, [
    "automaticActivityDetection"
  ]);
  if (fromAutomaticActivityDetection !== void 0 && fromAutomaticActivityDetection !== null) {
    setValueByPath(toObject, ["automaticActivityDetection"], automaticActivityDetectionToVertex(fromAutomaticActivityDetection));
  }
  const fromActivityHandling = getValueByPath(fromObject, [
    "activityHandling"
  ]);
  if (fromActivityHandling !== void 0 && fromActivityHandling !== null) {
    setValueByPath(toObject, ["activityHandling"], fromActivityHandling);
  }
  const fromTurnCoverage = getValueByPath(fromObject, ["turnCoverage"]);
  if (fromTurnCoverage !== void 0 && fromTurnCoverage !== null) {
    setValueByPath(toObject, ["turnCoverage"], fromTurnCoverage);
  }
  return toObject;
}
function liveConnectConfigToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (fromGenerationConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities !== void 0) {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], fromResponseModalities);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig", "speechConfig"], fromSpeechConfig);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (fromSystemInstruction !== void 0 && fromSystemInstruction !== null) {
    setValueByPath(toObject, ["systemInstruction"], contentToMldev(apiClient, fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (fromTools !== void 0 && fromTools !== null && Array.isArray(fromTools)) {
    setValueByPath(toObject, ["tools"], fromTools.map((item) => {
      return toolToMldev(apiClient, item);
    }));
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (fromSessionResumption !== void 0 && fromSessionResumption !== null) {
    setValueByPath(toObject, ["sessionResumption"], liveClientSessionResumptionConfigToMldev(fromSessionResumption));
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (fromContextWindowCompression !== void 0 && fromContextWindowCompression !== null) {
    setValueByPath(toObject, ["contextWindowCompression"], contextWindowCompressionToMldev(fromContextWindowCompression));
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (fromRealtimeInputConfig !== void 0 && fromRealtimeInputConfig !== null) {
    setValueByPath(toObject, ["realtimeInputConfig"], realtimeInputConfigToMldev(fromRealtimeInputConfig));
  }
  return toObject;
}
function liveConnectConfigToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (fromGenerationConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities !== void 0) {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], fromResponseModalities);
  } else {
    setValueByPath(toObject, ["generationConfig", "responseModalities"], ["AUDIO"]);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig !== void 0) {
    setValueByPath(toObject, ["generationConfig", "speechConfig"], fromSpeechConfig);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (fromSystemInstruction !== void 0 && fromSystemInstruction !== null) {
    setValueByPath(toObject, ["systemInstruction"], contentToVertex(apiClient, fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (fromTools !== void 0 && fromTools !== null && Array.isArray(fromTools)) {
    setValueByPath(toObject, ["tools"], fromTools.map((item) => {
      return toolToVertex(apiClient, item);
    }));
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (fromSessionResumption !== void 0 && fromSessionResumption !== null) {
    setValueByPath(toObject, ["sessionResumption"], liveClientSessionResumptionConfigToVertex(fromSessionResumption));
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (fromContextWindowCompression !== void 0 && fromContextWindowCompression !== null) {
    setValueByPath(toObject, ["contextWindowCompression"], contextWindowCompressionToVertex(fromContextWindowCompression));
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (fromRealtimeInputConfig !== void 0 && fromRealtimeInputConfig !== null) {
    setValueByPath(toObject, ["realtimeInputConfig"], realtimeInputConfigToVertex(fromRealtimeInputConfig));
  }
  return toObject;
}
function liveServerContentFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModelTurn = getValueByPath(fromObject, ["modelTurn"]);
  if (fromModelTurn !== void 0 && fromModelTurn !== null) {
    setValueByPath(toObject, ["modelTurn"], contentFromMldev(apiClient, fromModelTurn));
  }
  const fromTurnComplete = getValueByPath(fromObject, ["turnComplete"]);
  if (fromTurnComplete !== void 0) {
    setValueByPath(toObject, ["turnComplete"], fromTurnComplete);
  }
  const fromInterrupted = getValueByPath(fromObject, ["interrupted"]);
  if (fromInterrupted !== void 0) {
    setValueByPath(toObject, ["interrupted"], fromInterrupted);
  }
  const fromGenerationComplete = getValueByPath(fromObject, [
    "generationComplete"
  ]);
  if (fromGenerationComplete != null) {
    setValueByPath(toObject, ["generationComplete"], fromGenerationComplete);
  }
  return toObject;
}
function liveServerContentFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModelTurn = getValueByPath(fromObject, ["modelTurn"]);
  if (fromModelTurn !== void 0 && fromModelTurn !== null) {
    setValueByPath(toObject, ["modelTurn"], contentFromVertex(apiClient, fromModelTurn));
  }
  const fromTurnComplete = getValueByPath(fromObject, ["turnComplete"]);
  if (fromTurnComplete !== void 0) {
    setValueByPath(toObject, ["turnComplete"], fromTurnComplete);
  }
  const fromInterrupted = getValueByPath(fromObject, ["interrupted"]);
  if (fromInterrupted !== void 0) {
    setValueByPath(toObject, ["interrupted"], fromInterrupted);
  }
  const fromGenerationComplete = getValueByPath(fromObject, [
    "generationComplete"
  ]);
  if (fromGenerationComplete != null) {
    setValueByPath(toObject, ["generationComplete"], fromGenerationComplete);
  }
  return toObject;
}
function functionCallFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId !== void 0) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs !== void 0) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName !== void 0) {
    setValueByPath(toObject, ["name"], fromName);
  }
  return toObject;
}
function functionCallFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs !== void 0) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName !== void 0) {
    setValueByPath(toObject, ["name"], fromName);
  }
  return toObject;
}
function liveServerToolCallFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCalls = getValueByPath(fromObject, [
    "functionCalls"
  ]);
  if (fromFunctionCalls !== void 0 && fromFunctionCalls !== null && Array.isArray(fromFunctionCalls)) {
    setValueByPath(toObject, ["functionCalls"], fromFunctionCalls.map((item) => {
      return functionCallFromMldev(apiClient, item);
    }));
  }
  return toObject;
}
function liveServerToolCallFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromFunctionCalls = getValueByPath(fromObject, [
    "functionCalls"
  ]);
  if (fromFunctionCalls !== void 0 && fromFunctionCalls !== null && Array.isArray(fromFunctionCalls)) {
    setValueByPath(toObject, ["functionCalls"], fromFunctionCalls.map((item) => {
      return functionCallFromVertex(apiClient, item);
    }));
  }
  return toObject;
}
function liveServerToolCallCancellationFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromIds = getValueByPath(fromObject, ["ids"]);
  if (fromIds !== void 0) {
    setValueByPath(toObject, ["ids"], fromIds);
  }
  return toObject;
}
function liveServerToolCallCancellationFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromIds = getValueByPath(fromObject, ["ids"]);
  if (fromIds !== void 0) {
    setValueByPath(toObject, ["ids"], fromIds);
  }
  return toObject;
}
function liveServerGoAwayFromMldev(fromObject) {
  const toObject = {};
  const fromTimeLeft = getValueByPath(fromObject, ["timeLeft"]);
  if (fromTimeLeft !== void 0) {
    setValueByPath(toObject, ["timeLeft"], fromTimeLeft);
  }
  return toObject;
}
function liveServerGoAwayFromVertex(fromObject) {
  const toObject = {};
  const fromTimeLeft = getValueByPath(fromObject, ["timeLeft"]);
  if (fromTimeLeft !== void 0) {
    setValueByPath(toObject, ["timeLeft"], fromTimeLeft);
  }
  return toObject;
}
function liveServerSessionResumptionUpdateFromMldev(fromObject) {
  const toObject = {};
  const fromNewHandle = getValueByPath(fromObject, ["newHandle"]);
  if (fromNewHandle !== void 0) {
    setValueByPath(toObject, ["newHandle"], fromNewHandle);
  }
  const fromResumable = getValueByPath(fromObject, ["resumable"]);
  if (fromResumable !== void 0) {
    setValueByPath(toObject, ["resumable"], fromResumable);
  }
  const fromLastConsumedClientMessageIndex = getValueByPath(fromObject, [
    "lastConsumedClientMessageIndex"
  ]);
  if (fromLastConsumedClientMessageIndex !== void 0) {
    setValueByPath(toObject, ["lastConsumedClientMessageIndex"], fromLastConsumedClientMessageIndex);
  }
  return toObject;
}
function liveServerSessionResumptionUpdateFromVertex(fromObject) {
  const toObject = {};
  const fromNewHandle = getValueByPath(fromObject, ["newHandle"]);
  if (fromNewHandle !== void 0) {
    setValueByPath(toObject, ["newHandle"], fromNewHandle);
  }
  const fromResumable = getValueByPath(fromObject, ["resumable"]);
  if (fromResumable !== void 0) {
    setValueByPath(toObject, ["resumable"], fromResumable);
  }
  const fromLastConsumedClientMessageIndex = getValueByPath(fromObject, [
    "lastConsumedClientMessageIndex"
  ]);
  if (fromLastConsumedClientMessageIndex !== void 0) {
    setValueByPath(toObject, ["lastConsumedClientMessageIndex"], fromLastConsumedClientMessageIndex);
  }
  return toObject;
}
function liveClientSessionResumptionConfigToMldev(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle !== void 0) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  if (getValueByPath(fromObject, ["transparent"]) !== void 0) {
    throw new Error("transparent parameter is not supported in Gemini API.");
  }
  return toObject;
}
function liveClientSessionResumptionConfigToVertex(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle !== void 0) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  const fromTransparent = getValueByPath(fromObject, ["transparent"]);
  if (fromTransparent !== void 0) {
    setValueByPath(toObject, ["transparent"], fromTransparent);
  }
  return toObject;
}
function modalityTokenCountFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModality = getValueByPath(fromObject, ["modality"]);
  if (fromModality != null) {
    setValueByPath(toObject, ["modality"], fromModality);
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function usageMetadataFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromPromptTokenCount = getValueByPath(fromObject, [
    "promptTokenCount"
  ]);
  if (fromPromptTokenCount != null) {
    setValueByPath(toObject, ["promptTokenCount"], fromPromptTokenCount);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  const fromResponseTokenCount = getValueByPath(fromObject, [
    "responseTokenCount"
  ]);
  if (fromResponseTokenCount != null) {
    setValueByPath(toObject, ["responseTokenCount"], fromResponseTokenCount);
  }
  const fromToolUsePromptTokenCount = getValueByPath(fromObject, [
    "toolUsePromptTokenCount"
  ]);
  if (fromToolUsePromptTokenCount != null) {
    setValueByPath(toObject, ["toolUsePromptTokenCount"], fromToolUsePromptTokenCount);
  }
  const fromThoughtsTokenCount = getValueByPath(fromObject, [
    "thoughtsTokenCount"
  ]);
  if (fromThoughtsTokenCount != null) {
    setValueByPath(toObject, ["thoughtsTokenCount"], fromThoughtsTokenCount);
  }
  const fromTotalTokenCount = getValueByPath(fromObject, [
    "totalTokenCount"
  ]);
  if (fromTotalTokenCount != null) {
    setValueByPath(toObject, ["totalTokenCount"], fromTotalTokenCount);
  }
  const fromPromptTokensDetails = getValueByPath(fromObject, [
    "promptTokensDetails"
  ]);
  if (fromPromptTokensDetails != null) {
    if (Array.isArray(fromPromptTokensDetails)) {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails);
    }
  }
  const fromCacheTokensDetails = getValueByPath(fromObject, [
    "cacheTokensDetails"
  ]);
  if (fromCacheTokensDetails != null) {
    if (Array.isArray(fromCacheTokensDetails)) {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails);
    }
  }
  const fromResponseTokensDetails = getValueByPath(fromObject, [
    "responseTokensDetails"
  ]);
  if (fromResponseTokensDetails != null) {
    if (Array.isArray(fromResponseTokensDetails)) {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails);
    }
  }
  const fromToolUsePromptTokensDetails = getValueByPath(fromObject, [
    "toolUsePromptTokensDetails"
  ]);
  if (fromToolUsePromptTokensDetails != null) {
    if (Array.isArray(fromToolUsePromptTokensDetails)) {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails.map((item) => {
        return modalityTokenCountFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails);
    }
  }
  return toObject;
}
function modalityTokenCountFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModality = getValueByPath(fromObject, ["modality"]);
  if (fromModality != null) {
    setValueByPath(toObject, ["modality"], fromModality);
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function usageMetadataFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromPromptTokenCount = getValueByPath(fromObject, [
    "promptTokenCount"
  ]);
  if (fromPromptTokenCount != null) {
    setValueByPath(toObject, ["promptTokenCount"], fromPromptTokenCount);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  const fromResponseTokenCount = getValueByPath(fromObject, [
    "candidatesTokenCount"
  ]);
  if (fromResponseTokenCount != null) {
    setValueByPath(toObject, ["responseTokenCount"], fromResponseTokenCount);
  }
  const fromToolUsePromptTokenCount = getValueByPath(fromObject, [
    "toolUsePromptTokenCount"
  ]);
  if (fromToolUsePromptTokenCount != null) {
    setValueByPath(toObject, ["toolUsePromptTokenCount"], fromToolUsePromptTokenCount);
  }
  const fromThoughtsTokenCount = getValueByPath(fromObject, [
    "thoughtsTokenCount"
  ]);
  if (fromThoughtsTokenCount != null) {
    setValueByPath(toObject, ["thoughtsTokenCount"], fromThoughtsTokenCount);
  }
  const fromTotalTokenCount = getValueByPath(fromObject, [
    "totalTokenCount"
  ]);
  if (fromTotalTokenCount != null) {
    setValueByPath(toObject, ["totalTokenCount"], fromTotalTokenCount);
  }
  const fromPromptTokensDetails = getValueByPath(fromObject, [
    "promptTokensDetails"
  ]);
  if (fromPromptTokensDetails != null) {
    if (Array.isArray(fromPromptTokensDetails)) {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["promptTokensDetails"], fromPromptTokensDetails);
    }
  }
  const fromCacheTokensDetails = getValueByPath(fromObject, [
    "cacheTokensDetails"
  ]);
  if (fromCacheTokensDetails != null) {
    if (Array.isArray(fromCacheTokensDetails)) {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["cacheTokensDetails"], fromCacheTokensDetails);
    }
  }
  const fromToolUsePromptTokensDetails = getValueByPath(fromObject, [
    "toolUsePromptTokensDetails"
  ]);
  if (fromToolUsePromptTokensDetails != null) {
    if (Array.isArray(fromToolUsePromptTokensDetails)) {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["toolUsePromptTokensDetails"], fromToolUsePromptTokensDetails);
    }
  }
  const fromResponseTokensDetails = getValueByPath(fromObject, [
    "candidatesTokensDetails"
  ]);
  if (fromResponseTokensDetails != null) {
    if (Array.isArray(fromResponseTokensDetails)) {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails.map((item) => {
        return modalityTokenCountFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["responseTokensDetails"], fromResponseTokensDetails);
    }
  }
  const fromTrafficType = getValueByPath(fromObject, ["trafficType"]);
  if (fromTrafficType != null) {
    setValueByPath(toObject, ["trafficType"], fromTrafficType);
  }
  return toObject;
}
var FUNCTION_RESPONSE_REQUIRES_ID = "FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";
async function handleWebSocketMessage(apiClient, onmessage, event) {
  let serverMessage;
  let data;
  if (event.data instanceof Blob) {
    data = JSON.parse(await event.data.text());
  } else {
    data = JSON.parse(event.data);
  }
  if (apiClient.isVertexAI()) {
    serverMessage = liveServerMessageFromVertex(apiClient, data);
  } else {
    serverMessage = liveServerMessageFromMldev(apiClient, data);
  }
  onmessage(serverMessage);
}
var Live = class {
  constructor(apiClient, auth, webSocketFactory) {
    this.apiClient = apiClient;
    this.auth = auth;
    this.webSocketFactory = webSocketFactory;
  }
  /**
       Establishes a connection to the specified model with the given
       configuration and returns a Session object representing that connection.
  
       @experimental
  
       @remarks
       If using the Gemini API, Live is currently only supported behind API
       version `v1alpha`. Ensure that the API version is set to `v1alpha` when
       initializing the SDK if relying on the Gemini API.
  
       @param params - The parameters for establishing a connection to the model.
       @return A live session.
  
       @example
       ```ts
       const session = await ai.live.connect({
         model: 'gemini-2.0-flash-exp',
         config: {
           responseModalities: [Modality.AUDIO],
         },
         callbacks: {
           onopen: () => {
             console.log('Connected to the socket.');
           },
           onmessage: (e: MessageEvent) => {
             console.log('Received message from the server: %s\n', debug(e.data));
           },
           onerror: (e: ErrorEvent) => {
             console.log('Error occurred: %s\n', debug(e.error));
           },
           onclose: (e: CloseEvent) => {
             console.log('Connection closed.');
           },
         },
       });
       ```
      */
  async connect(params) {
    var _a, _b;
    const websocketBaseUrl = this.apiClient.getWebsocketBaseUrl();
    const apiVersion = this.apiClient.getApiVersion();
    let url;
    const headers = mapToHeaders(this.apiClient.getDefaultHeaders());
    if (this.apiClient.isVertexAI()) {
      url = `${websocketBaseUrl}/ws/google.cloud.aiplatform.${apiVersion}.LlmBidiService/BidiGenerateContent`;
      await this.auth.addAuthHeaders(headers);
    } else {
      const apiKey = this.apiClient.getApiKey();
      url = `${websocketBaseUrl}/ws/google.ai.generativelanguage.${apiVersion}.GenerativeService.BidiGenerateContent?key=${apiKey}`;
    }
    let onopenResolve = () => {
    };
    const onopenPromise = new Promise((resolve) => {
      onopenResolve = resolve;
    });
    const callbacks = params.callbacks;
    const onopenAwaitedCallback = function() {
      var _a2;
      (_a2 = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onopen) === null || _a2 === void 0 ? void 0 : _a2.call(callbacks);
      onopenResolve({});
    };
    const apiClient = this.apiClient;
    const websocketCallbacks = {
      onopen: onopenAwaitedCallback,
      onmessage: (event) => {
        void handleWebSocketMessage(apiClient, callbacks.onmessage, event);
      },
      onerror: (_a = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onerror) !== null && _a !== void 0 ? _a : function(e) {
      },
      onclose: (_b = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onclose) !== null && _b !== void 0 ? _b : function(e) {
      }
    };
    const conn = this.webSocketFactory.create(url, headersToMap(headers), websocketCallbacks);
    conn.connect();
    await onopenPromise;
    let transformedModel = tModel(this.apiClient, params.model);
    if (this.apiClient.isVertexAI() && transformedModel.startsWith("publishers/")) {
      const project = this.apiClient.getProject();
      const location = this.apiClient.getLocation();
      transformedModel = `projects/${project}/locations/${location}/` + transformedModel;
    }
    let clientMessage = {};
    const liveConnectParameters = {
      model: transformedModel,
      config: params.config,
      callbacks: params.callbacks
    };
    if (this.apiClient.isVertexAI()) {
      clientMessage = liveConnectParametersToVertex(this.apiClient, liveConnectParameters);
    } else {
      clientMessage = liveConnectParametersToMldev(this.apiClient, liveConnectParameters);
    }
    conn.send(JSON.stringify(clientMessage));
    return new Session(conn, this.apiClient);
  }
};
var defaultLiveSendClientContentParamerters = {
  turnComplete: true
};
var Session = class {
  constructor(conn, apiClient) {
    this.conn = conn;
    this.apiClient = apiClient;
  }
  tLiveClientContent(apiClient, params) {
    if (params.turns !== null && params.turns !== void 0) {
      let contents = [];
      try {
        contents = tContents(apiClient, params.turns);
        if (apiClient.isVertexAI()) {
          contents = contents.map((item) => contentToVertex(apiClient, item));
        } else {
          contents = contents.map((item) => contentToMldev(apiClient, item));
        }
      } catch (_a) {
        throw new Error(`Failed to parse client content "turns", type: '${typeof params.turns}'`);
      }
      return {
        clientContent: { turns: contents, turnComplete: params.turnComplete }
      };
    }
    return {
      clientContent: { turnComplete: params.turnComplete }
    };
  }
  tLiveClientRealtimeInput(apiClient, params) {
    let clientMessage = {};
    if (!("media" in params) || !params.media) {
      throw new Error(`Failed to convert realtime input "media", type: '${typeof params.media}'`);
    }
    clientMessage = {
      realtimeInput: {
        mediaChunks: [params.media],
        activityStart: params.activityStart,
        activityEnd: params.activityEnd
      }
    };
    return clientMessage;
  }
  tLiveClienttToolResponse(apiClient, params) {
    let functionResponses = [];
    if (params.functionResponses == null) {
      throw new Error("functionResponses is required.");
    }
    if (!Array.isArray(params.functionResponses)) {
      functionResponses = [params.functionResponses];
    } else {
      functionResponses = params.functionResponses;
    }
    if (functionResponses.length === 0) {
      throw new Error("functionResponses is required.");
    }
    for (const functionResponse of functionResponses) {
      if (typeof functionResponse !== "object" || functionResponse === null || !("name" in functionResponse) || !("response" in functionResponse)) {
        throw new Error(`Could not parse function response, type '${typeof functionResponse}'.`);
      }
      if (!apiClient.isVertexAI() && !("id" in functionResponse)) {
        throw new Error(FUNCTION_RESPONSE_REQUIRES_ID);
      }
    }
    const clientMessage = {
      toolResponse: { functionResponses }
    };
    return clientMessage;
  }
  /**
      Send a message over the established connection.
  
      @param params - Contains two **optional** properties, `turns` and
          `turnComplete`.
  
        - `turns` will be converted to a `Content[]`
        - `turnComplete: true` [default] indicates that you are done sending
          content and expect a response. If `turnComplete: false`, the server
          will wait for additional messages before starting generation.
  
      @experimental
  
      @remarks
      There are two ways to send messages to the live API:
      `sendClientContent` and `sendRealtimeInput`.
  
      `sendClientContent` messages are added to the model context **in order**.
      Having a conversation using `sendClientContent` messages is roughly
      equivalent to using the `Chat.sendMessageStream`, except that the state of
      the `chat` history is stored on the API server instead of locally.
  
      Because of `sendClientContent`'s order guarantee, the model cannot respons
      as quickly to `sendClientContent` messages as to `sendRealtimeInput`
      messages. This makes the biggest difference when sending objects that have
      significant preprocessing time (typically images).
  
      The `sendClientContent` message sends a `Content[]`
      which has more options than the `Blob` sent by `sendRealtimeInput`.
  
      So the main use-cases for `sendClientContent` over `sendRealtimeInput` are:
  
      - Sending anything that can't be represented as a `Blob` (text,
      `sendClientContent({turns="Hello?"}`)).
      - Managing turns when not using audio input and voice activity detection.
        (`sendClientContent({turnComplete:true})` or the short form
      `sendClientContent()`)
      - Prefilling a conversation context
        ```
        sendClientContent({
            turns: [
              Content({role:user, parts:...}),
              Content({role:user, parts:...}),
              ...
            ]
        })
        ```
      @experimental
     */
  sendClientContent(params) {
    params = Object.assign(Object.assign({}, defaultLiveSendClientContentParamerters), params);
    const clientMessage = this.tLiveClientContent(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a realtime message over the established connection.
  
      @param params - Contains one property, `media`.
  
        - `media` will be converted to a `Blob`
  
      @experimental
  
      @remarks
      Use `sendRealtimeInput` for realtime audio chunks and video frames (images).
  
      With `sendRealtimeInput` the api will respond to audio automatically
      based on voice activity detection (VAD).
  
      `sendRealtimeInput` is optimized for responsivness at the expense of
      deterministic ordering guarantees. Audio and video tokens are to the
      context when they become available.
  
      Note: The Call signature expects a `Blob` object, but only a subset
      of audio and image mimetypes are allowed.
     */
  sendRealtimeInput(params) {
    if (params.media == null) {
      throw new Error("Media is required.");
    }
    const clientMessage = this.tLiveClientRealtimeInput(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a function response message over the established connection.
  
      @param params - Contains property `functionResponses`.
  
        - `functionResponses` will be converted to a `functionResponses[]`
  
      @remarks
      Use `sendFunctionResponse` to reply to `LiveServerToolCall` from the server.
  
      Use {@link types.LiveConnectConfig#tools} to configure the callable functions.
  
      @experimental
     */
  sendToolResponse(params) {
    if (params.functionResponses == null) {
      throw new Error("Tool response parameters are required.");
    }
    const clientMessage = this.tLiveClienttToolResponse(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
       Terminates the WebSocket connection.
  
       @experimental
  
       @example
       ```ts
       const session = await ai.live.connect({
         model: 'gemini-2.0-flash-exp',
         config: {
           responseModalities: [Modality.AUDIO],
         }
       });
  
       session.close();
       ```
     */
  close() {
    this.conn.close();
  }
};
function headersToMap(headers) {
  const headerMap = {};
  headers.forEach((value, key) => {
    headerMap[key] = value;
  });
  return headerMap;
}
function mapToHeaders(map) {
  const headers = new Headers();
  for (const [key, value] of Object.entries(map)) {
    headers.append(key, value);
  }
  return headers;
}
var Models = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.generateContent = async (params) => {
      return await this.generateContentInternal(params);
    };
    this.generateContentStream = async (params) => {
      return await this.generateContentStreamInternal(params);
    };
    this.generateImages = async (params) => {
      return await this.generateImagesInternal(params).then((apiResponse) => {
        var _a;
        let positivePromptSafetyAttributes;
        const generatedImages = [];
        if (apiResponse === null || apiResponse === void 0 ? void 0 : apiResponse.generatedImages) {
          for (const generatedImage of apiResponse.generatedImages) {
            if (generatedImage && (generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) && ((_a = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) === null || _a === void 0 ? void 0 : _a.contentType) === "Positive Prompt") {
              positivePromptSafetyAttributes = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes;
            } else {
              generatedImages.push(generatedImage);
            }
          }
        }
        let response;
        if (positivePromptSafetyAttributes) {
          response = {
            generatedImages,
            positivePromptSafetyAttributes
          };
        } else {
          response = {
            generatedImages
          };
        }
        return response;
      });
    };
  }
  async generateContentInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async generateContentStreamInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a2, e_1, _b2, _c;
          try {
            for (var _d = true, apiResponse_1 = __asyncValues(apiResponse), apiResponse_1_1; apiResponse_1_1 = yield __await(apiResponse_1.next()), _a2 = apiResponse_1_1.done, !_a2; _d = true) {
              _c = apiResponse_1_1.value;
              _d = false;
              const chunk = _c;
              const resp = generateContentResponseFromVertex(apiClient, chunk);
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b2 = apiResponse_1.return))
                yield __await(_b2.call(apiResponse_1));
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
        });
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a2, e_2, _b2, _c;
          try {
            for (var _d = true, apiResponse_2 = __asyncValues(apiResponse), apiResponse_2_1; apiResponse_2_1 = yield __await(apiResponse_2.next()), _a2 = apiResponse_2_1.done, !_a2; _d = true) {
              _c = apiResponse_2_1.value;
              _d = false;
              const chunk = _c;
              const resp = generateContentResponseFromMldev(apiClient, chunk);
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_2_1) {
            e_2 = { error: e_2_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b2 = apiResponse_2.return))
                yield __await(_b2.call(apiResponse_2));
            } finally {
              if (e_2)
                throw e_2.error;
            }
          }
        });
      });
    }
  }
  /**
   * Calculates embeddings for the given contents. Only text is supported.
   *
   * @param params - The parameters for embedding contents.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.embedContent({
   *  model: 'text-embedding-004',
   *  contents: [
   *    'What is your name?',
   *    'What is your favorite color?',
   *  ],
   *  config: {
   *    outputDimensionality: 64,
   *  },
   * });
   * console.log(response);
   * ```
   */
  async embedContent(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = embedContentParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = embedContentParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:batchEmbedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Generates an image based on a text description and configuration.
   *
   * @param params - The parameters for generating images.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateImages({
   *  model: 'imagen-3.0-generate-002',
   *  prompt: 'Robot holding a red skateboard',
   *  config: {
   *    numberOfImages: 1,
   *    includeRaiReason: true,
   *  },
   * });
   * console.log(response?.generatedImages?.[0]?.image?.imageBytes);
   * ```
   */
  async generateImagesInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateImagesParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateImagesParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Fetches information about a model by name.
   *
   * @example
   * ```ts
   * const modelInfo = await ai.models.get({model: 'gemini-2.0-flash'});
   * ```
   */
  async get(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getModelParametersToVertex(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getModelParametersToMldev(this.apiClient, params);
      path = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  /**
   * Counts the number of tokens in the given contents. Multimodal input is
   * supported for Gemini models.
   *
   * @param params - The parameters for counting tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.countTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'The quick brown fox jumps over the lazy dog.'
   * });
   * console.log(response);
   * ```
   */
  async countTokens(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = countTokensParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = countTokensParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromMldev(this.apiClient, apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Given a list of contents, returns a corresponding TokensInfo containing
   * the list of tokens and list of token ids.
   *
   * This method is not supported by the Gemini Developer API.
   *
   * @param params - The parameters for computing tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.computeTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'What is your name?'
   * });
   * console.log(response);
   * ```
   */
  async computeTokens(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = computeTokensParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:computeTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = computeTokensResponseFromVertex(this.apiClient, apiResponse);
        const typedResp = new ComputeTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   *  Generates videos based on a text description and configuration.
   *
   * @param params - The parameters for generating videos.
   * @return A Promise<GenerateVideosOperation> which allows you to track the progress and eventually retrieve the generated videos using the operations.get method.
   *
   * @example
   * ```ts
   * const operation = await ai.models.generateVideos({
   *  model: 'veo-2.0-generate-001',
   *  prompt: 'A neon hologram of a cat driving at top speed',
   *  config: {
   *    numberOfVideos: 1
   * });
   *
   * while (!operation.done) {
   *   await new Promise(resolve => setTimeout(resolve, 10000));
   *   operation = await ai.operations.getVideosOperation({operation: operation});
   * }
   *
   * console.log(operation.response?.generatedVideos?.[0]?.video?.uri);
   * ```
   */
  async generateVideos(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateVideosParametersToVertex(this.apiClient, params);
      path = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex$1(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = generateVideosParametersToMldev(this.apiClient, params);
      path = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromMldev$1(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
};
function getOperationParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function getOperationParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function fetchPredictOperationParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["operationName"], fromOperationName);
  }
  const fromResourceName = getValueByPath(fromObject, ["resourceName"]);
  if (fromResourceName != null) {
    setValueByPath(toObject, ["_url", "resourceName"], fromResourceName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], fromConfig);
  }
  return toObject;
}
function videoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["video", "uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "video",
    "encodedVideo"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromMldev(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromMldev(apiClient, fromResult));
  }
  return toObject;
}
function videoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(apiClient, fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function generatedVideoFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex(apiClient, fromVideo));
  }
  return toObject;
}
function generateVideosResponseFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    if (Array.isArray(fromGeneratedVideos)) {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos.map((item) => {
        return generatedVideoFromVertex(apiClient, item);
      }));
    } else {
      setValueByPath(toObject, ["generatedVideos"], fromGeneratedVideos);
    }
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosOperationFromVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex(apiClient, fromResponse));
  }
  const fromResult = getValueByPath(fromObject, ["response"]);
  if (fromResult != null) {
    setValueByPath(toObject, ["result"], generateVideosResponseFromVertex(apiClient, fromResult));
  }
  return toObject;
}
var Operations = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
  }
  /**
   * Gets the status of a long-running operation.
   *
   * @param parameters The parameters for the get operation request.
   * @return The updated Operation object, with the latest status or result.
   */
  async getVideosOperation(parameters) {
    const operation = parameters.operation;
    const config = parameters.config;
    if (operation.name === void 0 || operation.name === "") {
      throw new Error("Operation name is required.");
    }
    if (this.apiClient.isVertexAI()) {
      const resourceName2 = operation.name.split("/operations/")[0];
      var httpOptions = void 0;
      if (config && "httpOptions" in config) {
        httpOptions = config.httpOptions;
      }
      return this.fetchPredictVideosOperationInternal({
        operationName: operation.name,
        resourceName: resourceName2,
        config: { httpOptions }
      });
    } else {
      return this.getVideosOperationInternal({
        operationName: operation.name,
        config
      });
    }
  }
  async getVideosOperationInternal(params) {
    var _a, _b;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getOperationParametersToVertex(this.apiClient, params);
      path = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      const body = getOperationParametersToMldev(this.apiClient, params);
      path = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_b = params.config) === null || _b === void 0 ? void 0 : _b.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromMldev(this.apiClient, apiResponse);
        return resp;
      });
    }
  }
  async fetchPredictVideosOperationInternal(params) {
    var _a;
    let response;
    let path = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = fetchPredictOperationParametersToVertex(this.apiClient, params);
      path = formatMap("{resourceName}:fetchPredictOperation", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a = params.config) === null || _a === void 0 ? void 0 : _a.httpOptions
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex(this.apiClient, apiResponse);
        return resp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
};
var CONTENT_TYPE_HEADER = "Content-Type";
var SERVER_TIMEOUT_HEADER = "X-Server-Timeout";
var USER_AGENT_HEADER = "User-Agent";
var GOOGLE_API_CLIENT_HEADER = "x-goog-api-client";
var SDK_VERSION = "0.8.0";
var LIBRARY_LABEL = `google-genai-sdk/${SDK_VERSION}`;
var VERTEX_AI_API_DEFAULT_VERSION = "v1beta1";
var GOOGLE_AI_API_DEFAULT_VERSION = "v1beta";
var responseLineRE = /^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;
var ClientError = class extends Error {
  constructor(message, stackTrace) {
    if (stackTrace) {
      super(message, { cause: stackTrace });
    } else {
      super(message, { cause: new Error().stack });
    }
    this.message = message;
    this.name = "ClientError";
  }
};
var ServerError = class extends Error {
  constructor(message, stackTrace) {
    if (stackTrace) {
      super(message, { cause: stackTrace });
    } else {
      super(message, { cause: new Error().stack });
    }
    this.message = message;
    this.name = "ServerError";
  }
};
var ApiClient = class {
  constructor(opts) {
    var _a, _b;
    this.clientOptions = Object.assign(Object.assign({}, opts), { project: opts.project, location: opts.location, apiKey: opts.apiKey, vertexai: opts.vertexai });
    const initHttpOptions = {};
    if (this.clientOptions.vertexai) {
      initHttpOptions.apiVersion = (_a = this.clientOptions.apiVersion) !== null && _a !== void 0 ? _a : VERTEX_AI_API_DEFAULT_VERSION;
      if (this.getProject() || this.getLocation()) {
        initHttpOptions.baseUrl = `https://${this.clientOptions.location}-aiplatform.googleapis.com/`;
        this.clientOptions.apiKey = void 0;
      } else {
        initHttpOptions.baseUrl = `https://aiplatform.googleapis.com/`;
        this.clientOptions.project = void 0;
        this.clientOptions.location = void 0;
      }
    } else {
      initHttpOptions.apiVersion = (_b = this.clientOptions.apiVersion) !== null && _b !== void 0 ? _b : GOOGLE_AI_API_DEFAULT_VERSION;
      initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;
    }
    initHttpOptions.headers = this.getDefaultHeaders();
    this.clientOptions.httpOptions = initHttpOptions;
    if (opts.httpOptions) {
      this.clientOptions.httpOptions = this.patchHttpOptions(initHttpOptions, opts.httpOptions);
    }
  }
  isVertexAI() {
    var _a;
    return (_a = this.clientOptions.vertexai) !== null && _a !== void 0 ? _a : false;
  }
  getProject() {
    return this.clientOptions.project;
  }
  getLocation() {
    return this.clientOptions.location;
  }
  getApiVersion() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.apiVersion !== void 0) {
      return this.clientOptions.httpOptions.apiVersion;
    }
    throw new Error("API version is not set.");
  }
  getBaseUrl() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.baseUrl !== void 0) {
      return this.clientOptions.httpOptions.baseUrl;
    }
    throw new Error("Base URL is not set.");
  }
  getRequestUrl() {
    return this.getRequestUrlInternal(this.clientOptions.httpOptions);
  }
  getHeaders() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.headers !== void 0) {
      return this.clientOptions.httpOptions.headers;
    } else {
      throw new Error("Headers are not set.");
    }
  }
  getRequestUrlInternal(httpOptions) {
    if (!httpOptions || httpOptions.baseUrl === void 0 || httpOptions.apiVersion === void 0) {
      throw new Error("HTTP options are not correctly set.");
    }
    const baseUrl = httpOptions.baseUrl.endsWith("/") ? httpOptions.baseUrl.slice(0, -1) : httpOptions.baseUrl;
    const urlElement = [baseUrl];
    if (httpOptions.apiVersion && httpOptions.apiVersion !== "") {
      urlElement.push(httpOptions.apiVersion);
    }
    return urlElement.join("/");
  }
  getBaseResourcePath() {
    return `projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`;
  }
  getApiKey() {
    return this.clientOptions.apiKey;
  }
  getWebsocketBaseUrl() {
    const baseUrl = this.getBaseUrl();
    const urlParts = new URL(baseUrl);
    urlParts.protocol = "wss";
    return urlParts.toString();
  }
  setBaseUrl(url) {
    if (this.clientOptions.httpOptions) {
      this.clientOptions.httpOptions.baseUrl = url;
    } else {
      throw new Error("HTTP options are not correctly set.");
    }
  }
  constructUrl(path, httpOptions, prependProjectLocation) {
    const urlElement = [this.getRequestUrlInternal(httpOptions)];
    if (prependProjectLocation) {
      urlElement.push(this.getBaseResourcePath());
    }
    if (path !== "") {
      urlElement.push(path);
    }
    const url = new URL(`${urlElement.join("/")}`);
    return url;
  }
  shouldPrependVertexProjectPath(request) {
    if (this.clientOptions.apiKey) {
      return false;
    }
    if (!this.clientOptions.vertexai) {
      return false;
    }
    if (request.path.startsWith("projects/")) {
      return false;
    }
    if (request.httpMethod === "GET" && request.path.startsWith("publishers/google/models")) {
      return false;
    }
    return true;
  }
  async request(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (request.queryParams) {
      for (const [key, value] of Object.entries(request.queryParams)) {
        url.searchParams.append(key, String(value));
      }
    }
    let requestInit = {};
    if (request.httpMethod === "GET") {
      if (request.body && request.body !== "{}") {
        throw new Error("Request body should be empty for GET request, but got non empty request body");
      }
    } else {
      requestInit.body = request.body;
    }
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions);
    return this.unaryApiCall(url, requestInit, request.httpMethod);
  }
  patchHttpOptions(baseHttpOptions, requestHttpOptions) {
    const patchedHttpOptions = JSON.parse(JSON.stringify(baseHttpOptions));
    for (const [key, value] of Object.entries(requestHttpOptions)) {
      if (typeof value === "object") {
        patchedHttpOptions[key] = Object.assign(Object.assign({}, patchedHttpOptions[key]), value);
      } else if (value !== void 0) {
        patchedHttpOptions[key] = value;
      }
    }
    return patchedHttpOptions;
  }
  async requestStream(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (!url.searchParams.has("alt") || url.searchParams.get("alt") !== "sse") {
      url.searchParams.set("alt", "sse");
    }
    let requestInit = {};
    requestInit.body = request.body;
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions);
    return this.streamApiCall(url, requestInit, request.httpMethod);
  }
  async includeExtraHttpOptionsToRequestInit(requestInit, httpOptions) {
    if (httpOptions && httpOptions.timeout && httpOptions.timeout > 0) {
      const abortController = new AbortController();
      const signal = abortController.signal;
      setTimeout(() => abortController.abort(), httpOptions.timeout);
      requestInit.signal = signal;
    }
    requestInit.headers = await this.getHeadersInternal(httpOptions);
    return requestInit;
  }
  async unaryApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return new HttpResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  async streamApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return this.processStreamResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  processStreamResponse(response) {
    var _a;
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      const reader = (_a = response === null || response === void 0 ? void 0 : response.body) === null || _a === void 0 ? void 0 : _a.getReader();
      const decoder = new TextDecoder("utf-8");
      if (!reader) {
        throw new Error("Response body is empty");
      }
      try {
        let buffer = "";
        while (true) {
          const { done, value } = yield __await(reader.read());
          if (done) {
            if (buffer.trim().length > 0) {
              throw new Error("Incomplete JSON segment at the end");
            }
            break;
          }
          const chunkString = decoder.decode(value);
          buffer += chunkString;
          let match = buffer.match(responseLineRE);
          while (match) {
            const processedChunkString = match[1];
            try {
              const chunkData = JSON.parse(processedChunkString);
              yield yield __await(chunkData);
              buffer = buffer.slice(match[0].length);
              match = buffer.match(responseLineRE);
            } catch (e) {
              throw new Error(`exception parsing stream chunk ${processedChunkString}. ${e}`);
            }
          }
        }
      } finally {
        reader.releaseLock();
      }
    });
  }
  async apiCall(url, requestInit) {
    return fetch(url, requestInit).catch((e) => {
      throw new Error(`exception ${e} sending request`);
    });
  }
  getDefaultHeaders() {
    const headers = {};
    const versionHeaderValue = LIBRARY_LABEL + " " + this.clientOptions.userAgentExtra;
    headers[USER_AGENT_HEADER] = versionHeaderValue;
    headers[GOOGLE_API_CLIENT_HEADER] = versionHeaderValue;
    headers[CONTENT_TYPE_HEADER] = "application/json";
    return headers;
  }
  async getHeadersInternal(httpOptions) {
    const headers = new Headers();
    if (httpOptions && httpOptions.headers) {
      for (const [key, value] of Object.entries(httpOptions.headers)) {
        headers.append(key, value);
      }
      if (httpOptions.timeout && httpOptions.timeout > 0) {
        headers.append(SERVER_TIMEOUT_HEADER, String(Math.ceil(httpOptions.timeout / 1e3)));
      }
    }
    await this.clientOptions.auth.addAuthHeaders(headers);
    return headers;
  }
  /**
   * Uploads a file asynchronously using Gemini API only, this is not supported
   * in Vertex AI.
   *
   * @param file The string path to the file to be uploaded or a Blob object.
   * @param config Optional parameters specified in the `UploadFileConfig`
   *     interface. @see {@link UploadFileConfig}
   * @return A promise that resolves to a `File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   */
  async uploadFile(file, config) {
    var _a;
    const fileToUpload = {};
    if (config != null) {
      fileToUpload.mimeType = config.mimeType;
      fileToUpload.name = config.name;
      fileToUpload.displayName = config.displayName;
    }
    if (fileToUpload.name && !fileToUpload.name.startsWith("files/")) {
      fileToUpload.name = `files/${fileToUpload.name}`;
    }
    const uploader = this.clientOptions.uploader;
    const fileStat = await uploader.stat(file);
    fileToUpload.sizeBytes = String(fileStat.size);
    const mimeType = (_a = config === null || config === void 0 ? void 0 : config.mimeType) !== null && _a !== void 0 ? _a : fileStat.type;
    if (mimeType === void 0 || mimeType === "") {
      throw new Error("Can not determine mimeType. Please provide mimeType in the config.");
    }
    fileToUpload.mimeType = mimeType;
    const uploadUrl = await this.fetchUploadUrl(fileToUpload, config);
    return uploader.upload(file, uploadUrl, this);
  }
  async fetchUploadUrl(file, config) {
    var _a;
    let httpOptions = {};
    if (config === null || config === void 0 ? void 0 : config.httpOptions) {
      httpOptions = config.httpOptions;
    } else {
      httpOptions = {
        apiVersion: "",
        headers: {
          "Content-Type": "application/json",
          "X-Goog-Upload-Protocol": "resumable",
          "X-Goog-Upload-Command": "start",
          "X-Goog-Upload-Header-Content-Length": `${file.sizeBytes}`,
          "X-Goog-Upload-Header-Content-Type": `${file.mimeType}`
        }
      };
    }
    const body = {
      "file": file
    };
    const httpResponse = await this.request({
      path: formatMap("upload/v1beta/files", body["_url"]),
      body: JSON.stringify(body),
      httpMethod: "POST",
      httpOptions
    });
    if (!httpResponse || !(httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers)) {
      throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");
    }
    const uploadUrl = (_a = httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers) === null || _a === void 0 ? void 0 : _a["x-goog-upload-url"];
    if (uploadUrl === void 0) {
      throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");
    }
    return uploadUrl;
  }
};
async function throwErrorIfNotOK(response) {
  var _a;
  if (response === void 0) {
    throw new ServerError("response is undefined");
  }
  if (!response.ok) {
    const status = response.status;
    const statusText = response.statusText;
    let errorBody;
    if ((_a = response.headers.get("content-type")) === null || _a === void 0 ? void 0 : _a.includes("application/json")) {
      errorBody = await response.json();
    } else {
      errorBody = {
        error: {
          message: "exception parsing response",
          code: response.status,
          status: response.statusText
        }
      };
    }
    const errorMessage = `got status: ${status} ${statusText}. ${JSON.stringify(errorBody)}`;
    if (status >= 400 && status < 500) {
      const clientError = new ClientError(errorMessage);
      throw clientError;
    } else if (status >= 500 && status < 600) {
      const serverError = new ServerError(errorMessage);
      throw serverError;
    }
    throw new Error(errorMessage);
  }
}
var MAX_CHUNK_SIZE = 1024 * 1024 * 8;
async function uploadBlob(file, uploadUrl, apiClient) {
  var _a, _b;
  let fileSize = 0;
  let offset = 0;
  let response = new HttpResponse(new Response());
  let uploadCommand = "upload";
  fileSize = file.size;
  while (offset < fileSize) {
    const chunkSize = Math.min(MAX_CHUNK_SIZE, fileSize - offset);
    const chunk = file.slice(offset, offset + chunkSize);
    if (offset + chunkSize >= fileSize) {
      uploadCommand += ", finalize";
    }
    response = await apiClient.request({
      path: "",
      body: chunk,
      httpMethod: "POST",
      httpOptions: {
        apiVersion: "",
        baseUrl: uploadUrl,
        headers: {
          "X-Goog-Upload-Command": uploadCommand,
          "X-Goog-Upload-Offset": String(offset),
          "Content-Length": String(chunkSize)
        }
      }
    });
    offset += chunkSize;
    if (((_a = response === null || response === void 0 ? void 0 : response.headers) === null || _a === void 0 ? void 0 : _a["x-goog-upload-status"]) !== "active") {
      break;
    }
    if (fileSize <= offset) {
      throw new Error("All content has been uploaded, but the upload status is not finalized.");
    }
  }
  const responseJson = await (response === null || response === void 0 ? void 0 : response.json());
  if (((_b = response === null || response === void 0 ? void 0 : response.headers) === null || _b === void 0 ? void 0 : _b["x-goog-upload-status"]) !== "final") {
    throw new Error("Failed to upload file: Upload status is not finalized.");
  }
  return responseJson["file"];
}
async function getBlobStat(file) {
  const fileStat = { size: file.size, type: file.type };
  return fileStat;
}
var BrowserUploader = class {
  async upload(file, uploadUrl, apiClient) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    }
    return await uploadBlob(file, uploadUrl, apiClient);
  }
  async stat(file) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    } else {
      return await getBlobStat(file);
    }
  }
};
var BrowserWebSocketFactory = class {
  create(url, headers, callbacks) {
    return new BrowserWebSocket(url, headers, callbacks);
  }
};
var BrowserWebSocket = class {
  constructor(url, headers, callbacks) {
    this.url = url;
    this.headers = headers;
    this.callbacks = callbacks;
  }
  connect() {
    this.ws = new WebSocket(this.url);
    this.ws.onopen = this.callbacks.onopen;
    this.ws.onerror = this.callbacks.onerror;
    this.ws.onclose = this.callbacks.onclose;
    this.ws.onmessage = this.callbacks.onmessage;
  }
  send(message) {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.send(message);
  }
  close() {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.close();
  }
};
var GOOGLE_API_KEY_HEADER = "x-goog-api-key";
var WebAuth = class {
  constructor(apiKey) {
    this.apiKey = apiKey;
  }
  async addAuthHeaders(headers) {
    if (headers.get(GOOGLE_API_KEY_HEADER) !== null) {
      return;
    }
    headers.append(GOOGLE_API_KEY_HEADER, this.apiKey);
  }
};
var LANGUAGE_LABEL_PREFIX = "gl-node/";
var GoogleGenAI = class {
  constructor(options) {
    var _a;
    if (options.apiKey == null) {
      throw new Error("An API Key must be set when running in a browser");
    }
    if (options.project || options.location) {
      throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");
    }
    this.vertexai = (_a = options.vertexai) !== null && _a !== void 0 ? _a : false;
    this.apiKey = options.apiKey;
    this.apiVersion = options.apiVersion;
    const auth = new WebAuth(this.apiKey);
    this.apiClient = new ApiClient({
      auth,
      apiVersion: this.apiVersion,
      apiKey: this.apiKey,
      vertexai: this.vertexai,
      httpOptions: options.httpOptions,
      userAgentExtra: LANGUAGE_LABEL_PREFIX + "web",
      uploader: new BrowserUploader()
    });
    this.models = new Models(this.apiClient);
    this.live = new Live(this.apiClient, auth, new BrowserWebSocketFactory());
    this.chats = new Chats(this.models, this.apiClient);
    this.caches = new Caches(this.apiClient);
    this.files = new Files(this.apiClient);
    this.operations = new Operations(this.apiClient);
  }
};

// AudioRecordModal.ts
var import_obsidian = require("obsidian");
var AudioRecordModal = class extends import_obsidian.Modal {
  constructor(app, handleAudioRecording, settings) {
    super(app);
    this.mediaRecorder = null;
    this.chunks = [];
    this.isRecording = false;
    this.intervalId = null;
    this.startTime = 0;
    this.elapsedTime = 0;
    this.isResetting = false;
    this.handleAudioRecording = handleAudioRecording;
    this.settings = settings;
  }
  onOpen() {
    const { contentEl, modalEl } = this;
    if (!contentEl || !modalEl) {
      console.error("contentEl or modalEl is null");
      return;
    }
    modalEl.addClass("smart-memo-recording");
    const headerTimerContainer = contentEl.createDiv({ cls: "smart-memo-header-timer-container" });
    const header = headerTimerContainer.createEl("h2", { text: "Recording...", cls: "smart-memo-recording-header" });
    this.timer = headerTimerContainer.createEl("div", { cls: "smart-memo-timer", text: "00:00" });
    contentEl.addClass("smart-memo-audio-record-modal-content");
    const redDotContainer = contentEl.createDiv({ cls: "smart-memo-red-dot-container" });
    this.redDot = redDotContainer.createDiv({ cls: "smart-memo-red-dot" });
    const controlGroupWrapper = contentEl.createDiv({ cls: "smart-memo-control-group-wrapper" });
    const controlGroup = controlGroupWrapper.createDiv({ cls: "smart-memo-modal-button-group" });
    const playPauseButton = controlGroup.createEl("button", { cls: "smart-memo-modal-button smart-memo-flex" });
    const stopButton = controlGroup.createEl("button", { cls: "smart-memo-modal-button smart-memo-flex" });
    (0, import_obsidian.setIcon)(playPauseButton, "pause");
    (0, import_obsidian.setIcon)(stopButton, "square");
    stopButton.addEventListener("click", async () => {
      const audioFile = await this.stopRecording();
      this.handleAudioRecording(audioFile, false, this.keepAudioCheckbox.checked, this.includeAudioFileLinkCheckbox.checked);
    });
    playPauseButton.addEventListener("click", () => {
      if (this.isRecording) {
        this.pauseRecording();
        (0, import_obsidian.setIcon)(playPauseButton, "circle");
        header.textContent = "Paused";
        modalEl.addClass("smart-memo-paused");
        modalEl.removeClass("smart-memo-recording");
      } else {
        this.resumeOrStartRecording();
        (0, import_obsidian.setIcon)(playPauseButton, "pause");
        header.textContent = "Recording...";
        modalEl.removeClass("smart-memo-paused");
        modalEl.addClass("smart-memo-recording");
      }
      this.isRecording = !this.isRecording;
    });
    const transcribeButton = controlGroupWrapper.createEl("button", { cls: "smart-memo-modal-button smart-memo-full-width-button smart-memo-transcribe-button" });
    transcribeButton.addEventListener("click", async () => {
      const audioFile = await this.stopRecording();
      this.handleAudioRecording(audioFile, true, this.keepAudioCheckbox.checked, this.includeAudioFileLinkCheckbox.checked);
    });
    (0, import_obsidian.setIcon)(transcribeButton, "book-audio");
    const buttonText = document.createTextNode(" Transcribe");
    transcribeButton.appendChild(buttonText);
    const svgElement = transcribeButton.querySelector("svg");
    const resetButton = contentEl.createEl("button", { cls: "smart-memo-modal-button smart-memo-full-width-button smart-memo-reset-button", text: "Restart" });
    resetButton.addEventListener("click", () => {
      this.hardReset();
      (0, import_obsidian.setIcon)(playPauseButton, "circle");
      header.textContent = "Ready to Record";
      this.isRecording = false;
      modalEl.addClass("smart-memo-paused");
      modalEl.removeClass("smart-memo-recording");
      this.redDot.classList.remove("smart-memo-pulse-animation");
    });
    const keepAudioContainer = contentEl.createDiv({ cls: "smart-memo-keep-audio-container" });
    this.keepAudioCheckbox = keepAudioContainer.createEl("input", { type: "checkbox", cls: "smart-memo-keep-audio-checkbox" });
    this.keepAudioCheckbox.checked = this.settings.keepAudio;
    const keepAudioLabel = keepAudioContainer.createEl("label", { text: "Keep Audio File", cls: "smart-memo-keep-audio-label" });
    keepAudioLabel.htmlFor = this.keepAudioCheckbox.id;
    const includeAudioFileLinkContainer = contentEl.createDiv({ cls: "smart-memo-include-audio-file-link-container" });
    this.includeAudioFileLinkCheckbox = includeAudioFileLinkContainer.createEl("input", { type: "checkbox", cls: "smart-memo-include-audio-file-link-checkbox" });
    this.includeAudioFileLinkCheckbox.checked = this.settings.includeAudioFileLink;
    const includeAudioFileLinkLabel = includeAudioFileLinkContainer.createEl("label", { text: "Include Audio File Link", cls: "smart-memo-include-audio-file-link-label" });
    includeAudioFileLinkLabel.htmlFor = this.includeAudioFileLinkCheckbox.id;
    this.startRecording();
    this.isRecording = true;
    this.redDot.classList.add("smart-memo-pulse-animation");
    const activeElement = document.activeElement;
    if (activeElement) {
      activeElement.blur();
    }
  }
  startRecording() {
    navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {
      this.mediaRecorder = new MediaRecorder(stream);
      this.setupMediaRecorder();
      this.mediaRecorder.start(1e3);
      this.startTime = Date.now();
      this.startTimer();
      this.mediaRecorder.addEventListener("dataavailable", this.onDataAvailable.bind(this));
    }).catch((error) => {
      console.error("Error accessing microphone:", error);
      this.reject(error);
    });
  }
  setupMediaRecorder() {
    if (this.mediaRecorder) {
      this.mediaRecorder.addEventListener("stop", this.onStop.bind(this));
    }
  }
  onDataAvailable(event) {
    if (this.isResetting) {
      return;
    }
    this.chunks.push(event.data);
  }
  onStop() {
    if (this.isResetting) {
      this.isResetting = false;
      return;
    }
    const blob = new Blob(this.chunks, { type: "audio/wav" });
    if (this.resolve) {
      this.resolve(blob);
      this.close();
    } else {
      console.error("Resolve function is not defined");
    }
  }
  pauseRecording() {
    if (this.mediaRecorder && this.mediaRecorder.state === "recording") {
      this.mediaRecorder.pause();
      this.stopTimer();
      this.elapsedTime += Date.now() - this.startTime;
      this.redDot.classList.remove("smart-memo-pulse-animation");
    }
  }
  resumeOrStartRecording() {
    if (this.mediaRecorder && this.mediaRecorder.state === "paused") {
      this.mediaRecorder.resume();
    } else {
      this.startRecording();
    }
    this.startTime = Date.now();
    this.startTimer();
    this.redDot.classList.add("smart-memo-pulse-animation");
  }
  hardReset() {
    if (this.mediaRecorder) {
      this.mediaRecorder.stop();
      this.mediaRecorder.onstop = null;
      this.mediaRecorder.ondataavailable = null;
      this.mediaRecorder = null;
    }
    this.isResetting = true;
    this.chunks = [];
    this.elapsedTime = 0;
    this.stopTimer();
    this.timer.textContent = "00:00";
    this.redDot.classList.remove("smart-memo-pulse-animation");
  }
  stopRecording() {
    return new Promise((resolve, reject) => {
      this.resolve = resolve;
      this.reject = reject;
      if (this.mediaRecorder) {
        this.mediaRecorder.addEventListener("stop", this.onStop.bind(this));
        this.mediaRecorder.stop();
        this.stopTimer();
      } else {
        resolve(null);
      }
    });
  }
  startTimer() {
    this.stopTimer();
    this.intervalId = window.setInterval(() => {
      const elapsedTimeInSeconds = Math.floor(this.elapsedTime / 1e3) + Math.floor((Date.now() - this.startTime) / 1e3);
      const minutes = Math.floor(elapsedTimeInSeconds / 60);
      const seconds = elapsedTimeInSeconds % 60;
      this.timer.textContent = `${this.padNumber(minutes)}:${this.padNumber(seconds)}`;
    }, 1e3);
  }
  stopTimer() {
    if (this.intervalId !== null) {
      window.clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  padNumber(num) {
    return num.toString().padStart(2, "0");
  }
  open() {
    super.open();
    return new Promise((resolve, reject) => {
      this.resolve = resolve;
      this.reject = reject;
    });
  }
};

// Utils.ts
var import_obsidian2 = require("obsidian");
async function saveFile(app, audioBlob, fileName, path) {
  try {
    const normalizedPath = (0, import_obsidian2.normalizePath)(path);
    const filePath = `${normalizedPath}/${fileName}`;
    await ensureDirectoryExists(app, normalizedPath);
    const arrayBuffer = await audioBlob.arrayBuffer();
    const uint8Array = new Uint8Array(arrayBuffer);
    const file = await app.vault.createBinary(filePath, uint8Array);
    if (!file) {
      throw new Error("File creation failed and returned null");
    }
    return file;
  } catch (error) {
    console.error("Error saving audio file:", error);
    throw error;
  }
}
async function ensureDirectoryExists(app, folderPath) {
  const parts = folderPath.split("/");
  let currentPath = "";
  for (const part of parts) {
    currentPath = currentPath ? `${currentPath}/${part}` : part;
    try {
      const folder = app.vault.getAbstractFileByPath(currentPath);
      if (!folder) {
        await app.vault.createFolder(currentPath);
      } else if (folder instanceof import_obsidian2.TFolder) {
        console.log(`Folder already exists: ${currentPath}`);
      } else {
        throw new Error(`${currentPath} is not a folder`);
      }
    } catch (error) {
      if (error.message.includes("Folder already exists")) {
        console.log(`Handled existing folder: ${currentPath}`);
      } else {
        console.error(`Error ensuring directory exists: ${error.message}`);
        throw error;
      }
    }
  }
}

// main.ts
var MODELS = [
  "gemini-2.5-pro-preview-03-25",
  "gemini-2.0-flash",
  "gemini-2.0-flash-lite",
  "gemini-1.5-flash",
  "gemini-1.5-pro"
];
var DEFAULT_SETTINGS = {
  model: "gemini-2.0-flash-lite",
  // Default Google model
  apiKey: "",
  prompt: "You will be provided an audio file. Your task is to compose a concise memo from this audio file in markdown (Obsidian). If you are provided a template, follow this template as precisely as possible. Otherwise, structure the memo in a way that makes sense. Do not be conversational, simply return the memo text. Write the text in the first person perspective.\n",
  defaultNoteFolder: "",
  recordingFilePath: "Captain's Log/recordings",
  keepAudio: true,
  includeAudioFileLink: false,
  insertTranscriptLocation: "newNote",
  templateFilePath: ""
};
var CaptainsLogPlugin = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.writing = false;
    this.transcript = "";
  }
  async onload() {
    await this.loadSettings();
    this.ai = new GoogleGenAI({ apiKey: this.settings.apiKey });
    this.addCommand({
      id: "open-transcript-modal",
      name: "Transcribe Audio",
      callback: async () => {
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
        if (activeView) {
          this.commandGenerateTranscript(activeView.editor);
        } else {
          new import_obsidian3.Notice("No active file open. The transcript will be generated in a new note.");
        }
      }
    });
    this.addCommand({
      id: "record-captains-log",
      name: "Record Memo",
      callback: async () => {
        const audioFileBlob = await new AudioRecordModal(
          this.app,
          this.handleAudioRecording.bind(this),
          this.settings
        ).open();
      }
    });
    this.registerMarkdownPostProcessor(
      (el, ctx) => {
        const audioLinks = el.querySelectorAll(
          'a.internal-link[data-href$=".mp3"], a.internal-link[data-href$=".wav"]'
        );
        audioLinks.forEach((link) => {
          const href = link.getAttribute("data-href");
          if (!href) {
            console.error("Failed to get the href attribute from the link element.");
            return;
          }
          const abstractFile = this.app.vault.getAbstractFileByPath(href);
          if (!(abstractFile instanceof import_obsidian3.TFile)) {
            console.error("The path does not point to a valid file in the vault.");
            return;
          }
          const audio = document.createElement("audio");
          audio.src = this.app.vault.getResourcePath(abstractFile);
          audio.controls = true;
          audio.addEventListener("loadedmetadata", () => {
            if (audio.parentNode) {
              const durationDisplay = document.createElement("span");
              durationDisplay.textContent = `Duration: ${audio.duration.toFixed(2)} seconds`;
              audio.parentNode.insertBefore(durationDisplay, audio.nextSibling);
            }
          });
          audio.load();
          link.replaceWith(audio);
        });
      }
    );
    this.addRibbonIcon("book-audio", "Record Captain's Log", async (evt) => {
      const audioFileBlob = await new AudioRecordModal(
        this.app,
        this.handleAudioRecording.bind(this),
        this.settings
      ).open();
    });
    this.addSettingTab(new CaptainsLogSettingTab(this.app, this));
  }
  async handleAudioRecording(audioFile, transcribe, keepAudio, includeAudioFileLink) {
    try {
      if (!audioFile) {
        console.log("No audio was recorded.");
        return;
      }
      const recordingFolder = this.settings.recordingFilePath.trim();
      const date = new Date();
      const formattedDate = date.toISOString().slice(0, 10);
      const hours = date.getHours();
      const period = hours >= 4 && hours < 12 ? "Morning" : hours >= 12 && hours < 20 ? "Afternoon" : "Night";
      let count = 1;
      let fileName = `recording-${formattedDate}-${period}.mp3`;
      if (recordingFolder) {
        while (this.app.vault.getAbstractFileByPath((0, import_obsidian3.normalizePath)(`${recordingFolder}/${fileName}`))) {
          count++;
          fileName = `recording-${formattedDate}-${period}-${count}.mp3`;
        }
      } else {
        while (this.app.vault.getAbstractFileByPath(fileName)) {
          count++;
          fileName = `recording-${formattedDate}-${period}-${count}.mp3`;
        }
      }
      const file = await saveFile(this.app, audioFile, fileName, this.settings.recordingFilePath);
      this.settings.keepAudio = keepAudio;
      this.settings.includeAudioFileLink = includeAudioFileLink;
      await this.saveSettings();
      if (includeAudioFileLink && keepAudio && this.settings.insertTranscriptLocation !== "newNote") {
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
        if (activeView) {
          const editor = activeView.editor;
          const cursor = editor.getCursor();
          const link = `![[${file.path}]]`;
          editor.replaceRange(link, cursor);
        } else {
          new import_obsidian3.Notice("No active editor found. Audio file link not inserted.");
        }
      }
      if (transcribe) {
        await this.transcribeRecording(file);
        if (!keepAudio) {
          await this.app.vault.delete(file);
          const folder = this.app.vault.getAbstractFileByPath(this.settings.recordingFilePath);
          if (folder instanceof import_obsidian3.TAbstractFile && folder.children.length === 0) {
            await this.app.vault.delete(folder);
          }
        }
      }
    } catch (error) {
      console.error("Error handling audio recording:", error);
      new import_obsidian3.Notice("Failed to handle audio recording");
    }
  }
  // Uploads the audio file to Google GenAI and generates a transcript/notes.
  async transcribeRecording(audioFile) {
    let activeView = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
    if (this.settings.insertTranscriptLocation === "inline" && !activeView) {
      new import_obsidian3.Notice("No active file open. Defaulting to generating the transcript in a new note.");
      this.settings.insertTranscriptLocation = "newNote";
    }
    new import_obsidian3.Notice("Processing audio for transcription...");
    const mimeType = this.getMimeType(audioFile);
    const arrayBuffer = await this.app.vault.adapter.readBinary(audioFile.path);
    const blob = new Blob([arrayBuffer], { type: mimeType });
    try {
      const numBytes = blob.size;
      const displayName = "AUDIO";
      const initResponse = await fetch(
        `https://generativelanguage.googleapis.com/upload/v1beta/files?key=${this.settings.apiKey}`,
        {
          method: "POST",
          headers: {
            "X-Goog-Upload-Protocol": "resumable",
            "X-Goog-Upload-Command": "start",
            "X-Goog-Upload-Header-Content-Length": numBytes.toString(),
            "X-Goog-Upload-Header-Content-Type": mimeType,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ file: { display_name: displayName } })
        }
      );
      const uploadUrl = initResponse.headers.get("x-goog-upload-url");
      if (!uploadUrl) {
        throw new Error("Failed to retrieve upload URL");
      }
      const uploadResponse = await fetch(uploadUrl, {
        method: "POST",
        headers: {
          "Content-Length": numBytes.toString(),
          "X-Goog-Upload-Offset": "0",
          "X-Goog-Upload-Command": "upload, finalize"
        },
        body: blob
      });
      const uploadData = await uploadResponse.json();
      const fileUri = uploadData.file.uri;
      if (!fileUri) {
        throw new Error("File URI not returned from upload");
      }
      new import_obsidian3.Notice("Audio uploaded. Generating transcript...");
      const templateContent = await this.loadTemplateContent();
      const combinedPrompt = this.settings.prompt + (templateContent ? "\n\nTemplate:\n" + templateContent : "");
      const generatePayload = {
        contents: [
          {
            parts: [
              { text: combinedPrompt },
              { file_data: { mime_type: mimeType, file_uri: fileUri } }
            ]
          }
        ]
      };
      const generateResponse = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/${this.settings.model}:generateContent?key=${this.settings.apiKey}`,
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(generatePayload)
        }
      );
      const generateData = await generateResponse.json();
      if (generateData && Array.isArray(generateData.candidates) && generateData.candidates.length > 0 && generateData.candidates[0].content && Array.isArray(generateData.candidates[0].content.parts) && generateData.candidates[0].content.parts.length > 0 && generateData.candidates[0].content.parts[0].text) {
        this.transcript = generateData.candidates[0].content.parts[0].text;
        if (this.settings.insertTranscriptLocation === "inline") {
          const editor = activeView.editor;
          const LnToWrite = this.getNextNewLine(editor, editor.getCursor("to").line);
          editor.replaceRange(this.transcript, { line: LnToWrite, ch: 0 });
          new import_obsidian3.Notice("Transcript generated and inserted inline.");
        } else if (this.settings.insertTranscriptLocation === "newNote") {
          let transcriptContent = "";
          if (this.settings.includeAudioFileLink) {
            transcriptContent += `![[${audioFile.path}]]

`;
          }
          transcriptContent += this.transcript;
          const timestamp = new Date().toISOString().replace(/:/g, "-");
          const date = new Date();
          const formattedDate = date.toISOString().slice(0, 10);
          const hours = date.getHours();
          const ampm = hours >= 4 && hours < 12 ? "Morning" : hours >= 12 && hours < 20 ? "Afternoon" : "Night";
          let noteTitle = `Captain's Log ${formattedDate}-${ampm}`;
          let finalTitle = noteTitle;
          let notePath;
          const defaultFolder = this.settings.defaultNoteFolder.trim();
          if (defaultFolder) {
            let folder = this.app.vault.getAbstractFileByPath(defaultFolder);
            if (!folder) {
              try {
                await this.app.vault.createFolder(defaultFolder);
              } catch (error) {
                console.error("Error creating default folder:", error);
                new import_obsidian3.Notice(`Failed to create folder: ${defaultFolder}. Using vault root instead.`);
              }
            }
            let noteCount = 1;
            while (this.app.vault.getAbstractFileByPath((0, import_obsidian3.normalizePath)(`${defaultFolder}/${finalTitle}.md`))) {
              noteCount++;
              finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
            }
            notePath = (0, import_obsidian3.normalizePath)(`${defaultFolder}/${finalTitle}.md`);
          } else {
            const activeFile = this.app.workspace.getActiveFile();
            if (activeFile) {
              const folderPath = activeFile.parent.path;
              let noteCount = 1;
              while (this.app.vault.getAbstractFileByPath(`${folderPath}/${finalTitle}.md`)) {
                noteCount++;
                finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
              }
              notePath = (0, import_obsidian3.normalizePath)(`${folderPath}/${finalTitle}.md`);
            } else {
              let noteCount = 1;
              while (this.app.vault.getAbstractFileByPath(`${finalTitle}.md`)) {
                noteCount++;
                finalTitle = `Captain's Log ${formattedDate}-${ampm}-${noteCount}`;
              }
              notePath = `${finalTitle}.md`;
            }
          }
          try {
            const newFile = await this.app.vault.create(notePath, transcriptContent);
            new import_obsidian3.Notice(`Transcript generated in a new note: ${finalTitle}.md`);
            const newLeaf = this.app.workspace.getLeaf(true);
            await newLeaf.openFile(newFile);
          } catch (error) {
            console.error("Error creating new note:", error);
            new import_obsidian3.Notice("Failed to create new note for transcript.");
          }
        }
      } else {
        throw new Error("No text returned from AI model.");
      }
    } catch (error) {
      console.error("Transcription failed:", error);
      new import_obsidian3.Notice(error.message);
    }
  }
  async loadTemplateContent() {
    if (this.settings.templateFilePath && this.settings.templateFilePath.trim().length > 0) {
      const templateFile = this.app.vault.getAbstractFileByPath(this.settings.templateFilePath);
      if (templateFile instanceof import_obsidian3.TFile) {
        return await this.app.vault.read(templateFile);
      } else {
        console.warn("Template file not found at " + this.settings.templateFilePath);
      }
    }
    return "";
  }
  // Helper to determine mime type from file extension.
  getMimeType(file) {
    const ext = file.extension.toLowerCase();
    if (ext === "mp3")
      return "audio/mp3";
    if (ext === "wav")
      return "audio/wav";
    return "application/octet-stream";
  }
  writeText(editor, lnToWrite, text) {
    const newLine = this.getNextNewLine(editor, lnToWrite);
    editor.setLine(newLine, "\n" + text.trim() + "\n");
    return newLine;
  }
  getNextNewLine(editor, ln) {
    let newLine = ln;
    while (editor.getLine(newLine).trim().length > 0) {
      if (newLine === editor.lastLine())
        editor.setLine(newLine, editor.getLine(newLine) + "\n");
      newLine++;
    }
    return newLine;
  }
  // Command that locates an audio file link in the current note and triggers transcription.
  commandGenerateTranscript(editor) {
    const position = editor.getCursor();
    const text = editor.getRange({ line: 0, ch: 0 }, position);
    const regex = [
      /\[\[(([^\[\]]+)\.(mp3|wav))\]\]/g,
      /\[.*?\]\((([^\[\]()]+)\.(mp3|wav))\)/g
    ];
    this.findFilePath(text, regex).then((path) => {
      const fileType = path.split(".").pop();
      if (!fileType) {
        new import_obsidian3.Notice("No audio file found");
      } else {
        this.app.vault.adapter.exists(path).then((exists) => {
          if (!exists)
            throw new Error(path + " does not exist");
          this.app.vault.adapter.readBinary(path).then(async () => {
            if (this.writing) {
              new import_obsidian3.Notice("Generator is already in progress.");
              return;
            }
            this.writing = true;
            new import_obsidian3.Notice("Generating transcript...");
            const tfile = this.app.vault.getAbstractFileByPath(path);
            if (tfile instanceof import_obsidian3.TFile) {
              await this.transcribeRecording(tfile);
            } else {
              throw new Error("File not found in vault.");
            }
            this.writing = false;
          });
        });
      }
    }).catch((error) => {
      console.warn(error.message);
      new import_obsidian3.Notice(error.message);
    });
  }
  // Searches for an audio file path in the given text using regex.
  async findFilePath(text, regex) {
    let filename = "";
    let result;
    for (const reg of regex) {
      while ((result = reg.exec(text)) !== null) {
        filename = (0, import_obsidian3.normalizePath)(decodeURI(result[0])).trim();
      }
    }
    if (filename === "")
      throw new Error("No file found in the text.");
    const fullPath = filename;
    const fileExists = this.app.vault.getAbstractFileByPath(fullPath) instanceof import_obsidian3.TAbstractFile;
    if (fileExists)
      return fullPath;
    const allFiles = this.app.vault.getFiles();
    const foundFile = allFiles.find((file) => file.name === filename.split("/").pop());
    if (foundFile)
      return foundFile.path;
    throw new Error("File not found");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var CaptainsLogSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian3.Setting(containerEl).setName("Google AI Studio API Key").setDesc("Enter your Google AI Studio API Key; get it here: https://aistudio.google.com/apikey.").addText(
      (text) => text.setPlaceholder("Enter API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
        this.plugin.settings.apiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Model").setDesc("Choose the model to use (e.g., gemini-2.0-flash).").addDropdown(
      (dropdown) => dropdown.addOptions(
        MODELS.reduce((acc, model) => {
          acc[model] = model;
          return acc;
        }, {})
      ).setValue(this.plugin.settings.model).onChange(async (value) => {
        this.plugin.settings.model = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Prompt").setDesc("The prompt to use for generating notes.").addTextArea(
      (text) => text.setPlaceholder("Prompt").setValue(this.plugin.settings.prompt).onChange(async (value) => {
        this.plugin.settings.prompt = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Default Note Folder").setDesc("Enter the folder path (relative to the vault root) to store new transcripts. If it does not exist, it will be created.").addText(
      (text) => text.setPlaceholder("e.g., Notes/Transcripts").setValue(this.plugin.settings.defaultNoteFolder).onChange(async (value) => {
        this.plugin.settings.defaultNoteFolder = value.trim();
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Recording File Path").setDesc("Path to save the recording file (optional).").addText(
      (text) => text.setPlaceholder("Recording file path").setValue(this.plugin.settings.recordingFilePath).onChange(async (value) => {
        this.plugin.settings.recordingFilePath = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Keep Audio File").setDesc("Keep the audio file after processing?").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.keepAudio).onChange(async (value) => {
        this.plugin.settings.keepAudio = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Include Audio File Link").setDesc("Insert a link to the audio file in the note.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.includeAudioFileLink).onChange(async (value) => {
        this.plugin.settings.includeAudioFileLink = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Transcript Insertion Location").setDesc("Choose whether to insert the transcript inline in the active file or in a new note.").addDropdown((dropdown) => {
      dropdown.addOption("inline", "Inline");
      dropdown.addOption("newNote", "New Note");
      dropdown.setValue(this.plugin.settings.insertTranscriptLocation);
      dropdown.onChange(async (value) => {
        this.plugin.settings.insertTranscriptLocation = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setName("Template Note File Path").setDesc("Enter the path to a template note file whose content should be passed with the AI prompt (add .md).").addText(
      (text) => text.setPlaceholder("e.g., FolderName/Template.md").setValue(this.plugin.settings.templateFilePath).onChange(async (value) => {
        this.plugin.settings.templateFilePath = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
/*! Bundled license information:

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX2NvbW1vbi50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX3RyYW5zZm9ybWVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fY2FjaGVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3BhZ2Vycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvdHlwZXMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NhY2hlcy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY2hhdHMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX2ZpbGVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9jb252ZXJ0ZXJzL19tb2RlbHNfY29udmVydGVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fbGl2ZV9jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9saXZlLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9tb2RlbHMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX29wZXJhdGlvbnNfY29udmVydGVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvb3BlcmF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX2FwaV9jbGllbnQudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2Nyb3NzL19jcm9zc191cGxvYWRlci50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvd2ViL19icm93c2VyX3VwbG9hZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX2Jyb3dzZXJfd2Vic29ja2V0LnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX3dlYl9hdXRoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvd2ViX2NsaWVudC50cyIsICJBdWRpb1JlY29yZE1vZGFsLnRzIiwgIlV0aWxzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xuXHRBcHAsXG5cdEVkaXRvcixcblx0TWFya2Rvd25WaWV3LFxuXHRub3JtYWxpemVQYXRoLFxuXHROb3RpY2UsXG5cdFBsdWdpbixcblx0UGx1Z2luU2V0dGluZ1RhYixcblx0U2V0dGluZyxcblx0VEFic3RyYWN0RmlsZSxcblx0VEZpbGUsXG5cdE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXG59IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7XG5cdEdvb2dsZUdlbkFJLFxuXHRjcmVhdGVVc2VyQ29udGVudCxcblx0Y3JlYXRlUGFydEZyb21VcmksXG59IGZyb20gJ0Bnb29nbGUvZ2VuYWknO1xuXG5pbXBvcnQgeyBBdWRpb1JlY29yZE1vZGFsIH0gZnJvbSAnLi9BdWRpb1JlY29yZE1vZGFsJztcbmltcG9ydCB7IHNhdmVGaWxlIH0gZnJvbSAnLi9VdGlscyc7XG5cbmNvbnN0IE1PREVMUzogc3RyaW5nW10gPSBbXG5cdCdnZW1pbmktMi41LXByby1wcmV2aWV3LTAzLTI1Jyxcblx0J2dlbWluaS0yLjAtZmxhc2gnLFxuXHQnZ2VtaW5pLTIuMC1mbGFzaC1saXRlJyxcblx0J2dlbWluaS0xLjUtZmxhc2gnLFxuXHQnZ2VtaW5pLTEuNS1wcm8nXG5dO1xuXG5pbnRlcmZhY2UgQXVkaW9QbHVnaW5TZXR0aW5ncyB7XG5cdG1vZGVsOiBzdHJpbmc7XG5cdGFwaUtleTogc3RyaW5nO1xuXHRwcm9tcHQ6IHN0cmluZztcblx0ZGVmYXVsdE5vdGVGb2xkZXI6IHN0cmluZztcblx0cmVjb3JkaW5nRmlsZVBhdGg6IHN0cmluZztcblx0a2VlcEF1ZGlvOiBib29sZWFuO1xuXHRpbmNsdWRlQXVkaW9GaWxlTGluazogYm9vbGVhbjtcblx0aW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uOiBcImlubGluZVwiIHwgXCJuZXdOb3RlXCI7XG5cdHRlbXBsYXRlRmlsZVBhdGg6IHN0cmluZztcbn1cblxubGV0IERFRkFVTFRfU0VUVElOR1M6IEF1ZGlvUGx1Z2luU2V0dGluZ3MgPSB7XG5cdG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC1saXRlJywgLy8gRGVmYXVsdCBHb29nbGUgbW9kZWxcblx0YXBpS2V5OiAnJyxcblx0cHJvbXB0OlxuXHRcdCdZb3Ugd2lsbCBiZSBwcm92aWRlZCBhbiBhdWRpbyBmaWxlLiBZb3VyIHRhc2sgaXMgdG8gY29tcG9zZSBhIGNvbmNpc2UgbWVtbyBmcm9tIHRoaXMgYXVkaW8gZmlsZSBpbiBtYXJrZG93biAoT2JzaWRpYW4pLiBJZiB5b3UgYXJlIHByb3ZpZGVkIGEgdGVtcGxhdGUsIGZvbGxvdyB0aGlzIHRlbXBsYXRlIGFzIHByZWNpc2VseSBhcyBwb3NzaWJsZS4gT3RoZXJ3aXNlLCBzdHJ1Y3R1cmUgdGhlIG1lbW8gaW4gYSB3YXkgdGhhdCBtYWtlcyBzZW5zZS4gRG8gbm90IGJlIGNvbnZlcnNhdGlvbmFsLCBzaW1wbHkgcmV0dXJuIHRoZSBtZW1vIHRleHQuIFdyaXRlIHRoZSB0ZXh0IGluIHRoZSBmaXJzdCBwZXJzb24gcGVyc3BlY3RpdmUuXFxuJyxcblx0ZGVmYXVsdE5vdGVGb2xkZXI6ICcnLFxuXHRyZWNvcmRpbmdGaWxlUGF0aDogXCJDYXB0YWluJ3MgTG9nL3JlY29yZGluZ3NcIixcblx0a2VlcEF1ZGlvOiB0cnVlLFxuXHRpbmNsdWRlQXVkaW9GaWxlTGluazogZmFsc2UsXG5cdGluc2VydFRyYW5zY3JpcHRMb2NhdGlvbjogXCJuZXdOb3RlXCIsXG5cdHRlbXBsYXRlRmlsZVBhdGg6ICcnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FwdGFpbnNMb2dQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQXVkaW9QbHVnaW5TZXR0aW5ncztcblx0d3JpdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXHR0cmFuc2NyaXB0OiBzdHJpbmcgPSAnJztcblxuXHRhaTogR29vZ2xlR2VuQUk7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgR29vZ2xlIEdlbkFJIGluc3RhbmNlIHdpdGggdGhlIEFQSSBrZXkuXG5cdFx0dGhpcy5haSA9IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleTogdGhpcy5zZXR0aW5ncy5hcGlLZXkgfSk7XG5cblx0XHQvLyBDb21tYW5kIGZvciB0cmFuc2NyaWJpbmcgYW4gZXhpc3RpbmcgYXVkaW8gZmlsZS5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXRyYW5zY3JpcHQtbW9kYWwnLFxuXHRcdFx0bmFtZTogJ1RyYW5zY3JpYmUgQXVkaW8nLFxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChhY3RpdmVWaWV3KSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlcmVcdTIwMTlzIGFuIGFjdGl2ZSBub3RlLCB1c2UgaXRzIGVkaXRvci5cblx0XHRcdFx0XHR0aGlzLmNvbW1hbmRHZW5lcmF0ZVRyYW5zY3JpcHQoYWN0aXZlVmlldy5lZGl0b3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIE5vIGFjdGl2ZSBtYXJrZG93biB2aWV3IFx1MjAxMyBub3RpZnkgYW5kIHNldCBpbnNlcnRpb24gdG8gbmV3IG5vdGUuXG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIk5vIGFjdGl2ZSBmaWxlIG9wZW4uIFRoZSB0cmFuc2NyaXB0IHdpbGwgYmUgZ2VuZXJhdGVkIGluIGEgbmV3IG5vdGUuXCIpO1xuXHRcdFx0XHRcdC8vIE9wdGlvbmFsbHksIHlvdSBjYW4gb3BlbiBhIG1vZGFsIGhlcmUgdG8gbGV0IHRoZSB1c2VyIHNlbGVjdCBhbiBhdWRpbyBmaWxlLlxuXHRcdFx0XHRcdC8vIE9yLCBpZiB5b3UgYWxyZWFkeSBoYXZlIHRoZSBhdWRpbyBmaWxlIHJlZmVyZW5jZSBieSBvdGhlciBtZWFucywgY2FsbCB0cmFuc2NyaWJlUmVjb3JkaW5nIGRpcmVjdGx5LlxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gQ29tbWFuZCBmb3IgcmVjb3JkaW5nIGEgbmV3IGNhcHRhaW4ncyBsb2cuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAncmVjb3JkLWNhcHRhaW5zLWxvZycsXG5cdFx0XHRuYW1lOiBcIlJlY29yZCBNZW1vXCIsXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhdWRpb0ZpbGVCbG9iID0gYXdhaXQgbmV3IEF1ZGlvUmVjb3JkTW9kYWwoXG5cdFx0XHRcdFx0dGhpcy5hcHAsXG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVBdWRpb1JlY29yZGluZy5iaW5kKHRoaXMpLFxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Ncblx0XHRcdFx0KS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Ly8gUG9zdC1wcm9jZXNzIG1hcmtkb3duIHRvIHJlbmRlciBhdWRpbyBmaWxlIGxpbmtzIGFzIHBsYXlhYmxlIGF1ZGlvLlxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoXG5cdFx0XHQoZWw6IEhUTUxFbGVtZW50LCBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpID0+IHtcblx0XHRcdFx0Y29uc3QgYXVkaW9MaW5rcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcdFx0J2EuaW50ZXJuYWwtbGlua1tkYXRhLWhyZWYkPVwiLm1wM1wiXSwgYS5pbnRlcm5hbC1saW5rW2RhdGEtaHJlZiQ9XCIud2F2XCJdJ1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRhdWRpb0xpbmtzLmZvckVhY2goKGxpbmspID0+IHtcblx0XHRcdFx0XHRjb25zdCBocmVmID0gbGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpO1xuXHRcdFx0XHRcdGlmICghaHJlZikge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgdGhlIGhyZWYgYXR0cmlidXRlIGZyb20gdGhlIGxpbmsgZWxlbWVudC5cIik7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgYWJzdHJhY3RGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGhyZWYpO1xuXHRcdFx0XHRcdGlmICghKGFic3RyYWN0RmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIlRoZSBwYXRoIGRvZXMgbm90IHBvaW50IHRvIGEgdmFsaWQgZmlsZSBpbiB0aGUgdmF1bHQuXCIpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcblx0XHRcdFx0XHRhdWRpby5zcmMgPSB0aGlzLmFwcC52YXVsdC5nZXRSZXNvdXJjZVBhdGgoYWJzdHJhY3RGaWxlKTtcblx0XHRcdFx0XHRhdWRpby5jb250cm9scyA9IHRydWU7XG5cdFx0XHRcdFx0YXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoYXVkaW8ucGFyZW50Tm9kZSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBkdXJhdGlvbkRpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uRGlzcGxheS50ZXh0Q29udGVudCA9IGBEdXJhdGlvbjogJHthdWRpby5kdXJhdGlvbi50b0ZpeGVkKDIpfSBzZWNvbmRzYDtcblx0XHRcdFx0XHRcdFx0YXVkaW8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHVyYXRpb25EaXNwbGF5LCBhdWRpby5uZXh0U2libGluZyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRhdWRpby5sb2FkKCk7XG5cdFx0XHRcdFx0bGluay5yZXBsYWNlV2l0aChhdWRpbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHQvLyBBZGQgYSByaWJib24gaWNvbiBmb3IgcXVpY2sgcmVjb3JkaW5nLlxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbihcImJvb2stYXVkaW9cIiwgXCJSZWNvcmQgQ2FwdGFpbidzIExvZ1wiLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zdCBhdWRpb0ZpbGVCbG9iID0gYXdhaXQgbmV3IEF1ZGlvUmVjb3JkTW9kYWwoXG5cdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHR0aGlzLmhhbmRsZUF1ZGlvUmVjb3JkaW5nLmJpbmQodGhpcyksXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Ncblx0XHRcdCkub3BlbigpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDYXB0YWluc0xvZ1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdGFzeW5jIGhhbmRsZUF1ZGlvUmVjb3JkaW5nKFxuXHRcdGF1ZGlvRmlsZTogQmxvYixcblx0XHR0cmFuc2NyaWJlOiBib29sZWFuLFxuXHRcdGtlZXBBdWRpbzogYm9vbGVhbixcblx0XHRpbmNsdWRlQXVkaW9GaWxlTGluazogYm9vbGVhblxuXHQpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFhdWRpb0ZpbGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ05vIGF1ZGlvIHdhcyByZWNvcmRlZC4nKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIEdldCB0aGUgcmVjb3JkaW5nIGZvbGRlciBmcm9tIHNldHRpbmdzLlxuXHRcdFx0Y29uc3QgcmVjb3JkaW5nRm9sZGVyID0gdGhpcy5zZXR0aW5ncy5yZWNvcmRpbmdGaWxlUGF0aC50cmltKCk7IC8vIGUuZy4sIFwiQ2FwdGFpbidzIExvZy9yZWNvcmRpbmdzXCJcblxuXHRcdFx0Ly8gR2V0IHRoZSBjdXJyZW50IGRhdGUgYW5kIGRldGVybWluZSB0aGUgcGVyaW9kLlxuXHRcdFx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRjb25zdCBmb3JtYXR0ZWREYXRlID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsgLy8gXCJZWVlZLU1NLUREXCJcblx0XHRcdGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXHRcdFx0Y29uc3QgcGVyaW9kID0gaG91cnMgPj0gNCAmJiBob3VycyA8IDEyIFxuXHRcdFx0XHQ/ICdNb3JuaW5nJyBcblx0XHRcdFx0OiBob3VycyA+PSAxMiAmJiBob3VycyA8IDIwIFxuXHRcdFx0XHQ/ICdBZnRlcm5vb24nIFxuXHRcdFx0XHQ6ICdOaWdodCc7XG5cblx0XHRcdC8vIFN0YXJ0IHdpdGggY291bnQgPSAxIGFuZCBnZW5lcmF0ZSB0aGUgZmlsZSBuYW1lLlxuXHRcdFx0bGV0IGNvdW50ID0gMTtcblx0XHRcdGxldCBmaWxlTmFtZSA9IGByZWNvcmRpbmctJHtmb3JtYXR0ZWREYXRlfS0ke3BlcmlvZH0ubXAzYDtcblxuXHRcdFx0Ly8gSWYgYSByZWNvcmRpbmcgZm9sZGVyIGlzIHNwZWNpZmllZCwgZW5zdXJlIHRoZSBmaWxlIG5hbWUgaXMgdW5pcXVlIGluIHRoYXQgZm9sZGVyLlxuXHRcdFx0aWYgKHJlY29yZGluZ0ZvbGRlcikge1xuXHRcdFx0XHR3aGlsZSAodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZVBhdGgoYCR7cmVjb3JkaW5nRm9sZGVyfS8ke2ZpbGVOYW1lfWApKSkge1xuXHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdFx0ZmlsZU5hbWUgPSBgcmVjb3JkaW5nLSR7Zm9ybWF0dGVkRGF0ZX0tJHtwZXJpb2R9LSR7Y291bnR9Lm1wM2A7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgZW5zdXJlIHVuaXF1ZW5lc3MgaW4gdGhlIHZhdWx0IHJvb3QuXG5cdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZU5hbWUpKSB7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHRmaWxlTmFtZSA9IGByZWNvcmRpbmctJHtmb3JtYXR0ZWREYXRlfS0ke3BlcmlvZH0tJHtjb3VudH0ubXAzYDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBmaWxlID0gYXdhaXQgc2F2ZUZpbGUodGhpcy5hcHAsIGF1ZGlvRmlsZSwgZmlsZU5hbWUsIHRoaXMuc2V0dGluZ3MucmVjb3JkaW5nRmlsZVBhdGgpO1xuXHRcblx0XHRcdHRoaXMuc2V0dGluZ3Mua2VlcEF1ZGlvID0ga2VlcEF1ZGlvO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5pbmNsdWRlQXVkaW9GaWxlTGluayA9IGluY2x1ZGVBdWRpb0ZpbGVMaW5rO1xuXHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblx0XG5cdFx0XHRpZiAoaW5jbHVkZUF1ZGlvRmlsZUxpbmsgJiYga2VlcEF1ZGlvICYmIHRoaXMuc2V0dGluZ3MuaW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uICE9PSBcIm5ld05vdGVcIikge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcpIHtcblx0XHRcdFx0XHRjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcblx0XHRcdFx0XHRjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0XHRcdFx0Y29uc3QgbGluayA9IGAhW1ske2ZpbGUucGF0aH1dXWA7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VSYW5nZShsaW5rLCBjdXJzb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJObyBhY3RpdmUgZWRpdG9yIGZvdW5kLiBBdWRpbyBmaWxlIGxpbmsgbm90IGluc2VydGVkLlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAodHJhbnNjcmliZSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRyYW5zY3JpYmVSZWNvcmRpbmcoZmlsZSk7XG5cdFx0XHRcdGlmICgha2VlcEF1ZGlvKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuZGVsZXRlKGZpbGUpO1xuXHRcdFx0XHRcdGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnJlY29yZGluZ0ZpbGVQYXRoKTtcblx0XHRcdFx0XHRpZiAoZm9sZGVyIGluc3RhbmNlb2YgVEFic3RyYWN0RmlsZSAmJiBmb2xkZXIuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5kZWxldGUoZm9sZGVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgYXVkaW8gcmVjb3JkaW5nOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBoYW5kbGUgYXVkaW8gcmVjb3JkaW5nJyk7XG5cdFx0fVxuXHR9XG5cdFxuXG5cdC8vIFVwbG9hZHMgdGhlIGF1ZGlvIGZpbGUgdG8gR29vZ2xlIEdlbkFJIGFuZCBnZW5lcmF0ZXMgYSB0cmFuc2NyaXB0L25vdGVzLlxuXHRhc3luYyB0cmFuc2NyaWJlUmVjb3JkaW5nKGF1ZGlvRmlsZTogVEZpbGUpIHtcblx0XHQvLyBDaGVjayBmb3IgYW4gYWN0aXZlIG1hcmtkb3duIHZpZXcuXG5cdFx0bGV0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcblx0XHQvLyBJZiBpbmxpbmUgaW5zZXJ0aW9uIGlzIGNob3NlbiBidXQgbm8gYWN0aXZlIGZpbGUgaXMgb3Blbiwgbm90aWZ5IGFuZCBzd2l0Y2ggdG8gbmV3IG5vdGUuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5zZXJ0VHJhbnNjcmlwdExvY2F0aW9uID09PSBcImlubGluZVwiICYmICFhY3RpdmVWaWV3KSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiTm8gYWN0aXZlIGZpbGUgb3Blbi4gRGVmYXVsdGluZyB0byBnZW5lcmF0aW5nIHRoZSB0cmFuc2NyaXB0IGluIGEgbmV3IG5vdGUuXCIpO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5pbnNlcnRUcmFuc2NyaXB0TG9jYXRpb24gPSBcIm5ld05vdGVcIjtcblx0XHR9XG5cdFxuXHRcdG5ldyBOb3RpY2UoJ1Byb2Nlc3NpbmcgYXVkaW8gZm9yIHRyYW5zY3JpcHRpb24uLi4nKTtcblxuXHRcdC8vIERldGVybWluZSB0aGUgbWltZSB0eXBlIGJhc2VkIG9uIHRoZSBmaWxlIGV4dGVuc2lvbi5cblx0XHRjb25zdCBtaW1lVHlwZSA9IHRoaXMuZ2V0TWltZVR5cGUoYXVkaW9GaWxlKTtcblxuXG5cdFx0Ly8gUmVhZCB0aGUgYXVkaW8gZmlsZSBhcyBiaW5hcnkgYW5kIGNyZWF0ZSBhIEJsb2IuXG5cdFx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLnJlYWRCaW5hcnkoYXVkaW9GaWxlLnBhdGgpO1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xuXG5cdFx0Ly8gUmVwbGFjZSBHb29nbGUgR2VuQUkgZmlsZS51cGxvYWQgYW5kIGdlbmVyYXRlQ29udGVudCBjYWxscyB3aXRoIFJFU1QgQVBJIGZldGNoIGNhbGxzLlxuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZXRlcm1pbmUgdGhlIGZpbGUgc2l6ZSBhbmQgbWltZSB0eXBlLlxuXHRcdFx0Y29uc3QgbnVtQnl0ZXMgPSBibG9iLnNpemU7XG5cdFx0XHQvLyAobWltZVR5cGUgaXMgb2J0YWluZWQgdXNpbmcgZ2V0TWltZVR5cGUgYXMgYmVmb3JlLilcblx0XHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gXCJBVURJT1wiO1xuXG5cdFx0XHQvLyBTdGVwIDE6IEluaXRpYXRlIHJlc3VtYWJsZSB1cGxvYWQgdG8gZ2V0IHRoZSB1cGxvYWQgVVJMLlxuXHRcdFx0Y29uc3QgaW5pdFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS91cGxvYWQvdjFiZXRhL2ZpbGVzP2tleT0ke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWAsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdFwiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOiBcInJlc3VtYWJsZVwiLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjogXCJzdGFydFwiLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LUxlbmd0aFwiOiBudW1CeXRlcy50b1N0cmluZygpLFxuXHRcdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LVR5cGVcIjogbWltZVR5cGUsXG5cdFx0XHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlOiB7IGRpc3BsYXlfbmFtZTogZGlzcGxheU5hbWUgfSB9KVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgdXBsb2FkVXJsID0gaW5pdFJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC1nb29nLXVwbG9hZC11cmxcIik7XG5cdFx0XHRpZiAoIXVwbG9hZFVybCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmV0cmlldmUgdXBsb2FkIFVSTFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RlcCAyOiBVcGxvYWQgdGhlIGF1ZGlvIGZpbGUgYnl0ZXMuXG5cdFx0XHRjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKHVwbG9hZFVybCwge1xuXHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XCJDb250ZW50LUxlbmd0aFwiOiBudW1CeXRlcy50b1N0cmluZygpLFxuXHRcdFx0XHRcdFwiWC1Hb29nLVVwbG9hZC1PZmZzZXRcIjogXCIwXCIsXG5cdFx0XHRcdFx0XCJYLUdvb2ctVXBsb2FkLUNvbW1hbmRcIjogXCJ1cGxvYWQsIGZpbmFsaXplXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Ym9keTogYmxvYlxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCB1cGxvYWREYXRhID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpO1xuXHRcdFx0Y29uc3QgZmlsZVVyaSA9IHVwbG9hZERhdGEuZmlsZS51cmk7XG5cdFx0XHRpZiAoIWZpbGVVcmkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmlsZSBVUkkgbm90IHJldHVybmVkIGZyb20gdXBsb2FkXCIpO1xuXHRcdFx0fVxuXHRcdFx0bmV3IE5vdGljZShcIkF1ZGlvIHVwbG9hZGVkLiBHZW5lcmF0aW5nIHRyYW5zY3JpcHQuLi5cIik7XG5cblx0XHRcdC8vIExvYWQgdGhlIHRlbXBsYXRlIGNvbnRlbnQgKGlmIGFueSlcblx0XHRcdGNvbnN0IHRlbXBsYXRlQ29udGVudCA9IGF3YWl0IHRoaXMubG9hZFRlbXBsYXRlQ29udGVudCgpO1xuXG5cdFx0XHQvLyBDb21iaW5lIHRoZSBwcm9tcHQgYW5kIHRlbXBsYXRlICh5b3UgbWF5IGFkanVzdCBob3cgeW91IGNvbWJpbmUgdGhlbSBhcyBuZWVkZWQpXG5cdFx0XHRjb25zdCBjb21iaW5lZFByb21wdCA9IHRoaXMuc2V0dGluZ3MucHJvbXB0ICsgKHRlbXBsYXRlQ29udGVudCA/IChcIlxcblxcblRlbXBsYXRlOlxcblwiICsgdGVtcGxhdGVDb250ZW50KSA6IFwiXCIpO1xuXG5cdFx0XHQvLyBTdGVwIDM6IENhbGwgZ2VuZXJhdGVDb250ZW50IHVzaW5nIHRoZSBSRVNUIEFQSS5cblx0XHRcdGNvbnN0IGdlbmVyYXRlUGF5bG9hZCA9IHtcblx0XHRcdFx0Y29udGVudHM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRwYXJ0czogW1xuXHRcdFx0XHRcdFx0XHR7IHRleHQ6IGNvbWJpbmVkUHJvbXB0IH0sXG5cdFx0XHRcdFx0XHRcdHsgZmlsZV9kYXRhOiB7IG1pbWVfdHlwZTogbWltZVR5cGUsIGZpbGVfdXJpOiBmaWxlVXJpIH0gfVxuXHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgZ2VuZXJhdGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8ke3RoaXMuc2V0dGluZ3MubW9kZWx9OmdlbmVyYXRlQ29udGVudD9rZXk9JHt0aGlzLnNldHRpbmdzLmFwaUtleX1gLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGVQYXlsb2FkKVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgZ2VuZXJhdGVEYXRhID0gYXdhaXQgZ2VuZXJhdGVSZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcblx0XHRcdC8vIEV4dHJhY3QgdHJhbnNjcmlwdCBmcm9tIHRoZSBuZXcgcmVzcG9uc2Ugc3RydWN0dXJlXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGdlbmVyYXRlRGF0YSAmJlxuXHRcdFx0XHRBcnJheS5pc0FycmF5KGdlbmVyYXRlRGF0YS5jYW5kaWRhdGVzKSAmJlxuXHRcdFx0XHRnZW5lcmF0ZURhdGEuY2FuZGlkYXRlcy5sZW5ndGggPiAwICYmXG5cdFx0XHRcdGdlbmVyYXRlRGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQgJiZcblx0XHRcdFx0QXJyYXkuaXNBcnJheShnZW5lcmF0ZURhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzKSAmJlxuXHRcdFx0XHRnZW5lcmF0ZURhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0Z2VuZXJhdGVEYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0XG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy50cmFuc2NyaXB0ID0gZ2VuZXJhdGVEYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbnNlcnRUcmFuc2NyaXB0TG9jYXRpb24gPT09IFwiaW5saW5lXCIpIHtcblx0XHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBhY3RpdmVWaWV3IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QuXG5cdFx0XHRcdFx0Y29uc3QgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XG5cdFx0XHRcdFx0Y29uc3QgTG5Ub1dyaXRlID0gdGhpcy5nZXROZXh0TmV3TGluZShlZGl0b3IsIGVkaXRvci5nZXRDdXJzb3IoXCJ0b1wiKS5saW5lKTtcblx0XHRcdFx0XHRlZGl0b3IucmVwbGFjZVJhbmdlKHRoaXMudHJhbnNjcmlwdCwgeyBsaW5lOiBMblRvV3JpdGUsIGNoOiAwIH0pO1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJUcmFuc2NyaXB0IGdlbmVyYXRlZCBhbmQgaW5zZXJ0ZWQgaW5saW5lLlwiKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmluc2VydFRyYW5zY3JpcHRMb2NhdGlvbiA9PT0gXCJuZXdOb3RlXCIpIHtcblx0XHRcdFx0XHQvLyBDcmVhdGUgYSBuZXcgbm90ZSB3aXRoIHRoZSB0cmFuc2NyaXB0LlxuXHRcdFx0XHRcdC8vIFByZXBlbmQgdGhlIGF1ZGlvIGZpbGUgbGluayBpZiB0aGUgc2V0dGluZyBpcyBlbmFibGVkLlxuXHRcdFx0XHRcdGxldCB0cmFuc2NyaXB0Q29udGVudCA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZUF1ZGlvRmlsZUxpbmspIHtcblx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgYXVkaW9GaWxlIHBhcmFtZXRlciBwYXNzZWQgdG8gdHJhbnNjcmliZVJlY29yZGluZy5cblx0XHRcdFx0XHRcdHRyYW5zY3JpcHRDb250ZW50ICs9IGAhW1ske2F1ZGlvRmlsZS5wYXRofV1dXFxuXFxuYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dHJhbnNjcmlwdENvbnRlbnQgKz0gdGhpcy50cmFuc2NyaXB0O1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIEdlbmVyYXRlIGEgdW5pcXVlIHRpdGxlIGFuZCBub3RlIHBhdGguXG5cdFx0XHRcdFx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoLzovZywgXCItXCIpO1xuXHRcdFx0XHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xuXHRcdFx0XHRcdGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXHRcdFx0XHRcdGNvbnN0IGFtcG0gPVxuXHRcdFx0XHRcdFx0aG91cnMgPj0gNCAmJiBob3VycyA8IDEyXG5cdFx0XHRcdFx0XHRcdD8gJ01vcm5pbmcnXG5cdFx0XHRcdFx0XHRcdDogaG91cnMgPj0gMTIgJiYgaG91cnMgPCAyMFxuXHRcdFx0XHRcdFx0XHQ/ICdBZnRlcm5vb24nXG5cdFx0XHRcdFx0XHRcdDogJ05pZ2h0Jztcblx0XHRcdFx0XHRsZXQgbm90ZVRpdGxlID0gYENhcHRhaW4ncyBMb2cgJHtmb3JtYXR0ZWREYXRlfS0ke2FtcG19YDtcblx0XHRcdFx0XHRsZXQgZmluYWxUaXRsZSA9IG5vdGVUaXRsZTtcblx0XHRcdFx0XHRsZXQgbm90ZVBhdGg6IHN0cmluZztcblx0XHRcdFx0XG5cdFx0XHRcdFx0Y29uc3QgZGVmYXVsdEZvbGRlciA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdE5vdGVGb2xkZXIudHJpbSgpO1xuXHRcdFx0XHRcdGlmIChkZWZhdWx0Rm9sZGVyKSB7XG5cdFx0XHRcdFx0XHRsZXQgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGRlZmF1bHRGb2xkZXIpO1xuXHRcdFx0XHRcdFx0aWYgKCFmb2xkZXIpIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZGVmYXVsdEZvbGRlcik7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRlZmF1bHQgZm9sZGVyOlwiLCBlcnJvcik7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXI6ICR7ZGVmYXVsdEZvbGRlcn0uIFVzaW5nIHZhdWx0IHJvb3QgaW5zdGVhZC5gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gRW5zdXJlIGEgdW5pcXVlIG5vdGUgdGl0bGUuXG5cdFx0XHRcdFx0XHRsZXQgbm90ZUNvdW50ID0gMTtcblx0XHRcdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplUGF0aChgJHtkZWZhdWx0Rm9sZGVyfS8ke2ZpbmFsVGl0bGV9Lm1kYCkpKSB7XG5cdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRmaW5hbFRpdGxlID0gYENhcHRhaW4ncyBMb2cgJHtmb3JtYXR0ZWREYXRlfS0ke2FtcG19LSR7bm90ZUNvdW50fWA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRub3RlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7ZGVmYXVsdEZvbGRlcn0vJHtmaW5hbFRpdGxlfS5tZGApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBGYWxsYmFjazogdXNlIGFjdGl2ZSBmaWxlJ3MgZm9sZGVyIGlmIGV4aXN0cywgb3IgdmF1bHQgcm9vdC5cblx0XHRcdFx0XHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRcdFx0aWYgKGFjdGl2ZUZpbGUpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZm9sZGVyUGF0aCA9IGFjdGl2ZUZpbGUucGFyZW50LnBhdGg7XG5cdFx0XHRcdFx0XHRcdGxldCBub3RlQ291bnQgPSAxO1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGAke2ZvbGRlclBhdGh9LyR7ZmluYWxUaXRsZX0ubWRgKSkge1xuXHRcdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsVGl0bGUgPSBgQ2FwdGFpbidzIExvZyAke2Zvcm1hdHRlZERhdGV9LSR7YW1wbX0tJHtub3RlQ291bnR9YDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRub3RlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7Zm9sZGVyUGF0aH0vJHtmaW5hbFRpdGxlfS5tZGApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bGV0IG5vdGVDb3VudCA9IDE7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICh0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoYCR7ZmluYWxUaXRsZX0ubWRgKSkge1xuXHRcdFx0XHRcdFx0XHRcdG5vdGVDb3VudCsrO1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsVGl0bGUgPSBgQ2FwdGFpbidzIExvZyAke2Zvcm1hdHRlZERhdGV9LSR7YW1wbX0tJHtub3RlQ291bnR9YDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRub3RlUGF0aCA9IGAke2ZpbmFsVGl0bGV9Lm1kYDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXdGaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vdGVQYXRoLCB0cmFuc2NyaXB0Q29udGVudCk7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGBUcmFuc2NyaXB0IGdlbmVyYXRlZCBpbiBhIG5ldyBub3RlOiAke2ZpbmFsVGl0bGV9Lm1kYCk7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXdMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cdFx0XHRcdFx0XHRhd2FpdCBuZXdMZWFmLm9wZW5GaWxlKG5ld0ZpbGUpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IG5vdGU6XCIsIGVycm9yKTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIG5ldyBub3RlIGZvciB0cmFuc2NyaXB0LlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vIHRleHQgcmV0dXJuZWQgZnJvbSBBSSBtb2RlbC5cIik7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJUcmFuc2NyaXB0aW9uIGZhaWxlZDpcIiwgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZShlcnJvci5tZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBsb2FkVGVtcGxhdGVDb250ZW50KCk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MudGVtcGxhdGVGaWxlUGF0aCAmJiB0aGlzLnNldHRpbmdzLnRlbXBsYXRlRmlsZVBhdGgudHJpbSgpLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRlbXBsYXRlRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnRlbXBsYXRlRmlsZVBhdGgpO1xuXHRcdFx0aWYgKHRlbXBsYXRlRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHRlbXBsYXRlRmlsZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oXCJUZW1wbGF0ZSBmaWxlIG5vdCBmb3VuZCBhdCBcIiArIHRoaXMuc2V0dGluZ3MudGVtcGxhdGVGaWxlUGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdCAgXG5cblx0Ly8gSGVscGVyIHRvIGRldGVybWluZSBtaW1lIHR5cGUgZnJvbSBmaWxlIGV4dGVuc2lvbi5cblx0Z2V0TWltZVR5cGUoZmlsZTogVEZpbGUpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGV4dCA9IGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKGV4dCA9PT0gJ21wMycpIHJldHVybiAnYXVkaW8vbXAzJztcblx0XHRpZiAoZXh0ID09PSAnd2F2JykgcmV0dXJuICdhdWRpby93YXYnO1xuXHRcdC8vIERlZmF1bHQgZmFsbGJhY2suXG5cdFx0cmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuXHR9XG5cblx0d3JpdGVUZXh0KGVkaXRvcjogRWRpdG9yLCBsblRvV3JpdGU6IG51bWJlciwgdGV4dDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgbmV3TGluZSA9IHRoaXMuZ2V0TmV4dE5ld0xpbmUoZWRpdG9yLCBsblRvV3JpdGUpO1xuXHRcdGVkaXRvci5zZXRMaW5lKG5ld0xpbmUsICdcXG4nICsgdGV4dC50cmltKCkgKyAnXFxuJyk7XG5cdFx0cmV0dXJuIG5ld0xpbmU7XG5cdH1cblxuXHRnZXROZXh0TmV3TGluZShlZGl0b3I6IEVkaXRvciwgbG46IG51bWJlcikge1xuXHRcdGxldCBuZXdMaW5lID0gbG47XG5cdFx0d2hpbGUgKGVkaXRvci5nZXRMaW5lKG5ld0xpbmUpLnRyaW0oKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAobmV3TGluZSA9PT0gZWRpdG9yLmxhc3RMaW5lKCkpXG5cdFx0XHRcdGVkaXRvci5zZXRMaW5lKG5ld0xpbmUsIGVkaXRvci5nZXRMaW5lKG5ld0xpbmUpICsgJ1xcbicpO1xuXHRcdFx0bmV3TGluZSsrO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3TGluZTtcblx0fVxuXG5cdC8vIENvbW1hbmQgdGhhdCBsb2NhdGVzIGFuIGF1ZGlvIGZpbGUgbGluayBpbiB0aGUgY3VycmVudCBub3RlIGFuZCB0cmlnZ2VycyB0cmFuc2NyaXB0aW9uLlxuXHRjb21tYW5kR2VuZXJhdGVUcmFuc2NyaXB0KGVkaXRvcjogRWRpdG9yKSB7XG5cdFx0Y29uc3QgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0Y29uc3QgdGV4dCA9IGVkaXRvci5nZXRSYW5nZSh7IGxpbmU6IDAsIGNoOiAwIH0sIHBvc2l0aW9uKTtcblx0XHRjb25zdCByZWdleCA9IFtcblx0XHRcdC9cXFtcXFsoKFteXFxbXFxdXSspXFwuKG1wM3x3YXYpKVxcXVxcXS9nLFxuXHRcdFx0L1xcWy4qP1xcXVxcKCgoW15cXFtcXF0oKV0rKVxcLihtcDN8d2F2KSlcXCkvZyxcblx0XHQgIF07XG5cblx0XHR0aGlzLmZpbmRGaWxlUGF0aCh0ZXh0LCByZWdleClcblx0XHRcdC50aGVuKChwYXRoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZpbGVUeXBlID0gcGF0aC5zcGxpdCgnLicpLnBvcCgpO1xuXHRcdFx0XHRpZiAoIWZpbGVUeXBlKSB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnTm8gYXVkaW8gZmlsZSBmb3VuZCcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKHBhdGgpLnRoZW4oKGV4aXN0cykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKCFleGlzdHMpIHRocm93IG5ldyBFcnJvcihwYXRoICsgJyBkb2VzIG5vdCBleGlzdCcpO1xuXHRcdFx0XHRcdFx0dGhpcy5hcHAudmF1bHQuYWRhcHRlci5yZWFkQmluYXJ5KHBhdGgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy53cml0aW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnR2VuZXJhdG9yIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MuJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHRoaXMud3JpdGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0dlbmVyYXRpbmcgdHJhbnNjcmlwdC4uLicpO1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0ZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblx0XHRcdFx0XHRcdFx0aWYgKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnRyYW5zY3JpYmVSZWNvcmRpbmcodGZpbGUpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignRmlsZSBub3QgZm91bmQgaW4gdmF1bHQuJyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGhpcy53cml0aW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuXHRcdFx0XHRuZXcgTm90aWNlKGVycm9yLm1lc3NhZ2UpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHQvLyBTZWFyY2hlcyBmb3IgYW4gYXVkaW8gZmlsZSBwYXRoIGluIHRoZSBnaXZlbiB0ZXh0IHVzaW5nIHJlZ2V4LlxuXHRhc3luYyBmaW5kRmlsZVBhdGgodGV4dDogc3RyaW5nLCByZWdleDogUmVnRXhwW10pIHtcblx0XHRsZXQgZmlsZW5hbWUgPSAnJztcblx0XHRsZXQgcmVzdWx0OiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXHRcdGZvciAoY29uc3QgcmVnIG9mIHJlZ2V4KSB7XG5cdFx0XHR3aGlsZSAoKHJlc3VsdCA9IHJlZy5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xuXHRcdFx0XHRmaWxlbmFtZSA9IG5vcm1hbGl6ZVBhdGgoZGVjb2RlVVJJKHJlc3VsdFswXSkpLnRyaW0oKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGZpbGVuYW1lID09PSAnJykgdGhyb3cgbmV3IEVycm9yKCdObyBmaWxlIGZvdW5kIGluIHRoZSB0ZXh0LicpO1xuXHRcdGNvbnN0IGZ1bGxQYXRoID0gZmlsZW5hbWU7XG5cdFx0Y29uc3QgZmlsZUV4aXN0cyA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmdWxsUGF0aCkgaW5zdGFuY2VvZiBUQWJzdHJhY3RGaWxlO1xuXHRcdGlmIChmaWxlRXhpc3RzKSByZXR1cm4gZnVsbFBhdGg7XG5cdFx0Y29uc3QgYWxsRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpO1xuXHRcdGNvbnN0IGZvdW5kRmlsZSA9IGFsbEZpbGVzLmZpbmQoKGZpbGUpID0+IGZpbGUubmFtZSA9PT0gZmlsZW5hbWUuc3BsaXQoJy8nKS5wb3AoKSk7XG5cdFx0aWYgKGZvdW5kRmlsZSkgcmV0dXJuIGZvdW5kRmlsZS5wYXRoO1xuXHRcdHRocm93IG5ldyBFcnJvcignRmlsZSBub3QgZm91bmQnKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cdFxufVxuXG4vLyBBIHNldHRpbmdzIHRhYiBmb3IgY29uZmlndXJhdGlvbiB3aXRoaW4gT2JzaWRpYW4uXG5jbGFzcyBDYXB0YWluc0xvZ1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBDYXB0YWluc0xvZ1BsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDYXB0YWluc0xvZ1BsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnR29vZ2xlIEFJIFN0dWRpbyBBUEkgS2V5Jylcblx0XHRcdC5zZXREZXNjKCdFbnRlciB5b3VyIEdvb2dsZSBBSSBTdHVkaW8gQVBJIEtleTsgZ2V0IGl0IGhlcmU6IGh0dHBzOi8vYWlzdHVkaW8uZ29vZ2xlLmNvbS9hcGlrZXkuJylcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBBUEkgS2V5Jylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5KVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdNb2RlbCcpXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHRoZSBtb2RlbCB0byB1c2UgKGUuZy4sIGdlbWluaS0yLjAtZmxhc2gpLicpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb25zKFxuXHRcdFx0XHRcdFx0TU9ERUxTLnJlZHVjZSgoYWNjLCBtb2RlbCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRhY2NbbW9kZWxdID0gbW9kZWw7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdFx0XHR9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnUHJvbXB0Jylcblx0XHRcdC5zZXREZXNjKCdUaGUgcHJvbXB0IHRvIHVzZSBmb3IgZ2VuZXJhdGluZyBub3Rlcy4nKVxuXHRcdFx0LmFkZFRleHRBcmVhKCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdQcm9tcHQnKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9tcHQpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvbXB0ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0RlZmF1bHQgTm90ZSBGb2xkZXInKVxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHRoZSBmb2xkZXIgcGF0aCAocmVsYXRpdmUgdG8gdGhlIHZhdWx0IHJvb3QpIHRvIHN0b3JlIG5ldyB0cmFuc2NyaXB0cy4gSWYgaXQgZG9lcyBub3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZC4nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdlLmcuLCBOb3Rlcy9UcmFuc2NyaXB0cycpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHROb3RlRm9sZGVyKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHROb3RlRm9sZGVyID0gdmFsdWUudHJpbSgpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdSZWNvcmRpbmcgRmlsZSBQYXRoJylcblx0XHRcdC5zZXREZXNjKCdQYXRoIHRvIHNhdmUgdGhlIHJlY29yZGluZyBmaWxlIChvcHRpb25hbCkuJylcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdSZWNvcmRpbmcgZmlsZSBwYXRoJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVjb3JkaW5nRmlsZVBhdGgpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVjb3JkaW5nRmlsZVBhdGggPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnS2VlcCBBdWRpbyBGaWxlJylcblx0XHRcdC5zZXREZXNjKCdLZWVwIHRoZSBhdWRpbyBmaWxlIGFmdGVyIHByb2Nlc3Npbmc/Jylcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmtlZXBBdWRpbylcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5rZWVwQXVkaW8gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnSW5jbHVkZSBBdWRpbyBGaWxlIExpbmsnKVxuXHRcdFx0LnNldERlc2MoJ0luc2VydCBhIGxpbmsgdG8gdGhlIGF1ZGlvIGZpbGUgaW4gdGhlIG5vdGUuJylcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVBdWRpb0ZpbGVMaW5rKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVBdWRpb0ZpbGVMaW5rID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKFwiVHJhbnNjcmlwdCBJbnNlcnRpb24gTG9jYXRpb25cIilcblx0XHQuc2V0RGVzYyhcIkNob29zZSB3aGV0aGVyIHRvIGluc2VydCB0aGUgdHJhbnNjcmlwdCBpbmxpbmUgaW4gdGhlIGFjdGl2ZSBmaWxlIG9yIGluIGEgbmV3IG5vdGUuXCIpXG5cdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihcImlubGluZVwiLCBcIklubGluZVwiKTtcblx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihcIm5ld05vdGVcIiwgXCJOZXcgTm90ZVwiKTtcblx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluc2VydFRyYW5zY3JpcHRMb2NhdGlvbik7XG5cdFx0XHRkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWU6IFwiaW5saW5lXCIgfCBcIm5ld05vdGVcIikgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbnNlcnRUcmFuc2NyaXB0TG9jYXRpb24gPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1RlbXBsYXRlIE5vdGUgRmlsZSBQYXRoJylcblx0XHRcdC5zZXREZXNjKCdFbnRlciB0aGUgcGF0aCB0byBhIHRlbXBsYXRlIG5vdGUgZmlsZSB3aG9zZSBjb250ZW50IHNob3VsZCBiZSBwYXNzZWQgd2l0aCB0aGUgQUkgcHJvbXB0IChhZGQgLm1kKS4nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdlLmcuLCBGb2xkZXJOYW1lL1RlbXBsYXRlLm1kJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGVtcGxhdGVGaWxlUGF0aClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZUZpbGVQYXRoID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHR9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5leHBvcnQgY2xhc3MgQmFzZU1vZHVsZSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0TWFwKFxuICB0ZW1wbGF0ZVN0cmluZzogc3RyaW5nLFxuICB2YWx1ZU1hcDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBzdHJpbmcge1xuICAvLyBVc2UgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmluZCBhbGwgcGxhY2Vob2xkZXJzIGluIHRoZSB0ZW1wbGF0ZSBzdHJpbmdcbiAgY29uc3QgcmVnZXggPSAvXFx7KFtefV0rKVxcfS9nO1xuXG4gIC8vIFJlcGxhY2UgZWFjaCBwbGFjZWhvbGRlciB3aXRoIGl0cyBjb3JyZXNwb25kaW5nIHZhbHVlIGZyb20gdGhlIHZhbHVlTWFwXG4gIHJldHVybiB0ZW1wbGF0ZVN0cmluZy5yZXBsYWNlKHJlZ2V4LCAobWF0Y2gsIGtleSkgPT4ge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWVNYXAsIGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVNYXBba2V5XTtcbiAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIGEgc3RyaW5nIGlmIGl0J3Mgbm90IGEgc3RyaW5nIGFscmVhZHlcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsID8gU3RyaW5nKHZhbHVlKSA6ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBIYW5kbGUgbWlzc2luZyBrZXlzXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAnJHtrZXl9JyBub3QgZm91bmQgaW4gdmFsdWVNYXAuYCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFZhbHVlQnlQYXRoKFxuICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAga2V5czogc3RyaW5nW10sXG4gIHZhbHVlOiB1bmtub3duLFxuKTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKGtleS5lbmRzV2l0aCgnW10nKSkge1xuICAgICAgY29uc3Qga2V5TmFtZSA9IGtleS5zbGljZSgwLCAtMik7XG4gICAgICBpZiAoIShrZXlOYW1lIGluIGRhdGEpKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGRhdGFba2V5TmFtZV0gPSBBcnJheS5mcm9tKHtsZW5ndGg6IHZhbHVlLmxlbmd0aH0sICgpID0+ICh7fSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgbXVzdCBiZSBhIGxpc3QgZ2l2ZW4gYW4gYXJyYXkgcGF0aCAke2tleX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhW2tleU5hbWVdKSkge1xuICAgICAgICBjb25zdCBhcnJheURhdGEgPSBkYXRhW2tleU5hbWVdIGFzIEFycmF5PHVua25vd24+O1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyYXlEYXRhLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGFycmF5RGF0YVtqXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgICAgIHNldFZhbHVlQnlQYXRoKGVudHJ5LCBrZXlzLnNsaWNlKGkgKyAxKSwgdmFsdWVbal0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGQgb2YgYXJyYXlEYXRhKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgICAgICAgZCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgICAga2V5cy5zbGljZShpICsgMSksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnWzBdJykpIHtcbiAgICAgIGNvbnN0IGtleU5hbWUgPSBrZXkuc2xpY2UoMCwgLTMpO1xuICAgICAgaWYgKCEoa2V5TmFtZSBpbiBkYXRhKSkge1xuICAgICAgICBkYXRhW2tleU5hbWVdID0gW3t9XTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFycmF5RGF0YSA9IChkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXlOYW1lXTtcbiAgICAgIHNldFZhbHVlQnlQYXRoKFxuICAgICAgICAoYXJyYXlEYXRhIGFzIEFycmF5PFJlY29yZDxzdHJpbmcsIHVua25vd24+PilbMF0sXG4gICAgICAgIGtleXMuc2xpY2UoaSArIDEpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFkYXRhW2tleV0gfHwgdHlwZW9mIGRhdGFba2V5XSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIGRhdGFba2V5XSA9IHt9O1xuICAgIH1cblxuICAgIGRhdGEgPSBkYXRhW2tleV0gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIH1cblxuICBjb25zdCBrZXlUb1NldCA9IGtleXNba2V5cy5sZW5ndGggLSAxXTtcbiAgY29uc3QgZXhpc3RpbmdEYXRhID0gZGF0YVtrZXlUb1NldF07XG5cbiAgaWYgKGV4aXN0aW5nRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKFxuICAgICAgIXZhbHVlIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gZXhpc3RpbmdEYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGV4aXN0aW5nRGF0YSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIGV4aXN0aW5nRGF0YSAhPT0gbnVsbCAmJlxuICAgICAgdmFsdWUgIT09IG51bGxcbiAgICApIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oZXhpc3RpbmdEYXRhLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNldCB2YWx1ZSBmb3IgYW4gZXhpc3Rpbmcga2V5LiBLZXk6ICR7a2V5VG9TZXR9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRhdGFba2V5VG9TZXRdID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlQnlQYXRoKGRhdGE6IHVua25vd24sIGtleXM6IHN0cmluZ1tdKTogdW5rbm93biB7XG4gIHRyeSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09ICdfc2VsZicpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5LmVuZHNXaXRoKCdbXScpKSB7XG4gICAgICAgIGNvbnN0IGtleU5hbWUgPSBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICBpZiAoa2V5TmFtZSBpbiBkYXRhKSB7XG4gICAgICAgICAgY29uc3QgYXJyYXlEYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleU5hbWVdO1xuICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheURhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXJyYXlEYXRhLm1hcCgoZCkgPT4gZ2V0VmFsdWVCeVBhdGgoZCwga2V5cy5zbGljZShpICsgMSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0TW9kZWwoYXBpQ2xpZW50OiBBcGlDbGllbnQsIG1vZGVsOiBzdHJpbmcgfCB1bmtub3duKTogc3RyaW5nIHtcbiAgaWYgKCFtb2RlbCB8fCB0eXBlb2YgbW9kZWwgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtb2RlbCBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgaWYgKGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICBpZiAoXG4gICAgICBtb2RlbC5zdGFydHNXaXRoKCdwdWJsaXNoZXJzLycpIHx8XG4gICAgICBtb2RlbC5zdGFydHNXaXRoKCdwcm9qZWN0cy8nKSB8fFxuICAgICAgbW9kZWwuc3RhcnRzV2l0aCgnbW9kZWxzLycpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSBlbHNlIGlmIChtb2RlbC5pbmRleE9mKCcvJykgPj0gMCkge1xuICAgICAgY29uc3QgcGFydHMgPSBtb2RlbC5zcGxpdCgnLycsIDIpO1xuICAgICAgcmV0dXJuIGBwdWJsaXNoZXJzLyR7cGFydHNbMF19L21vZGVscy8ke3BhcnRzWzFdfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgcHVibGlzaGVycy9nb29nbGUvbW9kZWxzLyR7bW9kZWx9YDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKG1vZGVsLnN0YXJ0c1dpdGgoJ21vZGVscy8nKSB8fCBtb2RlbC5zdGFydHNXaXRoKCd0dW5lZE1vZGVscy8nKSkge1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYG1vZGVscy8ke21vZGVsfWA7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q2FjaGVzTW9kZWwoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBtb2RlbDogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIGNvbnN0IHRyYW5zZm9ybWVkTW9kZWwgPSB0TW9kZWwoYXBpQ2xpZW50LCBtb2RlbCBhcyBzdHJpbmcpO1xuICBpZiAoIXRyYW5zZm9ybWVkTW9kZWwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHJhbnNmb3JtZWRNb2RlbC5zdGFydHNXaXRoKCdwdWJsaXNoZXJzLycpICYmIGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAvLyB2ZXJ0ZXggY2FjaGVzIG9ubHkgc3VwcG9ydCBtb2RlbCBuYW1lIHN0YXJ0IHdpdGggcHJvamVjdHMuXG4gICAgcmV0dXJuIGBwcm9qZWN0cy8ke2FwaUNsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2FwaUNsaWVudC5nZXRMb2NhdGlvbigpfS8ke3RyYW5zZm9ybWVkTW9kZWx9YDtcbiAgfSBlbHNlIGlmICh0cmFuc2Zvcm1lZE1vZGVsLnN0YXJ0c1dpdGgoJ21vZGVscy8nKSAmJiBhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgcmV0dXJuIGBwcm9qZWN0cy8ke2FwaUNsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2FwaUNsaWVudC5nZXRMb2NhdGlvbigpfS9wdWJsaXNoZXJzL2dvb2dsZS8ke3RyYW5zZm9ybWVkTW9kZWx9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtZWRNb2RlbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdFBhcnQoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvcmlnaW4/OiB0eXBlcy5QYXJ0VW5pb24gfCBudWxsLFxuKTogdHlwZXMuUGFydCB7XG4gIGlmIChvcmlnaW4gPT09IG51bGwgfHwgb3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcnRVbmlvbiBpcyByZXF1aXJlZCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygb3JpZ2luID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvcmlnaW47XG4gIH1cbiAgaWYgKHR5cGVvZiBvcmlnaW4gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHt0ZXh0OiBvcmlnaW59O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFydCB0eXBlOiAke3R5cGVvZiBvcmlnaW59YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0UGFydHMoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvcmlnaW4/OiB0eXBlcy5QYXJ0TGlzdFVuaW9uIHwgbnVsbCxcbik6IHR5cGVzLlBhcnRbXSB7XG4gIGlmIChcbiAgICBvcmlnaW4gPT09IG51bGwgfHxcbiAgICBvcmlnaW4gPT09IHVuZGVmaW5lZCB8fFxuICAgIChBcnJheS5pc0FycmF5KG9yaWdpbikgJiYgb3JpZ2luLmxlbmd0aCA9PT0gMClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJ0TGlzdFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob3JpZ2luKSkge1xuICAgIHJldHVybiBvcmlnaW4ubWFwKChpdGVtKSA9PiB0UGFydChhcGlDbGllbnQsIGl0ZW0gYXMgdHlwZXMuUGFydFVuaW9uKSEpO1xuICB9XG4gIHJldHVybiBbdFBhcnQoYXBpQ2xpZW50LCBvcmlnaW4pIV07XG59XG5cbmZ1bmN0aW9uIF9pc0NvbnRlbnQob3JpZ2luOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgb3JpZ2luICE9PSBudWxsICYmXG4gICAgb3JpZ2luICE9PSB1bmRlZmluZWQgJiZcbiAgICB0eXBlb2Ygb3JpZ2luID09PSAnb2JqZWN0JyAmJlxuICAgICdwYXJ0cycgaW4gb3JpZ2luICYmXG4gICAgQXJyYXkuaXNBcnJheShvcmlnaW4ucGFydHMpXG4gICk7XG59XG5cbmZ1bmN0aW9uIF9pc0Z1bmN0aW9uQ2FsbFBhcnQob3JpZ2luOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgb3JpZ2luICE9PSBudWxsICYmXG4gICAgb3JpZ2luICE9PSB1bmRlZmluZWQgJiZcbiAgICB0eXBlb2Ygb3JpZ2luID09PSAnb2JqZWN0JyAmJlxuICAgICdmdW5jdGlvbkNhbGwnIGluIG9yaWdpblxuICApO1xufVxuXG5mdW5jdGlvbiBfaXNVc2VyUGFydChvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgaWYgKG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoX2lzRnVuY3Rpb25DYWxsUGFydChvcmlnaW4pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBfYXJlVXNlclBhcnRzKG9yaWdpbjogdHlwZXMuUGFydExpc3RVbmlvbltdKTogYm9vbGVhbiB7XG4gIGlmIChcbiAgICBvcmlnaW4gPT09IG51bGwgfHxcbiAgICBvcmlnaW4gPT09IHVuZGVmaW5lZCB8fFxuICAgIChBcnJheS5pc0FycmF5KG9yaWdpbikgJiYgb3JpZ2luLmxlbmd0aCA9PT0gMClcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBvcmlnaW4uZXZlcnkoX2lzVXNlclBhcnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdENvbnRlbnQoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvcmlnaW4/OiB0eXBlcy5Db250ZW50VW5pb24sXG4pOiB0eXBlcy5Db250ZW50IHtcbiAgaWYgKG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKF9pc0NvbnRlbnQob3JpZ2luKSkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IF9pc0NvbnRlbnQgaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICAgIC8vIG9yaWdpbiBpcyBhIENvbnRlbnQuXG4gICAgcmV0dXJuIG9yaWdpbjtcbiAgfVxuXG4gIGlmIChfaXNVc2VyUGFydChvcmlnaW4pKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIHBhcnRzOiB0UGFydHMoYXBpQ2xpZW50LCBvcmlnaW4gYXMgdHlwZXMuUGFydExpc3RVbmlvbikhLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6ICdtb2RlbCcsXG4gICAgICBwYXJ0czogdFBhcnRzKGFwaUNsaWVudCwgb3JpZ2luIGFzIHR5cGVzLlBhcnRMaXN0VW5pb24pISxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q29udGVudHNGb3JFbWJlZChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9yaWdpbjogdHlwZXMuQ29udGVudExpc3RVbmlvbixcbik6IHR5cGVzLkNvbnRlbnRVbmlvbltdIHtcbiAgaWYgKCFvcmlnaW4pIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKGFwaUNsaWVudC5pc1ZlcnRleEFJKCkgJiYgQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgcmV0dXJuIG9yaWdpbi5mbGF0TWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50ID0gdENvbnRlbnQoYXBpQ2xpZW50LCBpdGVtIGFzIHR5cGVzLkNvbnRlbnRVbmlvbik7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbnRlbnQucGFydHMgJiZcbiAgICAgICAgY29udGVudC5wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgIGNvbnRlbnQucGFydHNbMF0udGV4dCAhPT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIFtjb250ZW50LnBhcnRzWzBdLnRleHRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICBjb25zdCBjb250ZW50ID0gdENvbnRlbnQoYXBpQ2xpZW50LCBvcmlnaW4gYXMgdHlwZXMuQ29udGVudFVuaW9uKTtcbiAgICBpZiAoXG4gICAgICBjb250ZW50LnBhcnRzICYmXG4gICAgICBjb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgIGNvbnRlbnQucGFydHNbMF0udGV4dCAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gW2NvbnRlbnQucGFydHNbMF0udGV4dF07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgcmV0dXJuIG9yaWdpbi5tYXAoXG4gICAgICAoaXRlbSkgPT4gdENvbnRlbnQoYXBpQ2xpZW50LCBpdGVtIGFzIHR5cGVzLkNvbnRlbnRVbmlvbikhLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIFt0Q29udGVudChhcGlDbGllbnQsIG9yaWdpbiBhcyB0eXBlcy5Db250ZW50VW5pb24pIV07XG59XG5cbmZ1bmN0aW9uIF9hcHBlbmRBY2N1bXVsYXRlZFBhcnRzQXNDb250ZW50KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgcmVzdWx0OiB0eXBlcy5Db250ZW50W10sXG4gIGFjY3VtdWxhdGVkUGFydHM6IHR5cGVzLlBhcnRVbmlvbltdLFxuKSB7XG4gIGlmIChhY2N1bXVsYXRlZFBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoX2FyZVVzZXJQYXJ0cyhhY2N1bXVsYXRlZFBhcnRzKSkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIHBhcnRzOiB0UGFydHMoYXBpQ2xpZW50LCBhY2N1bXVsYXRlZFBhcnRzKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICByb2xlOiAnbW9kZWwnLFxuICAgICAgcGFydHM6IHRQYXJ0cyhhcGlDbGllbnQsIGFjY3VtdWxhdGVkUGFydHMpLFxuICAgIH0pO1xuICB9XG4gIGFjY3VtdWxhdGVkUGFydHMubGVuZ3RoID0gMDsgLy8gY2xlYXIgdGhlIGFycmF5IGlucGxhY2Vcbn1cblxuZnVuY3Rpb24gX2hhbmRsZUN1cnJlbnRQYXJ0KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgcmVzdWx0OiB0eXBlcy5Db250ZW50W10sXG4gIGFjY3VtdWxhdGVkUGFydHM6IHR5cGVzLlBhcnRVbmlvbltdLFxuICBjdXJyZW50UGFydDogdHlwZXMuUGFydFVuaW9uLFxuKSB7XG4gIGlmIChfaXNVc2VyUGFydChjdXJyZW50UGFydCkgPT09IF9hcmVVc2VyUGFydHMoYWNjdW11bGF0ZWRQYXJ0cykpIHtcbiAgICBhY2N1bXVsYXRlZFBhcnRzLnB1c2goY3VycmVudFBhcnQpO1xuICB9IGVsc2Uge1xuICAgIF9hcHBlbmRBY2N1bXVsYXRlZFBhcnRzQXNDb250ZW50KGFwaUNsaWVudCwgcmVzdWx0LCBhY2N1bXVsYXRlZFBhcnRzKTtcbiAgICBhY2N1bXVsYXRlZFBhcnRzLmxlbmd0aCA9IDA7XG4gICAgYWNjdW11bGF0ZWRQYXJ0cy5wdXNoKGN1cnJlbnRQYXJ0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdENvbnRlbnRzKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgb3JpZ2luPzogdHlwZXMuQ29udGVudExpc3RVbmlvbixcbik6IHR5cGVzLkNvbnRlbnRbXSB7XG4gIGlmIChcbiAgICBvcmlnaW4gPT09IG51bGwgfHxcbiAgICBvcmlnaW4gPT09IHVuZGVmaW5lZCB8fFxuICAgIChBcnJheS5pc0FycmF5KG9yaWdpbikgJiYgb3JpZ2luLmxlbmd0aCA9PT0gMClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb250ZW50cyBhcmUgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkob3JpZ2luKSkge1xuICAgIHJldHVybiBbdENvbnRlbnQoYXBpQ2xpZW50LCBvcmlnaW4pXTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdDogdHlwZXMuQ29udGVudFtdID0gW107XG4gIGNvbnN0IGFjY3VtdWxhdGVkUGFydHM6IHR5cGVzLlBhcnRVbmlvbltdID0gW107XG5cbiAgZm9yIChjb25zdCBjb250ZW50IG9mIG9yaWdpbikge1xuICAgIGlmIChfaXNDb250ZW50KGNvbnRlbnQpKSB7XG4gICAgICBfYXBwZW5kQWNjdW11bGF0ZWRQYXJ0c0FzQ29udGVudChhcGlDbGllbnQsIHJlc3VsdCwgYWNjdW11bGF0ZWRQYXJ0cyk7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBjb250ZW50IGlzIGEgQ29udGVudCBoZXJlXG4gICAgICByZXN1bHQucHVzaChjb250ZW50KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnIHx8XG4gICAgICAodHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGNvbnRlbnQpKVxuICAgICkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogY29udGVudCBpcyBhIHBhcnQgaGVyZVxuICAgICAgX2hhbmRsZUN1cnJlbnRQYXJ0KGFwaUNsaWVudCwgcmVzdWx0LCBhY2N1bXVsYXRlZFBhcnRzLCBjb250ZW50KTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3JlIGNvbnNlY3V0aXZlIHVzZXIgcGFydHMgYmVmb3JlIHRoZSBsaXN0LFxuICAgICAgLy8gY29udmVydCB0byBVc2VyQ29udGVudCBhbmQgYXBwZW5kIHRvIHJlc3VsdFxuICAgICAgX2FwcGVuZEFjY3VtdWxhdGVkUGFydHNBc0NvbnRlbnQoYXBpQ2xpZW50LCByZXN1bHQsIGFjY3VtdWxhdGVkUGFydHMpO1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIHBhcnRzOiB0UGFydHMoYXBpQ2xpZW50LCBjb250ZW50KSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvbnRlbnQgdHlwZTogJHt0eXBlb2YgY29udGVudH1gKTtcbiAgICB9XG4gIH1cbiAgX2FwcGVuZEFjY3VtdWxhdGVkUGFydHNBc0NvbnRlbnQoYXBpQ2xpZW50LCByZXN1bHQsIGFjY3VtdWxhdGVkUGFydHMpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzU2NoZW1hKGFwaUNsaWVudDogQXBpQ2xpZW50LCBzY2hlbWE6IHR5cGVzLlNjaGVtYSkge1xuICBpZiAoIWFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICBpZiAoJ2RlZmF1bHQnIGluIHNjaGVtYSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnRGVmYXVsdCB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSByZXNwb25zZSBzY2hlbWEgZm9yIHRoZSBHZW1pbmkgQVBJLicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmICgnYW55T2YnIGluIHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWFbJ2FueU9mJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9yIChjb25zdCBzdWJTY2hlbWEgb2Ygc2NoZW1hWydhbnlPZiddKSB7XG4gICAgICAgIHByb2Nlc3NTY2hlbWEoYXBpQ2xpZW50LCBzdWJTY2hlbWEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICgnaXRlbXMnIGluIHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWFbJ2l0ZW1zJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJvY2Vzc1NjaGVtYShhcGlDbGllbnQsIHNjaGVtYVsnaXRlbXMnXSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdwcm9wZXJ0aWVzJyBpbiBzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hWydwcm9wZXJ0aWVzJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9yIChjb25zdCBzdWJTY2hlbWEgb2YgT2JqZWN0LnZhbHVlcyhzY2hlbWFbJ3Byb3BlcnRpZXMnXSkpIHtcbiAgICAgICAgcHJvY2Vzc1NjaGVtYShhcGlDbGllbnQsIHN1YlNjaGVtYSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0U2NoZW1hKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgc2NoZW1hOiB0eXBlcy5TY2hlbWEsXG4pOiB0eXBlcy5TY2hlbWEge1xuICBwcm9jZXNzU2NoZW1hKGFwaUNsaWVudCwgc2NoZW1hKTtcbiAgcmV0dXJuIHNjaGVtYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRTcGVlY2hDb25maWcoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBzcGVlY2hDb25maWc6IHR5cGVzLlNwZWVjaENvbmZpZ1VuaW9uLFxuKTogdHlwZXMuU3BlZWNoQ29uZmlnIHtcbiAgaWYgKHR5cGVvZiBzcGVlY2hDb25maWcgPT09ICdvYmplY3QnICYmICd2b2ljZUNvbmZpZycgaW4gc3BlZWNoQ29uZmlnKSB7XG4gICAgcmV0dXJuIHNwZWVjaENvbmZpZztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3BlZWNoQ29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7XG4gICAgICB2b2ljZUNvbmZpZzoge1xuICAgICAgICBwcmVidWlsdFZvaWNlQ29uZmlnOiB7XG4gICAgICAgICAgdm9pY2VOYW1lOiBzcGVlY2hDb25maWcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBzcGVlY2hDb25maWcgdHlwZTogJHt0eXBlb2Ygc3BlZWNoQ29uZmlnfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0VG9vbChhcGlDbGllbnQ6IEFwaUNsaWVudCwgdG9vbDogdHlwZXMuVG9vbCk6IHR5cGVzLlRvb2wge1xuICByZXR1cm4gdG9vbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRUb29scyhcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIHRvb2w6IHR5cGVzLlRvb2xbXSB8IHVua25vd24sXG4pOiB0eXBlcy5Ub29sW10ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodG9vbCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rvb2wgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYW4gYXJyYXkgb2YgVG9vbHMnKTtcbiAgfVxuICByZXR1cm4gdG9vbDtcbn1cblxuLyoqXG4gKiBQcmVwZW5kcyByZXNvdXJjZSBuYW1lIHdpdGggcHJvamVjdCwgbG9jYXRpb24sIHJlc291cmNlX3ByZWZpeCBpZiBuZWVkZWQuXG4gKlxuICogQHBhcmFtIGNsaWVudCBUaGUgQVBJIGNsaWVudC5cbiAqIEBwYXJhbSByZXNvdXJjZU5hbWUgVGhlIHJlc291cmNlIG5hbWUuXG4gKiBAcGFyYW0gcmVzb3VyY2VQcmVmaXggVGhlIHJlc291cmNlIHByZWZpeC5cbiAqIEBwYXJhbSBzcGxpdHNBZnRlclByZWZpeCBUaGUgbnVtYmVyIG9mIHNwbGl0cyBhZnRlciB0aGUgcHJlZml4LlxuICogQHJldHVybnMgVGhlIGNvbXBsZXRlZCByZXNvdXJjZSBuYW1lLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqIGBgYFxuICogcmVzb3VyY2VfbmFtZSA9ICcxMjMnXG4gKiByZXNvdXJjZV9wcmVmaXggPSAnY2FjaGVkQ29udGVudHMnXG4gKiBzcGxpdHNfYWZ0ZXJfcHJlZml4ID0gMVxuICogY2xpZW50LnZlcnRleGFpID0gVHJ1ZVxuICogY2xpZW50LnByb2plY3QgPSAnYmFyJ1xuICogY2xpZW50LmxvY2F0aW9uID0gJ3VzLXdlc3QxJ1xuICogX3Jlc291cmNlX25hbWUoY2xpZW50LCByZXNvdXJjZV9uYW1lLCByZXNvdXJjZV9wcmVmaXgsIHNwbGl0c19hZnRlcl9wcmVmaXgpXG4gKiByZXR1cm5zOiAncHJvamVjdHMvYmFyL2xvY2F0aW9ucy91cy13ZXN0MS9jYWNoZWRDb250ZW50cy8xMjMnXG4gKiBgYGBcbiAqXG4gKiBgYGBcbiAqIHJlc291cmNlX25hbWUgPSAncHJvamVjdHMvZm9vL2xvY2F0aW9ucy91cy1jZW50cmFsMS9jYWNoZWRDb250ZW50cy8xMjMnXG4gKiByZXNvdXJjZV9wcmVmaXggPSAnY2FjaGVkQ29udGVudHMnXG4gKiBzcGxpdHNfYWZ0ZXJfcHJlZml4ID0gMVxuICogY2xpZW50LnZlcnRleGFpID0gVHJ1ZVxuICogY2xpZW50LnByb2plY3QgPSAnYmFyJ1xuICogY2xpZW50LmxvY2F0aW9uID0gJ3VzLXdlc3QxJ1xuICogX3Jlc291cmNlX25hbWUoY2xpZW50LCByZXNvdXJjZV9uYW1lLCByZXNvdXJjZV9wcmVmaXgsIHNwbGl0c19hZnRlcl9wcmVmaXgpXG4gKiByZXR1cm5zOiAncHJvamVjdHMvZm9vL2xvY2F0aW9ucy91cy1jZW50cmFsMS9jYWNoZWRDb250ZW50cy8xMjMnXG4gKiBgYGBcbiAqXG4gKiBgYGBcbiAqIHJlc291cmNlX25hbWUgPSAnMTIzJ1xuICogcmVzb3VyY2VfcHJlZml4ID0gJ2NhY2hlZENvbnRlbnRzJ1xuICogc3BsaXRzX2FmdGVyX3ByZWZpeCA9IDFcbiAqIGNsaWVudC52ZXJ0ZXhhaSA9IEZhbHNlXG4gKiBfcmVzb3VyY2VfbmFtZShjbGllbnQsIHJlc291cmNlX25hbWUsIHJlc291cmNlX3ByZWZpeCwgc3BsaXRzX2FmdGVyX3ByZWZpeClcbiAqIHJldHVybnMgJ2NhY2hlZENvbnRlbnRzLzEyMydcbiAqIGBgYFxuICpcbiAqIGBgYFxuICogcmVzb3VyY2VfbmFtZSA9ICdzb21lL3dyb25nL2NhY2hlZENvbnRlbnRzL3Jlc291cmNlL25hbWUvMTIzJ1xuICogcmVzb3VyY2VfcHJlZml4ID0gJ2NhY2hlZENvbnRlbnRzJ1xuICogc3BsaXRzX2FmdGVyX3ByZWZpeCA9IDFcbiAqIGNsaWVudC52ZXJ0ZXhhaSA9IEZhbHNlXG4gKiAjIGNsaWVudC52ZXJ0ZXhhaSA9IFRydWVcbiAqIF9yZXNvdXJjZV9uYW1lKGNsaWVudCwgcmVzb3VyY2VfbmFtZSwgcmVzb3VyY2VfcHJlZml4LCBzcGxpdHNfYWZ0ZXJfcHJlZml4KVxuICogLT4gJ3NvbWUvd3JvbmcvcmVzb3VyY2UvbmFtZS8xMjMnXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gcmVzb3VyY2VOYW1lKFxuICBjbGllbnQ6IEFwaUNsaWVudCxcbiAgcmVzb3VyY2VOYW1lOiBzdHJpbmcsXG4gIHJlc291cmNlUHJlZml4OiBzdHJpbmcsXG4gIHNwbGl0c0FmdGVyUHJlZml4OiBudW1iZXIgPSAxLFxuKTogc3RyaW5nIHtcbiAgY29uc3Qgc2hvdWxkQXBwZW5kUHJlZml4ID1cbiAgICAhcmVzb3VyY2VOYW1lLnN0YXJ0c1dpdGgoYCR7cmVzb3VyY2VQcmVmaXh9L2ApICYmXG4gICAgcmVzb3VyY2VOYW1lLnNwbGl0KCcvJykubGVuZ3RoID09PSBzcGxpdHNBZnRlclByZWZpeDtcbiAgaWYgKGNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICBpZiAocmVzb3VyY2VOYW1lLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpKSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VOYW1lO1xuICAgIH0gZWxzZSBpZiAocmVzb3VyY2VOYW1lLnN0YXJ0c1dpdGgoJ2xvY2F0aW9ucy8nKSkge1xuICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke2NsaWVudC5nZXRQcm9qZWN0KCl9LyR7cmVzb3VyY2VOYW1lfWA7XG4gICAgfSBlbHNlIGlmIChyZXNvdXJjZU5hbWUuc3RhcnRzV2l0aChgJHtyZXNvdXJjZVByZWZpeH0vYCkpIHtcbiAgICAgIHJldHVybiBgcHJvamVjdHMvJHtjbGllbnQuZ2V0UHJvamVjdCgpfS9sb2NhdGlvbnMvJHtjbGllbnQuZ2V0TG9jYXRpb24oKX0vJHtyZXNvdXJjZU5hbWV9YDtcbiAgICB9IGVsc2UgaWYgKHNob3VsZEFwcGVuZFByZWZpeCkge1xuICAgICAgcmV0dXJuIGBwcm9qZWN0cy8ke2NsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2NsaWVudC5nZXRMb2NhdGlvbigpfS8ke3Jlc291cmNlUHJlZml4fS8ke3Jlc291cmNlTmFtZX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VOYW1lO1xuICAgIH1cbiAgfVxuICBpZiAoc2hvdWxkQXBwZW5kUHJlZml4KSB7XG4gICAgcmV0dXJuIGAke3Jlc291cmNlUHJlZml4fS8ke3Jlc291cmNlTmFtZX1gO1xuICB9XG4gIHJldHVybiByZXNvdXJjZU5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q2FjaGVkQ29udGVudE5hbWUoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBuYW1lOiBzdHJpbmcgfCB1bmtub3duLFxuKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbmFtZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cbiAgcmV0dXJuIHJlc291cmNlTmFtZShhcGlDbGllbnQsIG5hbWUsICdjYWNoZWRDb250ZW50cycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdFR1bmluZ0pvYlN0YXR1cyhcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIHN0YXR1czogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgY2FzZSAnU1RBVEVfVU5TUEVDSUZJRUQnOlxuICAgICAgcmV0dXJuICdKT0JfU1RBVEVfVU5TUEVDSUZJRUQnO1xuICAgIGNhc2UgJ0NSRUFUSU5HJzpcbiAgICAgIHJldHVybiAnSk9CX1NUQVRFX1JVTk5JTkcnO1xuICAgIGNhc2UgJ0FDVElWRSc6XG4gICAgICByZXR1cm4gJ0pPQl9TVEFURV9TVUNDRUVERUQnO1xuICAgIGNhc2UgJ0ZBSUxFRCc6XG4gICAgICByZXR1cm4gJ0pPQl9TVEFURV9GQUlMRUQnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdHVzIGFzIHN0cmluZztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdEJ5dGVzKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbUltYWdlQnl0ZXM6IHN0cmluZyB8IHVua25vd24sXG4pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIGZyb21JbWFnZUJ5dGVzICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZnJvbUltYWdlQnl0ZXMgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG4gIC8vIFRPRE8oYi8zODkxMzM5MTQpOiBSZW1vdmUgZHVtbXkgYnl0ZXMgY29udmVydGVyLlxuICByZXR1cm4gZnJvbUltYWdlQnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdEZpbGVOYW1lKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU5hbWU6IHN0cmluZyB8IHVua25vd24sXG4pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIGZyb21OYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZnJvbU5hbWUgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG4gIC8vIFJlbW92ZSB0aGUgZmlsZXMvIHByZWZ4IGZvciBNTGRldiB1cmxzIHRvIGdldCB0aGUgYWN0dWFsIG5hbWUgb2YgdGhlIGZpbGUuXG4gIGlmIChmcm9tTmFtZS5zdGFydHNXaXRoKCdmaWxlcy8nKSkge1xuICAgIHJldHVybiBmcm9tTmFtZS5zcGxpdCgnZmlsZXMvJylbMV07XG4gIH1cbiAgcmV0dXJuIGZyb21OYW1lO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0VG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZpZGVvTWV0YWRhdGEgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0VG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJ0cyddLCBmcm9tUGFydHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlbWFUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2NoZW1hLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdleGFtcGxlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGF0dGVybiddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXR0ZXJuIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVmYXVsdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZWZhdWx0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4TGVuZ3RoJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21heExlbmd0aCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkxlbmd0aCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5MZW5ndGggcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5Qcm9wZXJ0aWVzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pblByb3BlcnRpZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhQcm9wZXJ0aWVzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21heFByb3BlcnRpZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BbnlPZiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FueU9mJ10pO1xuICBpZiAoZnJvbUFueU9mICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYW55T2YnXSwgZnJvbUFueU9mKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbnVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW51bSddKTtcbiAgaWYgKGZyb21FbnVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW51bSddLCBmcm9tRW51bSk7XG4gIH1cblxuICBjb25zdCBmcm9tRm9ybWF0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZm9ybWF0J10pO1xuICBpZiAoZnJvbUZvcm1hdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Zvcm1hdCddLCBmcm9tRm9ybWF0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2l0ZW1zJ10pO1xuICBpZiAoZnJvbUl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaXRlbXMnXSwgZnJvbUl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhJdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heEl0ZW1zJ10pO1xuICBpZiAoZnJvbU1heEl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4SXRlbXMnXSwgZnJvbU1heEl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhpbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4aW11bSddKTtcbiAgaWYgKGZyb21NYXhpbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4aW11bSddLCBmcm9tTWF4aW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluSXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5JdGVtcyddKTtcbiAgaWYgKGZyb21NaW5JdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbkl0ZW1zJ10sIGZyb21NaW5JdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluaW11bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbmltdW0nXSk7XG4gIGlmIChmcm9tTWluaW11bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbmltdW0nXSwgZnJvbU1pbmltdW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbU51bGxhYmxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbnVsbGFibGUnXSk7XG4gIGlmIChmcm9tTnVsbGFibGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydudWxsYWJsZSddLCBmcm9tTnVsbGFibGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9wZXJ0aWVzJ10pO1xuICBpZiAoZnJvbVByb3BlcnRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9wZXJ0aWVzJ10sIGZyb21Qcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9wZXJ0eU9yZGVyaW5nID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvcGVydHlPcmRlcmluZycsXG4gIF0pO1xuICBpZiAoZnJvbVByb3BlcnR5T3JkZXJpbmcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9wZXJ0eU9yZGVyaW5nJ10sIGZyb21Qcm9wZXJ0eU9yZGVyaW5nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXF1aXJlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JlcXVpcmVkJ10pO1xuICBpZiAoZnJvbVJlcXVpcmVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVxdWlyZWQnXSwgZnJvbVJlcXVpcmVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaXRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpdGxlJ10pO1xuICBpZiAoZnJvbVRpdGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGl0bGUnXSwgZnJvbVRpdGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHlwZSddKTtcbiAgaWYgKGZyb21UeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHlwZSddLCBmcm9tVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkRlY2xhcmF0aW9uVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uRGVjbGFyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXNwb25zZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJhbWV0ZXJzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFyYW1ldGVycyddKTtcbiAgaWYgKGZyb21QYXJhbWV0ZXJzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFyYW1ldGVycyddLCBmcm9tUGFyYW1ldGVycyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hUb01sZGV2KCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHluYW1pY1JldHJpZXZhbENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EeW5hbWljUmV0cmlldmFsQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGUnXSk7XG4gIGlmIChmcm9tTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGUnXSwgZnJvbU1vZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUR5bmFtaWNUaHJlc2hvbGQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkeW5hbWljVGhyZXNob2xkJyxcbiAgXSk7XG4gIGlmIChmcm9tRHluYW1pY1RocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2R5bmFtaWNUaHJlc2hvbGQnXSwgZnJvbUR5bmFtaWNUaHJlc2hvbGQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkeW5hbWljUmV0cmlldmFsQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnXSxcbiAgICAgIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlRvb2wsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSxcbiAgICAgICAgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbkRlY2xhcmF0aW9uVG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSxcbiAgICAgICAgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmV0cmlldmFsJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JldHJpZXZhbCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2ggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnb29nbGVTZWFyY2gnXSwgZ29vZ2xlU2VhcmNoVG9NbGRldigpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnb29nbGVTZWFyY2hSZXRyaWV2YWwnLFxuICBdKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVTZWFyY2hSZXRyaWV2YWwnXSxcbiAgICAgIGdvb2dsZVNlYXJjaFJldHJpZXZhbFRvTWxkZXYoYXBpQ2xpZW50LCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGVFeGVjdXRpb24nXSwgZnJvbUNvZGVFeGVjdXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAoZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydhbGxvd2VkRnVuY3Rpb25OYW1lcyddLFxuICAgICAgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlRvb2xDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkNhbGxpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGxpbmdDb25maWcnXSxcbiAgICAgIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHRsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHRsJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR0bCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0dGwnXSwgZnJvbVR0bCk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoXG4gICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzeXN0ZW1JbnN0cnVjdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVN5c3RlbUluc3RydWN0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3N5c3RlbUluc3RydWN0aW9uJ10sXG4gICAgICBjb250ZW50VG9NbGRldihhcGlDbGllbnQsIHQudENvbnRlbnQoYXBpQ2xpZW50LCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24pKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Ub29scykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIGZyb21Ub29scy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbFRvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3Rvb2xzJ10sIGZyb21Ub29scyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndG9vbENvbmZpZyddLFxuICAgICAgdG9vbENvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tVG9vbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ21vZGVsJ10sXG4gICAgICB0LnRDYWNoZXNNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBjcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRDYWNoZWRDb250ZW50TmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVR0bCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R0bCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndHRsJ10sIGZyb21UdGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgdXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c0NvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGxpc3RDYWNoZWRDb250ZW50c0NvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYXJ0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcnRzJ10pO1xuICBpZiAoZnJvbVBhcnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tUGFydHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3BhcnRzJ10sXG4gICAgICAgIGZyb21QYXJ0cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gcGFydFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVtYVRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2NoZW1hLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRXhhbXBsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4YW1wbGUnXSk7XG4gIGlmIChmcm9tRXhhbXBsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4YW1wbGUnXSwgZnJvbUV4YW1wbGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhdHRlcm4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXR0ZXJuJ10pO1xuICBpZiAoZnJvbVBhdHRlcm4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXR0ZXJuJ10sIGZyb21QYXR0ZXJuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZWZhdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVmYXVsdCddKTtcbiAgaWYgKGZyb21EZWZhdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVmYXVsdCddLCBmcm9tRGVmYXVsdCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4TGVuZ3RoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4TGVuZ3RoJ10pO1xuICBpZiAoZnJvbU1heExlbmd0aCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heExlbmd0aCddLCBmcm9tTWF4TGVuZ3RoKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5MZW5ndGggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5MZW5ndGgnXSk7XG4gIGlmIChmcm9tTWluTGVuZ3RoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluTGVuZ3RoJ10sIGZyb21NaW5MZW5ndGgpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pblByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtaW5Qcm9wZXJ0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tTWluUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pblByb3BlcnRpZXMnXSwgZnJvbU1pblByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heFByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhQcm9wZXJ0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4UHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heFByb3BlcnRpZXMnXSwgZnJvbU1heFByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFueU9mID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYW55T2YnXSk7XG4gIGlmIChmcm9tQW55T2YgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhbnlPZiddLCBmcm9tQW55T2YpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVudW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbnVtJ10pO1xuICBpZiAoZnJvbUVudW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbnVtJ10sIGZyb21FbnVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Gb3JtYXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmb3JtYXQnXSk7XG4gIGlmIChmcm9tRm9ybWF0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZm9ybWF0J10sIGZyb21Gb3JtYXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaXRlbXMnXSk7XG4gIGlmIChmcm9tSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpdGVtcyddLCBmcm9tSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heEl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4SXRlbXMnXSk7XG4gIGlmIChmcm9tTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhJdGVtcyddLCBmcm9tTWF4SXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heGltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhpbXVtJ10pO1xuICBpZiAoZnJvbU1heGltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhpbXVtJ10sIGZyb21NYXhpbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkl0ZW1zJ10pO1xuICBpZiAoZnJvbU1pbkl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluSXRlbXMnXSwgZnJvbU1pbkl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5pbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluaW11bSddKTtcbiAgaWYgKGZyb21NaW5pbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluaW11bSddLCBmcm9tTWluaW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVsbGFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydudWxsYWJsZSddKTtcbiAgaWYgKGZyb21OdWxsYWJsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ251bGxhYmxlJ10sIGZyb21OdWxsYWJsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSk7XG4gIGlmIChmcm9tUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSwgZnJvbVByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnR5T3JkZXJpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9wZXJ0eU9yZGVyaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvcGVydHlPcmRlcmluZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnR5T3JkZXJpbmcnXSwgZnJvbVByb3BlcnR5T3JkZXJpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlcXVpcmVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVxdWlyZWQnXSk7XG4gIGlmIChmcm9tUmVxdWlyZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXF1aXJlZCddLCBmcm9tUmVxdWlyZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpdGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGl0bGUnXSk7XG4gIGlmIChmcm9tVGl0bGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0eXBlJ10pO1xuICBpZiAoZnJvbVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0eXBlJ10sIGZyb21UeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uRGVjbGFyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIHNjaGVtYVRvVmVydGV4KGFwaUNsaWVudCwgZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJhbWV0ZXJzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFyYW1ldGVycyddKTtcbiAgaWYgKGZyb21QYXJhbWV0ZXJzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFyYW1ldGVycyddLCBmcm9tUGFyYW1ldGVycyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hUb1ZlcnRleCgpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkR5bmFtaWNSZXRyaWV2YWxDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRHluYW1pY1RocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNUaHJlc2hvbGQnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZHluYW1pY1RocmVzaG9sZCddLCBmcm9tRHluYW1pY1RocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkeW5hbWljUmV0cmlldmFsQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnXSxcbiAgICAgIGR5bmFtaWNSZXRyaWV2YWxDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSxcbiAgICAgICAgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmV0cmlldmFsJ10pO1xuICBpZiAoZnJvbVJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JldHJpZXZhbCddLCBmcm9tUmV0cmlldmFsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10sIGdvb2dsZVNlYXJjaFRvVmVydGV4KCkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGVFeGVjdXRpb24nXSwgZnJvbUNvZGVFeGVjdXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGxpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhbGxvd2VkRnVuY3Rpb25OYW1lcycsXG4gIF0pO1xuICBpZiAoZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnXSxcbiAgICAgIGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyddLFxuICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVR0bCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R0bCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndHRsJ10sIGZyb21UdGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Db250ZW50cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIHQudENvbnRlbnQoYXBpQ2xpZW50LCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24pKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Ub29scykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIGZyb21Ub29scy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0b29scyddLCBmcm9tVG9vbHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENvbmZpZyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3Rvb2xDb25maWcnXSxcbiAgICAgIHRvb2xDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ21vZGVsJ10sXG4gICAgICB0LnRDYWNoZXNNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBjcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UdGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0dGwnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHRsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3R0bCddLCBmcm9tVHRsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwaXJlVGltZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FeHBpcmVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSwgZnJvbUV4cGlyZVRpbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICB1cGRhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c0NvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlU2l6ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlU2l6ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVNpemUnXSwgZnJvbVBhZ2VTaXplKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlVG9rZW4nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlVG9rZW4nXSwgZnJvbVBhZ2VUb2tlbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgbGlzdENhY2hlZENvbnRlbnRzQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlZENvbnRlbnRGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DYWNoZWRDb250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbCddLCBmcm9tTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSwgZnJvbUV4cGlyZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VzYWdlTWV0YWRhdGEnXSwgZnJvbVVzYWdlTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KCk6IFJlY29yZDxcbiAgc3RyaW5nLFxuICB1bmtub3duXG4+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5leHRQYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZXh0UGFnZVRva2VuJyxcbiAgXSk7XG4gIGlmIChmcm9tTmV4dFBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25leHRQYWdlVG9rZW4nXSwgZnJvbU5leHRQYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudHMnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhY2hlZENvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYWNoZWRDb250ZW50cyddLFxuICAgICAgICBmcm9tQ2FjaGVkQ29udGVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlZENvbnRlbnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FjaGVkQ29udGVudHMnXSwgZnJvbUNhY2hlZENvbnRlbnRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZWRDb250ZW50RnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNhY2hlZENvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGVsJ10sIGZyb21Nb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBpcmVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwaXJlVGltZSddKTtcbiAgaWYgKGZyb21FeHBpcmVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVXNhZ2VNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VzYWdlTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXNhZ2VNZXRhZGF0YSddLCBmcm9tVXNhZ2VNZXRhZGF0YSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KCk6IFJlY29yZDxcbiAgc3RyaW5nLFxuICB1bmtub3duXG4+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnRzJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FjaGVkQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21DYWNoZWRDb250ZW50cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY2FjaGVkQ29udGVudHMnXSxcbiAgICAgICAgZnJvbUNhY2hlZENvbnRlbnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjYWNoZWRDb250ZW50RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYWNoZWRDb250ZW50cyddLCBmcm9tQ2FjaGVkQ29udGVudHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogUGFnZXJzIGZvciB0aGUgR2VuQUkgTGlzdCBBUElzLlxuICovXG5cbmV4cG9ydCBlbnVtIFBhZ2VkSXRlbSB7XG4gIFBBR0VEX0lURU1fQkFUQ0hfSk9CUyA9ICdiYXRjaEpvYnMnLFxuICBQQUdFRF9JVEVNX01PREVMUyA9ICdtb2RlbHMnLFxuICBQQUdFRF9JVEVNX1RVTklOR19KT0JTID0gJ3R1bmluZ0pvYnMnLFxuICBQQUdFRF9JVEVNX0ZJTEVTID0gJ2ZpbGVzJyxcbiAgUEFHRURfSVRFTV9DQUNIRURfQ09OVEVOVFMgPSAnY2FjaGVkQ29udGVudHMnLFxufVxuXG5pbnRlcmZhY2UgUGFnZWRJdGVtQ29uZmlnIHtcbiAgY29uZmlnPzoge1xuICAgIHBhZ2VUb2tlbj86IHN0cmluZztcbiAgICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFBhZ2VkSXRlbVJlc3BvbnNlPFQ+IHtcbiAgbmV4dFBhZ2VUb2tlbj86IHN0cmluZztcbiAgYmF0Y2hKb2JzPzogVFtdO1xuICBtb2RlbHM/OiBUW107XG4gIHR1bmluZ0pvYnM/OiBUW107XG4gIGZpbGVzPzogVFtdO1xuICBjYWNoZWRDb250ZW50cz86IFRbXTtcbn1cblxuLyoqXG4gKiBQYWdlciBjbGFzcyBmb3IgaXRlcmF0aW5nIHRocm91Z2ggcGFnaW5hdGVkIHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlcjxUPiBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGU8VD4ge1xuICBwcml2YXRlIG5hbWVJbnRlcm5hbCE6IFBhZ2VkSXRlbTtcbiAgcHJpdmF0ZSBwYWdlSW50ZXJuYWw6IFRbXSA9IFtdO1xuICBwcml2YXRlIHBhcmFtc0ludGVybmFsOiBQYWdlZEl0ZW1Db25maWcgPSB7fTtcbiAgcHJpdmF0ZSBwYWdlSW50ZXJuYWxTaXplITogbnVtYmVyO1xuICBwcm90ZWN0ZWQgcmVxdWVzdEludGVybmFsITogKFxuICAgIHBhcmFtczogUGFnZWRJdGVtQ29uZmlnLFxuICApID0+IFByb21pc2U8UGFnZWRJdGVtUmVzcG9uc2U8VD4+O1xuICBwcm90ZWN0ZWQgaWR4SW50ZXJuYWwhOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbmFtZTogUGFnZWRJdGVtLFxuICAgIHJlcXVlc3Q6IChwYXJhbXM6IFBhZ2VkSXRlbUNvbmZpZykgPT4gUHJvbWlzZTxQYWdlZEl0ZW1SZXNwb25zZTxUPj4sXG4gICAgcmVzcG9uc2U6IFBhZ2VkSXRlbVJlc3BvbnNlPFQ+LFxuICAgIHBhcmFtczogUGFnZWRJdGVtQ29uZmlnLFxuICApIHtcbiAgICB0aGlzLnJlcXVlc3RJbnRlcm5hbCA9IHJlcXVlc3Q7XG4gICAgdGhpcy5pbml0KG5hbWUsIHJlc3BvbnNlLCBwYXJhbXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KFxuICAgIG5hbWU6IFBhZ2VkSXRlbSxcbiAgICByZXNwb25zZTogUGFnZWRJdGVtUmVzcG9uc2U8VD4sXG4gICAgcGFyYW1zOiBQYWdlZEl0ZW1Db25maWcsXG4gICkge1xuICAgIHRoaXMubmFtZUludGVybmFsID0gbmFtZTtcbiAgICB0aGlzLnBhZ2VJbnRlcm5hbCA9IHJlc3BvbnNlW3RoaXMubmFtZUludGVybmFsXSB8fCBbXTtcbiAgICB0aGlzLmlkeEludGVybmFsID0gMDtcbiAgICBsZXQgcmVxdWVzdFBhcmFtczogUGFnZWRJdGVtQ29uZmlnID0ge2NvbmZpZzoge319O1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICByZXF1ZXN0UGFyYW1zID0ge2NvbmZpZzoge319O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcXVlc3RQYXJhbXMgPSB7Li4ucGFyYW1zfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdFBhcmFtcyA9IHBhcmFtcztcbiAgICB9XG4gICAgaWYgKHJlcXVlc3RQYXJhbXNbJ2NvbmZpZyddKSB7XG4gICAgICByZXF1ZXN0UGFyYW1zWydjb25maWcnXVsncGFnZVRva2VuJ10gPSByZXNwb25zZVsnbmV4dFBhZ2VUb2tlbiddO1xuICAgIH1cbiAgICB0aGlzLnBhcmFtc0ludGVybmFsID0gcmVxdWVzdFBhcmFtcztcbiAgICB0aGlzLnBhZ2VJbnRlcm5hbFNpemUgPVxuICAgICAgcmVxdWVzdFBhcmFtc1snY29uZmlnJ10/LlsncGFnZVNpemUnXSA/PyB0aGlzLnBhZ2VJbnRlcm5hbC5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIGluaXROZXh0UGFnZShyZXNwb25zZTogUGFnZWRJdGVtUmVzcG9uc2U8VD4pOiB2b2lkIHtcbiAgICB0aGlzLmluaXQodGhpcy5uYW1lSW50ZXJuYWwsIHJlc3BvbnNlLCB0aGlzLnBhcmFtc0ludGVybmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBhZ2UsIHdoaWNoIGlzIGEgbGlzdCBvZiBpdGVtcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGZpcnN0IHBhZ2UgaXMgcmV0cmlldmVkIHdoZW4gdGhlIHBhZ2VyIGlzIGNyZWF0ZWQuIFRoZSByZXR1cm5lZCBsaXN0IG9mXG4gICAqIGl0ZW1zIGNvdWxkIGJlIGEgc3Vic2V0IG9mIHRoZSBlbnRpcmUgbGlzdC5cbiAgICovXG4gIGdldCBwYWdlKCk6IFRbXSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUludGVybmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHR5cGUgb2YgcGFnZWQgaXRlbSAoZm9yIGV4YW1wbGUsIGBgYmF0Y2hfam9ic2BgKS5cbiAgICovXG4gIGdldCBuYW1lKCk6IFBhZ2VkSXRlbSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZUludGVybmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgcGFnZSBmZXRjaGVkIGVhY2ggdGltZSBieSB0aGlzIHBhZ2VyLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGFnZSBsZW5ndGguXG4gICAqL1xuICBnZXQgcGFnZVNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlSW50ZXJuYWxTaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBhcmFtZXRlcnMgd2hlbiBtYWtpbmcgdGhlIEFQSSByZXF1ZXN0IGZvciB0aGUgbmV4dCBwYWdlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBQYXJhbWV0ZXJzIGNvbnRhaW4gYSBzZXQgb2Ygb3B0aW9uYWwgY29uZmlncyB0aGF0IGNhbiBiZVxuICAgKiB1c2VkIHRvIGN1c3RvbWl6ZSB0aGUgQVBJIHJlcXVlc3QuIEZvciBleGFtcGxlLCB0aGUgYHBhZ2VUb2tlbmAgcGFyYW1ldGVyXG4gICAqIGNvbnRhaW5zIHRoZSB0b2tlbiB0byByZXF1ZXN0IHRoZSBuZXh0IHBhZ2UuXG4gICAqL1xuICBnZXQgcGFyYW1zKCk6IFBhZ2VkSXRlbUNvbmZpZyB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zSW50ZXJuYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqL1xuICBnZXQgcGFnZUxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnBhZ2VJbnRlcm5hbC5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlbSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAqL1xuICBnZXRJdGVtKGluZGV4OiBudW1iZXIpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlSW50ZXJuYWxbaW5kZXhdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXN5bmMgaXRlcmF0b3IgdGhhdCBzdXBwb3J0IGl0ZXJhdGluZyB0aHJvdWdoIGFsbCBpdGVtc1xuICAgKiByZXRyaWV2ZWQgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgaXRlcmF0b3Igd2lsbCBhdXRvbWF0aWNhbGx5IGZldGNoIHRoZSBuZXh0IHBhZ2UgaWYgdGhlcmUgYXJlIG1vcmUgaXRlbXNcbiAgICogdG8gZmV0Y2ggZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBwYWdlciA9IGF3YWl0IGFpLmZpbGVzLmxpc3Qoe2NvbmZpZzoge3BhZ2VTaXplOiAxMH19KTtcbiAgICogZm9yIGF3YWl0IChjb25zdCBmaWxlIG9mIHBhZ2VyKSB7XG4gICAqICAgY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTogQXN5bmNJdGVyYXRvcjxUPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaWR4SW50ZXJuYWwgPj0gdGhpcy5wYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5uZXh0UGFnZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtKHRoaXMuaWR4SW50ZXJuYWwpO1xuICAgICAgICB0aGlzLmlkeEludGVybmFsICs9IDE7XG4gICAgICAgIHJldHVybiB7dmFsdWU6IGl0ZW0sIGRvbmU6IGZhbHNlfTtcbiAgICAgIH0sXG4gICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSBuZXh0IHBhZ2Ugb2YgaXRlbXMuIFRoaXMgbWFrZXMgYSBuZXcgQVBJIHJlcXVlc3QuXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSBhcmUgbm8gbW9yZSBwYWdlcyB0byBmZXRjaC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgcGFnZXIgPSBhd2FpdCBhaS5maWxlcy5saXN0KHtjb25maWc6IHtwYWdlU2l6ZTogMTB9fSk7XG4gICAqIGxldCBwYWdlID0gcGFnZXIucGFnZTtcbiAgICogd2hpbGUgKHRydWUpIHtcbiAgICogICBmb3IgKGNvbnN0IGZpbGUgb2YgcGFnZSkge1xuICAgKiAgICAgY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogICB9XG4gICAqICAgaWYgKCFwYWdlci5oYXNOZXh0UGFnZSgpKSB7XG4gICAqICAgICBicmVhaztcbiAgICogICB9XG4gICAqICAgcGFnZSA9IGF3YWl0IHBhZ2VyLm5leHRQYWdlKCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBuZXh0UGFnZSgpOiBQcm9taXNlPFRbXT4ge1xuICAgIGlmICghdGhpcy5oYXNOZXh0UGFnZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1vcmUgcGFnZXMgdG8gZmV0Y2guJyk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0SW50ZXJuYWwodGhpcy5wYXJhbXMpO1xuICAgIHRoaXMuaW5pdE5leHRQYWdlKHJlc3BvbnNlKTtcbiAgICByZXR1cm4gdGhpcy5wYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgbW9yZSBwYWdlcyB0byBmZXRjaCBmcm9tIHRoZSBBUEkuXG4gICAqL1xuICBoYXNOZXh0UGFnZSgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYXJhbXNbJ2NvbmZpZyddPy5bJ3BhZ2VUb2tlbiddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbi8qKiBSZXF1aXJlZC4gT3V0Y29tZSBvZiB0aGUgY29kZSBleGVjdXRpb24uICovXG5leHBvcnQgZW51bSBPdXRjb21lIHtcbiAgT1VUQ09NRV9VTlNQRUNJRklFRCA9ICdPVVRDT01FX1VOU1BFQ0lGSUVEJyxcbiAgT1VUQ09NRV9PSyA9ICdPVVRDT01FX09LJyxcbiAgT1VUQ09NRV9GQUlMRUQgPSAnT1VUQ09NRV9GQUlMRUQnLFxuICBPVVRDT01FX0RFQURMSU5FX0VYQ0VFREVEID0gJ09VVENPTUVfREVBRExJTkVfRVhDRUVERUQnLFxufVxuXG4vKiogUmVxdWlyZWQuIFByb2dyYW1taW5nIGxhbmd1YWdlIG9mIHRoZSBgY29kZWAuICovXG5leHBvcnQgZW51bSBMYW5ndWFnZSB7XG4gIExBTkdVQUdFX1VOU1BFQ0lGSUVEID0gJ0xBTkdVQUdFX1VOU1BFQ0lGSUVEJyxcbiAgUFlUSE9OID0gJ1BZVEhPTicsXG59XG5cbi8qKiBPcHRpb25hbC4gVGhlIHR5cGUgb2YgdGhlIGRhdGEuICovXG5leHBvcnQgZW51bSBUeXBlIHtcbiAgVFlQRV9VTlNQRUNJRklFRCA9ICdUWVBFX1VOU1BFQ0lGSUVEJyxcbiAgU1RSSU5HID0gJ1NUUklORycsXG4gIE5VTUJFUiA9ICdOVU1CRVInLFxuICBJTlRFR0VSID0gJ0lOVEVHRVInLFxuICBCT09MRUFOID0gJ0JPT0xFQU4nLFxuICBBUlJBWSA9ICdBUlJBWScsXG4gIE9CSkVDVCA9ICdPQkpFQ1QnLFxufVxuXG4vKiogUmVxdWlyZWQuIEhhcm0gY2F0ZWdvcnkuICovXG5leHBvcnQgZW51bSBIYXJtQ2F0ZWdvcnkge1xuICBIQVJNX0NBVEVHT1JZX1VOU1BFQ0lGSUVEID0gJ0hBUk1fQ0FURUdPUllfVU5TUEVDSUZJRUQnLFxuICBIQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNIID0gJ0hBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0gnLFxuICBIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UID0gJ0hBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlQnLFxuICBIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlQgPSAnSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UJyxcbiAgSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVCA9ICdIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUJyxcbiAgSEFSTV9DQVRFR09SWV9DSVZJQ19JTlRFR1JJVFkgPSAnSEFSTV9DQVRFR09SWV9DSVZJQ19JTlRFR1JJVFknLFxufVxuXG4vKiogT3B0aW9uYWwuIFNwZWNpZnkgaWYgdGhlIHRocmVzaG9sZCBpcyB1c2VkIGZvciBwcm9iYWJpbGl0eSBvciBzZXZlcml0eSBzY29yZS4gSWYgbm90IHNwZWNpZmllZCwgdGhlIHRocmVzaG9sZCBpcyB1c2VkIGZvciBwcm9iYWJpbGl0eSBzY29yZS4gKi9cbmV4cG9ydCBlbnVtIEhhcm1CbG9ja01ldGhvZCB7XG4gIEhBUk1fQkxPQ0tfTUVUSE9EX1VOU1BFQ0lGSUVEID0gJ0hBUk1fQkxPQ0tfTUVUSE9EX1VOU1BFQ0lGSUVEJyxcbiAgU0VWRVJJVFkgPSAnU0VWRVJJVFknLFxuICBQUk9CQUJJTElUWSA9ICdQUk9CQUJJTElUWScsXG59XG5cbi8qKiBSZXF1aXJlZC4gVGhlIGhhcm0gYmxvY2sgdGhyZXNob2xkLiAqL1xuZXhwb3J0IGVudW0gSGFybUJsb2NrVGhyZXNob2xkIHtcbiAgSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRUQgPSAnSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRUQnLFxuICBCTE9DS19MT1dfQU5EX0FCT1ZFID0gJ0JMT0NLX0xPV19BTkRfQUJPVkUnLFxuICBCTE9DS19NRURJVU1fQU5EX0FCT1ZFID0gJ0JMT0NLX01FRElVTV9BTkRfQUJPVkUnLFxuICBCTE9DS19PTkxZX0hJR0ggPSAnQkxPQ0tfT05MWV9ISUdIJyxcbiAgQkxPQ0tfTk9ORSA9ICdCTE9DS19OT05FJyxcbiAgT0ZGID0gJ09GRicsXG59XG5cbi8qKiBUaGUgbW9kZSBvZiB0aGUgcHJlZGljdG9yIHRvIGJlIHVzZWQgaW4gZHluYW1pYyByZXRyaWV2YWwuICovXG5leHBvcnQgZW51bSBNb2RlIHtcbiAgTU9ERV9VTlNQRUNJRklFRCA9ICdNT0RFX1VOU1BFQ0lGSUVEJyxcbiAgTU9ERV9EWU5BTUlDID0gJ01PREVfRFlOQU1JQycsXG59XG5cbi8qKiBPdXRwdXQgb25seS4gVGhlIHJlYXNvbiB3aHkgdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuXG5cbiAgSWYgZW1wdHksIHRoZSBtb2RlbCBoYXMgbm90IHN0b3BwZWQgZ2VuZXJhdGluZyB0aGUgdG9rZW5zLlxuICAgKi9cbmV4cG9ydCBlbnVtIEZpbmlzaFJlYXNvbiB7XG4gIEZJTklTSF9SRUFTT05fVU5TUEVDSUZJRUQgPSAnRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRCcsXG4gIFNUT1AgPSAnU1RPUCcsXG4gIE1BWF9UT0tFTlMgPSAnTUFYX1RPS0VOUycsXG4gIFNBRkVUWSA9ICdTQUZFVFknLFxuICBSRUNJVEFUSU9OID0gJ1JFQ0lUQVRJT04nLFxuICBPVEhFUiA9ICdPVEhFUicsXG4gIEJMT0NLTElTVCA9ICdCTE9DS0xJU1QnLFxuICBQUk9ISUJJVEVEX0NPTlRFTlQgPSAnUFJPSElCSVRFRF9DT05URU5UJyxcbiAgU1BJSSA9ICdTUElJJyxcbiAgTUFMRk9STUVEX0ZVTkNUSU9OX0NBTEwgPSAnTUFMRk9STUVEX0ZVTkNUSU9OX0NBTEwnLFxuICBJTUFHRV9TQUZFVFkgPSAnSU1BR0VfU0FGRVRZJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBIYXJtIHByb2JhYmlsaXR5IGxldmVscyBpbiB0aGUgY29udGVudC4gKi9cbmV4cG9ydCBlbnVtIEhhcm1Qcm9iYWJpbGl0eSB7XG4gIEhBUk1fUFJPQkFCSUxJVFlfVU5TUEVDSUZJRUQgPSAnSEFSTV9QUk9CQUJJTElUWV9VTlNQRUNJRklFRCcsXG4gIE5FR0xJR0lCTEUgPSAnTkVHTElHSUJMRScsXG4gIExPVyA9ICdMT1cnLFxuICBNRURJVU0gPSAnTUVESVVNJyxcbiAgSElHSCA9ICdISUdIJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBIYXJtIHNldmVyaXR5IGxldmVscyBpbiB0aGUgY29udGVudC4gKi9cbmV4cG9ydCBlbnVtIEhhcm1TZXZlcml0eSB7XG4gIEhBUk1fU0VWRVJJVFlfVU5TUEVDSUZJRUQgPSAnSEFSTV9TRVZFUklUWV9VTlNQRUNJRklFRCcsXG4gIEhBUk1fU0VWRVJJVFlfTkVHTElHSUJMRSA9ICdIQVJNX1NFVkVSSVRZX05FR0xJR0lCTEUnLFxuICBIQVJNX1NFVkVSSVRZX0xPVyA9ICdIQVJNX1NFVkVSSVRZX0xPVycsXG4gIEhBUk1fU0VWRVJJVFlfTUVESVVNID0gJ0hBUk1fU0VWRVJJVFlfTUVESVVNJyxcbiAgSEFSTV9TRVZFUklUWV9ISUdIID0gJ0hBUk1fU0VWRVJJVFlfSElHSCcsXG59XG5cbi8qKiBPdXRwdXQgb25seS4gQmxvY2tlZCByZWFzb24uICovXG5leHBvcnQgZW51bSBCbG9ja2VkUmVhc29uIHtcbiAgQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRUQgPSAnQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRUQnLFxuICBTQUZFVFkgPSAnU0FGRVRZJyxcbiAgT1RIRVIgPSAnT1RIRVInLFxuICBCTE9DS0xJU1QgPSAnQkxPQ0tMSVNUJyxcbiAgUFJPSElCSVRFRF9DT05URU5UID0gJ1BST0hJQklURURfQ09OVEVOVCcsXG59XG5cbi8qKiBPdXRwdXQgb25seS4gVHJhZmZpYyB0eXBlLiBUaGlzIHNob3dzIHdoZXRoZXIgYSByZXF1ZXN0IGNvbnN1bWVzIFBheS1Bcy1Zb3UtR28gb3IgUHJvdmlzaW9uZWQgVGhyb3VnaHB1dCBxdW90YS4gKi9cbmV4cG9ydCBlbnVtIFRyYWZmaWNUeXBlIHtcbiAgVFJBRkZJQ19UWVBFX1VOU1BFQ0lGSUVEID0gJ1RSQUZGSUNfVFlQRV9VTlNQRUNJRklFRCcsXG4gIE9OX0RFTUFORCA9ICdPTl9ERU1BTkQnLFxuICBQUk9WSVNJT05FRF9USFJPVUdIUFVUID0gJ1BST1ZJU0lPTkVEX1RIUk9VR0hQVVQnLFxufVxuXG4vKiogU2VydmVyIGNvbnRlbnQgbW9kYWxpdGllcy4gKi9cbmV4cG9ydCBlbnVtIE1vZGFsaXR5IHtcbiAgTU9EQUxJVFlfVU5TUEVDSUZJRUQgPSAnTU9EQUxJVFlfVU5TUEVDSUZJRUQnLFxuICBURVhUID0gJ1RFWFQnLFxuICBJTUFHRSA9ICdJTUFHRScsXG4gIEFVRElPID0gJ0FVRElPJyxcbn1cblxuLyoqIFRoZSBtZWRpYSByZXNvbHV0aW9uIHRvIHVzZS4gKi9cbmV4cG9ydCBlbnVtIE1lZGlhUmVzb2x1dGlvbiB7XG4gIE1FRElBX1JFU09MVVRJT05fVU5TUEVDSUZJRUQgPSAnTUVESUFfUkVTT0xVVElPTl9VTlNQRUNJRklFRCcsXG4gIE1FRElBX1JFU09MVVRJT05fTE9XID0gJ01FRElBX1JFU09MVVRJT05fTE9XJyxcbiAgTUVESUFfUkVTT0xVVElPTl9NRURJVU0gPSAnTUVESUFfUkVTT0xVVElPTl9NRURJVU0nLFxuICBNRURJQV9SRVNPTFVUSU9OX0hJR0ggPSAnTUVESUFfUkVTT0xVVElPTl9ISUdIJyxcbn1cblxuLyoqIENvbmZpZyBmb3IgdGhlIGR5bmFtaWMgcmV0cmlldmFsIGNvbmZpZyBtb2RlLiAqL1xuZXhwb3J0IGVudW0gRHluYW1pY1JldHJpZXZhbENvbmZpZ01vZGUge1xuICBNT0RFX1VOU1BFQ0lGSUVEID0gJ01PREVfVU5TUEVDSUZJRUQnLFxuICBNT0RFX0RZTkFNSUMgPSAnTU9ERV9EWU5BTUlDJyxcbn1cblxuLyoqIENvbmZpZyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxpbmcgY29uZmlnIG1vZGUuICovXG5leHBvcnQgZW51bSBGdW5jdGlvbkNhbGxpbmdDb25maWdNb2RlIHtcbiAgTU9ERV9VTlNQRUNJRklFRCA9ICdNT0RFX1VOU1BFQ0lGSUVEJyxcbiAgQVVUTyA9ICdBVVRPJyxcbiAgQU5ZID0gJ0FOWScsXG4gIE5PTkUgPSAnTk9ORScsXG59XG5cbi8qKiBFbnVtIHRoYXQgY29udHJvbHMgdGhlIHNhZmV0eSBmaWx0ZXIgbGV2ZWwgZm9yIG9iamVjdGlvbmFibGUgY29udGVudC4gKi9cbmV4cG9ydCBlbnVtIFNhZmV0eUZpbHRlckxldmVsIHtcbiAgQkxPQ0tfTE9XX0FORF9BQk9WRSA9ICdCTE9DS19MT1dfQU5EX0FCT1ZFJyxcbiAgQkxPQ0tfTUVESVVNX0FORF9BQk9WRSA9ICdCTE9DS19NRURJVU1fQU5EX0FCT1ZFJyxcbiAgQkxPQ0tfT05MWV9ISUdIID0gJ0JMT0NLX09OTFlfSElHSCcsXG4gIEJMT0NLX05PTkUgPSAnQkxPQ0tfTk9ORScsXG59XG5cbi8qKiBFbnVtIHRoYXQgY29udHJvbHMgdGhlIGdlbmVyYXRpb24gb2YgcGVvcGxlLiAqL1xuZXhwb3J0IGVudW0gUGVyc29uR2VuZXJhdGlvbiB7XG4gIERPTlRfQUxMT1cgPSAnRE9OVF9BTExPVycsXG4gIEFMTE9XX0FEVUxUID0gJ0FMTE9XX0FEVUxUJyxcbiAgQUxMT1dfQUxMID0gJ0FMTE9XX0FMTCcsXG59XG5cbi8qKiBFbnVtIHRoYXQgc3BlY2lmaWVzIHRoZSBsYW5ndWFnZSBvZiB0aGUgdGV4dCBpbiB0aGUgcHJvbXB0LiAqL1xuZXhwb3J0IGVudW0gSW1hZ2VQcm9tcHRMYW5ndWFnZSB7XG4gIGF1dG8gPSAnYXV0bycsXG4gIGVuID0gJ2VuJyxcbiAgamEgPSAnamEnLFxuICBrbyA9ICdrbycsXG4gIGhpID0gJ2hpJyxcbn1cblxuLyoqIFN0YXRlIGZvciB0aGUgbGlmZWN5Y2xlIG9mIGEgRmlsZS4gKi9cbmV4cG9ydCBlbnVtIEZpbGVTdGF0ZSB7XG4gIFNUQVRFX1VOU1BFQ0lGSUVEID0gJ1NUQVRFX1VOU1BFQ0lGSUVEJyxcbiAgUFJPQ0VTU0lORyA9ICdQUk9DRVNTSU5HJyxcbiAgQUNUSVZFID0gJ0FDVElWRScsXG4gIEZBSUxFRCA9ICdGQUlMRUQnLFxufVxuXG4vKiogU291cmNlIG9mIHRoZSBGaWxlLiAqL1xuZXhwb3J0IGVudW0gRmlsZVNvdXJjZSB7XG4gIFNPVVJDRV9VTlNQRUNJRklFRCA9ICdTT1VSQ0VfVU5TUEVDSUZJRUQnLFxuICBVUExPQURFRCA9ICdVUExPQURFRCcsXG4gIEdFTkVSQVRFRCA9ICdHRU5FUkFURUQnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIG1hc2sgbW9kZSBvZiBhIG1hc2sgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGVudW0gTWFza1JlZmVyZW5jZU1vZGUge1xuICBNQVNLX01PREVfREVGQVVMVCA9ICdNQVNLX01PREVfREVGQVVMVCcsXG4gIE1BU0tfTU9ERV9VU0VSX1BST1ZJREVEID0gJ01BU0tfTU9ERV9VU0VSX1BST1ZJREVEJyxcbiAgTUFTS19NT0RFX0JBQ0tHUk9VTkQgPSAnTUFTS19NT0RFX0JBQ0tHUk9VTkQnLFxuICBNQVNLX01PREVfRk9SRUdST1VORCA9ICdNQVNLX01PREVfRk9SRUdST1VORCcsXG4gIE1BU0tfTU9ERV9TRU1BTlRJQyA9ICdNQVNLX01PREVfU0VNQU5USUMnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIGNvbnRyb2wgdHlwZSBvZiBhIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGVudW0gQ29udHJvbFJlZmVyZW5jZVR5cGUge1xuICBDT05UUk9MX1RZUEVfREVGQVVMVCA9ICdDT05UUk9MX1RZUEVfREVGQVVMVCcsXG4gIENPTlRST0xfVFlQRV9DQU5OWSA9ICdDT05UUk9MX1RZUEVfQ0FOTlknLFxuICBDT05UUk9MX1RZUEVfU0NSSUJCTEUgPSAnQ09OVFJPTF9UWVBFX1NDUklCQkxFJyxcbiAgQ09OVFJPTF9UWVBFX0ZBQ0VfTUVTSCA9ICdDT05UUk9MX1RZUEVfRkFDRV9NRVNIJyxcbn1cblxuLyoqIEVudW0gcmVwcmVzZW50aW5nIHRoZSBzdWJqZWN0IHR5cGUgb2YgYSBzdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBlbnVtIFN1YmplY3RSZWZlcmVuY2VUeXBlIHtcbiAgU1VCSkVDVF9UWVBFX0RFRkFVTFQgPSAnU1VCSkVDVF9UWVBFX0RFRkFVTFQnLFxuICBTVUJKRUNUX1RZUEVfUEVSU09OID0gJ1NVQkpFQ1RfVFlQRV9QRVJTT04nLFxuICBTVUJKRUNUX1RZUEVfQU5JTUFMID0gJ1NVQkpFQ1RfVFlQRV9BTklNQUwnLFxuICBTVUJKRUNUX1RZUEVfUFJPRFVDVCA9ICdTVUJKRUNUX1RZUEVfUFJPRFVDVCcsXG59XG5cbi8qKiBTZXJ2ZXIgY29udGVudCBtb2RhbGl0aWVzLiAqL1xuZXhwb3J0IGVudW0gTWVkaWFNb2RhbGl0eSB7XG4gIE1PREFMSVRZX1VOU1BFQ0lGSUVEID0gJ01PREFMSVRZX1VOU1BFQ0lGSUVEJyxcbiAgVEVYVCA9ICdURVhUJyxcbiAgSU1BR0UgPSAnSU1BR0UnLFxuICBWSURFTyA9ICdWSURFTycsXG4gIEFVRElPID0gJ0FVRElPJyxcbiAgRE9DVU1FTlQgPSAnRE9DVU1FTlQnLFxufVxuXG4vKiogU3RhcnQgb2Ygc3BlZWNoIHNlbnNpdGl2aXR5LiAqL1xuZXhwb3J0IGVudW0gU3RhcnRTZW5zaXRpdml0eSB7XG4gIFNUQVJUX1NFTlNJVElWSVRZX1VOU1BFQ0lGSUVEID0gJ1NUQVJUX1NFTlNJVElWSVRZX1VOU1BFQ0lGSUVEJyxcbiAgU1RBUlRfU0VOU0lUSVZJVFlfSElHSCA9ICdTVEFSVF9TRU5TSVRJVklUWV9ISUdIJyxcbiAgU1RBUlRfU0VOU0lUSVZJVFlfTE9XID0gJ1NUQVJUX1NFTlNJVElWSVRZX0xPVycsXG59XG5cbi8qKiBFbmQgb2Ygc3BlZWNoIHNlbnNpdGl2aXR5LiAqL1xuZXhwb3J0IGVudW0gRW5kU2Vuc2l0aXZpdHkge1xuICBFTkRfU0VOU0lUSVZJVFlfVU5TUEVDSUZJRUQgPSAnRU5EX1NFTlNJVElWSVRZX1VOU1BFQ0lGSUVEJyxcbiAgRU5EX1NFTlNJVElWSVRZX0hJR0ggPSAnRU5EX1NFTlNJVElWSVRZX0hJR0gnLFxuICBFTkRfU0VOU0lUSVZJVFlfTE9XID0gJ0VORF9TRU5TSVRJVklUWV9MT1cnLFxufVxuXG4vKiogVGhlIGRpZmZlcmVudCB3YXlzIG9mIGhhbmRsaW5nIHVzZXIgYWN0aXZpdHkuICovXG5leHBvcnQgZW51bSBBY3Rpdml0eUhhbmRsaW5nIHtcbiAgQUNUSVZJVFlfSEFORExJTkdfVU5TUEVDSUZJRUQgPSAnQUNUSVZJVFlfSEFORExJTkdfVU5TUEVDSUZJRUQnLFxuICBTVEFSVF9PRl9BQ1RJVklUWV9JTlRFUlJVUFRTID0gJ1NUQVJUX09GX0FDVElWSVRZX0lOVEVSUlVQVFMnLFxuICBOT19JTlRFUlJVUFRJT04gPSAnTk9fSU5URVJSVVBUSU9OJyxcbn1cblxuLyoqIE9wdGlvbnMgYWJvdXQgd2hpY2ggaW5wdXQgaXMgaW5jbHVkZWQgaW4gdGhlIHVzZXIncyB0dXJuLiAqL1xuZXhwb3J0IGVudW0gVHVybkNvdmVyYWdlIHtcbiAgVFVSTl9DT1ZFUkFHRV9VTlNQRUNJRklFRCA9ICdUVVJOX0NPVkVSQUdFX1VOU1BFQ0lGSUVEJyxcbiAgVFVSTl9JTkNMVURFU19PTkxZX0FDVElWSVRZID0gJ1RVUk5fSU5DTFVERVNfT05MWV9BQ1RJVklUWScsXG4gIFRVUk5fSU5DTFVERVNfQUxMX0lOUFVUID0gJ1RVUk5fSU5DTFVERVNfQUxMX0lOUFVUJyxcbn1cblxuLyoqIE1ldGFkYXRhIGRlc2NyaWJlcyB0aGUgaW5wdXQgdmlkZW8gY29udGVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWaWRlb01ldGFkYXRhIHtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZW5kIG9mZnNldCBvZiB0aGUgdmlkZW8uICovXG4gIGVuZE9mZnNldD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSB2aWRlby4gKi9cbiAgc3RhcnRPZmZzZXQ/OiBzdHJpbmc7XG59XG5cbi8qKiBSZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBbRXhlY3V0YWJsZUNvZGVdLiBBbHdheXMgZm9sbG93cyBhIGBwYXJ0YCBjb250YWluaW5nIHRoZSBbRXhlY3V0YWJsZUNvZGVdLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvZGVFeGVjdXRpb25SZXN1bHQge1xuICAvKiogUmVxdWlyZWQuIE91dGNvbWUgb2YgdGhlIGNvZGUgZXhlY3V0aW9uLiAqL1xuICBvdXRjb21lPzogT3V0Y29tZTtcbiAgLyoqIE9wdGlvbmFsLiBDb250YWlucyBzdGRvdXQgd2hlbiBjb2RlIGV4ZWN1dGlvbiBpcyBzdWNjZXNzZnVsLCBzdGRlcnIgb3Igb3RoZXIgZGVzY3JpcHRpb24gb3RoZXJ3aXNlLiAqL1xuICBvdXRwdXQ/OiBzdHJpbmc7XG59XG5cbi8qKiBDb2RlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgdGhhdCBpcyBtZWFudCB0byBiZSBleGVjdXRlZCwgYW5kIHRoZSByZXN1bHQgcmV0dXJuZWQgdG8gdGhlIG1vZGVsLiBHZW5lcmF0ZWQgd2hlbiB1c2luZyB0aGUgW0Z1bmN0aW9uRGVjbGFyYXRpb25dIHRvb2wgYW5kIFtGdW5jdGlvbkNhbGxpbmdDb25maWddIG1vZGUgaXMgc2V0IHRvIFtNb2RlLkNPREVdLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEV4ZWN1dGFibGVDb2RlIHtcbiAgLyoqIFJlcXVpcmVkLiBUaGUgY29kZSB0byBiZSBleGVjdXRlZC4gKi9cbiAgY29kZT86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBQcm9ncmFtbWluZyBsYW5ndWFnZSBvZiB0aGUgYGNvZGVgLiAqL1xuICBsYW5ndWFnZT86IExhbmd1YWdlO1xufVxuXG4vKiogVVJJIGJhc2VkIGRhdGEuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmlsZURhdGEge1xuICAvKiogUmVxdWlyZWQuIFVSSS4gKi9cbiAgZmlsZVVyaT86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBUaGUgSUFOQSBzdGFuZGFyZCBNSU1FIHR5cGUgb2YgdGhlIHNvdXJjZSBkYXRhLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbn1cblxuLyoqIEEgZnVuY3Rpb24gY2FsbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBGdW5jdGlvbkNhbGwge1xuICAvKiogVGhlIHVuaXF1ZSBpZCBvZiB0aGUgZnVuY3Rpb24gY2FsbC4gSWYgcG9wdWxhdGVkLCB0aGUgY2xpZW50IHRvIGV4ZWN1dGUgdGhlXG4gICBgZnVuY3Rpb25fY2FsbGAgYW5kIHJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCB0aGUgbWF0Y2hpbmcgYGlkYC4gKi9cbiAgaWQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gUmVxdWlyZWQuIFRoZSBmdW5jdGlvbiBwYXJhbWV0ZXJzIGFuZCB2YWx1ZXMgaW4gSlNPTiBvYmplY3QgZm9ybWF0LiBTZWUgW0Z1bmN0aW9uRGVjbGFyYXRpb24ucGFyYW1ldGVyc10gZm9yIHBhcmFtZXRlciBkZXRhaWxzLiAqL1xuICBhcmdzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBSZXF1aXJlZC4gVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuIE1hdGNoZXMgW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0uICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBBIGZ1bmN0aW9uIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uUmVzcG9uc2Uge1xuICAvKiogVGhlIGlkIG9mIHRoZSBmdW5jdGlvbiBjYWxsIHRoaXMgcmVzcG9uc2UgaXMgZm9yLiBQb3B1bGF0ZWQgYnkgdGhlIGNsaWVudFxuICAgdG8gbWF0Y2ggdGhlIGNvcnJlc3BvbmRpbmcgZnVuY3Rpb24gY2FsbCBgaWRgLiAqL1xuICBpZD86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC4gTWF0Y2hlcyBbRnVuY3Rpb25EZWNsYXJhdGlvbi5uYW1lXSBhbmQgW0Z1bmN0aW9uQ2FsbC5uYW1lXS4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBUaGUgZnVuY3Rpb24gcmVzcG9uc2UgaW4gSlNPTiBvYmplY3QgZm9ybWF0LiBVc2UgXCJvdXRwdXRcIiBrZXkgdG8gc3BlY2lmeSBmdW5jdGlvbiBvdXRwdXQgYW5kIFwiZXJyb3JcIiBrZXkgdG8gc3BlY2lmeSBlcnJvciBkZXRhaWxzIChpZiBhbnkpLiBJZiBcIm91dHB1dFwiIGFuZCBcImVycm9yXCIga2V5cyBhcmUgbm90IHNwZWNpZmllZCwgdGhlbiB3aG9sZSBcInJlc3BvbnNlXCIgaXMgdHJlYXRlZCBhcyBmdW5jdGlvbiBvdXRwdXQuICovXG4gIHJlc3BvbnNlPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59XG5cbi8qKiBDb250ZW50IGJsb2IuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQmxvYiB7XG4gIC8qKiBSZXF1aXJlZC4gUmF3IGJ5dGVzLiAqL1xuICBkYXRhPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBJQU5BIHN0YW5kYXJkIE1JTUUgdHlwZSBvZiB0aGUgc291cmNlIGRhdGEuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xufVxuXG4vKiogQSBkYXRhdHlwZSBjb250YWluaW5nIG1lZGlhIGNvbnRlbnQuXG5cbiAgRXhhY3RseSBvbmUgZmllbGQgd2l0aGluIGEgUGFydCBzaG91bGQgYmUgc2V0LCByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmljIHR5cGVcbiAgb2YgY29udGVudCBiZWluZyBjb252ZXllZC4gVXNpbmcgbXVsdGlwbGUgZmllbGRzIHdpdGhpbiB0aGUgc2FtZSBgUGFydGBcbiAgaW5zdGFuY2UgaXMgY29uc2lkZXJlZCBpbnZhbGlkLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQYXJ0IHtcbiAgLyoqIE1ldGFkYXRhIGZvciBhIGdpdmVuIHZpZGVvLiAqL1xuICB2aWRlb01ldGFkYXRhPzogVmlkZW9NZXRhZGF0YTtcbiAgLyoqIEluZGljYXRlcyBpZiB0aGUgcGFydCBpcyB0aG91Z2h0IGZyb20gdGhlIG1vZGVsLiAqL1xuICB0aG91Z2h0PzogYm9vbGVhbjtcbiAgLyoqIE9wdGlvbmFsLiBSZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBbRXhlY3V0YWJsZUNvZGVdLiAqL1xuICBjb2RlRXhlY3V0aW9uUmVzdWx0PzogQ29kZUV4ZWN1dGlvblJlc3VsdDtcbiAgLyoqIE9wdGlvbmFsLiBDb2RlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgdGhhdCBpcyBtZWFudCB0byBiZSBleGVjdXRlZC4gKi9cbiAgZXhlY3V0YWJsZUNvZGU/OiBFeGVjdXRhYmxlQ29kZTtcbiAgLyoqIE9wdGlvbmFsLiBVUkkgYmFzZWQgZGF0YS4gKi9cbiAgZmlsZURhdGE/OiBGaWxlRGF0YTtcbiAgLyoqIE9wdGlvbmFsLiBBIHByZWRpY3RlZCBbRnVuY3Rpb25DYWxsXSByZXR1cm5lZCBmcm9tIHRoZSBtb2RlbCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0gd2l0aCB0aGUgcGFyYW1ldGVycyBhbmQgdGhlaXIgdmFsdWVzLiAqL1xuICBmdW5jdGlvbkNhbGw/OiBGdW5jdGlvbkNhbGw7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHJlc3VsdCBvdXRwdXQgb2YgYSBbRnVuY3Rpb25DYWxsXSB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0gYW5kIGEgc3RydWN0dXJlZCBKU09OIG9iamVjdCBjb250YWluaW5nIGFueSBvdXRwdXQgZnJvbSB0aGUgZnVuY3Rpb24gY2FsbC4gSXQgaXMgdXNlZCBhcyBjb250ZXh0IHRvIHRoZSBtb2RlbC4gKi9cbiAgZnVuY3Rpb25SZXNwb25zZT86IEZ1bmN0aW9uUmVzcG9uc2U7XG4gIC8qKiBPcHRpb25hbC4gSW5saW5lZCBieXRlcyBkYXRhLiAqL1xuICBpbmxpbmVEYXRhPzogQmxvYjtcbiAgLyoqIE9wdGlvbmFsLiBUZXh0IHBhcnQgKGNhbiBiZSBjb2RlKS4gKi9cbiAgdGV4dD86IHN0cmluZztcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGBQYXJ0YCBvYmplY3QgZnJvbSBhIGBVUklgIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tVXJpKHVyaTogc3RyaW5nLCBtaW1lVHlwZTogc3RyaW5nKTogUGFydCB7XG4gIHJldHVybiB7XG4gICAgZmlsZURhdGE6IHtcbiAgICAgIGZpbGVVcmk6IHVyaSxcbiAgICAgIG1pbWVUeXBlOiBtaW1lVHlwZSxcbiAgICB9LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYHRleHRgIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tVGV4dCh0ZXh0OiBzdHJpbmcpOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiB0ZXh0LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYEZ1bmN0aW9uQ2FsbGAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21GdW5jdGlvbkNhbGwoXG4gIG5hbWU6IHN0cmluZyxcbiAgYXJnczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBhcmdzOiBhcmdzLFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gYSBgRnVuY3Rpb25SZXNwb25zZWAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21GdW5jdGlvblJlc3BvbnNlKFxuICBpZDogc3RyaW5nLFxuICBuYW1lOiBzdHJpbmcsXG4gIHJlc3BvbnNlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGZ1bmN0aW9uUmVzcG9uc2U6IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgfSxcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGBQYXJ0YCBvYmplY3QgZnJvbSBhIGBiYXNlNjRgIGVuY29kZWQgYHN0cmluZ2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbUJhc2U2NChkYXRhOiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBpbmxpbmVEYXRhOiB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gdGhlIGBvdXRjb21lYCBhbmQgYG91dHB1dGAgb2YgYSBgQ29kZUV4ZWN1dGlvblJlc3VsdGAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21Db2RlRXhlY3V0aW9uUmVzdWx0KFxuICBvdXRjb21lOiBPdXRjb21lLFxuICBvdXRwdXQ6IHN0cmluZyxcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGNvZGVFeGVjdXRpb25SZXN1bHQ6IHtcbiAgICAgIG91dGNvbWU6IG91dGNvbWUsXG4gICAgICBvdXRwdXQ6IG91dHB1dCxcbiAgICB9LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIHRoZSBgY29kZWAgYW5kIGBsYW5ndWFnZWAgb2YgYW4gYEV4ZWN1dGFibGVDb2RlYCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbUV4ZWN1dGFibGVDb2RlKFxuICBjb2RlOiBzdHJpbmcsXG4gIGxhbmd1YWdlOiBMYW5ndWFnZSxcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGV4ZWN1dGFibGVDb2RlOiB7XG4gICAgICBjb2RlOiBjb2RlLFxuICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKiBDb250YWlucyB0aGUgbXVsdGktcGFydCBjb250ZW50IG9mIGEgbWVzc2FnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb250ZW50IHtcbiAgLyoqIExpc3Qgb2YgcGFydHMgdGhhdCBjb25zdGl0dXRlIGEgc2luZ2xlIG1lc3NhZ2UuIEVhY2ggcGFydCBtYXkgaGF2ZVxuICAgICAgYSBkaWZmZXJlbnQgSUFOQSBNSU1FIHR5cGUuICovXG4gIHBhcnRzPzogUGFydFtdO1xuICAvKiogT3B0aW9uYWwuIFRoZSBwcm9kdWNlciBvZiB0aGUgY29udGVudC4gTXVzdCBiZSBlaXRoZXIgJ3VzZXInIG9yXG4gICAgICAnbW9kZWwnLiBVc2VmdWwgdG8gc2V0IGZvciBtdWx0aS10dXJuIGNvbnZlcnNhdGlvbnMsIG90aGVyd2lzZSBjYW4gYmVcbiAgICAgIGVtcHR5LiBJZiByb2xlIGlzIG5vdCBzcGVjaWZpZWQsIFNESyB3aWxsIGRldGVybWluZSB0aGUgcm9sZS4gKi9cbiAgcm9sZT86IHN0cmluZztcbn1cbmZ1bmN0aW9uIF9pc1BhcnQob2JqOiB1bmtub3duKTogb2JqIGlzIFBhcnQge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICdmaWxlRGF0YScgaW4gb2JqIHx8XG4gICAgICAndGV4dCcgaW4gb2JqIHx8XG4gICAgICAnZnVuY3Rpb25DYWxsJyBpbiBvYmogfHxcbiAgICAgICdmdW5jdGlvblJlc3BvbnNlJyBpbiBvYmogfHxcbiAgICAgICdpbmxpbmVEYXRhJyBpbiBvYmogfHxcbiAgICAgICd2aWRlb01ldGFkYXRhJyBpbiBvYmogfHxcbiAgICAgICdjb2RlRXhlY3V0aW9uUmVzdWx0JyBpbiBvYmogfHxcbiAgICAgICdleGVjdXRhYmxlQ29kZScgaW4gb2JqXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBfdG9QYXJ0cyhwYXJ0T3JTdHJpbmc6IFBhcnRMaXN0VW5pb24gfCBzdHJpbmcpOiBQYXJ0W10ge1xuICBjb25zdCBwYXJ0czogUGFydFtdID0gW107XG4gIGlmICh0eXBlb2YgcGFydE9yU3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgIHBhcnRzLnB1c2goY3JlYXRlUGFydEZyb21UZXh0KHBhcnRPclN0cmluZykpO1xuICB9IGVsc2UgaWYgKF9pc1BhcnQocGFydE9yU3RyaW5nKSkge1xuICAgIHBhcnRzLnB1c2gocGFydE9yU3RyaW5nKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnRPclN0cmluZykpIHtcbiAgICBpZiAocGFydE9yU3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0T3JTdHJpbmcgY2Fubm90IGJlIGFuIGVtcHR5IGFycmF5Jyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0T3JTdHJpbmcpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGFydHMucHVzaChjcmVhdGVQYXJ0RnJvbVRleHQocGFydCkpO1xuICAgICAgfSBlbHNlIGlmIChfaXNQYXJ0KHBhcnQpKSB7XG4gICAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgaW4gUGFydFVuaW9uIG11c3QgYmUgYSBQYXJ0IG9iamVjdCBvciBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0T3JTdHJpbmcgbXVzdCBiZSBhIFBhcnQgb2JqZWN0LCBzdHJpbmcsIG9yIGFycmF5Jyk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYENvbnRlbnRgIG9iamVjdCB3aXRoIGEgdXNlciByb2xlIGZyb20gYSBgUGFydExpc3RVbmlvbmAgb2JqZWN0IG9yIGBzdHJpbmdgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXNlckNvbnRlbnQoXG4gIHBhcnRPclN0cmluZzogUGFydExpc3RVbmlvbiB8IHN0cmluZyxcbik6IENvbnRlbnQge1xuICByZXR1cm4ge1xuICAgIHJvbGU6ICd1c2VyJyxcbiAgICBwYXJ0czogX3RvUGFydHMocGFydE9yU3RyaW5nKSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYENvbnRlbnRgIG9iamVjdCB3aXRoIGEgbW9kZWwgcm9sZSBmcm9tIGEgYFBhcnRMaXN0VW5pb25gIG9iamVjdCBvciBgc3RyaW5nYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vZGVsQ29udGVudChcbiAgcGFydE9yU3RyaW5nOiBQYXJ0TGlzdFVuaW9uIHwgc3RyaW5nLFxuKTogQ29udGVudCB7XG4gIHJldHVybiB7XG4gICAgcm9sZTogJ21vZGVsJyxcbiAgICBwYXJ0czogX3RvUGFydHMocGFydE9yU3RyaW5nKSxcbiAgfTtcbn1cbi8qKiBIVFRQIG9wdGlvbnMgdG8gYmUgdXNlZCBpbiBlYWNoIG9mIHRoZSByZXF1ZXN0cy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBIdHRwT3B0aW9ucyB7XG4gIC8qKiBUaGUgYmFzZSBVUkwgZm9yIHRoZSBBSSBwbGF0Zm9ybSBzZXJ2aWNlIGVuZHBvaW50LiAqL1xuICBiYXNlVXJsPzogc3RyaW5nO1xuICAvKiogU3BlY2lmaWVzIHRoZSB2ZXJzaW9uIG9mIHRoZSBBUEkgdG8gdXNlLiAqL1xuICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuICAvKiogQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIFRpbWVvdXQgZm9yIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kcy4gKi9cbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqIFNjaGVtYSB0aGF0IGRlZmluZXMgdGhlIGZvcm1hdCBvZiBpbnB1dCBhbmQgb3V0cHV0IGRhdGEuXG5cbiAgUmVwcmVzZW50cyBhIHNlbGVjdCBzdWJzZXQgb2YgYW4gT3BlbkFQSSAzLjAgc2NoZW1hIG9iamVjdC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2NoZW1hIHtcbiAgLyoqIE9wdGlvbmFsLiBFeGFtcGxlIG9mIHRoZSBvYmplY3QuIFdpbGwgb25seSBwb3B1bGF0ZWQgd2hlbiB0aGUgb2JqZWN0IGlzIHRoZSByb290LiAqL1xuICBleGFtcGxlPzogdW5rbm93bjtcbiAgLyoqIE9wdGlvbmFsLiBQYXR0ZXJuIG9mIHRoZSBUeXBlLlNUUklORyB0byByZXN0cmljdCBhIHN0cmluZyB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi4gKi9cbiAgcGF0dGVybj86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBEZWZhdWx0IHZhbHVlIG9mIHRoZSBkYXRhLiAqL1xuICBkZWZhdWx0PzogdW5rbm93bjtcbiAgLyoqIE9wdGlvbmFsLiBNYXhpbXVtIGxlbmd0aCBvZiB0aGUgVHlwZS5TVFJJTkcgKi9cbiAgbWF4TGVuZ3RoPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFNDSEVNQSBGSUVMRFMgRk9SIFRZUEUgU1RSSU5HIE1pbmltdW0gbGVuZ3RoIG9mIHRoZSBUeXBlLlNUUklORyAqL1xuICBtaW5MZW5ndGg/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTWluaW11bSBudW1iZXIgb2YgdGhlIHByb3BlcnRpZXMgZm9yIFR5cGUuT0JKRUNULiAqL1xuICBtaW5Qcm9wZXJ0aWVzPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIE1heGltdW0gbnVtYmVyIG9mIHRoZSBwcm9wZXJ0aWVzIGZvciBUeXBlLk9CSkVDVC4gKi9cbiAgbWF4UHJvcGVydGllcz86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgdmFsdWUgc2hvdWxkIGJlIHZhbGlkYXRlZCBhZ2FpbnN0IGFueSAob25lIG9yIG1vcmUpIG9mIHRoZSBzdWJzY2hlbWFzIGluIHRoZSBsaXN0LiAqL1xuICBhbnlPZj86IFNjaGVtYVtdO1xuICAvKiogT3B0aW9uYWwuIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgZGF0YS4gKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gUG9zc2libGUgdmFsdWVzIG9mIHRoZSBlbGVtZW50IG9mIHByaW1pdGl2ZSB0eXBlIHdpdGggZW51bSBmb3JtYXQuIEV4YW1wbGVzOiAxLiBXZSBjYW4gZGVmaW5lIGRpcmVjdGlvbiBhcyA6IHt0eXBlOlNUUklORywgZm9ybWF0OmVudW0sIGVudW06W1wiRUFTVFwiLCBOT1JUSFwiLCBcIlNPVVRIXCIsIFwiV0VTVFwiXX0gMi4gV2UgY2FuIGRlZmluZSBhcGFydG1lbnQgbnVtYmVyIGFzIDoge3R5cGU6SU5URUdFUiwgZm9ybWF0OmVudW0sIGVudW06W1wiMTAxXCIsIFwiMjAxXCIsIFwiMzAxXCJdfSAqL1xuICBlbnVtPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gVGhlIGZvcm1hdCBvZiB0aGUgZGF0YS4gU3VwcG9ydGVkIGZvcm1hdHM6IGZvciBOVU1CRVIgdHlwZTogXCJmbG9hdFwiLCBcImRvdWJsZVwiIGZvciBJTlRFR0VSIHR5cGU6IFwiaW50MzJcIiwgXCJpbnQ2NFwiIGZvciBTVFJJTkcgdHlwZTogXCJlbWFpbFwiLCBcImJ5dGVcIiwgZXRjICovXG4gIGZvcm1hdD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBTQ0hFTUEgRklFTERTIEZPUiBUWVBFIEFSUkFZIFNjaGVtYSBvZiB0aGUgZWxlbWVudHMgb2YgVHlwZS5BUlJBWS4gKi9cbiAgaXRlbXM/OiBTY2hlbWE7XG4gIC8qKiBPcHRpb25hbC4gTWF4aW11bSBudW1iZXIgb2YgdGhlIGVsZW1lbnRzIGZvciBUeXBlLkFSUkFZLiAqL1xuICBtYXhJdGVtcz86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBNYXhpbXVtIHZhbHVlIG9mIHRoZSBUeXBlLklOVEVHRVIgYW5kIFR5cGUuTlVNQkVSICovXG4gIG1heGltdW0/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gTWluaW11bSBudW1iZXIgb2YgdGhlIGVsZW1lbnRzIGZvciBUeXBlLkFSUkFZLiAqL1xuICBtaW5JdGVtcz86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBTQ0hFTUEgRklFTERTIEZPUiBUWVBFIElOVEVHRVIgYW5kIE5VTUJFUiBNaW5pbXVtIHZhbHVlIG9mIHRoZSBUeXBlLklOVEVHRVIgYW5kIFR5cGUuTlVNQkVSICovXG4gIG1pbmltdW0/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gSW5kaWNhdGVzIGlmIHRoZSB2YWx1ZSBtYXkgYmUgbnVsbC4gKi9cbiAgbnVsbGFibGU/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIFNDSEVNQSBGSUVMRFMgRk9SIFRZUEUgT0JKRUNUIFByb3BlcnRpZXMgb2YgVHlwZS5PQkpFQ1QuICovXG4gIHByb3BlcnRpZXM/OiBSZWNvcmQ8c3RyaW5nLCBTY2hlbWE+O1xuICAvKiogT3B0aW9uYWwuIFRoZSBvcmRlciBvZiB0aGUgcHJvcGVydGllcy4gTm90IGEgc3RhbmRhcmQgZmllbGQgaW4gb3BlbiBhcGkgc3BlYy4gT25seSB1c2VkIHRvIHN1cHBvcnQgdGhlIG9yZGVyIG9mIHRoZSBwcm9wZXJ0aWVzLiAqL1xuICBwcm9wZXJ0eU9yZGVyaW5nPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gUmVxdWlyZWQgcHJvcGVydGllcyBvZiBUeXBlLk9CSkVDVC4gKi9cbiAgcmVxdWlyZWQ/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgdGl0bGUgb2YgdGhlIFNjaGVtYS4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHR5cGUgb2YgdGhlIGRhdGEuICovXG4gIHR5cGU/OiBUeXBlO1xufVxuXG4vKiogU2FmZXR5IHNldHRpbmdzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNhZmV0eVNldHRpbmcge1xuICAvKiogRGV0ZXJtaW5lcyBpZiB0aGUgaGFybSBibG9jayBtZXRob2QgdXNlcyBwcm9iYWJpbGl0eSBvciBwcm9iYWJpbGl0eVxuICAgICAgYW5kIHNldmVyaXR5IHNjb3Jlcy4gKi9cbiAgbWV0aG9kPzogSGFybUJsb2NrTWV0aG9kO1xuICAvKiogUmVxdWlyZWQuIEhhcm0gY2F0ZWdvcnkuICovXG4gIGNhdGVnb3J5PzogSGFybUNhdGVnb3J5O1xuICAvKiogUmVxdWlyZWQuIFRoZSBoYXJtIGJsb2NrIHRocmVzaG9sZC4gKi9cbiAgdGhyZXNob2xkPzogSGFybUJsb2NrVGhyZXNob2xkO1xufVxuXG4vKiogRGVmaW5lcyBhIGZ1bmN0aW9uIHRoYXQgdGhlIG1vZGVsIGNhbiBnZW5lcmF0ZSBKU09OIGlucHV0cyBmb3IuXG5cbiAgVGhlIGlucHV0cyBhcmUgYmFzZWQgb24gYE9wZW5BUEkgMy4wIHNwZWNpZmljYXRpb25zXG4gIDxodHRwczovL3NwZWMub3BlbmFwaXMub3JnL29hcy92My4wLjM+YF8uXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uRGVjbGFyYXRpb24ge1xuICAvKiogRGVzY3JpYmVzIHRoZSBvdXRwdXQgZnJvbSB0aGUgZnVuY3Rpb24gaW4gdGhlIE9wZW5BUEkgSlNPTiBTY2hlbWFcbiAgICAgIE9iamVjdCBmb3JtYXQuICovXG4gIHJlc3BvbnNlPzogU2NoZW1hO1xuICAvKiogT3B0aW9uYWwuIERlc2NyaXB0aW9uIGFuZCBwdXJwb3NlIG9mIHRoZSBmdW5jdGlvbi4gTW9kZWwgdXNlcyBpdCB0byBkZWNpZGUgaG93IGFuZCB3aGV0aGVyIHRvIGNhbGwgdGhlIGZ1bmN0aW9uLiAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdG8gY2FsbC4gTXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIG9yIGFuIHVuZGVyc2NvcmUuIE11c3QgYmUgYS16LCBBLVosIDAtOSwgb3IgY29udGFpbiB1bmRlcnNjb3JlcywgZG90cyBhbmQgZGFzaGVzLCB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gRGVzY3JpYmVzIHRoZSBwYXJhbWV0ZXJzIHRvIHRoaXMgZnVuY3Rpb24gaW4gSlNPTiBTY2hlbWEgT2JqZWN0IGZvcm1hdC4gUmVmbGVjdHMgdGhlIE9wZW4gQVBJIDMuMDMgUGFyYW1ldGVyIE9iamVjdC4gc3RyaW5nIEtleTogdGhlIG5hbWUgb2YgdGhlIHBhcmFtZXRlci4gUGFyYW1ldGVyIG5hbWVzIGFyZSBjYXNlIHNlbnNpdGl2ZS4gU2NoZW1hIFZhbHVlOiB0aGUgU2NoZW1hIGRlZmluaW5nIHRoZSB0eXBlIHVzZWQgZm9yIHRoZSBwYXJhbWV0ZXIuIEZvciBmdW5jdGlvbiB3aXRoIG5vIHBhcmFtZXRlcnMsIHRoaXMgY2FuIGJlIGxlZnQgdW5zZXQuIFBhcmFtZXRlciBuYW1lcyBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIgb3IgYW4gdW5kZXJzY29yZSBhbmQgbXVzdCBvbmx5IGNvbnRhaW4gY2hhcnMgYS16LCBBLVosIDAtOSwgb3IgdW5kZXJzY29yZXMgd2l0aCBhIG1heGltdW0gbGVuZ3RoIG9mIDY0LiBFeGFtcGxlIHdpdGggMSByZXF1aXJlZCBhbmQgMSBvcHRpb25hbCBwYXJhbWV0ZXI6IHR5cGU6IE9CSkVDVCBwcm9wZXJ0aWVzOiBwYXJhbTE6IHR5cGU6IFNUUklORyBwYXJhbTI6IHR5cGU6IElOVEVHRVIgcmVxdWlyZWQ6IC0gcGFyYW0xICovXG4gIHBhcmFtZXRlcnM/OiBTY2hlbWE7XG59XG5cbi8qKiBUb29sIHRvIHN1cHBvcnQgR29vZ2xlIFNlYXJjaCBpbiBNb2RlbC4gUG93ZXJlZCBieSBHb29nbGUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR29vZ2xlU2VhcmNoIHt9XG5cbi8qKiBEZXNjcmliZXMgdGhlIG9wdGlvbnMgdG8gY3VzdG9taXplIGR5bmFtaWMgcmV0cmlldmFsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIER5bmFtaWNSZXRyaWV2YWxDb25maWcge1xuICAvKiogVGhlIG1vZGUgb2YgdGhlIHByZWRpY3RvciB0byBiZSB1c2VkIGluIGR5bmFtaWMgcmV0cmlldmFsLiAqL1xuICBtb2RlPzogRHluYW1pY1JldHJpZXZhbENvbmZpZ01vZGU7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHRocmVzaG9sZCB0byBiZSB1c2VkIGluIGR5bmFtaWMgcmV0cmlldmFsLiBJZiBub3Qgc2V0LCBhIHN5c3RlbSBkZWZhdWx0IHZhbHVlIGlzIHVzZWQuICovXG4gIGR5bmFtaWNUaHJlc2hvbGQ/OiBudW1iZXI7XG59XG5cbi8qKiBUb29sIHRvIHJldHJpZXZlIHB1YmxpYyB3ZWIgZGF0YSBmb3IgZ3JvdW5kaW5nLCBwb3dlcmVkIGJ5IEdvb2dsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVTZWFyY2hSZXRyaWV2YWwge1xuICAvKiogU3BlY2lmaWVzIHRoZSBkeW5hbWljIHJldHJpZXZhbCBjb25maWd1cmF0aW9uIGZvciB0aGUgZ2l2ZW4gc291cmNlLiAqL1xuICBkeW5hbWljUmV0cmlldmFsQ29uZmlnPzogRHluYW1pY1JldHJpZXZhbENvbmZpZztcbn1cblxuLyoqIFJldHJpZXZlIGZyb20gVmVydGV4IEFJIFNlYXJjaCBkYXRhc3RvcmUgb3IgZW5naW5lIGZvciBncm91bmRpbmcuIGRhdGFzdG9yZSBhbmQgZW5naW5lIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuIFNlZSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vcHJvZHVjdHMvYWdlbnQtYnVpbGRlciAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlcnRleEFJU2VhcmNoIHtcbiAgLyoqIE9wdGlvbmFsLiBGdWxseS1xdWFsaWZpZWQgVmVydGV4IEFJIFNlYXJjaCBkYXRhIHN0b3JlIHJlc291cmNlIElELiBGb3JtYXQ6IGBwcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vY29sbGVjdGlvbnMve2NvbGxlY3Rpb259L2RhdGFTdG9yZXMve2RhdGFTdG9yZX1gICovXG4gIGRhdGFzdG9yZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBGdWxseS1xdWFsaWZpZWQgVmVydGV4IEFJIFNlYXJjaCBlbmdpbmUgcmVzb3VyY2UgSUQuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9jb2xsZWN0aW9ucy97Y29sbGVjdGlvbn0vZW5naW5lcy97ZW5naW5lfWAgKi9cbiAgZW5naW5lPzogc3RyaW5nO1xufVxuXG4vKiogVGhlIGRlZmluaXRpb24gb2YgdGhlIFJhZyByZXNvdXJjZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWZXJ0ZXhSYWdTdG9yZVJhZ1Jlc291cmNlIHtcbiAgLyoqIE9wdGlvbmFsLiBSYWdDb3Jwb3JhIHJlc291cmNlIG5hbWUuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9yYWdDb3Jwb3JhL3tyYWdfY29ycHVzfWAgKi9cbiAgcmFnQ29ycHVzPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIHJhZ19maWxlX2lkLiBUaGUgZmlsZXMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIHJhZ19jb3JwdXMgc2V0IGluIHJhZ19jb3JwdXMgZmllbGQuICovXG4gIHJhZ0ZpbGVJZHM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIFJldHJpZXZlIGZyb20gVmVydGV4IFJBRyBTdG9yZSBmb3IgZ3JvdW5kaW5nLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlcnRleFJhZ1N0b3JlIHtcbiAgLyoqIE9wdGlvbmFsLiBEZXByZWNhdGVkLiBQbGVhc2UgdXNlIHJhZ19yZXNvdXJjZXMgaW5zdGVhZC4gKi9cbiAgcmFnQ29ycG9yYT86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIFRoZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFnIHNvdXJjZS4gSXQgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBjb3JwdXMgb25seSBvciByYWdmaWxlcy4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydCBvbmUgY29ycHVzIG9yIG11bHRpcGxlIGZpbGVzIGZyb20gb25lIGNvcnB1cy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgb3BlbiB1cCBtdWx0aXBsZSBjb3Jwb3JhIHN1cHBvcnQuICovXG4gIHJhZ1Jlc291cmNlcz86IFZlcnRleFJhZ1N0b3JlUmFnUmVzb3VyY2VbXTtcbiAgLyoqIE9wdGlvbmFsLiBOdW1iZXIgb2YgdG9wIGsgcmVzdWx0cyB0byByZXR1cm4gZnJvbSB0aGUgc2VsZWN0ZWQgY29ycG9yYS4gKi9cbiAgc2ltaWxhcml0eVRvcEs/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gT25seSByZXR1cm4gcmVzdWx0cyB3aXRoIHZlY3RvciBkaXN0YW5jZSBzbWFsbGVyIHRoYW4gdGhlIHRocmVzaG9sZC4gKi9cbiAgdmVjdG9yRGlzdGFuY2VUaHJlc2hvbGQ/OiBudW1iZXI7XG59XG5cbi8qKiBEZWZpbmVzIGEgcmV0cmlldmFsIHRvb2wgdGhhdCBtb2RlbCBjYW4gY2FsbCB0byBhY2Nlc3MgZXh0ZXJuYWwga25vd2xlZGdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJldHJpZXZhbCB7XG4gIC8qKiBPcHRpb25hbC4gRGVwcmVjYXRlZC4gVGhpcyBvcHRpb24gaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gKi9cbiAgZGlzYWJsZUF0dHJpYnV0aW9uPzogYm9vbGVhbjtcbiAgLyoqIFNldCB0byB1c2UgZGF0YSBzb3VyY2UgcG93ZXJlZCBieSBWZXJ0ZXggQUkgU2VhcmNoLiAqL1xuICB2ZXJ0ZXhBaVNlYXJjaD86IFZlcnRleEFJU2VhcmNoO1xuICAvKiogU2V0IHRvIHVzZSBkYXRhIHNvdXJjZSBwb3dlcmVkIGJ5IFZlcnRleCBSQUcgc3RvcmUuIFVzZXIgZGF0YSBpcyB1cGxvYWRlZCB2aWEgdGhlIFZlcnRleFJhZ0RhdGFTZXJ2aWNlLiAqL1xuICB2ZXJ0ZXhSYWdTdG9yZT86IFZlcnRleFJhZ1N0b3JlO1xufVxuXG4vKiogVG9vbCB0aGF0IGV4ZWN1dGVzIGNvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCwgYW5kIGF1dG9tYXRpY2FsbHkgcmV0dXJucyB0aGUgcmVzdWx0IHRvIHRoZSBtb2RlbC4gU2VlIGFsc28gW0V4ZWN1dGFibGVDb2RlXWFuZCBbQ29kZUV4ZWN1dGlvblJlc3VsdF0gd2hpY2ggYXJlIGlucHV0IGFuZCBvdXRwdXQgdG8gdGhpcyB0b29sLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRvb2xDb2RlRXhlY3V0aW9uIHt9XG5cbi8qKiBUb29sIGRldGFpbHMgb2YgYSB0b29sIHRoYXQgdGhlIG1vZGVsIG1heSB1c2UgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUb29sIHtcbiAgLyoqIExpc3Qgb2YgZnVuY3Rpb24gZGVjbGFyYXRpb25zIHRoYXQgdGhlIHRvb2wgc3VwcG9ydHMuICovXG4gIGZ1bmN0aW9uRGVjbGFyYXRpb25zPzogRnVuY3Rpb25EZWNsYXJhdGlvbltdO1xuICAvKiogT3B0aW9uYWwuIFJldHJpZXZhbCB0b29sIHR5cGUuIFN5c3RlbSB3aWxsIGFsd2F5cyBleGVjdXRlIHRoZSBwcm92aWRlZCByZXRyaWV2YWwgdG9vbChzKSB0byBnZXQgZXh0ZXJuYWwga25vd2xlZGdlIHRvIGFuc3dlciB0aGUgcHJvbXB0LiBSZXRyaWV2YWwgcmVzdWx0cyBhcmUgcHJlc2VudGVkIHRvIHRoZSBtb2RlbCBmb3IgZ2VuZXJhdGlvbi4gKi9cbiAgcmV0cmlldmFsPzogUmV0cmlldmFsO1xuICAvKiogT3B0aW9uYWwuIEdvb2dsZSBTZWFyY2ggdG9vbCB0eXBlLiBTcGVjaWFsaXplZCByZXRyaWV2YWwgdG9vbFxuICAgICAgdGhhdCBpcyBwb3dlcmVkIGJ5IEdvb2dsZSBTZWFyY2guICovXG4gIGdvb2dsZVNlYXJjaD86IEdvb2dsZVNlYXJjaDtcbiAgLyoqIE9wdGlvbmFsLiBHb29nbGVTZWFyY2hSZXRyaWV2YWwgdG9vbCB0eXBlLiBTcGVjaWFsaXplZCByZXRyaWV2YWwgdG9vbCB0aGF0IGlzIHBvd2VyZWQgYnkgR29vZ2xlIHNlYXJjaC4gKi9cbiAgZ29vZ2xlU2VhcmNoUmV0cmlldmFsPzogR29vZ2xlU2VhcmNoUmV0cmlldmFsO1xuICAvKiogT3B0aW9uYWwuIENvZGVFeGVjdXRpb24gdG9vbCB0eXBlLiBFbmFibGVzIHRoZSBtb2RlbCB0byBleGVjdXRlIGNvZGUgYXMgcGFydCBvZiBnZW5lcmF0aW9uLiBUaGlzIGZpZWxkIGlzIG9ubHkgdXNlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkgc2VydmljZXMuICovXG4gIGNvZGVFeGVjdXRpb24/OiBUb29sQ29kZUV4ZWN1dGlvbjtcbn1cblxuLyoqIEZ1bmN0aW9uIGNhbGxpbmcgY29uZmlnLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gRnVuY3Rpb24gY2FsbGluZyBtb2RlLiAqL1xuICBtb2RlPzogRnVuY3Rpb25DYWxsaW5nQ29uZmlnTW9kZTtcbiAgLyoqIE9wdGlvbmFsLiBGdW5jdGlvbiBuYW1lcyB0byBjYWxsLiBPbmx5IHNldCB3aGVuIHRoZSBNb2RlIGlzIEFOWS4gRnVuY3Rpb24gbmFtZXMgc2hvdWxkIG1hdGNoIFtGdW5jdGlvbkRlY2xhcmF0aW9uLm5hbWVdLiBXaXRoIG1vZGUgc2V0IHRvIEFOWSwgbW9kZWwgd2lsbCBwcmVkaWN0IGEgZnVuY3Rpb24gY2FsbCBmcm9tIHRoZSBzZXQgb2YgZnVuY3Rpb24gbmFtZXMgcHJvdmlkZWQuICovXG4gIGFsbG93ZWRGdW5jdGlvbk5hbWVzPzogc3RyaW5nW107XG59XG5cbi8qKiBUb29sIGNvbmZpZy5cblxuICBUaGlzIGNvbmZpZyBpcyBzaGFyZWQgZm9yIGFsbCB0b29scyBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVG9vbENvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gRnVuY3Rpb24gY2FsbGluZyBjb25maWcuICovXG4gIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZz86IEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZztcbn1cblxuLyoqIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgcHJlYnVpbHQgc3BlYWtlciB0byB1c2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJlYnVpbHRWb2ljZUNvbmZpZyB7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgcHJlYnVpbHQgdm9pY2UgdG8gdXNlLlxuICAgKi9cbiAgdm9pY2VOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSB2b2ljZSB0byB1c2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVm9pY2VDb25maWcge1xuICAvKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzcGVha2VyIHRvIHVzZS5cbiAgICovXG4gIHByZWJ1aWx0Vm9pY2VDb25maWc/OiBQcmVidWlsdFZvaWNlQ29uZmlnO1xufVxuXG4vKiogVGhlIHNwZWVjaCBnZW5lcmF0aW9uIGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3BlZWNoQ29uZmlnIHtcbiAgLyoqIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgc3BlYWtlciB0byB1c2UuXG4gICAqL1xuICB2b2ljZUNvbmZpZz86IFZvaWNlQ29uZmlnO1xufVxuXG4vKiogVGhlIHRoaW5raW5nIGZlYXR1cmVzIGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVGhpbmtpbmdDb25maWcge1xuICAvKiogSW5kaWNhdGVzIHdoZXRoZXIgdG8gaW5jbHVkZSB0aG91Z2h0cyBpbiB0aGUgcmVzcG9uc2UuIElmIHRydWUsIHRob3VnaHRzIGFyZSByZXR1cm5lZCBvbmx5IGlmIHRoZSBtb2RlbCBzdXBwb3J0cyB0aG91Z2h0IGFuZCB0aG91Z2h0cyBhcmUgYXZhaWxhYmxlLlxuICAgKi9cbiAgaW5jbHVkZVRob3VnaHRzPzogYm9vbGVhbjtcbiAgLyoqIEluZGljYXRlcyB0aGUgdGhpbmtpbmcgYnVkZ2V0IGluIHRva2Vucy5cbiAgICovXG4gIHRoaW5raW5nQnVkZ2V0PzogbnVtYmVyO1xufVxuXG4vKiogV2hlbiBhdXRvbWF0ZWQgcm91dGluZyBpcyBzcGVjaWZpZWQsIHRoZSByb3V0aW5nIHdpbGwgYmUgZGV0ZXJtaW5lZCBieSB0aGUgcHJldHJhaW5lZCByb3V0aW5nIG1vZGVsIGFuZCBjdXN0b21lciBwcm92aWRlZCBtb2RlbCByb3V0aW5nIHByZWZlcmVuY2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWdBdXRvUm91dGluZ01vZGUge1xuICAvKiogVGhlIG1vZGVsIHJvdXRpbmcgcHJlZmVyZW5jZS4gKi9cbiAgbW9kZWxSb3V0aW5nUHJlZmVyZW5jZT86XG4gICAgfCAnVU5LTk9XTidcbiAgICB8ICdQUklPUklUSVpFX1FVQUxJVFknXG4gICAgfCAnQkFMQU5DRUQnXG4gICAgfCAnUFJJT1JJVElaRV9DT1NUJztcbn1cblxuLyoqIFdoZW4gbWFudWFsIHJvdXRpbmcgaXMgc2V0LCB0aGUgc3BlY2lmaWVkIG1vZGVsIHdpbGwgYmUgdXNlZCBkaXJlY3RseS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZ01hbnVhbFJvdXRpbmdNb2RlIHtcbiAgLyoqIFRoZSBtb2RlbCBuYW1lIHRvIHVzZS4gT25seSB0aGUgcHVibGljIExMTSBtb2RlbHMgYXJlIGFjY2VwdGVkLiBlLmcuICdnZW1pbmktMS41LXByby0wMDEnLiAqL1xuICBtb2RlbE5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgY29uZmlndXJhdGlvbiBmb3Igcm91dGluZyB0aGUgcmVxdWVzdCB0byBhIHNwZWNpZmljIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnIHtcbiAgLyoqIEF1dG9tYXRlZCByb3V0aW5nLiAqL1xuICBhdXRvTW9kZT86IEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnQXV0b1JvdXRpbmdNb2RlO1xuICAvKiogTWFudWFsIHJvdXRpbmcuICovXG4gIG1hbnVhbE1vZGU/OiBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZ01hbnVhbFJvdXRpbmdNb2RlO1xufVxuXG4vKiogT3B0aW9uYWwgbW9kZWwgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzLlxuXG4gIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgYENvbnRlbnQgZ2VuZXJhdGlvbiBwYXJhbWV0ZXJzXG4gIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9tdWx0aW1vZGFsL2NvbnRlbnQtZ2VuZXJhdGlvbi1wYXJhbWV0ZXJzPmBfLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZUNvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsIHRvIHN0ZWVyIGl0IHRvd2FyZCBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICBGb3IgZXhhbXBsZSwgXCJBbnN3ZXIgYXMgY29uY2lzZWx5IGFzIHBvc3NpYmxlXCIgb3IgXCJEb24ndCB1c2UgdGVjaG5pY2FsXG4gICAgICB0ZXJtcyBpbiB5b3VyIHJlc3BvbnNlXCIuXG4gICAgICAgKi9cbiAgc3lzdGVtSW5zdHJ1Y3Rpb24/OiBDb250ZW50VW5pb247XG4gIC8qKiBWYWx1ZSB0aGF0IGNvbnRyb2xzIHRoZSBkZWdyZWUgb2YgcmFuZG9tbmVzcyBpbiB0b2tlbiBzZWxlY3Rpb24uXG4gICAgICBMb3dlciB0ZW1wZXJhdHVyZXMgYXJlIGdvb2QgZm9yIHByb21wdHMgdGhhdCByZXF1aXJlIGEgbGVzcyBvcGVuLWVuZGVkIG9yXG4gICAgICBjcmVhdGl2ZSByZXNwb25zZSwgd2hpbGUgaGlnaGVyIHRlbXBlcmF0dXJlcyBjYW4gbGVhZCB0byBtb3JlIGRpdmVyc2Ugb3JcbiAgICAgIGNyZWF0aXZlIHJlc3VsdHMuXG4gICAgICAgKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG4gIC8qKiBUb2tlbnMgYXJlIHNlbGVjdGVkIGZyb20gdGhlIG1vc3QgdG8gbGVhc3QgcHJvYmFibGUgdW50aWwgdGhlIHN1bVxuICAgICAgb2YgdGhlaXIgcHJvYmFiaWxpdGllcyBlcXVhbHMgdGhpcyB2YWx1ZS4gVXNlIGEgbG93ZXIgdmFsdWUgZm9yIGxlc3NcbiAgICAgIHJhbmRvbSByZXNwb25zZXMgYW5kIGEgaGlnaGVyIHZhbHVlIGZvciBtb3JlIHJhbmRvbSByZXNwb25zZXMuXG4gICAgICAgKi9cbiAgdG9wUD86IG51bWJlcjtcbiAgLyoqIEZvciBlYWNoIHRva2VuIHNlbGVjdGlvbiBzdGVwLCB0aGUgYGB0b3Bfa2BgIHRva2VucyB3aXRoIHRoZVxuICAgICAgaGlnaGVzdCBwcm9iYWJpbGl0aWVzIGFyZSBzYW1wbGVkLiBUaGVuIHRva2VucyBhcmUgZnVydGhlciBmaWx0ZXJlZCBiYXNlZFxuICAgICAgb24gYGB0b3BfcGBgIHdpdGggdGhlIGZpbmFsIHRva2VuIHNlbGVjdGVkIHVzaW5nIHRlbXBlcmF0dXJlIHNhbXBsaW5nLiBVc2VcbiAgICAgIGEgbG93ZXIgbnVtYmVyIGZvciBsZXNzIHJhbmRvbSByZXNwb25zZXMgYW5kIGEgaGlnaGVyIG51bWJlciBmb3IgbW9yZVxuICAgICAgcmFuZG9tIHJlc3BvbnNlcy5cbiAgICAgICAqL1xuICB0b3BLPzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHJlc3BvbnNlIHZhcmlhdGlvbnMgdG8gcmV0dXJuLlxuICAgKi9cbiAgY2FuZGlkYXRlQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG1heE91dHB1dFRva2Vucz86IG51bWJlcjtcbiAgLyoqIExpc3Qgb2Ygc3RyaW5ncyB0aGF0IHRlbGxzIHRoZSBtb2RlbCB0byBzdG9wIGdlbmVyYXRpbmcgdGV4dCBpZiBvbmVcbiAgICAgIG9mIHRoZSBzdHJpbmdzIGlzIGVuY291bnRlcmVkIGluIHRoZSByZXNwb25zZS5cbiAgICAgICAqL1xuICBzdG9wU2VxdWVuY2VzPzogc3RyaW5nW107XG4gIC8qKiBXaGV0aGVyIHRvIHJldHVybiB0aGUgbG9nIHByb2JhYmlsaXRpZXMgb2YgdGhlIHRva2VucyB0aGF0IHdlcmVcbiAgICAgIGNob3NlbiBieSB0aGUgbW9kZWwgYXQgZWFjaCBzdGVwLlxuICAgICAgICovXG4gIHJlc3BvbnNlTG9ncHJvYnM/OiBib29sZWFuO1xuICAvKiogTnVtYmVyIG9mIHRvcCBjYW5kaWRhdGUgdG9rZW5zIHRvIHJldHVybiB0aGUgbG9nIHByb2JhYmlsaXRpZXMgZm9yXG4gICAgICBhdCBlYWNoIGdlbmVyYXRpb24gc3RlcC5cbiAgICAgICAqL1xuICBsb2dwcm9icz86IG51bWJlcjtcbiAgLyoqIFBvc2l0aXZlIHZhbHVlcyBwZW5hbGl6ZSB0b2tlbnMgdGhhdCBhbHJlYWR5IGFwcGVhciBpbiB0aGVcbiAgICAgIGdlbmVyYXRlZCB0ZXh0LCBpbmNyZWFzaW5nIHRoZSBwcm9iYWJpbGl0eSBvZiBnZW5lcmF0aW5nIG1vcmUgZGl2ZXJzZVxuICAgICAgY29udGVudC5cbiAgICAgICAqL1xuICBwcmVzZW5jZVBlbmFsdHk/OiBudW1iZXI7XG4gIC8qKiBQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgdG9rZW5zIHRoYXQgcmVwZWF0ZWRseSBhcHBlYXIgaW4gdGhlXG4gICAgICBnZW5lcmF0ZWQgdGV4dCwgaW5jcmVhc2luZyB0aGUgcHJvYmFiaWxpdHkgb2YgZ2VuZXJhdGluZyBtb3JlIGRpdmVyc2VcbiAgICAgIGNvbnRlbnQuXG4gICAgICAgKi9cbiAgZnJlcXVlbmN5UGVuYWx0eT86IG51bWJlcjtcbiAgLyoqIFdoZW4gYGBzZWVkYGAgaXMgZml4ZWQgdG8gYSBzcGVjaWZpYyBudW1iZXIsIHRoZSBtb2RlbCBtYWtlcyBhIGJlc3RcbiAgICAgIGVmZm9ydCB0byBwcm92aWRlIHRoZSBzYW1lIHJlc3BvbnNlIGZvciByZXBlYXRlZCByZXF1ZXN0cy4gQnkgZGVmYXVsdCwgYVxuICAgICAgcmFuZG9tIG51bWJlciBpcyB1c2VkLlxuICAgICAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgcmVzcG9uc2UgbWVkaWEgdHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGNhbmRpZGF0ZSB0ZXh0LlxuICAgKi9cbiAgcmVzcG9uc2VNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIFNjaGVtYSB0aGF0IHRoZSBnZW5lcmF0ZWQgY2FuZGlkYXRlIHRleHQgbXVzdCBhZGhlcmUgdG8uXG4gICAqL1xuICByZXNwb25zZVNjaGVtYT86IFNjaGVtYVVuaW9uO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgbW9kZWwgcm91dGVyIHJlcXVlc3RzLlxuICAgKi9cbiAgcm91dGluZ0NvbmZpZz86IEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnO1xuICAvKiogU2FmZXR5IHNldHRpbmdzIGluIHRoZSByZXF1ZXN0IHRvIGJsb2NrIHVuc2FmZSBjb250ZW50IGluIHRoZVxuICAgICAgcmVzcG9uc2UuXG4gICAgICAgKi9cbiAgc2FmZXR5U2V0dGluZ3M/OiBTYWZldHlTZXR0aW5nW107XG4gIC8qKiBDb2RlIHRoYXQgZW5hYmxlcyB0aGUgc3lzdGVtIHRvIGludGVyYWN0IHdpdGggZXh0ZXJuYWwgc3lzdGVtcyB0b1xuICAgICAgcGVyZm9ybSBhbiBhY3Rpb24gb3V0c2lkZSBvZiB0aGUga25vd2xlZGdlIGFuZCBzY29wZSBvZiB0aGUgbW9kZWwuXG4gICAgICAgKi9cbiAgdG9vbHM/OiBUb29sTGlzdFVuaW9uO1xuICAvKiogQXNzb2NpYXRlcyBtb2RlbCBvdXRwdXQgdG8gYSBzcGVjaWZpYyBmdW5jdGlvbiBjYWxsLlxuICAgKi9cbiAgdG9vbENvbmZpZz86IFRvb2xDb25maWc7XG4gIC8qKiBMYWJlbHMgd2l0aCB1c2VyLWRlZmluZWQgbWV0YWRhdGEgdG8gYnJlYWsgZG93biBiaWxsZWQgY2hhcmdlcy4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIFJlc291cmNlIG5hbWUgb2YgYSBjb250ZXh0IGNhY2hlIHRoYXQgY2FuIGJlIHVzZWQgaW4gc3Vic2VxdWVudFxuICAgICAgcmVxdWVzdHMuXG4gICAgICAgKi9cbiAgY2FjaGVkQ29udGVudD86IHN0cmluZztcbiAgLyoqIFRoZSByZXF1ZXN0ZWQgbW9kYWxpdGllcyBvZiB0aGUgcmVzcG9uc2UuIFJlcHJlc2VudHMgdGhlIHNldCBvZlxuICAgICAgbW9kYWxpdGllcyB0aGF0IHRoZSBtb2RlbCBjYW4gcmV0dXJuLlxuICAgICAgICovXG4gIHJlc3BvbnNlTW9kYWxpdGllcz86IHN0cmluZ1tdO1xuICAvKiogSWYgc3BlY2lmaWVkLCB0aGUgbWVkaWEgcmVzb2x1dGlvbiBzcGVjaWZpZWQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgbWVkaWFSZXNvbHV0aW9uPzogTWVkaWFSZXNvbHV0aW9uO1xuICAvKiogVGhlIHNwZWVjaCBnZW5lcmF0aW9uIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBzcGVlY2hDb25maWc/OiBTcGVlY2hDb25maWdVbmlvbjtcbiAgLyoqIElmIGVuYWJsZWQsIGF1ZGlvIHRpbWVzdGFtcCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSByZXF1ZXN0IHRvIHRoZVxuICAgICAgIG1vZGVsLlxuICAgICAgICovXG4gIGF1ZGlvVGltZXN0YW1wPzogYm9vbGVhbjtcbiAgLyoqIFRoZSB0aGlua2luZyBmZWF0dXJlcyBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgdGhpbmtpbmdDb25maWc/OiBUaGlua2luZ0NvbmZpZztcbn1cblxuLyoqIENvbmZpZyBmb3IgbW9kZWxzLmdlbmVyYXRlX2NvbnRlbnQgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbGVhcm4vbW9kZWxzPmBfLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogQ29udGVudCBvZiB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbnRlbnRzOiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IGNvbnRhaW5zIG9wdGlvbmFsIG1vZGVsIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjb25maWc/OiBHZW5lcmF0ZUNvbnRlbnRDb25maWc7XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgd2hvbGUgb3IgcGFydGlhbCBjYWxlbmRhciBkYXRlLCBzdWNoIGFzIGEgYmlydGhkYXkuIFRoZSB0aW1lIG9mIGRheSBhbmQgdGltZSB6b25lIGFyZSBlaXRoZXIgc3BlY2lmaWVkIGVsc2V3aGVyZSBvciBhcmUgaW5zaWduaWZpY2FudC4gVGhlIGRhdGUgaXMgcmVsYXRpdmUgdG8gdGhlIEdyZWdvcmlhbiBDYWxlbmRhci4gVGhpcyBjYW4gcmVwcmVzZW50IG9uZSBvZiB0aGUgZm9sbG93aW5nOiAqIEEgZnVsbCBkYXRlLCB3aXRoIG5vbi16ZXJvIHllYXIsIG1vbnRoLCBhbmQgZGF5IHZhbHVlcy4gKiBBIG1vbnRoIGFuZCBkYXksIHdpdGggYSB6ZXJvIHllYXIgKGZvciBleGFtcGxlLCBhbiBhbm5pdmVyc2FyeSkuICogQSB5ZWFyIG9uIGl0cyBvd24sIHdpdGggYSB6ZXJvIG1vbnRoIGFuZCBhIHplcm8gZGF5LiAqIEEgeWVhciBhbmQgbW9udGgsIHdpdGggYSB6ZXJvIGRheSAoZm9yIGV4YW1wbGUsIGEgY3JlZGl0IGNhcmQgZXhwaXJhdGlvbiBkYXRlKS4gUmVsYXRlZCB0eXBlczogKiBnb29nbGUudHlwZS5UaW1lT2ZEYXkgKiBnb29nbGUudHlwZS5EYXRlVGltZSAqIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVUeXBlRGF0ZSB7XG4gIC8qKiBEYXkgb2YgYSBtb250aC4gTXVzdCBiZSBmcm9tIDEgdG8gMzEgYW5kIHZhbGlkIGZvciB0aGUgeWVhciBhbmQgbW9udGgsIG9yIDAgdG8gc3BlY2lmeSBhIHllYXIgYnkgaXRzZWxmIG9yIGEgeWVhciBhbmQgbW9udGggd2hlcmUgdGhlIGRheSBpc24ndCBzaWduaWZpY2FudC4gKi9cbiAgZGF5PzogbnVtYmVyO1xuICAvKiogTW9udGggb2YgYSB5ZWFyLiBNdXN0IGJlIGZyb20gMSB0byAxMiwgb3IgMCB0byBzcGVjaWZ5IGEgeWVhciB3aXRob3V0IGEgbW9udGggYW5kIGRheS4gKi9cbiAgbW9udGg/OiBudW1iZXI7XG4gIC8qKiBZZWFyIG9mIHRoZSBkYXRlLiBNdXN0IGJlIGZyb20gMSB0byA5OTk5LCBvciAwIHRvIHNwZWNpZnkgYSBkYXRlIHdpdGhvdXQgYSB5ZWFyLiAqL1xuICB5ZWFyPzogbnVtYmVyO1xufVxuXG4vKiogU291cmNlIGF0dHJpYnV0aW9ucyBmb3IgY29udGVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDaXRhdGlvbiB7XG4gIC8qKiBPdXRwdXQgb25seS4gRW5kIGluZGV4IGludG8gdGhlIGNvbnRlbnQuICovXG4gIGVuZEluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIExpY2Vuc2Ugb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICBsaWNlbnNlPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFB1YmxpY2F0aW9uIGRhdGUgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICBwdWJsaWNhdGlvbkRhdGU/OiBHb29nbGVUeXBlRGF0ZTtcbiAgLyoqIE91dHB1dCBvbmx5LiBTdGFydCBpbmRleCBpbnRvIHRoZSBjb250ZW50LiAqL1xuICBzdGFydEluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFRpdGxlIG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVXJsIHJlZmVyZW5jZSBvZiB0aGUgYXR0cmlidXRpb24uICovXG4gIHVyaT86IHN0cmluZztcbn1cblxuLyoqIENpdGF0aW9uIGluZm9ybWF0aW9uIHdoZW4gdGhlIG1vZGVsIHF1b3RlcyBhbm90aGVyIHNvdXJjZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDaXRhdGlvbk1ldGFkYXRhIHtcbiAgLyoqIENvbnRhaW5zIGNpdGF0aW9uIGluZm9ybWF0aW9uIHdoZW4gdGhlIG1vZGVsIGRpcmVjdGx5IHF1b3RlcywgYXRcbiAgICAgIGxlbmd0aCwgZnJvbSBhbm90aGVyIHNvdXJjZS4gQ2FuIGluY2x1ZGUgdHJhZGl0aW9uYWwgd2Vic2l0ZXMgYW5kIGNvZGVcbiAgICAgIHJlcG9zaXRvcmllcy5cbiAgICAgICAqL1xuICBjaXRhdGlvbnM/OiBDaXRhdGlvbltdO1xufVxuXG4vKiogQ2h1bmsgZnJvbSBjb250ZXh0IHJldHJpZXZlZCBieSB0aGUgcmV0cmlldmFsIHRvb2xzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdyb3VuZGluZ0NodW5rUmV0cmlldmVkQ29udGV4dCB7XG4gIC8qKiBUZXh0IG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqIFRpdGxlIG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBVUkkgcmVmZXJlbmNlIG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdXJpPzogc3RyaW5nO1xufVxuXG4vKiogQ2h1bmsgZnJvbSB0aGUgd2ViLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdyb3VuZGluZ0NodW5rV2ViIHtcbiAgLyoqIERvbWFpbiBvZiB0aGUgKG9yaWdpbmFsKSBVUkkuICovXG4gIGRvbWFpbj86IHN0cmluZztcbiAgLyoqIFRpdGxlIG9mIHRoZSBjaHVuay4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBVUkkgcmVmZXJlbmNlIG9mIHRoZSBjaHVuay4gKi9cbiAgdXJpPzogc3RyaW5nO1xufVxuXG4vKiogR3JvdW5kaW5nIGNodW5rLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdyb3VuZGluZ0NodW5rIHtcbiAgLyoqIEdyb3VuZGluZyBjaHVuayBmcm9tIGNvbnRleHQgcmV0cmlldmVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuICovXG4gIHJldHJpZXZlZENvbnRleHQ/OiBHcm91bmRpbmdDaHVua1JldHJpZXZlZENvbnRleHQ7XG4gIC8qKiBHcm91bmRpbmcgY2h1bmsgZnJvbSB0aGUgd2ViLiAqL1xuICB3ZWI/OiBHcm91bmRpbmdDaHVua1dlYjtcbn1cblxuLyoqIFNlZ21lbnQgb2YgdGhlIGNvbnRlbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2VnbWVudCB7XG4gIC8qKiBPdXRwdXQgb25seS4gRW5kIGluZGV4IGluIHRoZSBnaXZlbiBQYXJ0LCBtZWFzdXJlZCBpbiBieXRlcy4gT2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBQYXJ0LCBleGNsdXNpdmUsIHN0YXJ0aW5nIGF0IHplcm8uICovXG4gIGVuZEluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBpbmRleCBvZiBhIFBhcnQgb2JqZWN0IHdpdGhpbiBpdHMgcGFyZW50IENvbnRlbnQgb2JqZWN0LiAqL1xuICBwYXJ0SW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gU3RhcnQgaW5kZXggaW4gdGhlIGdpdmVuIFBhcnQsIG1lYXN1cmVkIGluIGJ5dGVzLiBPZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIFBhcnQsIGluY2x1c2l2ZSwgc3RhcnRpbmcgYXQgemVyby4gKi9cbiAgc3RhcnRJbmRleD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgdGV4dCBjb3JyZXNwb25kaW5nIHRvIHRoZSBzZWdtZW50IGZyb20gdGhlIHJlc3BvbnNlLiAqL1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG4vKiogR3JvdW5kaW5nIHN1cHBvcnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nU3VwcG9ydCB7XG4gIC8qKiBDb25maWRlbmNlIHNjb3JlIG9mIHRoZSBzdXBwb3J0IHJlZmVyZW5jZXMuIFJhbmdlcyBmcm9tIDAgdG8gMS4gMSBpcyB0aGUgbW9zdCBjb25maWRlbnQuIFRoaXMgbGlzdCBtdXN0IGhhdmUgdGhlIHNhbWUgc2l6ZSBhcyB0aGUgZ3JvdW5kaW5nX2NodW5rX2luZGljZXMuICovXG4gIGNvbmZpZGVuY2VTY29yZXM/OiBudW1iZXJbXTtcbiAgLyoqIEEgbGlzdCBvZiBpbmRpY2VzIChpbnRvICdncm91bmRpbmdfY2h1bmsnKSBzcGVjaWZ5aW5nIHRoZSBjaXRhdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjbGFpbS4gRm9yIGluc3RhbmNlIFsxLDMsNF0gbWVhbnMgdGhhdCBncm91bmRpbmdfY2h1bmtbMV0sIGdyb3VuZGluZ19jaHVua1szXSwgZ3JvdW5kaW5nX2NodW5rWzRdIGFyZSB0aGUgcmV0cmlldmVkIGNvbnRlbnQgYXR0cmlidXRlZCB0byB0aGUgY2xhaW0uICovXG4gIGdyb3VuZGluZ0NodW5rSW5kaWNlcz86IG51bWJlcltdO1xuICAvKiogU2VnbWVudCBvZiB0aGUgY29udGVudCB0aGlzIHN1cHBvcnQgYmVsb25ncyB0by4gKi9cbiAgc2VnbWVudD86IFNlZ21lbnQ7XG59XG5cbi8qKiBNZXRhZGF0YSByZWxhdGVkIHRvIHJldHJpZXZhbCBpbiB0aGUgZ3JvdW5kaW5nIGZsb3cuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmV0cmlldmFsTWV0YWRhdGEge1xuICAvKiogT3B0aW9uYWwuIFNjb3JlIGluZGljYXRpbmcgaG93IGxpa2VseSBpbmZvcm1hdGlvbiBmcm9tIEdvb2dsZSBTZWFyY2ggY291bGQgaGVscCBhbnN3ZXIgdGhlIHByb21wdC4gVGhlIHNjb3JlIGlzIGluIHRoZSByYW5nZSBgWzAsIDFdYCwgd2hlcmUgMCBpcyB0aGUgbGVhc3QgbGlrZWx5IGFuZCAxIGlzIHRoZSBtb3N0IGxpa2VseS4gVGhpcyBzY29yZSBpcyBvbmx5IHBvcHVsYXRlZCB3aGVuIEdvb2dsZSBTZWFyY2ggZ3JvdW5kaW5nIGFuZCBkeW5hbWljIHJldHJpZXZhbCBpcyBlbmFibGVkLiBJdCB3aWxsIGJlIGNvbXBhcmVkIHRvIHRoZSB0aHJlc2hvbGQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gdHJpZ2dlciBHb29nbGUgU2VhcmNoLiAqL1xuICBnb29nbGVTZWFyY2hEeW5hbWljUmV0cmlldmFsU2NvcmU/OiBudW1iZXI7XG59XG5cbi8qKiBHb29nbGUgc2VhcmNoIGVudHJ5IHBvaW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlYXJjaEVudHJ5UG9pbnQge1xuICAvKiogT3B0aW9uYWwuIFdlYiBjb250ZW50IHNuaXBwZXQgdGhhdCBjYW4gYmUgZW1iZWRkZWQgaW4gYSB3ZWIgcGFnZSBvciBhbiBhcHAgd2Vidmlldy4gKi9cbiAgcmVuZGVyZWRDb250ZW50Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIEJhc2U2NCBlbmNvZGVkIEpTT04gcmVwcmVzZW50aW5nIGFycmF5IG9mIHR1cGxlLiAqL1xuICBzZGtCbG9iPzogc3RyaW5nO1xufVxuXG4vKiogTWV0YWRhdGEgcmV0dXJuZWQgdG8gY2xpZW50IHdoZW4gZ3JvdW5kaW5nIGlzIGVuYWJsZWQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nTWV0YWRhdGEge1xuICAvKiogTGlzdCBvZiBzdXBwb3J0aW5nIHJlZmVyZW5jZXMgcmV0cmlldmVkIGZyb20gc3BlY2lmaWVkIGdyb3VuZGluZyBzb3VyY2UuICovXG4gIGdyb3VuZGluZ0NodW5rcz86IEdyb3VuZGluZ0NodW5rW107XG4gIC8qKiBPcHRpb25hbC4gTGlzdCBvZiBncm91bmRpbmcgc3VwcG9ydC4gKi9cbiAgZ3JvdW5kaW5nU3VwcG9ydHM/OiBHcm91bmRpbmdTdXBwb3J0W107XG4gIC8qKiBPcHRpb25hbC4gT3V0cHV0IG9ubHkuIFJldHJpZXZhbCBtZXRhZGF0YS4gKi9cbiAgcmV0cmlldmFsTWV0YWRhdGE/OiBSZXRyaWV2YWxNZXRhZGF0YTtcbiAgLyoqIE9wdGlvbmFsLiBRdWVyaWVzIGV4ZWN1dGVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuICovXG4gIHJldHJpZXZhbFF1ZXJpZXM/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBHb29nbGUgc2VhcmNoIGVudHJ5IGZvciB0aGUgZm9sbG93aW5nLXVwIHdlYiBzZWFyY2hlcy4gKi9cbiAgc2VhcmNoRW50cnlQb2ludD86IFNlYXJjaEVudHJ5UG9pbnQ7XG4gIC8qKiBPcHRpb25hbC4gV2ViIHNlYXJjaCBxdWVyaWVzIGZvciB0aGUgZm9sbG93aW5nLXVwIHdlYiBzZWFyY2guICovXG4gIHdlYlNlYXJjaFF1ZXJpZXM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIENhbmRpZGF0ZSBmb3IgdGhlIGxvZ3Byb2JzIHRva2VuIGFuZCBzY29yZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMb2dwcm9ic1Jlc3VsdENhbmRpZGF0ZSB7XG4gIC8qKiBUaGUgY2FuZGlkYXRlJ3MgbG9nIHByb2JhYmlsaXR5LiAqL1xuICBsb2dQcm9iYWJpbGl0eT86IG51bWJlcjtcbiAgLyoqIFRoZSBjYW5kaWRhdGUncyB0b2tlbiBzdHJpbmcgdmFsdWUuICovXG4gIHRva2VuPzogc3RyaW5nO1xuICAvKiogVGhlIGNhbmRpZGF0ZSdzIHRva2VuIGlkIHZhbHVlLiAqL1xuICB0b2tlbklkPzogbnVtYmVyO1xufVxuXG4vKiogQ2FuZGlkYXRlcyB3aXRoIHRvcCBsb2cgcHJvYmFiaWxpdGllcyBhdCBlYWNoIGRlY29kaW5nIHN0ZXAuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTG9ncHJvYnNSZXN1bHRUb3BDYW5kaWRhdGVzIHtcbiAgLyoqIFNvcnRlZCBieSBsb2cgcHJvYmFiaWxpdHkgaW4gZGVzY2VuZGluZyBvcmRlci4gKi9cbiAgY2FuZGlkYXRlcz86IExvZ3Byb2JzUmVzdWx0Q2FuZGlkYXRlW107XG59XG5cbi8qKiBMb2dwcm9icyBSZXN1bHQgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMb2dwcm9ic1Jlc3VsdCB7XG4gIC8qKiBMZW5ndGggPSB0b3RhbCBudW1iZXIgb2YgZGVjb2Rpbmcgc3RlcHMuIFRoZSBjaG9zZW4gY2FuZGlkYXRlcyBtYXkgb3IgbWF5IG5vdCBiZSBpbiB0b3BfY2FuZGlkYXRlcy4gKi9cbiAgY2hvc2VuQ2FuZGlkYXRlcz86IExvZ3Byb2JzUmVzdWx0Q2FuZGlkYXRlW107XG4gIC8qKiBMZW5ndGggPSB0b3RhbCBudW1iZXIgb2YgZGVjb2Rpbmcgc3RlcHMuICovXG4gIHRvcENhbmRpZGF0ZXM/OiBMb2dwcm9ic1Jlc3VsdFRvcENhbmRpZGF0ZXNbXTtcbn1cblxuLyoqIFNhZmV0eSByYXRpbmcgY29ycmVzcG9uZGluZyB0byB0aGUgZ2VuZXJhdGVkIGNvbnRlbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2FmZXR5UmF0aW5nIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY29udGVudCB3YXMgZmlsdGVyZWQgb3V0IGJlY2F1c2Ugb2YgdGhpcyByYXRpbmcuICovXG4gIGJsb2NrZWQ/OiBib29sZWFuO1xuICAvKiogT3V0cHV0IG9ubHkuIEhhcm0gY2F0ZWdvcnkuICovXG4gIGNhdGVnb3J5PzogSGFybUNhdGVnb3J5O1xuICAvKiogT3V0cHV0IG9ubHkuIEhhcm0gcHJvYmFiaWxpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LiAqL1xuICBwcm9iYWJpbGl0eT86IEhhcm1Qcm9iYWJpbGl0eTtcbiAgLyoqIE91dHB1dCBvbmx5LiBIYXJtIHByb2JhYmlsaXR5IHNjb3JlLiAqL1xuICBwcm9iYWJpbGl0eVNjb3JlPzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIEhhcm0gc2V2ZXJpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LiAqL1xuICBzZXZlcml0eT86IEhhcm1TZXZlcml0eTtcbiAgLyoqIE91dHB1dCBvbmx5LiBIYXJtIHNldmVyaXR5IHNjb3JlLiAqL1xuICBzZXZlcml0eVNjb3JlPzogbnVtYmVyO1xufVxuXG4vKiogQSByZXNwb25zZSBjYW5kaWRhdGUgZ2VuZXJhdGVkIGZyb20gdGhlIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhbmRpZGF0ZSB7XG4gIC8qKiBDb250YWlucyB0aGUgbXVsdGktcGFydCBjb250ZW50IG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGNvbnRlbnQ/OiBDb250ZW50O1xuICAvKiogU291cmNlIGF0dHJpYnV0aW9uIG9mIHRoZSBnZW5lcmF0ZWQgY29udGVudC5cbiAgICovXG4gIGNpdGF0aW9uTWV0YWRhdGE/OiBDaXRhdGlvbk1ldGFkYXRhO1xuICAvKiogRGVzY3JpYmVzIHRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuXG4gICAqL1xuICBmaW5pc2hNZXNzYWdlPzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBmb3IgdGhpcyBjYW5kaWRhdGUuXG4gICAqL1xuICB0b2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogVGhlIHJlYXNvbiB3aHkgdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuXG4gICAgICBJZiBlbXB0eSwgdGhlIG1vZGVsIGhhcyBub3Qgc3RvcHBlZCBnZW5lcmF0aW5nIHRoZSB0b2tlbnMuXG4gICAgICAgKi9cbiAgZmluaXNoUmVhc29uPzogRmluaXNoUmVhc29uO1xuICAvKiogT3V0cHV0IG9ubHkuIEF2ZXJhZ2UgbG9nIHByb2JhYmlsaXR5IHNjb3JlIG9mIHRoZSBjYW5kaWRhdGUuICovXG4gIGF2Z0xvZ3Byb2JzPzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIE1ldGFkYXRhIHNwZWNpZmllcyBzb3VyY2VzIHVzZWQgdG8gZ3JvdW5kIGdlbmVyYXRlZCBjb250ZW50LiAqL1xuICBncm91bmRpbmdNZXRhZGF0YT86IEdyb3VuZGluZ01ldGFkYXRhO1xuICAvKiogT3V0cHV0IG9ubHkuIEluZGV4IG9mIHRoZSBjYW5kaWRhdGUuICovXG4gIGluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIExvZy1saWtlbGlob29kIHNjb3JlcyBmb3IgdGhlIHJlc3BvbnNlIHRva2VucyBhbmQgdG9wIHRva2VucyAqL1xuICBsb2dwcm9ic1Jlc3VsdD86IExvZ3Byb2JzUmVzdWx0O1xuICAvKiogT3V0cHV0IG9ubHkuIExpc3Qgb2YgcmF0aW5ncyBmb3IgdGhlIHNhZmV0eSBvZiBhIHJlc3BvbnNlIGNhbmRpZGF0ZS4gVGhlcmUgaXMgYXQgbW9zdCBvbmUgcmF0aW5nIHBlciBjYXRlZ29yeS4gKi9cbiAgc2FmZXR5UmF0aW5ncz86IFNhZmV0eVJhdGluZ1tdO1xufVxuXG4vKiogQ29udGVudCBmaWx0ZXIgcmVzdWx0cyBmb3IgYSBwcm9tcHQgc2VudCBpbiB0aGUgcmVxdWVzdC4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZVByb21wdEZlZWRiYWNrIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBCbG9ja2VkIHJlYXNvbi4gKi9cbiAgYmxvY2tSZWFzb24/OiBCbG9ja2VkUmVhc29uO1xuICAvKiogT3V0cHV0IG9ubHkuIEEgcmVhZGFibGUgYmxvY2sgcmVhc29uIG1lc3NhZ2UuICovXG4gIGJsb2NrUmVhc29uTWVzc2FnZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBTYWZldHkgcmF0aW5ncy4gKi9cbiAgc2FmZXR5UmF0aW5ncz86IFNhZmV0eVJhdGluZ1tdO1xufVxuXG4vKiogUmVwcmVzZW50cyB0b2tlbiBjb3VudGluZyBpbmZvIGZvciBhIHNpbmdsZSBtb2RhbGl0eS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNb2RhbGl0eVRva2VuQ291bnQge1xuICAvKiogVGhlIG1vZGFsaXR5IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRva2VuIGNvdW50LiAqL1xuICBtb2RhbGl0eT86IE1lZGlhTW9kYWxpdHk7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zLiAqL1xuICB0b2tlbkNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogVXNhZ2UgbWV0YWRhdGEgYWJvdXQgcmVzcG9uc2UocykuICovXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVDb250ZW50UmVzcG9uc2VVc2FnZU1ldGFkYXRhIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBMaXN0IG9mIG1vZGFsaXRpZXMgb2YgdGhlIGNhY2hlZCBjb250ZW50IGluIHRoZSByZXF1ZXN0IGlucHV0LiAqL1xuICBjYWNoZVRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBpbiB0aGUgaW5wdXQgKHRoZSBjYWNoZWQgY29udGVudCkuICovXG4gIGNhY2hlZENvbnRlbnRUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcmVzcG9uc2UocykuICovXG4gIGNhbmRpZGF0ZXNUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIExpc3Qgb2YgbW9kYWxpdGllcyB0aGF0IHdlcmUgcmV0dXJuZWQgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICBjYW5kaWRhdGVzVG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcmVxdWVzdC4gV2hlbiBgY2FjaGVkX2NvbnRlbnRgIGlzIHNldCwgdGhpcyBpcyBzdGlsbCB0aGUgdG90YWwgZWZmZWN0aXZlIHByb21wdCBzaXplIG1lYW5pbmcgdGhpcyBpbmNsdWRlcyB0aGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIHByb21wdFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSBwcm9jZXNzZWQgaW4gdGhlIHJlcXVlc3QgaW5wdXQuICovXG4gIHByb21wdFRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgdG9rZW5zIHByZXNlbnQgaW4gdGhvdWdodHMgb3V0cHV0LiAqL1xuICB0aG91Z2h0c1Rva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIHRva2VucyBwcmVzZW50IGluIHRvb2wtdXNlIHByb21wdChzKS4gKi9cbiAgdG9vbFVzZVByb21wdFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSBwcm9jZXNzZWQgZm9yIHRvb2wtdXNlIHJlcXVlc3QgaW5wdXRzLiAqL1xuICB0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogVG90YWwgdG9rZW4gY291bnQgZm9yIHByb21wdCwgcmVzcG9uc2UgY2FuZGlkYXRlcywgYW5kIHRvb2wtdXNlIHByb21wdHMgKGlmIHByZXNlbnQpLiAqL1xuICB0b3RhbFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVHJhZmZpYyB0eXBlLiBUaGlzIHNob3dzIHdoZXRoZXIgYSByZXF1ZXN0IGNvbnN1bWVzIFBheS1Bcy1Zb3UtR28gb3IgUHJvdmlzaW9uZWQgVGhyb3VnaHB1dCBxdW90YS4gKi9cbiAgdHJhZmZpY1R5cGU/OiBUcmFmZmljVHlwZTtcbn1cblxuLyoqIFJlc3BvbnNlIG1lc3NhZ2UgZm9yIFByZWRpY3Rpb25TZXJ2aWNlLkdlbmVyYXRlQ29udGVudC4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSB7XG4gIC8qKiBSZXNwb25zZSB2YXJpYXRpb25zIHJldHVybmVkIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIGNhbmRpZGF0ZXM/OiBDYW5kaWRhdGVbXTtcbiAgLyoqIFRpbWVzdGFtcCB3aGVuIHRoZSByZXF1ZXN0IGlzIG1hZGUgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBJZGVudGlmaWVyIGZvciBlYWNoIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VJZD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbW9kZWwgdmVyc2lvbiB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZS4gKi9cbiAgbW9kZWxWZXJzaW9uPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIENvbnRlbnQgZmlsdGVyIHJlc3VsdHMgZm9yIGEgcHJvbXB0IHNlbnQgaW4gdGhlIHJlcXVlc3QuIE5vdGU6IFNlbnQgb25seSBpbiB0aGUgZmlyc3Qgc3RyZWFtIGNodW5rLiBPbmx5IGhhcHBlbnMgd2hlbiBubyBjYW5kaWRhdGVzIHdlcmUgZ2VuZXJhdGVkIGR1ZSB0byBjb250ZW50IHZpb2xhdGlvbnMuICovXG4gIHByb21wdEZlZWRiYWNrPzogR2VuZXJhdGVDb250ZW50UmVzcG9uc2VQcm9tcHRGZWVkYmFjaztcbiAgLyoqIFVzYWdlIG1ldGFkYXRhIGFib3V0IHRoZSByZXNwb25zZShzKS4gKi9cbiAgdXNhZ2VNZXRhZGF0YT86IEdlbmVyYXRlQ29udGVudFJlc3BvbnNlVXNhZ2VNZXRhZGF0YTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvbmNhdGVuYXRpb24gb2YgYWxsIHRleHQgcGFydHMgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIGluIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgdGV4dCBmcm9tIHRoZSBmaXJzdFxuICAgKiBvbmUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogSWYgdGhlcmUgYXJlIG5vbi10ZXh0IHBhcnRzIGluIHRoZSByZXNwb25zZSwgdGhlIGNvbmNhdGVuYXRpb24gb2YgYWxsIHRleHRcbiAgICogcGFydHMgd2lsbCBiZSByZXR1cm5lZCwgYW5kIGEgd2FybmluZyB3aWxsIGJlIGxvZ2dlZC5cbiAgICogSWYgdGhlcmUgYXJlIHRob3VnaHQgcGFydHMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhbGwgdGV4dFxuICAgKiBwYXJ0cyBleGNsdWRpbmcgdGhlIHRob3VnaHQgcGFydHMgd2lsbCBiZSByZXR1cm5lZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOlxuICAgKiAgICAgJ1doeSBpcyB0aGUgc2t5IGJsdWU/JyxcbiAgICogfSk7XG4gICAqXG4gICAqIGNvbnNvbGUuZGVidWcocmVzcG9uc2UudGV4dCk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0IHRleHQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbmRpZGF0ZXMgJiYgdGhpcy5jYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ3RoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIHRleHQgZnJvbSB0aGUgZmlyc3Qgb25lLicsXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgIGxldCBhbnlUZXh0UGFydFRleHQgPSBmYWxzZTtcbiAgICBjb25zdCBub25UZXh0UGFydHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzID8/IFtdKSB7XG4gICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGZpZWxkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnQpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaWVsZE5hbWUgIT09ICd0ZXh0JyAmJlxuICAgICAgICAgIGZpZWxkTmFtZSAhPT0gJ3Rob3VnaHQnICYmXG4gICAgICAgICAgKGZpZWxkVmFsdWUgIT09IG51bGwgfHwgZmllbGRWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICApIHtcbiAgICAgICAgICBub25UZXh0UGFydHMucHVzaChmaWVsZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LnRob3VnaHQgPT09ICdib29sZWFuJyAmJiBwYXJ0LnRob3VnaHQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhbnlUZXh0UGFydFRleHQgPSB0cnVlO1xuICAgICAgICB0ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vblRleHRQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGB0aGVyZSBhcmUgbm9uLXRleHQgcGFydHMgJHtub25UZXh0UGFydHN9IGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIGNvbmNhdGVuYXRpb24gb2YgYWxsIHRleHQgcGFydHMuIFBsZWFzZSByZWZlciB0byB0aGUgbm9uIHRleHQgcGFydHMgZm9yIGEgZnVsbCByZXNwb25zZSBmcm9tIG1vZGVsLmAsXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBwYXJ0LnRleHQgPT09ICcnIGlzIGRpZmZlcmVudCBmcm9tIHBhcnQudGV4dCBpcyBudWxsXG4gICAgcmV0dXJuIGFueVRleHRQYXJ0VGV4dCA/IHRleHQgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZnVuY3Rpb24gY2FsbHMgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIGluIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgZnVuY3Rpb24gY2FsbHMgZnJvbVxuICAgKiB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIElmIHRoZXJlIGFyZSBubyBmdW5jdGlvbiBjYWxscyBpbiB0aGUgcmVzcG9uc2UsIHVuZGVmaW5lZCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjb250cm9sTGlnaHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBGdW5jdGlvbkRlY2xhcmF0aW9uID0ge1xuICAgKiAgIG5hbWU6ICdjb250cm9sTGlnaHQnLFxuICAgKiAgIHBhcmFtZXRlcnM6IHtcbiAgICogICB0eXBlOiBUeXBlLk9CSkVDVCxcbiAgICogICBkZXNjcmlwdGlvbjogJ1NldCB0aGUgYnJpZ2h0bmVzcyBhbmQgY29sb3IgdGVtcGVyYXR1cmUgb2YgYSByb29tIGxpZ2h0LicsXG4gICAqICAgcHJvcGVydGllczoge1xuICAgKiAgICAgYnJpZ2h0bmVzczoge1xuICAgKiAgICAgICB0eXBlOiBUeXBlLk5VTUJFUixcbiAgICogICAgICAgZGVzY3JpcHRpb246XG4gICAqICAgICAgICAgJ0xpZ2h0IGxldmVsIGZyb20gMCB0byAxMDAuIFplcm8gaXMgb2ZmIGFuZCAxMDAgaXMgZnVsbCBicmlnaHRuZXNzLicsXG4gICAqICAgICB9LFxuICAgKiAgICAgY29sb3JUZW1wZXJhdHVyZToge1xuICAgKiAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcbiAgICogICAgICAgZGVzY3JpcHRpb246XG4gICAqICAgICAgICAgJ0NvbG9yIHRlbXBlcmF0dXJlIG9mIHRoZSBsaWdodCBmaXh0dXJlIHdoaWNoIGNhbiBiZSBgZGF5bGlnaHRgLCBgY29vbGAgb3IgYHdhcm1gLicsXG4gICAqICAgICB9LFxuICAgKiAgIH0sXG4gICAqICAgcmVxdWlyZWQ6IFsnYnJpZ2h0bmVzcycsICdjb2xvclRlbXBlcmF0dXJlJ10sXG4gICAqICB9O1xuICAgKiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgICBjb250ZW50czogJ0RpbSB0aGUgbGlnaHRzIHNvIHRoZSByb29tIGZlZWxzIGNvenkgYW5kIHdhcm0uJyxcbiAgICogICAgIGNvbmZpZzoge1xuICAgKiAgICAgICB0b29sczogW3tmdW5jdGlvbkRlY2xhcmF0aW9uczogW2NvbnRyb2xMaWdodEZ1bmN0aW9uRGVjbGFyYXRpb25dfV0sXG4gICAqICAgICAgIHRvb2xDb25maWc6IHtcbiAgICogICAgICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWc6IHtcbiAgICogICAgICAgICAgIG1vZGU6IEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ01vZGUuQU5ZLFxuICAgKiAgICAgICAgICAgYWxsb3dlZEZ1bmN0aW9uTmFtZXM6IFsnY29udHJvbExpZ2h0J10sXG4gICAqICAgICAgICAgfSxcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgfSk7XG4gICAqICBjb25zb2xlLmRlYnVnKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmZ1bmN0aW9uQ2FsbHMpKTtcbiAgICogYGBgXG4gICAqL1xuICBnZXQgZnVuY3Rpb25DYWxscygpOiBGdW5jdGlvbkNhbGxbXSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSBmaXJzdCBvbmUuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbHMgPSB0aGlzLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHNcbiAgICAgID8uZmlsdGVyKChwYXJ0KSA9PiBwYXJ0LmZ1bmN0aW9uQ2FsbClcbiAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuZnVuY3Rpb25DYWxsKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGZ1bmN0aW9uQ2FsbCk6IGZ1bmN0aW9uQ2FsbCBpcyBGdW5jdGlvbkNhbGwgPT5cbiAgICAgICAgICBmdW5jdGlvbkNhbGwgIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgaWYgKGZ1bmN0aW9uQ2FsbHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uQ2FsbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpcnN0IGV4ZWN1dGFibGUgY29kZSBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBleGVjdXRhYmxlIGNvZGUgZnJvbVxuICAgKiB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIElmIHRoZXJlIGFyZSBubyBleGVjdXRhYmxlIGNvZGUgaW4gdGhlIHJlc3BvbnNlLCB1bmRlZmluZWQgd2lsbCBiZVxuICAgKiByZXR1cm5lZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOlxuICAgKiAgICAgJ1doYXQgaXMgdGhlIHN1bSBvZiB0aGUgZmlyc3QgNTAgcHJpbWUgbnVtYmVycz8gR2VuZXJhdGUgYW5kIHJ1biBjb2RlIGZvciB0aGUgY2FsY3VsYXRpb24sIGFuZCBtYWtlIHN1cmUgeW91IGdldCBhbGwgNTAuJ1xuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgdG9vbHM6IFt7Y29kZUV4ZWN1dGlvbjoge319XSxcbiAgICogICB9LFxuICAgKiB9KTtcbiAgICpcbiAgICogY29uc29sZS5kZWJ1ZyhyZXNwb25zZS5leGVjdXRhYmxlQ29kZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0IGV4ZWN1dGFibGVDb2RlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBleGVjdXRhYmxlIGNvZGUgZnJvbSB0aGUgZmlyc3Qgb25lLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBleGVjdXRhYmxlQ29kZSA9IHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0c1xuICAgICAgPy5maWx0ZXIoKHBhcnQpID0+IHBhcnQuZXhlY3V0YWJsZUNvZGUpXG4gICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LmV4ZWN1dGFibGVDb2RlKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGV4ZWN1dGFibGVDb2RlKTogZXhlY3V0YWJsZUNvZGUgaXMgRXhlY3V0YWJsZUNvZGUgPT5cbiAgICAgICAgICBleGVjdXRhYmxlQ29kZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICBpZiAoZXhlY3V0YWJsZUNvZGU/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhlY3V0YWJsZUNvZGU/LlswXT8uY29kZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgY29kZSBleGVjdXRpb24gcmVzdWx0IGZyb20gdGhlIGZpcnN0IGNhbmRpZGF0ZSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgdGhlIGNvZGUgZXhlY3V0aW9uIHJlc3VsdCBmcm9tXG4gICAqIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogSWYgdGhlcmUgYXJlIG5vIGNvZGUgZXhlY3V0aW9uIHJlc3VsdCBpbiB0aGUgcmVzcG9uc2UsIHVuZGVmaW5lZCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6XG4gICAqICAgICAnV2hhdCBpcyB0aGUgc3VtIG9mIHRoZSBmaXJzdCA1MCBwcmltZSBudW1iZXJzPyBHZW5lcmF0ZSBhbmQgcnVuIGNvZGUgZm9yIHRoZSBjYWxjdWxhdGlvbiwgYW5kIG1ha2Ugc3VyZSB5b3UgZ2V0IGFsbCA1MC4nXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICB0b29sczogW3tjb2RlRXhlY3V0aW9uOiB7fX1dLFxuICAgKiAgIH0sXG4gICAqIH0pO1xuICAgKlxuICAgKiBjb25zb2xlLmRlYnVnKHJlc3BvbnNlLmNvZGVFeGVjdXRpb25SZXN1bHQpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldCBjb2RlRXhlY3V0aW9uUmVzdWx0KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBjb2RlIGV4ZWN1dGlvbiByZXN1bHQgZnJvbSB0aGUgZmlyc3Qgb25lLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb2RlRXhlY3V0aW9uUmVzdWx0ID0gdGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzXG4gICAgICA/LmZpbHRlcigocGFydCkgPT4gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KVxuICAgICAgLm1hcCgocGFydCkgPT4gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGNvZGVFeGVjdXRpb25SZXN1bHQpOiBjb2RlRXhlY3V0aW9uUmVzdWx0IGlzIENvZGVFeGVjdXRpb25SZXN1bHQgPT5cbiAgICAgICAgICBjb2RlRXhlY3V0aW9uUmVzdWx0ICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgIGlmIChjb2RlRXhlY3V0aW9uUmVzdWx0Py5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2RlRXhlY3V0aW9uUmVzdWx0Py5bMF0/Lm91dHB1dDtcbiAgfVxufVxuXG5leHBvcnQgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSBlbWJlZF9jb250ZW50IG1ldGhvZC4gKi9cbmRlY2xhcmUgaW50ZXJmYWNlIEVtYmVkQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogVHlwZSBvZiB0YXNrIGZvciB3aGljaCB0aGUgZW1iZWRkaW5nIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHRhc2tUeXBlPzogc3RyaW5nO1xuICAvKiogVGl0bGUgZm9yIHRoZSB0ZXh0LiBPbmx5IGFwcGxpY2FibGUgd2hlbiBUYXNrVHlwZSBpc1xuICAgICAgYFJFVFJJRVZBTF9ET0NVTUVOVGAuXG4gICAgICAgKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBSZWR1Y2VkIGRpbWVuc2lvbiBmb3IgdGhlIG91dHB1dCBlbWJlZGRpbmcuIElmIHNldCxcbiAgICAgIGV4Y2Vzc2l2ZSB2YWx1ZXMgaW4gdGhlIG91dHB1dCBlbWJlZGRpbmcgYXJlIHRydW5jYXRlZCBmcm9tIHRoZSBlbmQuXG4gICAgICBTdXBwb3J0ZWQgYnkgbmV3ZXIgbW9kZWxzIHNpbmNlIDIwMjQgb25seS4gWW91IGNhbm5vdCBzZXQgdGhpcyB2YWx1ZSBpZlxuICAgICAgdXNpbmcgdGhlIGVhcmxpZXIgbW9kZWwgKGBtb2RlbHMvZW1iZWRkaW5nLTAwMWApLlxuICAgICAgICovXG4gIG91dHB1dERpbWVuc2lvbmFsaXR5PzogbnVtYmVyO1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBpbnB1dC5cbiAgICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBXaGV0aGVyIHRvIHNpbGVudGx5IHRydW5jYXRlIGlucHV0cyBsb25nZXIgdGhhblxuICAgICAgdGhlIG1heCBzZXF1ZW5jZSBsZW5ndGguIElmIHRoaXMgb3B0aW9uIGlzIHNldCB0byBmYWxzZSwgb3ZlcnNpemVkIGlucHV0c1xuICAgICAgd2lsbCBsZWFkIHRvIGFuIElOVkFMSURfQVJHVU1FTlQgZXJyb3IsIHNpbWlsYXIgdG8gb3RoZXIgdGV4dCBBUElzLlxuICAgICAgICovXG4gIGF1dG9UcnVuY2F0ZT86IGJvb2xlYW47XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgZW1iZWRfY29udGVudCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIFRoZSBjb250ZW50IHRvIGVtYmVkLiBPbmx5IHRoZSBgcGFydHMudGV4dGAgZmllbGRzIHdpbGwgYmUgY291bnRlZC5cbiAgICovXG4gIGNvbnRlbnRzOiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IGNvbnRhaW5zIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjb25maWc/OiBFbWJlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBTdGF0aXN0aWNzIG9mIHRoZSBpbnB1dCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVzdWx0IG9mIGNvbnRlbnQgZW1iZWRkaW5nLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRlbnRFbWJlZGRpbmdTdGF0aXN0aWNzIHtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gSWYgdGhlIGlucHV0IHRleHQgd2FzIHRydW5jYXRlZCBkdWUgdG8gaGF2aW5nXG4gICAgICBhIGxlbmd0aCBsb25nZXIgdGhhbiB0aGUgYWxsb3dlZCBtYXhpbXVtIGlucHV0LlxuICAgICAgICovXG4gIHRydW5jYXRlZD86IGJvb2xlYW47XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIE51bWJlciBvZiB0b2tlbnMgb2YgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICB0b2tlbkNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogVGhlIGVtYmVkZGluZyBnZW5lcmF0ZWQgZnJvbSBhbiBpbnB1dCBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRlbnRFbWJlZGRpbmcge1xuICAvKiogQSBsaXN0IG9mIGZsb2F0cyByZXByZXNlbnRpbmcgYW4gZW1iZWRkaW5nLlxuICAgKi9cbiAgdmFsdWVzPzogbnVtYmVyW107XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIFN0YXRpc3RpY3Mgb2YgdGhlIGlucHV0IHRleHQgYXNzb2NpYXRlZCB3aXRoIHRoaXNcbiAgICAgIGVtYmVkZGluZy5cbiAgICAgICAqL1xuICBzdGF0aXN0aWNzPzogQ29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3M7XG59XG5cbi8qKiBSZXF1ZXN0LWxldmVsIG1ldGFkYXRhIGZvciB0aGUgVmVydGV4IEVtYmVkIENvbnRlbnQgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVtYmVkQ29udGVudE1ldGFkYXRhIHtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gVGhlIHRvdGFsIG51bWJlciBvZiBiaWxsYWJsZSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAqL1xuICBiaWxsYWJsZUNoYXJhY3RlckNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIHRoZSBlbWJlZF9jb250ZW50IG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZENvbnRlbnRSZXNwb25zZSB7XG4gIC8qKiBUaGUgZW1iZWRkaW5ncyBmb3IgZWFjaCByZXF1ZXN0LCBpbiB0aGUgc2FtZSBvcmRlciBhcyBwcm92aWRlZCBpblxuICAgICAgdGhlIGJhdGNoIHJlcXVlc3QuXG4gICAgICAgKi9cbiAgZW1iZWRkaW5ncz86IENvbnRlbnRFbWJlZGRpbmdbXTtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gTWV0YWRhdGEgYWJvdXQgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBtZXRhZGF0YT86IEVtYmVkQ29udGVudE1ldGFkYXRhO1xufVxuXG4vKiogVGhlIGNvbmZpZyBmb3IgZ2VuZXJhdGluZyBhbiBpbWFnZXMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVJbWFnZXNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIENsb3VkIFN0b3JhZ2UgVVJJIHVzZWQgdG8gc3RvcmUgdGhlIGdlbmVyYXRlZCBpbWFnZXMuXG4gICAqL1xuICBvdXRwdXRHY3NVcmk/OiBzdHJpbmc7XG4gIC8qKiBEZXNjcmlwdGlvbiBvZiB3aGF0IHRvIGRpc2NvdXJhZ2UgaW4gdGhlIGdlbmVyYXRlZCBpbWFnZXMuXG4gICAqL1xuICBuZWdhdGl2ZVByb21wdD86IHN0cmluZztcbiAgLyoqIE51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuXG4gICAqL1xuICBudW1iZXJPZkltYWdlcz86IG51bWJlcjtcbiAgLyoqIEFzcGVjdCByYXRpbyBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy5cbiAgICovXG4gIGFzcGVjdFJhdGlvPzogc3RyaW5nO1xuICAvKiogQ29udHJvbHMgaG93IG11Y2ggdGhlIG1vZGVsIGFkaGVyZXMgdG8gdGhlIHRleHQgcHJvbXB0LiBMYXJnZVxuICAgICAgdmFsdWVzIGluY3JlYXNlIG91dHB1dCBhbmQgcHJvbXB0IGFsaWdubWVudCwgYnV0IG1heSBjb21wcm9taXNlIGltYWdlXG4gICAgICBxdWFsaXR5LlxuICAgICAgICovXG4gIGd1aWRhbmNlU2NhbGU/OiBudW1iZXI7XG4gIC8qKiBSYW5kb20gc2VlZCBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gVGhpcyBpcyBub3QgYXZhaWxhYmxlIHdoZW5cbiAgICAgIGBgYWRkX3dhdGVybWFya2BgIGlzIHNldCB0byB0cnVlLlxuICAgICAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBGaWx0ZXIgbGV2ZWwgZm9yIHNhZmV0eSBmaWx0ZXJpbmcuXG4gICAqL1xuICBzYWZldHlGaWx0ZXJMZXZlbD86IFNhZmV0eUZpbHRlckxldmVsO1xuICAvKiogQWxsb3dzIGdlbmVyYXRpb24gb2YgcGVvcGxlIGJ5IHRoZSBtb2RlbC5cbiAgICovXG4gIHBlcnNvbkdlbmVyYXRpb24/OiBQZXJzb25HZW5lcmF0aW9uO1xuICAvKiogV2hldGhlciB0byByZXBvcnQgdGhlIHNhZmV0eSBzY29yZXMgb2YgZWFjaCBnZW5lcmF0ZWQgaW1hZ2UgYW5kXG4gICAgICB0aGUgcG9zaXRpdmUgcHJvbXB0IGluIHRoZSByZXNwb25zZS5cbiAgICAgICAqL1xuICBpbmNsdWRlU2FmZXR5QXR0cmlidXRlcz86IGJvb2xlYW47XG4gIC8qKiBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIFJlc3BvbnNpYmxlIEFJIGZpbHRlciByZWFzb24gaWYgdGhlIGltYWdlXG4gICAgICBpcyBmaWx0ZXJlZCBvdXQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAgICovXG4gIGluY2x1ZGVSYWlSZWFzb24/OiBib29sZWFuO1xuICAvKiogTGFuZ3VhZ2Ugb2YgdGhlIHRleHQgaW4gdGhlIHByb21wdC5cbiAgICovXG4gIGxhbmd1YWdlPzogSW1hZ2VQcm9tcHRMYW5ndWFnZTtcbiAgLyoqIE1JTUUgdHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlLlxuICAgKi9cbiAgb3V0cHV0TWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb21wcmVzc2lvbiBxdWFsaXR5IG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UgKGZvciBgYGltYWdlL2pwZWdgYFxuICAgICAgb25seSkuXG4gICAgICAgKi9cbiAgb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5PzogbnVtYmVyO1xuICAvKiogV2hldGhlciB0byBhZGQgYSB3YXRlcm1hcmsgdG8gdGhlIGdlbmVyYXRlZCBpbWFnZXMuXG4gICAqL1xuICBhZGRXYXRlcm1hcms/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byB1c2UgdGhlIHByb21wdCByZXdyaXRpbmcgbG9naWMuXG4gICAqL1xuICBlbmhhbmNlUHJvbXB0PzogYm9vbGVhbjtcbn1cblxuLyoqIFRoZSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIGltYWdlcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBUZXh0IHByb21wdCB0aGF0IHR5cGljYWxseSBkZXNjcmliZXMgdGhlIGltYWdlcyB0byBvdXRwdXQuXG4gICAqL1xuICBwcm9tcHQ6IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIGdlbmVyYXRpbmcgaW1hZ2VzLlxuICAgKi9cbiAgY29uZmlnPzogR2VuZXJhdGVJbWFnZXNDb25maWc7XG59XG5cbi8qKiBBbiBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBJbWFnZSB7XG4gIC8qKiBUaGUgQ2xvdWQgU3RvcmFnZSBVUkkgb2YgdGhlIGltYWdlLiBgYEltYWdlYGAgY2FuIGNvbnRhaW4gYSB2YWx1ZVxuICAgICAgZm9yIHRoaXMgZmllbGQgb3IgdGhlIGBgaW1hZ2VfYnl0ZXNgYCBmaWVsZCBidXQgbm90IGJvdGguXG4gICAgICAgKi9cbiAgZ2NzVXJpPzogc3RyaW5nO1xuICAvKiogVGhlIGltYWdlIGJ5dGVzIGRhdGEuIGBgSW1hZ2VgYCBjYW4gY29udGFpbiBhIHZhbHVlIGZvciB0aGlzIGZpZWxkXG4gICAgICBvciB0aGUgYGBnY3NfdXJpYGAgZmllbGQgYnV0IG5vdCBib3RoLlxuICAgICAgICovXG4gIGltYWdlQnl0ZXM/OiBzdHJpbmc7XG4gIC8qKiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBpbWFnZS4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG59XG5cbi8qKiBTYWZldHkgYXR0cmlidXRlcyBvZiBhIEdlbmVyYXRlZEltYWdlIG9yIHRoZSB1c2VyLXByb3ZpZGVkIHByb21wdC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTYWZldHlBdHRyaWJ1dGVzIHtcbiAgLyoqIExpc3Qgb2YgUkFJIGNhdGVnb3JpZXMuXG4gICAqL1xuICBjYXRlZ29yaWVzPzogc3RyaW5nW107XG4gIC8qKiBMaXN0IG9mIHNjb3JlcyBvZiBlYWNoIGNhdGVnb3JpZXMuXG4gICAqL1xuICBzY29yZXM/OiBudW1iZXJbXTtcbiAgLyoqIEludGVybmFsIHVzZSBvbmx5LlxuICAgKi9cbiAgY29udGVudFR5cGU/OiBzdHJpbmc7XG59XG5cbi8qKiBBbiBvdXRwdXQgaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVkSW1hZ2Uge1xuICAvKiogVGhlIG91dHB1dCBpbWFnZSBkYXRhLlxuICAgKi9cbiAgaW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFJlc3BvbnNpYmxlIEFJIGZpbHRlciByZWFzb24gaWYgdGhlIGltYWdlIGlzIGZpbHRlcmVkIG91dCBvZiB0aGVcbiAgICAgIHJlc3BvbnNlLlxuICAgICAgICovXG4gIHJhaUZpbHRlcmVkUmVhc29uPzogc3RyaW5nO1xuICAvKiogU2FmZXR5IGF0dHJpYnV0ZXMgb2YgdGhlIGltYWdlLiBMaXN0cyBvZiBSQUkgY2F0ZWdvcmllcyBhbmQgdGhlaXJcbiAgICAgIHNjb3JlcyBvZiBlYWNoIGNvbnRlbnQuXG4gICAgICAgKi9cbiAgc2FmZXR5QXR0cmlidXRlcz86IFNhZmV0eUF0dHJpYnV0ZXM7XG4gIC8qKiBUaGUgcmV3cml0dGVuIHByb21wdCB1c2VkIGZvciB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBpZiB0aGUgcHJvbXB0XG4gICAgICBlbmhhbmNlciBpcyBlbmFibGVkLlxuICAgICAgICovXG4gIGVuaGFuY2VkUHJvbXB0Pzogc3RyaW5nO1xufVxuXG4vKiogVGhlIG91dHB1dCBpbWFnZXMgcmVzcG9uc2UuICovXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVJbWFnZXNSZXNwb25zZSB7XG4gIC8qKiBMaXN0IG9mIGdlbmVyYXRlZCBpbWFnZXMuXG4gICAqL1xuICBnZW5lcmF0ZWRJbWFnZXM/OiBHZW5lcmF0ZWRJbWFnZVtdO1xuICAvKiogU2FmZXR5IGF0dHJpYnV0ZXMgb2YgdGhlIHBvc2l0aXZlIHByb21wdC4gT25seSBwb3B1bGF0ZWQgaWZcbiAgICAgIGBgaW5jbHVkZV9zYWZldHlfYXR0cmlidXRlc2BgIGlzIHNldCB0byBUcnVlLlxuICAgICAgICovXG4gIHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcz86IFNhZmV0eUF0dHJpYnV0ZXM7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBtb2RlbHMuZ2V0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRNb2RlbENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0TW9kZWxQYXJhbWV0ZXJzIHtcbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBHZXRNb2RlbENvbmZpZztcbn1cblxuLyoqIEFuIGVuZHBvaW50IHdoZXJlIHlvdSBkZXBsb3kgbW9kZWxzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVuZHBvaW50IHtcbiAgLyoqIFJlc291cmNlIG5hbWUgb2YgdGhlIGVuZHBvaW50LiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRoYXQncyBkZXBsb3llZCB0byB0aGUgZW5kcG9pbnQuICovXG4gIGRlcGxveWVkTW9kZWxJZD86IHN0cmluZztcbn1cblxuLyoqIEEgdHVuZWQgbWFjaGluZSBsZWFybmluZyBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5lZE1vZGVsSW5mbyB7XG4gIC8qKiBJRCBvZiB0aGUgYmFzZSBtb2RlbCB0aGF0IHlvdSB3YW50IHRvIHR1bmUuICovXG4gIGJhc2VNb2RlbD86IHN0cmluZztcbiAgLyoqIERhdGUgYW5kIHRpbWUgd2hlbiB0aGUgYmFzZSBtb2RlbCB3YXMgY3JlYXRlZC4gKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIERhdGUgYW5kIHRpbWUgd2hlbiB0aGUgYmFzZSBtb2RlbCB3YXMgbGFzdCB1cGRhdGVkLiAqL1xuICB1cGRhdGVUaW1lPzogc3RyaW5nO1xufVxuXG4vKiogQSB0cmFpbmVkIG1hY2hpbmUgbGVhcm5pbmcgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTW9kZWwge1xuICAvKiogUmVzb3VyY2UgbmFtZSBvZiB0aGUgbW9kZWwuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBEaXNwbGF5IG5hbWUgb2YgdGhlIG1vZGVsLiAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIERlc2NyaXB0aW9uIG9mIHRoZSBtb2RlbC4gKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKiBWZXJzaW9uIElEIG9mIHRoZSBtb2RlbC4gQSBuZXcgdmVyc2lvbiBpcyBjb21taXR0ZWQgd2hlbiBhIG5ld1xuICAgICAgbW9kZWwgdmVyc2lvbiBpcyB1cGxvYWRlZCBvciB0cmFpbmVkIHVuZGVyIGFuIGV4aXN0aW5nIG1vZGVsIElELiBUaGVcbiAgICAgIHZlcnNpb24gSUQgaXMgYW4gYXV0by1pbmNyZW1lbnRpbmcgZGVjaW1hbCBudW1iZXIgaW4gc3RyaW5nXG4gICAgICByZXByZXNlbnRhdGlvbi4gKi9cbiAgdmVyc2lvbj86IHN0cmluZztcbiAgLyoqIExpc3Qgb2YgZGVwbG95ZWQgbW9kZWxzIGNyZWF0ZWQgZnJvbSB0aGlzIGJhc2UgbW9kZWwuIE5vdGUgdGhhdCBhXG4gICAgICBtb2RlbCBjb3VsZCBoYXZlIGJlZW4gZGVwbG95ZWQgdG8gZW5kcG9pbnRzIGluIGRpZmZlcmVudCBsb2NhdGlvbnMuICovXG4gIGVuZHBvaW50cz86IEVuZHBvaW50W107XG4gIC8qKiBMYWJlbHMgd2l0aCB1c2VyLWRlZmluZWQgbWV0YWRhdGEgdG8gb3JnYW5pemUgeW91ciBtb2RlbHMuICovXG4gIGxhYmVscz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIC8qKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgdHVuZWQgbW9kZWwgZnJvbSB0aGUgYmFzZSBtb2RlbC4gKi9cbiAgdHVuZWRNb2RlbEluZm8/OiBUdW5lZE1vZGVsSW5mbztcbiAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpbnB1dCB0b2tlbnMgdGhhdCB0aGUgbW9kZWwgY2FuIGhhbmRsZS4gKi9cbiAgaW5wdXRUb2tlbkxpbWl0PzogbnVtYmVyO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdGhhdCB0aGUgbW9kZWwgY2FuIGdlbmVyYXRlLiAqL1xuICBvdXRwdXRUb2tlbkxpbWl0PzogbnVtYmVyO1xuICAvKiogTGlzdCBvZiBhY3Rpb25zIHRoYXQgYXJlIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwuICovXG4gIHN1cHBvcnRlZEFjdGlvbnM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIEdlbmVyYXRpb24gY29uZmlnLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWcge1xuICAvKiogT3B0aW9uYWwuIElmIGVuYWJsZWQsIGF1ZGlvIHRpbWVzdGFtcCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSByZXF1ZXN0IHRvIHRoZSBtb2RlbC4gKi9cbiAgYXVkaW9UaW1lc3RhbXA/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiBjYW5kaWRhdGVzIHRvIGdlbmVyYXRlLiAqL1xuICBjYW5kaWRhdGVDb3VudD86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBGcmVxdWVuY3kgcGVuYWx0aWVzLiAqL1xuICBmcmVxdWVuY3lQZW5hbHR5PzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIExvZ2l0IHByb2JhYmlsaXRpZXMuICovXG4gIGxvZ3Byb2JzPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIFRoZSBtYXhpbXVtIG51bWJlciBvZiBvdXRwdXQgdG9rZW5zIHRvIGdlbmVyYXRlIHBlciBtZXNzYWdlLiAqL1xuICBtYXhPdXRwdXRUb2tlbnM/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGUgbWVkaWEgcmVzb2x1dGlvbiBzcGVjaWZpZWQgd2lsbCBiZSB1c2VkLiAqL1xuICBtZWRpYVJlc29sdXRpb24/OiBNZWRpYVJlc29sdXRpb247XG4gIC8qKiBPcHRpb25hbC4gUG9zaXRpdmUgcGVuYWx0aWVzLiAqL1xuICBwcmVzZW5jZVBlbmFsdHk/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gSWYgdHJ1ZSwgZXhwb3J0IHRoZSBsb2dwcm9icyByZXN1bHRzIGluIHJlc3BvbnNlLiAqL1xuICByZXNwb25zZUxvZ3Byb2JzPzogYm9vbGVhbjtcbiAgLyoqIE9wdGlvbmFsLiBPdXRwdXQgcmVzcG9uc2UgbWltZXR5cGUgb2YgdGhlIGdlbmVyYXRlZCBjYW5kaWRhdGUgdGV4dC4gU3VwcG9ydGVkIG1pbWV0eXBlOiAtIGB0ZXh0L3BsYWluYDogKGRlZmF1bHQpIFRleHQgb3V0cHV0LiAtIGBhcHBsaWNhdGlvbi9qc29uYDogSlNPTiByZXNwb25zZSBpbiB0aGUgY2FuZGlkYXRlcy4gVGhlIG1vZGVsIG5lZWRzIHRvIGJlIHByb21wdGVkIHRvIG91dHB1dCB0aGUgYXBwcm9wcmlhdGUgcmVzcG9uc2UgdHlwZSwgb3RoZXJ3aXNlIHRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQuIFRoaXMgaXMgYSBwcmV2aWV3IGZlYXR1cmUuICovXG4gIHJlc3BvbnNlTWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVGhlIGBTY2hlbWFgIG9iamVjdCBhbGxvd3MgdGhlIGRlZmluaXRpb24gb2YgaW5wdXQgYW5kIG91dHB1dCBkYXRhIHR5cGVzLiBUaGVzZSB0eXBlcyBjYW4gYmUgb2JqZWN0cywgYnV0IGFsc28gcHJpbWl0aXZlcyBhbmQgYXJyYXlzLiBSZXByZXNlbnRzIGEgc2VsZWN0IHN1YnNldCBvZiBhbiBbT3BlbkFQSSAzLjAgc2NoZW1hIG9iamVjdF0oaHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4zI3NjaGVtYSkuIElmIHNldCwgYSBjb21wYXRpYmxlIHJlc3BvbnNlX21pbWVfdHlwZSBtdXN0IGFsc28gYmUgc2V0LiBDb21wYXRpYmxlIG1pbWV0eXBlczogYGFwcGxpY2F0aW9uL2pzb25gOiBTY2hlbWEgZm9yIEpTT04gcmVzcG9uc2UuICovXG4gIHJlc3BvbnNlU2NoZW1hPzogU2NoZW1hO1xuICAvKiogT3B0aW9uYWwuIFJvdXRpbmcgY29uZmlndXJhdGlvbi4gKi9cbiAgcm91dGluZ0NvbmZpZz86IEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnO1xuICAvKiogT3B0aW9uYWwuIFNlZWQuICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gU3RvcCBzZXF1ZW5jZXMuICovXG4gIHN0b3BTZXF1ZW5jZXM/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBDb250cm9scyB0aGUgcmFuZG9tbmVzcyBvZiBwcmVkaWN0aW9ucy4gKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0b3AtayBzYW1wbGluZyB3aWxsIGJlIHVzZWQuICovXG4gIHRvcEs/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCBudWNsZXVzIHNhbXBsaW5nIHdpbGwgYmUgdXNlZC4gKi9cbiAgdG9wUD86IG51bWJlcjtcbn1cblxuLyoqIENvbmZpZyBmb3IgdGhlIGNvdW50X3Rva2VucyBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ291bnRUb2tlbnNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsIHRvIHN0ZWVyIGl0IHRvd2FyZCBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnRVbmlvbjtcbiAgLyoqIENvZGUgdGhhdCBlbmFibGVzIHRoZSBzeXN0ZW0gdG8gaW50ZXJhY3Qgd2l0aCBleHRlcm5hbCBzeXN0ZW1zIHRvXG4gICAgICBwZXJmb3JtIGFuIGFjdGlvbiBvdXRzaWRlIG9mIHRoZSBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICB0b29scz86IFRvb2xbXTtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgdXNlcyB0byBnZW5lcmF0ZSB0aGUgcmVzcG9uc2UuIE5vdFxuICAgICAgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS5cbiAgICAgICAqL1xuICBnZW5lcmF0aW9uQ29uZmlnPzogR2VuZXJhdGlvbkNvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNvdW50aW5nIHRva2Vucy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb3VudFRva2Vuc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBJbnB1dCBjb250ZW50LiAqL1xuICBjb250ZW50czogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIGNvdW50aW5nIHRva2Vucy4gKi9cbiAgY29uZmlnPzogQ291bnRUb2tlbnNDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgY291bnRpbmcgdG9rZW5zLiAqL1xuZXhwb3J0IGNsYXNzIENvdW50VG9rZW5zUmVzcG9uc2Uge1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHRva2Vucy4gKi9cbiAgdG90YWxUb2tlbnM/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBvZiB0aGUgcHJvbXB0ICh0aGUgY2FjaGVkIGNvbnRlbnQpLiAqL1xuICBjYWNoZWRDb250ZW50VG9rZW5Db3VudD86IG51bWJlcjtcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNvbXB1dGluZyB0b2tlbnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29tcHV0ZVRva2Vuc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgY29tcHV0aW5nIHRva2Vucy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb21wdXRlVG9rZW5zUGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIElucHV0IGNvbnRlbnQuICovXG4gIGNvbnRlbnRzOiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjb25maWc/OiBDb21wdXRlVG9rZW5zQ29uZmlnO1xufVxuXG4vKiogVG9rZW5zIGluZm8gd2l0aCBhIGxpc3Qgb2YgdG9rZW5zIGFuZCB0aGUgY29ycmVzcG9uZGluZyBsaXN0IG9mIHRva2VuIGlkcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUb2tlbnNJbmZvIHtcbiAgLyoqIE9wdGlvbmFsLiBPcHRpb25hbCBmaWVsZHMgZm9yIHRoZSByb2xlIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgQ29udGVudC4gKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqIEEgbGlzdCBvZiB0b2tlbiBpZHMgZnJvbSB0aGUgaW5wdXQuICovXG4gIHRva2VuSWRzPzogc3RyaW5nW107XG4gIC8qKiBBIGxpc3Qgb2YgdG9rZW5zIGZyb20gdGhlIGlucHV0LiAqL1xuICB0b2tlbnM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIFJlc3BvbnNlIGZvciBjb21wdXRpbmcgdG9rZW5zLiAqL1xuZXhwb3J0IGNsYXNzIENvbXB1dGVUb2tlbnNSZXNwb25zZSB7XG4gIC8qKiBMaXN0cyBvZiB0b2tlbnMgaW5mbyBmcm9tIHRoZSBpbnB1dC4gQSBDb21wdXRlVG9rZW5zUmVxdWVzdCBjb3VsZCBoYXZlIG11bHRpcGxlIGluc3RhbmNlcyB3aXRoIGEgcHJvbXB0IGluIGVhY2ggaW5zdGFuY2UuIFdlIGFsc28gbmVlZCB0byByZXR1cm4gbGlzdHMgb2YgdG9rZW5zIGluZm8gZm9yIHRoZSByZXF1ZXN0IHdpdGggbXVsdGlwbGUgaW5zdGFuY2VzLiAqL1xuICB0b2tlbnNJbmZvPzogVG9rZW5zSW5mb1tdO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgZ2VuZXJhdGluZyB2aWRlb3MuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVWaWRlb3NDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIE51bWJlciBvZiBvdXRwdXQgdmlkZW9zLiAqL1xuICBudW1iZXJPZlZpZGVvcz86IG51bWJlcjtcbiAgLyoqIFRoZSBnY3MgYnVja2V0IHdoZXJlIHRvIHNhdmUgdGhlIGdlbmVyYXRlZCB2aWRlb3MuICovXG4gIG91dHB1dEdjc1VyaT86IHN0cmluZztcbiAgLyoqIEZyYW1lcyBwZXIgc2Vjb25kIGZvciB2aWRlbyBnZW5lcmF0aW9uLiAqL1xuICBmcHM/OiBudW1iZXI7XG4gIC8qKiBEdXJhdGlvbiBvZiB0aGUgY2xpcCBmb3IgdmlkZW8gZ2VuZXJhdGlvbiBpbiBzZWNvbmRzLiAqL1xuICBkdXJhdGlvblNlY29uZHM/OiBudW1iZXI7XG4gIC8qKiBUaGUgUk5HIHNlZWQuIElmIFJORyBzZWVkIGlzIGV4YWN0bHkgc2FtZSBmb3IgZWFjaCByZXF1ZXN0IHdpdGggdW5jaGFuZ2VkIGlucHV0cywgdGhlIHByZWRpY3Rpb24gcmVzdWx0cyB3aWxsIGJlIGNvbnNpc3RlbnQuIE90aGVyd2lzZSwgYSByYW5kb20gUk5HIHNlZWQgd2lsbCBiZSB1c2VkIGVhY2ggdGltZSB0byBwcm9kdWNlIGEgZGlmZmVyZW50IHJlc3VsdC4gKi9cbiAgc2VlZD86IG51bWJlcjtcbiAgLyoqIFRoZSBhc3BlY3QgcmF0aW8gZm9yIHRoZSBnZW5lcmF0ZWQgdmlkZW8uIDE2OjkgKGxhbmRzY2FwZSkgYW5kIDk6MTYgKHBvcnRyYWl0KSBhcmUgc3VwcG9ydGVkLiAqL1xuICBhc3BlY3RSYXRpbz86IHN0cmluZztcbiAgLyoqIFRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2VuZXJhdGVkIHZpZGVvLiAxMjgweDcyMCwgMTkyMHgxMDgwIGFyZSBzdXBwb3J0ZWQuICovXG4gIHJlc29sdXRpb24/OiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIGFsbG93IHRvIGdlbmVyYXRlIHBlcnNvbiB2aWRlb3MsIGFuZCByZXN0cmljdCB0byBzcGVjaWZpYyBhZ2VzLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZTogZG9udF9hbGxvdywgYWxsb3dfYWR1bHQuICovXG4gIHBlcnNvbkdlbmVyYXRpb24/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcHVic3ViIHRvcGljIHdoZXJlIHRvIHB1Ymxpc2ggdGhlIHZpZGVvIGdlbmVyYXRpb24gcHJvZ3Jlc3MuICovXG4gIHB1YnN1YlRvcGljPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgZmllbGQgaW4gYWRkaXRpb24gdG8gdGhlIHRleHQgY29udGVudC4gTmVnYXRpdmUgcHJvbXB0cyBjYW4gYmUgZXhwbGljaXRseSBzdGF0ZWQgaGVyZSB0byBoZWxwIGdlbmVyYXRlIHRoZSB2aWRlby4gKi9cbiAgbmVnYXRpdmVQcm9tcHQ/OiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIHRvIHVzZSB0aGUgcHJvbXB0IHJld3JpdGluZyBsb2dpYy4gKi9cbiAgZW5oYW5jZVByb21wdD86IGJvb2xlYW47XG59XG5cbi8qKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIHBhcmFtZXRlcnMgZm9yIGdlbmVyYXRpbmcgYW4gaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbGVhcm4vbW9kZWxzPmBfLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogVGhlIHRleHQgcHJvbXB0IGZvciBnZW5lcmF0aW5nIHRoZSB2aWRlb3MuIE9wdGlvbmFsIGZvciBpbWFnZSB0byB2aWRlbyB1c2UgY2FzZXMuICovXG4gIHByb21wdD86IHN0cmluZztcbiAgLyoqIFRoZSBpbnB1dCBpbWFnZSBmb3IgZ2VuZXJhdGluZyB0aGUgdmlkZW9zLlxuICAgICAgT3B0aW9uYWwgaWYgcHJvbXB0IGlzIHByb3ZpZGVkLiAqL1xuICBpbWFnZT86IEltYWdlO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgZ2VuZXJhdGluZyB2aWRlb3MuICovXG4gIGNvbmZpZz86IEdlbmVyYXRlVmlkZW9zQ29uZmlnO1xufVxuXG4vKiogQSBnZW5lcmF0ZWQgdmlkZW8uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVmlkZW8ge1xuICAvKiogUGF0aCB0byBhbm90aGVyIHN0b3JhZ2UuICovXG4gIHVyaT86IHN0cmluZztcbiAgLyoqIFZpZGVvIGJ5dGVzLiAqL1xuICB2aWRlb0J5dGVzPzogc3RyaW5nO1xuICAvKiogVmlkZW8gZW5jb2RpbmcsIGZvciBleGFtcGxlIFwidmlkZW8vbXA0XCIuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xufVxuXG4vKiogQSBnZW5lcmF0ZWQgdmlkZW8uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVkVmlkZW8ge1xuICAvKiogVGhlIG91dHB1dCB2aWRlbyAqL1xuICB2aWRlbz86IFZpZGVvO1xufVxuXG4vKiogUmVzcG9uc2Ugd2l0aCBnZW5lcmF0ZWQgdmlkZW9zLiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlVmlkZW9zUmVzcG9uc2Uge1xuICAvKiogTGlzdCBvZiB0aGUgZ2VuZXJhdGVkIHZpZGVvcyAqL1xuICBnZW5lcmF0ZWRWaWRlb3M/OiBHZW5lcmF0ZWRWaWRlb1tdO1xuICAvKiogUmV0dXJucyBpZiBhbnkgdmlkZW9zIHdlcmUgZmlsdGVyZWQgZHVlIHRvIFJBSSBwb2xpY2llcy4gKi9cbiAgcmFpTWVkaWFGaWx0ZXJlZENvdW50PzogbnVtYmVyO1xuICAvKiogUmV0dXJucyByYWkgZmFpbHVyZSByZWFzb25zIGlmIGFueS4gKi9cbiAgcmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIEEgdmlkZW8gZ2VuZXJhdGlvbiBvcGVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24ge1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lLCB3aGljaCBpcyBvbmx5IHVuaXF1ZSB3aXRoaW4gdGhlIHNhbWUgc2VydmljZSB0aGF0IG9yaWdpbmFsbHkgcmV0dXJucyBpdC4gSWYgeW91IHVzZSB0aGUgZGVmYXVsdCBIVFRQIG1hcHBpbmcsIHRoZSBgbmFtZWAgc2hvdWxkIGJlIGEgcmVzb3VyY2UgbmFtZSBlbmRpbmcgd2l0aCBgb3BlcmF0aW9ucy97dW5pcXVlX2lkfWAuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBTZXJ2aWNlLXNwZWNpZmljIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3BlcmF0aW9uLiBJdCB0eXBpY2FsbHkgY29udGFpbnMgcHJvZ3Jlc3MgaW5mb3JtYXRpb24gYW5kIGNvbW1vbiBtZXRhZGF0YSBzdWNoIGFzIGNyZWF0ZSB0aW1lLiBTb21lIHNlcnZpY2VzIG1pZ2h0IG5vdCBwcm92aWRlIHN1Y2ggbWV0YWRhdGEuICBBbnkgbWV0aG9kIHRoYXQgcmV0dXJucyBhIGxvbmctcnVubmluZyBvcGVyYXRpb24gc2hvdWxkIGRvY3VtZW50IHRoZSBtZXRhZGF0YSB0eXBlLCBpZiBhbnkuICovXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgaXQgbWVhbnMgdGhlIG9wZXJhdGlvbiBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gSWYgYHRydWVgLCB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZCwgYW5kIGVpdGhlciBgZXJyb3JgIG9yIGByZXNwb25zZWAgaXMgYXZhaWxhYmxlLiAqL1xuICBkb25lPzogYm9vbGVhbjtcbiAgLyoqIFRoZSBlcnJvciByZXN1bHQgb2YgdGhlIG9wZXJhdGlvbiBpbiBjYXNlIG9mIGZhaWx1cmUgb3IgY2FuY2VsbGF0aW9uLiAqL1xuICBlcnJvcj86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogVGhlIGdlbmVyYXRlZCB2aWRlb3MuICovXG4gIHJlc3BvbnNlPzogR2VuZXJhdGVWaWRlb3NSZXNwb25zZTtcbn1cblxuLyoqIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIGNhY2hlZCBjb250ZW50IGNyZWF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUNhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIFRoZSBUVEwgZm9yIHRoaXMgcmVzb3VyY2UuIFRoZSBleHBpcmF0aW9uIHRpbWUgaXMgY29tcHV0ZWQ6IG5vdyArIFRUTC4gSXQgaXMgYSBkdXJhdGlvbiBzdHJpbmcsIHdpdGggdXAgdG8gbmluZSBmcmFjdGlvbmFsIGRpZ2l0cywgdGVybWluYXRlZCBieSAncycuIEV4YW1wbGU6IFwiMy41c1wiLiAqL1xuICB0dGw/OiBzdHJpbmc7XG4gIC8qKiBUaW1lc3RhbXAgb2Ygd2hlbiB0aGlzIHJlc291cmNlIGlzIGNvbnNpZGVyZWQgZXhwaXJlZC4gVXNlcyBSRkMgMzMzOSBmb3JtYXQsIEV4YW1wbGU6IDIwMTQtMTAtMDJUMTU6MDE6MjNaLiAqL1xuICBleHBpcmVUaW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHVzZXItZ2VuZXJhdGVkIG1lYW5pbmdmdWwgZGlzcGxheSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIGNvbnRlbnQgdG8gY2FjaGUuXG4gICAqL1xuICBjb250ZW50cz86IENvbnRlbnRMaXN0VW5pb247XG4gIC8qKiBEZXZlbG9wZXIgc2V0IHN5c3RlbSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIHN5c3RlbUluc3RydWN0aW9uPzogQ29udGVudFVuaW9uO1xuICAvKiogQSBsaXN0IG9mIGBUb29sc2AgdGhlIG1vZGVsIG1heSB1c2UgdG8gZ2VuZXJhdGUgdGhlIG5leHQgcmVzcG9uc2UuXG4gICAqL1xuICB0b29scz86IFRvb2xbXTtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSB0b29scyB0byB1c2UuIFRoaXMgY29uZmlnIGlzIHNoYXJlZCBmb3IgYWxsIHRvb2xzLlxuICAgKi9cbiAgdG9vbENvbmZpZz86IFRvb2xDb25maWc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMuY3JlYXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBFeGFtcGxlOiBnZW1pbmktMS41LWZsYXNoICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IENyZWF0ZUNhY2hlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBNZXRhZGF0YSBvbiB0aGUgdXNhZ2Ugb2YgdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhY2hlZENvbnRlbnRVc2FnZU1ldGFkYXRhIHtcbiAgLyoqIER1cmF0aW9uIG9mIGF1ZGlvIGluIHNlY29uZHMuICovXG4gIGF1ZGlvRHVyYXRpb25TZWNvbmRzPzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIGltYWdlcy4gKi9cbiAgaW1hZ2VDb3VudD86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0ZXh0IGNoYXJhY3RlcnMuICovXG4gIHRleHRDb3VudD86IG51bWJlcjtcbiAgLyoqIFRvdGFsIG51bWJlciBvZiB0b2tlbnMgdGhhdCB0aGUgY2FjaGVkIGNvbnRlbnQgY29uc3VtZXMuICovXG4gIHRvdGFsVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIER1cmF0aW9uIG9mIHZpZGVvIGluIHNlY29uZHMuICovXG4gIHZpZGVvRHVyYXRpb25TZWNvbmRzPzogbnVtYmVyO1xufVxuXG4vKiogQSByZXNvdXJjZSB1c2VkIGluIExMTSBxdWVyaWVzIGZvciB1c2VycyB0byBleHBsaWNpdGx5IHNwZWNpZnkgd2hhdCB0byBjYWNoZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYWNoZWRDb250ZW50IHtcbiAgLyoqIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHVzZXItZ2VuZXJhdGVkIG1lYW5pbmdmdWwgZGlzcGxheSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgcHVibGlzaGVyIG1vZGVsIHRvIHVzZSBmb3IgY2FjaGVkIGNvbnRlbnQuICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogQ3JlYXRpb24gdGltZSBvZiB0aGUgY2FjaGUgZW50cnkuICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBXaGVuIHRoZSBjYWNoZSBlbnRyeSB3YXMgbGFzdCB1cGRhdGVkIGluIFVUQyB0aW1lLiAqL1xuICB1cGRhdGVUaW1lPzogc3RyaW5nO1xuICAvKiogRXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgZXhwaXJlVGltZT86IHN0cmluZztcbiAgLyoqIE1ldGFkYXRhIG9uIHRoZSB1c2FnZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIHVzYWdlTWV0YWRhdGE/OiBDYWNoZWRDb250ZW50VXNhZ2VNZXRhZGF0YTtcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNhY2hlcy5nZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldENhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNhY2hlcy5nZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjb25maWc/OiBHZXRDYWNoZWRDb250ZW50Q29uZmlnO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgY2FjaGVzLmRlbGV0ZSBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlQ2FjaGVkQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgY2FjaGVzLmRlbGV0ZSBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbmZpZz86IERlbGV0ZUNhY2hlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBFbXB0eSByZXNwb25zZSBmb3IgY2FjaGVzLmRlbGV0ZSBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlIHt9XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBjYWNoZXMudXBkYXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVcGRhdGVDYWNoZWRDb250ZW50Q29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBUaGUgVFRMIGZvciB0aGlzIHJlc291cmNlLiBUaGUgZXhwaXJhdGlvbiB0aW1lIGlzIGNvbXB1dGVkOiBub3cgKyBUVEwuIEl0IGlzIGEgZHVyYXRpb24gc3RyaW5nLCB3aXRoIHVwIHRvIG5pbmUgZnJhY3Rpb25hbCBkaWdpdHMsIHRlcm1pbmF0ZWQgYnkgJ3MnLiBFeGFtcGxlOiBcIjMuNXNcIi4gKi9cbiAgdHRsPzogc3RyaW5nO1xuICAvKiogVGltZXN0YW1wIG9mIHdoZW4gdGhpcyByZXNvdXJjZSBpcyBjb25zaWRlcmVkIGV4cGlyZWQuIFVzZXMgUkZDIDMzMzkgZm9ybWF0LCBFeGFtcGxlOiAyMDE0LTEwLTAyVDE1OjAxOjIzWi4gKi9cbiAgZXhwaXJlVGltZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IGNvbnRhaW5zIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjb25maWc/OiBVcGRhdGVDYWNoZWRDb250ZW50Q29uZmlnO1xufVxuXG4vKiogQ29uZmlnIGZvciBjYWNoZXMubGlzdCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdENhY2hlZENvbnRlbnRzQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMubGlzdCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVycyB7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IExpc3RDYWNoZWRDb250ZW50c0NvbmZpZztcbn1cblxuZXhwb3J0IGNsYXNzIExpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlIHtcbiAgbmV4dFBhZ2VUb2tlbj86IHN0cmluZztcbiAgLyoqIExpc3Qgb2YgY2FjaGVkIGNvbnRlbnRzLlxuICAgKi9cbiAgY2FjaGVkQ29udGVudHM/OiBDYWNoZWRDb250ZW50W107XG59XG5cbi8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdEZpbGVzQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0RmlsZXNQYXJhbWV0ZXJzIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogTGlzdEZpbGVzQ29uZmlnO1xufVxuXG4vKiogU3RhdHVzIG9mIGEgRmlsZSB0aGF0IHVzZXMgYSBjb21tb24gZXJyb3IgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmlsZVN0YXR1cyB7XG4gIC8qKiBBIGxpc3Qgb2YgbWVzc2FnZXMgdGhhdCBjYXJyeSB0aGUgZXJyb3IgZGV0YWlscy4gVGhlcmUgaXMgYSBjb21tb24gc2V0IG9mIG1lc3NhZ2UgdHlwZXMgZm9yIEFQSXMgdG8gdXNlLiAqL1xuICBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbiAgLyoqIEEgbGlzdCBvZiBtZXNzYWdlcyB0aGF0IGNhcnJ5IHRoZSBlcnJvciBkZXRhaWxzLiBUaGVyZSBpcyBhIGNvbW1vbiBzZXQgb2YgbWVzc2FnZSB0eXBlcyBmb3IgQVBJcyB0byB1c2UuICovXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIC8qKiBUaGUgc3RhdHVzIGNvZGUuIDAgZm9yIE9LLCAxIGZvciBDQU5DRUxMRUQgKi9cbiAgY29kZT86IG51bWJlcjtcbn1cblxuLyoqIEEgZmlsZSB1cGxvYWRlZCB0byB0aGUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZpbGUge1xuICAvKiogVGhlIGBGaWxlYCByZXNvdXJjZSBuYW1lLiBUaGUgSUQgKG5hbWUgZXhjbHVkaW5nIHRoZSBcImZpbGVzL1wiIHByZWZpeCkgY2FuIGNvbnRhaW4gdXAgdG8gNDAgY2hhcmFjdGVycyB0aGF0IGFyZSBsb3dlcmNhc2UgYWxwaGFudW1lcmljIG9yIGRhc2hlcyAoLSkuIFRoZSBJRCBjYW5ub3Qgc3RhcnQgb3IgZW5kIHdpdGggYSBkYXNoLiBJZiB0aGUgbmFtZSBpcyBlbXB0eSBvbiBjcmVhdGUsIGEgdW5pcXVlIG5hbWUgd2lsbCBiZSBnZW5lcmF0ZWQuIEV4YW1wbGU6IGBmaWxlcy8xMjMtNDU2YCAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBodW1hbi1yZWFkYWJsZSBkaXNwbGF5IG5hbWUgZm9yIHRoZSBgRmlsZWAuIFRoZSBkaXNwbGF5IG5hbWUgbXVzdCBiZSBubyBtb3JlIHRoYW4gNTEyIGNoYXJhY3RlcnMgaW4gbGVuZ3RoLCBpbmNsdWRpbmcgc3BhY2VzLiBFeGFtcGxlOiAnV2VsY29tZSBJbWFnZScgKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gTUlNRSB0eXBlIG9mIHRoZSBmaWxlLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBTaXplIG9mIHRoZSBmaWxlIGluIGJ5dGVzLiAqL1xuICBzaXplQnl0ZXM/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRmlsZWAgd2FzIGNyZWF0ZWQuICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRmlsZWAgd2lsbCBiZSBkZWxldGVkLiBPbmx5IHNldCBpZiB0aGUgYEZpbGVgIGlzIHNjaGVkdWxlZCB0byBleHBpcmUuICovXG4gIGV4cGlyYXRpb25UaW1lPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSB0aW1lc3RhbXAgb2Ygd2hlbiB0aGUgYEZpbGVgIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gU0hBLTI1NiBoYXNoIG9mIHRoZSB1cGxvYWRlZCBieXRlcy4gVGhlIGhhc2ggdmFsdWUgaXMgZW5jb2RlZCBpbiBiYXNlNjQgZm9ybWF0LiAqL1xuICBzaGEyNTZIYXNoPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBVUkkgb2YgdGhlIGBGaWxlYC4gKi9cbiAgdXJpPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBVUkkgb2YgdGhlIGBGaWxlYCwgb25seSBzZXQgZm9yIGRvd25sb2FkYWJsZSAoZ2VuZXJhdGVkKSBmaWxlcy4gKi9cbiAgZG93bmxvYWRVcmk/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gUHJvY2Vzc2luZyBzdGF0ZSBvZiB0aGUgRmlsZS4gKi9cbiAgc3RhdGU/OiBGaWxlU3RhdGU7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHNvdXJjZSBvZiB0aGUgYEZpbGVgLiAqL1xuICBzb3VyY2U/OiBGaWxlU291cmNlO1xuICAvKiogT3V0cHV0IG9ubHkuIE1ldGFkYXRhIGZvciBhIHZpZGVvLiAqL1xuICB2aWRlb01ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBPdXRwdXQgb25seS4gRXJyb3Igc3RhdHVzIGlmIEZpbGUgcHJvY2Vzc2luZyBmYWlsZWQuICovXG4gIGVycm9yPzogRmlsZVN0YXR1cztcbn1cblxuLyoqIFJlc3BvbnNlIGZvciB0aGUgbGlzdCBmaWxlcyBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgTGlzdEZpbGVzUmVzcG9uc2Uge1xuICAvKiogQSB0b2tlbiB0byByZXRyaWV2ZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gKi9cbiAgbmV4dFBhZ2VUb2tlbj86IHN0cmluZztcbiAgLyoqIFRoZSBsaXN0IG9mIGZpbGVzLiAqL1xuICBmaWxlcz86IEZpbGVbXTtcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVGaWxlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBwcml2YXRlIF9jcmVhdGUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUZpbGVQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkLlxuICAgICAgICAgICAgbWltZV90eXBlOiAoUmVxdWlyZWQpIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGZpbGUuIE11c3QgYmUgcHJvdmlkZWQuXG4gICAgICAgICAgICBuYW1lOiAoT3B0aW9uYWwpIFRoZSBuYW1lIG9mIHRoZSBmaWxlIGluIHRoZSBkZXN0aW5hdGlvbiAoZS5nLlxuICAgICAgICAgICAgJ2ZpbGVzL3NhbXBsZS1pbWFnZScpLlxuICAgICAgICAgICAgZGlzcGxheV9uYW1lOiAoT3B0aW9uYWwpIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGZpbGUuXG4gICAgICAgKi9cbiAgZmlsZTogRmlsZTtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogQ3JlYXRlRmlsZUNvbmZpZztcbn1cblxuLyoqIEEgd3JhcHBlciBjbGFzcyBmb3IgdGhlIGh0dHAgcmVzcG9uc2UuICovXG5leHBvcnQgY2xhc3MgSHR0cFJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBwcm9jZXNzZWQgSFRUUCBoZWFkZXJzIGluIHRoZSByZXNwb25zZS4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYWwgaHR0cCByZXNwb25zZS5cbiAgICovXG4gIHJlc3BvbnNlSW50ZXJuYWw6IFJlc3BvbnNlO1xuXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlOiBSZXNwb25zZSkge1xuICAgIC8vIFByb2Nlc3MgdGhlIGhlYWRlcnMuXG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFpciBvZiByZXNwb25zZS5oZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgaGVhZGVyc1twYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgfVxuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG5cbiAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCByZXNwb25zZS5cbiAgICB0aGlzLnJlc3BvbnNlSW50ZXJuYWwgPSByZXNwb25zZTtcbiAgfVxuXG4gIGpzb24oKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VJbnRlcm5hbC5qc29uKCk7XG4gIH1cbn1cblxuLyoqIENhbGxiYWNrcyBmb3IgdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXZlQ2FsbGJhY2tzIHtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZC5cbiAgICovXG4gIG9ub3Blbj86ICgoKSA9PiB2b2lkKSB8IG51bGw7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuICAgKi9cbiAgb25tZXNzYWdlOiAoZTogTGl2ZVNlcnZlck1lc3NhZ2UpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAqL1xuICBvbmVycm9yPzogKChlOiBFcnJvckV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgKi9cbiAgb25jbG9zZT86ICgoZTogQ2xvc2VFdmVudCkgPT4gdm9pZCkgfCBudWxsO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIHVwbG9hZCBmaWxlIG1ldGhvZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkRmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIHN0cmluZyBwYXRoIHRvIHRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkIG9yIGEgQmxvYiBvYmplY3QuICovXG4gIGZpbGU6IHN0cmluZyB8IGdsb2JhbFRoaXMuQmxvYjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLiAqL1xuICBjb25maWc/OiBVcGxvYWRGaWxlQ29uZmlnO1xufVxuLyoqIFJlc3BvbnNlIGZvciB0aGUgY3JlYXRlIGZpbGUgbWV0aG9kLiAqL1xuZXhwb3J0IGNsYXNzIENyZWF0ZUZpbGVSZXNwb25zZSB7XG4gIC8qKiBVc2VkIHRvIHJldGFpbiB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG59XG5cbi8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0RmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogR2VuZXJhdGVzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRGaWxlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgbmFtZSBpZGVudGlmaWVyIGZvciB0aGUgZmlsZSB0byByZXRyaWV2ZS4gKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBHZXRGaWxlQ29uZmlnO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERlbGV0ZUZpbGVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqIEdlbmVyYXRlcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlRmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIG5hbWUgaWRlbnRpZmllciBmb3IgdGhlIGZpbGUgdG8gYmUgZGVsZXRlZC4gKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBEZWxldGVGaWxlQ29uZmlnO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIHRoZSBkZWxldGUgZmlsZSBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgRGVsZXRlRmlsZVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRPcGVyYXRpb25Db25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBHRVQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldE9wZXJhdGlvblBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lIGZvciB0aGUgb3BlcmF0aW9uLiAqL1xuICBvcGVyYXRpb25OYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEdldE9wZXJhdGlvbkNvbmZpZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZldGNoUHJlZGljdE9wZXJhdGlvbkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIGZldGNoUHJlZGljdE9wZXJhdGlvbiBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmV0Y2hQcmVkaWN0T3BlcmF0aW9uUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc2VydmVyLWFzc2lnbmVkIG5hbWUgZm9yIHRoZSBvcGVyYXRpb24uICovXG4gIG9wZXJhdGlvbk5hbWU6IHN0cmluZztcbiAgcmVzb3VyY2VOYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEZldGNoUHJlZGljdE9wZXJhdGlvbkNvbmZpZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRlc3RUYWJsZUl0ZW0ge1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIHRlc3QuIFRoaXMgaXMgdXNlZCB0byBkZXJpdmUgdGhlIHJlcGxheSBpZC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBwYXJhbWV0ZXJzIHRvIHRoZSB0ZXN0LiBVc2UgcHlkYW50aWMgbW9kZWxzLiAqL1xuICBwYXJhbWV0ZXJzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBFeHBlY3RzIGFuIGV4Y2VwdGlvbiBmb3IgTUxEZXYgbWF0Y2hpbmcgdGhlIHN0cmluZy4gKi9cbiAgZXhjZXB0aW9uSWZNbGRldj86IHN0cmluZztcbiAgLyoqIEV4cGVjdHMgYW4gZXhjZXB0aW9uIGZvciBWZXJ0ZXggbWF0Y2hpbmcgdGhlIHN0cmluZy4gKi9cbiAgZXhjZXB0aW9uSWZWZXJ0ZXg/OiBzdHJpbmc7XG4gIC8qKiBVc2UgaWYgeW91IGRvbid0IHdhbnQgdG8gdXNlIHRoZSBkZWZhdWx0IHJlcGxheSBpZCB3aGljaCBpcyBkZXJpdmVkIGZyb20gdGhlIHRlc3QgbmFtZS4gKi9cbiAgb3ZlcnJpZGVSZXBsYXlJZD86IHN0cmluZztcbiAgLyoqIFRydWUgaWYgdGhlIHBhcmFtZXRlcnMgY29udGFpbiBhbiB1bnN1cHBvcnRlZCB1bmlvbiB0eXBlLiBUaGlzIHRlc3QgIHdpbGwgYmUgc2tpcHBlZCBmb3IgbGFuZ3VhZ2VzIHRoYXQgZG8gbm90IHN1cHBvcnQgdGhlIHVuaW9uIHR5cGUuICovXG4gIGhhc1VuaW9uPzogYm9vbGVhbjtcbiAgLyoqIFdoZW4gc2V0IHRvIGEgcmVhc29uIHN0cmluZywgdGhpcyB0ZXN0IHdpbGwgYmUgc2tpcHBlZCBpbiB0aGUgQVBJIG1vZGUuIFVzZSB0aGlzIGZsYWcgZm9yIHRlc3RzIHRoYXQgY2FuIG5vdCBiZSByZXByb2R1Y2VkIHdpdGggdGhlIHJlYWwgQVBJLiBFLmcuIGEgdGVzdCB0aGF0IGRlbGV0ZXMgYSByZXNvdXJjZS4gKi9cbiAgc2tpcEluQXBpTW9kZT86IHN0cmluZztcbiAgLyoqIEtleXMgdG8gaWdub3JlIHdoZW4gY29tcGFyaW5nIHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZS4gVGhpcyBpcyB1c2VmdWwgZm9yIHRlc3RzIHRoYXQgYXJlIG5vdCBkZXRlcm1pbmlzdGljLiAqL1xuICBpZ25vcmVLZXlzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUZXN0VGFibGVGaWxlIHtcbiAgY29tbWVudD86IHN0cmluZztcbiAgdGVzdE1ldGhvZD86IHN0cmluZztcbiAgcGFyYW1ldGVyTmFtZXM/OiBzdHJpbmdbXTtcbiAgdGVzdFRhYmxlPzogVGVzdFRhYmxlSXRlbVtdO1xufVxuXG4vKiogUmVwcmVzZW50cyBhIHNpbmdsZSByZXF1ZXN0IGluIGEgcmVwbGF5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlcGxheVJlcXVlc3Qge1xuICBtZXRob2Q/OiBzdHJpbmc7XG4gIHVybD86IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGJvZHlTZWdtZW50cz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+W107XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgc2luZ2xlIHJlc3BvbnNlIGluIGEgcmVwbGF5LiAqL1xuZXhwb3J0IGNsYXNzIFJlcGxheVJlc3BvbnNlIHtcbiAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGJvZHlTZWdtZW50cz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+W107XG4gIHNka1Jlc3BvbnNlU2VnbWVudHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdO1xufVxuXG4vKiogUmVwcmVzZW50cyBhIHNpbmdsZSBpbnRlcmFjdGlvbiwgcmVxdWVzdCBhbmQgcmVzcG9uc2UgaW4gYSByZXBsYXkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVwbGF5SW50ZXJhY3Rpb24ge1xuICByZXF1ZXN0PzogUmVwbGF5UmVxdWVzdDtcbiAgcmVzcG9uc2U/OiBSZXBsYXlSZXNwb25zZTtcbn1cblxuLyoqIFJlcHJlc2VudHMgYSByZWNvcmRlZCBzZXNzaW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlcGxheUZpbGUge1xuICByZXBsYXlJZD86IHN0cmluZztcbiAgaW50ZXJhY3Rpb25zPzogUmVwbGF5SW50ZXJhY3Rpb25bXTtcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVcGxvYWRGaWxlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSBpbiB0aGUgZGVzdGluYXRpb24gKGUuZy4sICdmaWxlcy9zYW1wbGUtaW1hZ2UnLiBJZiBub3QgcHJvdmlkZWQgb25lIHdpbGwgYmUgZ2VuZXJhdGVkLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogbWltZV90eXBlOiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBmaWxlLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGUgZmlsZSBleHRlbnNpb24uICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgZGlzcGxheSBuYW1lIG9mIHRoZSBmaWxlLiAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEb3dubG9hZEZpbGVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIHVwc2NhbGluZyBhbiBpbWFnZS5cblxuICBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGlzIGNvbmZpZ3VyYXRpb24sIHJlZmVyIHRvXG4gIHRoZSBgSW1hZ2VuIEFQSSByZWZlcmVuY2UgZG9jdW1lbnRhdGlvblxuICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbW9kZWwtcmVmZXJlbmNlL2ltYWdlbi1hcGk+YF8uXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwc2NhbGVJbWFnZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogV2hldGhlciB0byBpbmNsdWRlIGEgcmVhc29uIGZvciBmaWx0ZXJlZC1vdXQgaW1hZ2VzIGluIHRoZVxuICAgICAgcmVzcG9uc2UuICovXG4gIGluY2x1ZGVSYWlSZWFzb24/OiBib29sZWFuO1xuICAvKiogVGhlIGltYWdlIGZvcm1hdCB0aGF0IHRoZSBvdXRwdXQgc2hvdWxkIGJlIHNhdmVkIGFzLiAqL1xuICBvdXRwdXRNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIFRoZSBsZXZlbCBvZiBjb21wcmVzc2lvbiBpZiB0aGUgYGBvdXRwdXRfbWltZV90eXBlYGAgaXNcbiAgICAgIGBgaW1hZ2UvanBlZ2BgLiAqL1xuICBvdXRwdXRDb21wcmVzc2lvblF1YWxpdHk/OiBudW1iZXI7XG59XG5cbi8qKiBVc2VyLWZhY2luZyBjb25maWcgVXBzY2FsZUltYWdlUGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVcHNjYWxlSW1hZ2VQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBtb2RlbCB0byB1c2UuICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBUaGUgaW5wdXQgaW1hZ2UgdG8gdXBzY2FsZS4gKi9cbiAgaW1hZ2U6IEltYWdlO1xuICAvKiogVGhlIGZhY3RvciB0byB1cHNjYWxlIHRoZSBpbWFnZSAoeDIgb3IgeDQpLiAqL1xuICB1cHNjYWxlRmFjdG9yOiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB1cHNjYWxpbmcuICovXG4gIGNvbmZpZz86IFVwc2NhbGVJbWFnZUNvbmZpZztcbn1cblxuLyoqIEEgcmF3IHJlZmVyZW5jZSBpbWFnZS5cblxuICBBIHJhdyByZWZlcmVuY2UgaW1hZ2UgcmVwcmVzZW50cyB0aGUgYmFzZSBpbWFnZSB0byBlZGl0LCBwcm92aWRlZCBieSB0aGUgdXNlci5cbiAgSXQgY2FuIG9wdGlvbmFsbHkgYmUgcHJvdmlkZWQgaW4gYWRkaXRpb24gdG8gYSBtYXNrIHJlZmVyZW5jZSBpbWFnZSBvclxuICBhIHN0eWxlIHJlZmVyZW5jZSBpbWFnZS5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmF3UmVmZXJlbmNlSW1hZ2Uge1xuICAvKiogVGhlIHJlZmVyZW5jZSBpbWFnZSBmb3IgdGhlIGVkaXRpbmcgb3BlcmF0aW9uLiAqL1xuICByZWZlcmVuY2VJbWFnZT86IEltYWdlO1xuICAvKiogVGhlIGlkIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuICovXG4gIHJlZmVyZW5jZUlkPzogbnVtYmVyO1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gT25seSBzZXQgYnkgdGhlIFNESy4gKi9cbiAgcmVmZXJlbmNlVHlwZT86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIGEgTWFzayByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTWFza1JlZmVyZW5jZUNvbmZpZyB7XG4gIC8qKiBQcm9tcHRzIHRoZSBtb2RlbCB0byBnZW5lcmF0ZSBhIG1hc2sgaW5zdGVhZCBvZiB5b3UgbmVlZGluZyB0b1xuICAgICAgcHJvdmlkZSBvbmUgKHVubGVzcyBNQVNLX01PREVfVVNFUl9QUk9WSURFRCBpcyB1c2VkKS4gKi9cbiAgbWFza01vZGU/OiBNYXNrUmVmZXJlbmNlTW9kZTtcbiAgLyoqIEEgbGlzdCBvZiB1cCB0byA1IGNsYXNzIGlkcyB0byB1c2UgZm9yIHNlbWFudGljIHNlZ21lbnRhdGlvbi5cbiAgICAgIEF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhbiBpbWFnZSBtYXNrIGJhc2VkIG9uIHNwZWNpZmljIG9iamVjdHMuICovXG4gIHNlZ21lbnRhdGlvbkNsYXNzZXM/OiBudW1iZXJbXTtcbiAgLyoqIERpbGF0aW9uIHBlcmNlbnRhZ2Ugb2YgdGhlIG1hc2sgcHJvdmlkZWQuXG4gICAgICBGbG9hdCBiZXR3ZWVuIDAgYW5kIDEuICovXG4gIG1hc2tEaWxhdGlvbj86IG51bWJlcjtcbn1cblxuLyoqIEEgbWFzayByZWZlcmVuY2UgaW1hZ2UuXG5cbiAgVGhpcyBlbmNhcHN1bGF0ZXMgZWl0aGVyIGEgbWFzayBpbWFnZSBwcm92aWRlZCBieSB0aGUgdXNlciBhbmQgY29uZmlncyBmb3JcbiAgdGhlIHVzZXIgcHJvdmlkZWQgbWFzaywgb3Igb25seSBjb25maWcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsIHRvIGdlbmVyYXRlXG4gIGEgbWFzay5cblxuICBBIG1hc2sgaW1hZ2UgaXMgYW4gaW1hZ2Ugd2hvc2Ugbm9uLXplcm8gdmFsdWVzIGluZGljYXRlIHdoZXJlIHRvIGVkaXQgdGhlIGJhc2VcbiAgaW1hZ2UuIElmIHRoZSB1c2VyIHByb3ZpZGVzIGEgbWFzayBpbWFnZSwgdGhlIG1hc2sgbXVzdCBiZSBpbiB0aGUgc2FtZVxuICBkaW1lbnNpb25zIGFzIHRoZSByYXcgaW1hZ2UuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIE1hc2tSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIG1hc2sgcmVmZXJlbmNlIGltYWdlLiAqL1xuICBjb25maWc/OiBNYXNrUmVmZXJlbmNlQ29uZmlnO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBDb250cm9sIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb250cm9sUmVmZXJlbmNlQ29uZmlnIHtcbiAgLyoqIFRoZSB0eXBlIG9mIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlIHRvIHVzZS4gKi9cbiAgY29udHJvbFR5cGU/OiBDb250cm9sUmVmZXJlbmNlVHlwZTtcbiAgLyoqIERlZmF1bHRzIHRvIEZhbHNlLiBXaGVuIHNldCB0byBUcnVlLCB0aGUgY29udHJvbCBpbWFnZSB3aWxsIGJlXG4gICAgICBjb21wdXRlZCBieSB0aGUgbW9kZWwgYmFzZWQgb24gdGhlIGNvbnRyb2wgdHlwZS4gV2hlbiBzZXQgdG8gRmFsc2UsXG4gICAgICB0aGUgY29udHJvbCBpbWFnZSBtdXN0IGJlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLiAqL1xuICBlbmFibGVDb250cm9sSW1hZ2VDb21wdXRhdGlvbj86IGJvb2xlYW47XG59XG5cbi8qKiBBIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlLlxuXG4gIFRoZSBpbWFnZSBvZiB0aGUgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UgaXMgZWl0aGVyIGEgY29udHJvbCBpbWFnZSBwcm92aWRlZFxuICBieSB0aGUgdXNlciwgb3IgYSByZWd1bGFyIGltYWdlIHdoaWNoIHRoZSBiYWNrZW5kIHdpbGwgdXNlIHRvIGdlbmVyYXRlIGFcbiAgY29udHJvbCBpbWFnZSBvZi4gSW4gdGhlIGNhc2Ugb2YgdGhlIGxhdHRlciwgdGhlXG4gIGVuYWJsZV9jb250cm9sX2ltYWdlX2NvbXB1dGF0aW9uIGZpZWxkIGluIHRoZSBjb25maWcgc2hvdWxkIGJlIHNldCB0byBUcnVlLlxuXG4gIEEgY29udHJvbCBpbWFnZSBpcyBhbiBpbWFnZSB0aGF0IHJlcHJlc2VudHMgYSBza2V0Y2ggaW1hZ2Ugb2YgYXJlYXMgZm9yIHRoZVxuICBtb2RlbCB0byBmaWxsIGluIGJhc2VkIG9uIHRoZSBwcm9tcHQuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRyb2xSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlLiAqL1xuICBjb25maWc/OiBDb250cm9sUmVmZXJlbmNlQ29uZmlnO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBTdHlsZSByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3R5bGVSZWZlcmVuY2VDb25maWcge1xuICAvKiogQSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBzdHlsZSB0byB1c2UgZm9yIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuICovXG4gIHN0eWxlRGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbi8qKiBBIHN0eWxlIHJlZmVyZW5jZSBpbWFnZS5cblxuICBUaGlzIGVuY2Fwc3VsYXRlcyBhIHN0eWxlIHJlZmVyZW5jZSBpbWFnZSBwcm92aWRlZCBieSB0aGUgdXNlciwgYW5kXG4gIGFkZGl0aW9uYWxseSBvcHRpb25hbCBjb25maWcgcGFyYW1ldGVycyBmb3IgdGhlIHN0eWxlIHJlZmVyZW5jZSBpbWFnZS5cblxuICBBIHJhdyByZWZlcmVuY2UgaW1hZ2UgY2FuIGFsc28gYmUgcHJvdmlkZWQgYXMgYSBkZXN0aW5hdGlvbiBmb3IgdGhlIHN0eWxlIHRvXG4gIGJlIGFwcGxpZWQgdG8uXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFN0eWxlUmVmZXJlbmNlSW1hZ2Uge1xuICAvKiogVGhlIHJlZmVyZW5jZSBpbWFnZSBmb3IgdGhlIGVkaXRpbmcgb3BlcmF0aW9uLiAqL1xuICByZWZlcmVuY2VJbWFnZT86IEltYWdlO1xuICAvKiogVGhlIGlkIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuICovXG4gIHJlZmVyZW5jZUlkPzogbnVtYmVyO1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gT25seSBzZXQgYnkgdGhlIFNESy4gKi9cbiAgcmVmZXJlbmNlVHlwZT86IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBzdHlsZSByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IFN0eWxlUmVmZXJlbmNlQ29uZmlnO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBTdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdWJqZWN0UmVmZXJlbmNlQ29uZmlnIHtcbiAgLyoqIFRoZSBzdWJqZWN0IHR5cGUgb2YgYSBzdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgc3ViamVjdFR5cGU/OiBTdWJqZWN0UmVmZXJlbmNlVHlwZTtcbiAgLyoqIFN1YmplY3QgZGVzY3JpcHRpb24gZm9yIHRoZSBpbWFnZS4gKi9cbiAgc3ViamVjdERlc2NyaXB0aW9uPzogc3RyaW5nO1xufVxuXG4vKiogQSBzdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS5cblxuICBUaGlzIGVuY2Fwc3VsYXRlcyBhIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLCBhbmRcbiAgYWRkaXRpb25hbGx5IG9wdGlvbmFsIGNvbmZpZyBwYXJhbWV0ZXJzIGZvciB0aGUgc3ViamVjdCByZWZlcmVuY2UgaW1hZ2UuXG5cbiAgQSByYXcgcmVmZXJlbmNlIGltYWdlIGNhbiBhbHNvIGJlIHByb3ZpZGVkIGFzIGEgZGVzdGluYXRpb24gZm9yIHRoZSBzdWJqZWN0IHRvXG4gIGJlIGFwcGxpZWQgdG8uXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFN1YmplY3RSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLiAqL1xuICBjb25maWc/OiBTdWJqZWN0UmVmZXJlbmNlQ29uZmlnO1xufVxuXG4vKiogU2VudCBpbiByZXNwb25zZSB0byBhIGBMaXZlR2VuZXJhdGVDb250ZW50U2V0dXBgIG1lc3NhZ2UgZnJvbSB0aGUgY2xpZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJTZXR1cENvbXBsZXRlIHt9XG5cbi8qKiBJbmNyZW1lbnRhbCBzZXJ2ZXIgdXBkYXRlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gcmVzcG9uc2UgdG8gY2xpZW50IG1lc3NhZ2VzLlxuXG4gIENvbnRlbnQgaXMgZ2VuZXJhdGVkIGFzIHF1aWNrbHkgYXMgcG9zc2libGUsIGFuZCBub3QgaW4gcmVhbCB0aW1lLiBDbGllbnRzXG4gIG1heSBjaG9vc2UgdG8gYnVmZmVyIGFuZCBwbGF5IGl0IG91dCBpbiByZWFsIHRpbWUuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJDb250ZW50IHtcbiAgLyoqIFRoZSBjb250ZW50IHRoYXQgdGhlIG1vZGVsIGhhcyBnZW5lcmF0ZWQgYXMgcGFydCBvZiB0aGUgY3VycmVudCBjb252ZXJzYXRpb24gd2l0aCB0aGUgdXNlci4gKi9cbiAgbW9kZWxUdXJuPzogQ29udGVudDtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBpcyBkb25lIGdlbmVyYXRpbmcuIEdlbmVyYXRpb24gd2lsbCBvbmx5IHN0YXJ0IGluIHJlc3BvbnNlIHRvIGFkZGl0aW9uYWwgY2xpZW50IG1lc3NhZ2VzLiBDYW4gYmUgc2V0IGFsb25nc2lkZSBgY29udGVudGAsIGluZGljYXRpbmcgdGhhdCB0aGUgYGNvbnRlbnRgIGlzIHRoZSBsYXN0IGluIHRoZSB0dXJuLiAqL1xuICB0dXJuQ29tcGxldGU/OiBib29sZWFuO1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgYSBjbGllbnQgbWVzc2FnZSBoYXMgaW50ZXJydXB0ZWQgY3VycmVudCBtb2RlbCBnZW5lcmF0aW9uLiBJZiB0aGUgY2xpZW50IGlzIHBsYXlpbmcgb3V0IHRoZSBjb250ZW50IGluIHJlYWx0aW1lLCB0aGlzIGlzIGEgZ29vZCBzaWduYWwgdG8gc3RvcCBhbmQgZW1wdHkgdGhlIGN1cnJlbnQgcXVldWUuICovXG4gIGludGVycnVwdGVkPzogYm9vbGVhbjtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBpcyBkb25lIGdlbmVyYXRpbmcuIFdoZW4gbW9kZWwgaXNcbiAgICAgIGludGVycnVwdGVkIHdoaWxlIGdlbmVyYXRpbmcgdGhlcmUgd2lsbCBiZSBubyBnZW5lcmF0aW9uX2NvbXBsZXRlIG1lc3NhZ2VcbiAgICAgIGluIGludGVycnVwdGVkIHR1cm4sIGl0IHdpbGwgZ28gdGhyb3VnaCBpbnRlcnJ1cHRlZCA+IHR1cm5fY29tcGxldGUuXG4gICAgICBXaGVuIG1vZGVsIGFzc3VtZXMgcmVhbHRpbWUgcGxheWJhY2sgdGhlcmUgd2lsbCBiZSBkZWxheSBiZXR3ZWVuXG4gICAgICBnZW5lcmF0aW9uX2NvbXBsZXRlIGFuZCB0dXJuX2NvbXBsZXRlIHRoYXQgaXMgY2F1c2VkIGJ5IG1vZGVsXG4gICAgICB3YWl0aW5nIGZvciBwbGF5YmFjayB0byBmaW5pc2guIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbFxuICAgICAgaGFzIGZpbmlzaGVkIGdlbmVyYXRpbmcgYWxsIGNvbnRlbnQuIFRoaXMgaXMgYSBzaWduYWwgdG8gdGhlIGNsaWVudFxuICAgICAgdGhhdCBpdCBjYW4gc3RvcCBzZW5kaW5nIG1lc3NhZ2VzLiAqL1xuICBnZW5lcmF0aW9uQ29tcGxldGU/OiBib29sZWFuO1xufVxuXG4vKiogUmVxdWVzdCBmb3IgdGhlIGNsaWVudCB0byBleGVjdXRlIHRoZSBgZnVuY3Rpb25fY2FsbHNgIGFuZCByZXR1cm4gdGhlIHJlc3BvbnNlcyB3aXRoIHRoZSBtYXRjaGluZyBgaWRgcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyVG9vbENhbGwge1xuICAvKiogVGhlIGZ1bmN0aW9uIGNhbGwgdG8gYmUgZXhlY3V0ZWQuICovXG4gIGZ1bmN0aW9uQ2FsbHM/OiBGdW5jdGlvbkNhbGxbXTtcbn1cblxuLyoqIE5vdGlmaWNhdGlvbiBmb3IgdGhlIGNsaWVudCB0aGF0IGEgcHJldmlvdXNseSBpc3N1ZWQgYFRvb2xDYWxsTWVzc2FnZWAgd2l0aCB0aGUgc3BlY2lmaWVkIGBpZGBzIHNob3VsZCBoYXZlIGJlZW4gbm90IGV4ZWN1dGVkIGFuZCBzaG91bGQgYmUgY2FuY2VsbGVkLlxuXG4gIElmIHRoZXJlIHdlcmUgc2lkZS1lZmZlY3RzIHRvIHRob3NlIHRvb2wgY2FsbHMsIGNsaWVudHMgbWF5IGF0dGVtcHQgdG8gdW5kb1xuICB0aGUgdG9vbCBjYWxscy4gVGhpcyBtZXNzYWdlIG9jY3VycyBvbmx5IGluIGNhc2VzIHdoZXJlIHRoZSBjbGllbnRzIGludGVycnVwdFxuICBzZXJ2ZXIgdHVybnMuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbiB7XG4gIC8qKiBUaGUgaWRzIG9mIHRoZSB0b29sIGNhbGxzIHRvIGJlIGNhbmNlbGxlZC4gKi9cbiAgaWRzPzogc3RyaW5nW107XG59XG5cbi8qKiBVc2FnZSBtZXRhZGF0YSBhYm91dCByZXNwb25zZShzKS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVc2FnZU1ldGFkYXRhIHtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByb21wdC4gV2hlbiBgY2FjaGVkX2NvbnRlbnRgIGlzIHNldCwgdGhpcyBpcyBzdGlsbCB0aGUgdG90YWwgZWZmZWN0aXZlIHByb21wdCBzaXplIG1lYW5pbmcgdGhpcyBpbmNsdWRlcyB0aGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIHByb21wdFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBvZiB0aGUgcHJvbXB0ICh0aGUgY2FjaGVkIGNvbnRlbnQpLiAqL1xuICBjYWNoZWRDb250ZW50VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIFRvdGFsIG51bWJlciBvZiB0b2tlbnMgYWNyb3NzIGFsbCB0aGUgZ2VuZXJhdGVkIHJlc3BvbnNlIGNhbmRpZGF0ZXMuICovXG4gIHJlc3BvbnNlVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgcHJlc2VudCBpbiB0b29sLXVzZSBwcm9tcHQocykuICovXG4gIHRvb2xVc2VQcm9tcHRUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBvZiB0aG91Z2h0cyBmb3IgdGhpbmtpbmcgbW9kZWxzLiAqL1xuICB0aG91Z2h0c1Rva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBUb3RhbCB0b2tlbiBjb3VudCBmb3IgcHJvbXB0LCByZXNwb25zZSBjYW5kaWRhdGVzLCBhbmQgdG9vbC11c2UgcHJvbXB0cyhpZiBwcmVzZW50KS4gKi9cbiAgdG90YWxUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSBwcm9jZXNzZWQgaW4gdGhlIHJlcXVlc3QgaW5wdXQuICovXG4gIHByb21wdFRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIExpc3Qgb2YgbW9kYWxpdGllcyB0aGF0IHdlcmUgcHJvY2Vzc2VkIGluIHRoZSBjYWNoZSBpbnB1dC4gKi9cbiAgY2FjaGVUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHJldHVybmVkIGluIHRoZSByZXNwb25zZS4gKi9cbiAgcmVzcG9uc2VUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHByb2Nlc3NlZCBpbiB0aGUgdG9vbC11c2UgcHJvbXB0LiAqL1xuICB0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogVHJhZmZpYyB0eXBlLiBUaGlzIHNob3dzIHdoZXRoZXIgYSByZXF1ZXN0IGNvbnN1bWVzIFBheS1Bcy1Zb3UtR29cbiBvciBQcm92aXNpb25lZCBUaHJvdWdocHV0IHF1b3RhLiAqL1xuICB0cmFmZmljVHlwZT86IFRyYWZmaWNUeXBlO1xufVxuXG4vKiogU2VydmVyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VydmljZSBjbGllbnQgc29vbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyR29Bd2F5IHtcbiAgLyoqIFRoZSByZW1haW5pbmcgdGltZSBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2lsbCBiZSB0ZXJtaW5hdGVkIGFzIEFCT1JURUQuIFRoZSBtaW5pbWFsIHRpbWUgcmV0dXJuZWQgaGVyZSBpcyBzcGVjaWZpZWQgZGlmZmVyZW50bHkgdG9nZXRoZXIgd2l0aCB0aGUgcmF0ZSBsaW1pdHMgZm9yIGEgZ2l2ZW4gbW9kZWwuICovXG4gIHRpbWVMZWZ0Pzogc3RyaW5nO1xufVxuXG4vKiogVXBkYXRlIG9mIHRoZSBzZXNzaW9uIHJlc3VtcHRpb24gc3RhdGUuXG5cbiAgT25seSBzZW50IGlmIGBzZXNzaW9uX3Jlc3VtcHRpb25gIHdhcyBzZXQgaW4gdGhlIGNvbm5lY3Rpb24gY29uZmlnLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUge1xuICAvKiogTmV3IGhhbmRsZSB0aGF0IHJlcHJlc2VudHMgc3RhdGUgdGhhdCBjYW4gYmUgcmVzdW1lZC4gRW1wdHkgaWYgYHJlc3VtYWJsZWA9ZmFsc2UuICovXG4gIG5ld0hhbmRsZT86IHN0cmluZztcbiAgLyoqIFRydWUgaWYgc2Vzc2lvbiBjYW4gYmUgcmVzdW1lZCBhdCB0aGlzIHBvaW50LiBJdCBtaWdodCBiZSBub3QgcG9zc2libGUgdG8gcmVzdW1lIHNlc3Npb24gYXQgc29tZSBwb2ludHMuIEluIHRoYXQgY2FzZSB3ZSBzZW5kIHVwZGF0ZSBlbXB0eSBuZXdfaGFuZGxlIGFuZCByZXN1bWFibGU9ZmFsc2UuIEV4YW1wbGUgb2Ygc3VjaCBjYXNlIGNvdWxkIGJlIG1vZGVsIGV4ZWN1dGluZyBmdW5jdGlvbiBjYWxscyBvciBqdXN0IGdlbmVyYXRpbmcuIFJlc3VtaW5nIHNlc3Npb24gKHVzaW5nIHByZXZpb3VzIHNlc3Npb24gdG9rZW4pIGluIHN1Y2ggc3RhdGUgd2lsbCByZXN1bHQgaW4gc29tZSBkYXRhIGxvc3MuICovXG4gIHJlc3VtYWJsZT86IGJvb2xlYW47XG4gIC8qKiBJbmRleCBvZiBsYXN0IG1lc3NhZ2Ugc2VudCBieSBjbGllbnQgdGhhdCBpcyBpbmNsdWRlZCBpbiBzdGF0ZSByZXByZXNlbnRlZCBieSB0aGlzIFNlc3Npb25SZXN1bXB0aW9uVG9rZW4uIE9ubHkgc2VudCB3aGVuIGBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZy50cmFuc3BhcmVudGAgaXMgc2V0LlxuXG5QcmVzZW5jZSBvZiB0aGlzIGluZGV4IGFsbG93cyB1c2VycyB0byB0cmFuc3BhcmVudGx5IHJlY29ubmVjdCBhbmQgYXZvaWQgaXNzdWUgb2YgbG9zaW5nIHNvbWUgcGFydCBvZiByZWFsdGltZSBhdWRpbyBpbnB1dC92aWRlby4gSWYgY2xpZW50IHdpc2hlcyB0byB0ZW1wb3JhcmlseSBkaXNjb25uZWN0IChmb3IgZXhhbXBsZSBhcyByZXN1bHQgb2YgcmVjZWl2aW5nIEdvQXdheSkgdGhleSBjYW4gZG8gaXQgd2l0aG91dCBsb3Npbmcgc3RhdGUgYnkgYnVmZmVyaW5nIG1lc3NhZ2VzIHNlbnQgc2luY2UgbGFzdCBgU2Vzc2lvblJlc211bXB0aW9uVG9rZW5VcGRhdGVgLiBUaGlzIGZpZWxkIHdpbGwgZW5hYmxlIHRoZW0gdG8gbGltaXQgYnVmZmVyaW5nIChhdm9pZCBrZWVwaW5nIGFsbCByZXF1ZXN0cyBpbiBSQU0pLlxuXG5Ob3RlOiBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCBmb3Igd2hlbiByZXN1bWluZyBhIHNlc3Npb24gYXQgc29tZSB0aW1lIGxhdGVyIC0tIGluIHRob3NlIGNhc2VzIHBhcnRpYWwgYXVkaW8gYW5kIHZpZGVvIGZyYW1lcyBhcmVsaWtlbHkgbm90IG5lZWRlZC4gKi9cbiAgbGFzdENvbnN1bWVkQ2xpZW50TWVzc2FnZUluZGV4Pzogc3RyaW5nO1xufVxuXG4vKiogUmVzcG9uc2UgbWVzc2FnZSBmb3IgQVBJIGNhbGwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlcnZlck1lc3NhZ2Uge1xuICAvKiogU2VudCBpbiByZXNwb25zZSB0byBhIGBMaXZlQ2xpZW50U2V0dXBgIG1lc3NhZ2UgZnJvbSB0aGUgY2xpZW50LiAqL1xuICBzZXR1cENvbXBsZXRlPzogTGl2ZVNlcnZlclNldHVwQ29tcGxldGU7XG4gIC8qKiBDb250ZW50IGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gcmVzcG9uc2UgdG8gY2xpZW50IG1lc3NhZ2VzLiAqL1xuICBzZXJ2ZXJDb250ZW50PzogTGl2ZVNlcnZlckNvbnRlbnQ7XG4gIC8qKiBSZXF1ZXN0IGZvciB0aGUgY2xpZW50IHRvIGV4ZWN1dGUgdGhlIGBmdW5jdGlvbl9jYWxsc2AgYW5kIHJldHVybiB0aGUgcmVzcG9uc2VzIHdpdGggdGhlIG1hdGNoaW5nIGBpZGBzLiAqL1xuICB0b29sQ2FsbD86IExpdmVTZXJ2ZXJUb29sQ2FsbDtcbiAgLyoqIE5vdGlmaWNhdGlvbiBmb3IgdGhlIGNsaWVudCB0aGF0IGEgcHJldmlvdXNseSBpc3N1ZWQgYFRvb2xDYWxsTWVzc2FnZWAgd2l0aCB0aGUgc3BlY2lmaWVkIGBpZGBzIHNob3VsZCBoYXZlIGJlZW4gbm90IGV4ZWN1dGVkIGFuZCBzaG91bGQgYmUgY2FuY2VsbGVkLiAqL1xuICB0b29sQ2FsbENhbmNlbGxhdGlvbj86IExpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbjtcbiAgLyoqIFVzYWdlIG1ldGFkYXRhIGFib3V0IG1vZGVsIHJlc3BvbnNlKHMpLiAqL1xuICB1c2FnZU1ldGFkYXRhPzogVXNhZ2VNZXRhZGF0YTtcbiAgLyoqIFNlcnZlciB3aWxsIGRpc2Nvbm5lY3Qgc29vbi4gKi9cbiAgZ29Bd2F5PzogTGl2ZVNlcnZlckdvQXdheTtcbiAgLyoqIFVwZGF0ZSBvZiB0aGUgc2Vzc2lvbiByZXN1bXB0aW9uIHN0YXRlLiAqL1xuICBzZXNzaW9uUmVzdW1wdGlvblVwZGF0ZT86IExpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZTtcbn1cblxuLyoqIENvbmZpZ3VyZXMgYXV0b21hdGljIGRldGVjdGlvbiBvZiBhY3Rpdml0eS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiB7XG4gIC8qKiBJZiBlbmFibGVkLCBkZXRlY3RlZCB2b2ljZSBhbmQgdGV4dCBpbnB1dCBjb3VudCBhcyBhY3Rpdml0eS4gSWYgZGlzYWJsZWQsIHRoZSBjbGllbnQgbXVzdCBzZW5kIGFjdGl2aXR5IHNpZ25hbHMuICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqIERldGVybWluZXMgaG93IGxpa2VseSBzcGVlY2ggaXMgdG8gYmUgZGV0ZWN0ZWQuICovXG4gIHN0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eT86IFN0YXJ0U2Vuc2l0aXZpdHk7XG4gIC8qKiBEZXRlcm1pbmVzIGhvdyBsaWtlbHkgZGV0ZWN0ZWQgc3BlZWNoIGlzIGVuZGVkLiAqL1xuICBlbmRPZlNwZWVjaFNlbnNpdGl2aXR5PzogRW5kU2Vuc2l0aXZpdHk7XG4gIC8qKiBUaGUgcmVxdWlyZWQgZHVyYXRpb24gb2YgZGV0ZWN0ZWQgc3BlZWNoIGJlZm9yZSBzdGFydC1vZi1zcGVlY2ggaXMgY29tbWl0dGVkLiBUaGUgbG93ZXIgdGhpcyB2YWx1ZSB0aGUgbW9yZSBzZW5zaXRpdmUgdGhlIHN0YXJ0LW9mLXNwZWVjaCBkZXRlY3Rpb24gaXMgYW5kIHRoZSBzaG9ydGVyIHNwZWVjaCBjYW4gYmUgcmVjb2duaXplZC4gSG93ZXZlciwgdGhpcyBhbHNvIGluY3JlYXNlcyB0aGUgcHJvYmFiaWxpdHkgb2YgZmFsc2UgcG9zaXRpdmVzLiAqL1xuICBwcmVmaXhQYWRkaW5nTXM/OiBudW1iZXI7XG4gIC8qKiBUaGUgcmVxdWlyZWQgZHVyYXRpb24gb2YgZGV0ZWN0ZWQgbm9uLXNwZWVjaCAoZS5nLiBzaWxlbmNlKSBiZWZvcmUgZW5kLW9mLXNwZWVjaCBpcyBjb21taXR0ZWQuIFRoZSBsYXJnZXIgdGhpcyB2YWx1ZSwgdGhlIGxvbmdlciBzcGVlY2ggZ2FwcyBjYW4gYmUgd2l0aG91dCBpbnRlcnJ1cHRpbmcgdGhlIHVzZXIncyBhY3Rpdml0eSBidXQgdGhpcyB3aWxsIGluY3JlYXNlIHRoZSBtb2RlbCdzIGxhdGVuY3kuICovXG4gIHNpbGVuY2VEdXJhdGlvbk1zPzogbnVtYmVyO1xufVxuXG4vKiogTWFya3MgdGhlIGVuZCBvZiB1c2VyIGFjdGl2aXR5LlxuXG4gIFRoaXMgY2FuIG9ubHkgYmUgc2VudCBpZiBhdXRvbWF0aWMgKGkuZS4gc2VydmVyLXNpZGUpIGFjdGl2aXR5IGRldGVjdGlvbiBpc1xuICBkaXNhYmxlZC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVhbHRpbWVJbnB1dENvbmZpZyB7XG4gIC8qKiBJZiBub3Qgc2V0LCBhdXRvbWF0aWMgYWN0aXZpdHkgZGV0ZWN0aW9uIGlzIGVuYWJsZWQgYnkgZGVmYXVsdC4gSWYgYXV0b21hdGljIHZvaWNlIGRldGVjdGlvbiBpcyBkaXNhYmxlZCwgdGhlIGNsaWVudCBtdXN0IHNlbmQgYWN0aXZpdHkgc2lnbmFscy4gKi9cbiAgYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24/OiBBdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbjtcbiAgLyoqIERlZmluZXMgd2hhdCBlZmZlY3QgYWN0aXZpdHkgaGFzLiAqL1xuICBhY3Rpdml0eUhhbmRsaW5nPzogQWN0aXZpdHlIYW5kbGluZztcbiAgLyoqIERlZmluZXMgd2hpY2ggaW5wdXQgaXMgaW5jbHVkZWQgaW4gdGhlIHVzZXIncyB0dXJuLiAqL1xuICB0dXJuQ292ZXJhZ2U/OiBUdXJuQ292ZXJhZ2U7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIG9mIHNlc3Npb24gcmVzdW1wdGlvbiBtZWNoYW5pc20uXG5cbiAgSW5jbHVkZWQgaW4gYExpdmVDb25uZWN0Q29uZmlnLnNlc3Npb25fcmVzdW1wdGlvbmAuIElmIGluY2x1ZGVkIHNlcnZlclxuICB3aWxsIHNlbmQgYExpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZWAgbWVzc2FnZXMuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnIHtcbiAgLyoqIFNlc3Npb24gcmVzdW1wdGlvbiBoYW5kbGUgb2YgcHJldmlvdXMgc2Vzc2lvbiAoc2Vzc2lvbiB0byByZXN0b3JlKS5cblxuSWYgbm90IHByZXNlbnQgbmV3IHNlc3Npb24gd2lsbCBiZSBzdGFydGVkLiAqL1xuICBoYW5kbGU/OiBzdHJpbmc7XG4gIC8qKiBJZiBzZXQgdGhlIHNlcnZlciB3aWxsIHNlbmQgYGxhc3RfY29uc3VtZWRfY2xpZW50X21lc3NhZ2VfaW5kZXhgIGluIHRoZSBgc2Vzc2lvbl9yZXN1bXB0aW9uX3VwZGF0ZWAgbWVzc2FnZXMgdG8gYWxsb3cgZm9yIHRyYW5zcGFyZW50IHJlY29ubmVjdGlvbnMuICovXG4gIHRyYW5zcGFyZW50PzogYm9vbGVhbjtcbn1cblxuLyoqIENvbnRleHQgd2luZG93IHdpbGwgYmUgdHJ1bmNhdGVkIGJ5IGtlZXBpbmcgb25seSBzdWZmaXggb2YgaXQuXG5cbiAgQ29udGV4dCB3aW5kb3cgd2lsbCBhbHdheXMgYmUgY3V0IGF0IHN0YXJ0IG9mIFVTRVIgcm9sZSB0dXJuLiBTeXN0ZW1cbiAgaW5zdHJ1Y3Rpb25zIGFuZCBgQmlkaUdlbmVyYXRlQ29udGVudFNldHVwLnByZWZpeF90dXJuc2Agd2lsbCBub3QgYmVcbiAgc3ViamVjdCB0byB0aGUgc2xpZGluZyB3aW5kb3cgbWVjaGFuaXNtLCB0aGV5IHdpbGwgYWx3YXlzIHN0YXkgYXQgdGhlXG4gIGJlZ2lubmluZyBvZiBjb250ZXh0IHdpbmRvdy5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2xpZGluZ1dpbmRvdyB7XG4gIC8qKiBTZXNzaW9uIHJlZHVjdGlvbiB0YXJnZXQgLS0gaG93IG1hbnkgdG9rZW5zIHdlIHNob3VsZCBrZWVwLiBXaW5kb3cgc2hvcnRlbmluZyBvcGVyYXRpb24gaGFzIHNvbWUgbGF0ZW5jeSBjb3N0cywgc28gd2Ugc2hvdWxkIGF2b2lkIHJ1bm5pbmcgaXQgb24gZXZlcnkgdHVybi4gU2hvdWxkIGJlIDwgdHJpZ2dlcl90b2tlbnMuIElmIG5vdCBzZXQsIHRyaWdnZXJfdG9rZW5zLzIgaXMgYXNzdW1lZC4gKi9cbiAgdGFyZ2V0VG9rZW5zPzogc3RyaW5nO1xufVxuXG4vKiogRW5hYmxlcyBjb250ZXh0IHdpbmRvdyBjb21wcmVzc2lvbiAtLSBtZWNoYW5pc20gbWFuYWdpbmcgbW9kZWwgY29udGV4dCB3aW5kb3cgc28gaXQgZG9lcyBub3QgZXhjZWVkIGdpdmVuIGxlbmd0aC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb250ZXh0V2luZG93Q29tcHJlc3Npb25Db25maWcge1xuICAvKiogTnVtYmVyIG9mIHRva2VucyAoYmVmb3JlIHJ1bm5pbmcgdHVybikgdGhhdCB0cmlnZ2VycyBjb250ZXh0IHdpbmRvdyBjb21wcmVzc2lvbiBtZWNoYW5pc20uICovXG4gIHRyaWdnZXJUb2tlbnM/OiBzdHJpbmc7XG4gIC8qKiBTbGlkaW5nIHdpbmRvdyBjb21wcmVzc2lvbiBtZWNoYW5pc20uICovXG4gIHNsaWRpbmdXaW5kb3c/OiBTbGlkaW5nV2luZG93O1xufVxuXG4vKiogTWVzc2FnZSBjb250YWlucyBjb25maWd1cmF0aW9uIHRoYXQgd2lsbCBhcHBseSBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBzdHJlYW1pbmcgc2Vzc2lvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50U2V0dXAge1xuICAvKiogXG4gICAgICBUaGUgZnVsbHkgcXVhbGlmaWVkIG5hbWUgb2YgdGhlIHB1Ymxpc2hlciBtb2RlbCBvciB0dW5lZCBtb2RlbCBlbmRwb2ludCB0b1xuICAgICAgdXNlLlxuICAgICAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogVGhlIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbiBmb3IgdGhlIHNlc3Npb24uXG4gICAgICBOb3RlOiBvbmx5IGEgc3Vic2V0IG9mIGZpZWxkcyBhcmUgc3VwcG9ydGVkLlxuICAgICAgICovXG4gIGdlbmVyYXRpb25Db25maWc/OiBHZW5lcmF0aW9uQ29uZmlnO1xuICAvKiogVGhlIHVzZXIgcHJvdmlkZWQgc3lzdGVtIGluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsLlxuICAgICAgTm90ZTogb25seSB0ZXh0IHNob3VsZCBiZSB1c2VkIGluIHBhcnRzIGFuZCBjb250ZW50IGluIGVhY2ggcGFydCB3aWxsIGJlXG4gICAgICBpbiBhIHNlcGFyYXRlIHBhcmFncmFwaC4gKi9cbiAgc3lzdGVtSW5zdHJ1Y3Rpb24/OiBDb250ZW50O1xuICAvKiogIEEgbGlzdCBvZiBgVG9vbHNgIHRoZSBtb2RlbCBtYXkgdXNlIHRvIGdlbmVyYXRlIHRoZSBuZXh0IHJlc3BvbnNlLlxuXG4gICAgICBBIGBUb29sYCBpcyBhIHBpZWNlIG9mIGNvZGUgdGhhdCBlbmFibGVzIHRoZSBzeXN0ZW0gdG8gaW50ZXJhY3Qgd2l0aFxuICAgICAgZXh0ZXJuYWwgc3lzdGVtcyB0byBwZXJmb3JtIGFuIGFjdGlvbiwgb3Igc2V0IG9mIGFjdGlvbnMsIG91dHNpZGUgb2ZcbiAgICAgIGtub3dsZWRnZSBhbmQgc2NvcGUgb2YgdGhlIG1vZGVsLiAqL1xuICB0b29scz86IFRvb2xMaXN0VW5pb247XG4gIC8qKiBDb25maWd1cmVzIHRoZSByZWFsdGltZSBpbnB1dCBiZWhhdmlvciBpbiBCaWRpR2VuZXJhdGVDb250ZW50LiAqL1xuICByZWFsdGltZUlucHV0Q29uZmlnPzogUmVhbHRpbWVJbnB1dENvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgc2Vzc2lvbiByZXN1bXB0aW9uIG1lY2hhbmlzbS5cblxuICAgICAgICAgIElmIGluY2x1ZGVkIHNlcnZlciB3aWxsIHNlbmQgU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgbWVzc2FnZXMuICovXG4gIHNlc3Npb25SZXN1bXB0aW9uPzogU2Vzc2lvblJlc3VtcHRpb25Db25maWc7XG4gIC8qKiBDb25maWd1cmVzIGNvbnRleHQgd2luZG93IGNvbXByZXNzaW9uIG1lY2hhbmlzbS5cblxuICAgICAgSWYgaW5jbHVkZWQsIHNlcnZlciB3aWxsIGNvbXByZXNzIGNvbnRleHQgd2luZG93IHRvIGZpdCBpbnRvIGdpdmVuIGxlbmd0aC4gKi9cbiAgY29udGV4dFdpbmRvd0NvbXByZXNzaW9uPzogQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnO1xufVxuXG4vKiogSW5jcmVtZW50YWwgdXBkYXRlIG9mIHRoZSBjdXJyZW50IGNvbnZlcnNhdGlvbiBkZWxpdmVyZWQgZnJvbSB0aGUgY2xpZW50LlxuXG4gIEFsbCB0aGUgY29udGVudCBoZXJlIHdpbGwgdW5jb25kaXRpb25hbGx5IGJlIGFwcGVuZGVkIHRvIHRoZSBjb252ZXJzYXRpb25cbiAgaGlzdG9yeSBhbmQgdXNlZCBhcyBwYXJ0IG9mIHRoZSBwcm9tcHQgdG8gdGhlIG1vZGVsIHRvIGdlbmVyYXRlIGNvbnRlbnQuXG5cbiAgQSBtZXNzYWdlIGhlcmUgd2lsbCBpbnRlcnJ1cHQgYW55IGN1cnJlbnQgbW9kZWwgZ2VuZXJhdGlvbi5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZUNsaWVudENvbnRlbnQge1xuICAvKiogVGhlIGNvbnRlbnQgYXBwZW5kZWQgdG8gdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIHdpdGggdGhlIG1vZGVsLlxuXG4gICAgICBGb3Igc2luZ2xlLXR1cm4gcXVlcmllcywgdGhpcyBpcyBhIHNpbmdsZSBpbnN0YW5jZS4gRm9yIG11bHRpLXR1cm5cbiAgICAgIHF1ZXJpZXMsIHRoaXMgaXMgYSByZXBlYXRlZCBmaWVsZCB0aGF0IGNvbnRhaW5zIGNvbnZlcnNhdGlvbiBoaXN0b3J5IGFuZFxuICAgICAgbGF0ZXN0IHJlcXVlc3QuXG4gICAgICAgKi9cbiAgdHVybnM/OiBDb250ZW50W107XG4gIC8qKiBJZiB0cnVlLCBpbmRpY2F0ZXMgdGhhdCB0aGUgc2VydmVyIGNvbnRlbnQgZ2VuZXJhdGlvbiBzaG91bGQgc3RhcnQgd2l0aFxuICB0aGUgY3VycmVudGx5IGFjY3VtdWxhdGVkIHByb21wdC4gT3RoZXJ3aXNlLCB0aGUgc2VydmVyIHdpbGwgYXdhaXRcbiAgYWRkaXRpb25hbCBtZXNzYWdlcyBiZWZvcmUgc3RhcnRpbmcgZ2VuZXJhdGlvbi4gKi9cbiAgdHVybkNvbXBsZXRlPzogYm9vbGVhbjtcbn1cblxuLyoqIE1hcmtzIHRoZSBzdGFydCBvZiB1c2VyIGFjdGl2aXR5LlxuXG4gIFRoaXMgY2FuIG9ubHkgYmUgc2VudCBpZiBhdXRvbWF0aWMgKGkuZS4gc2VydmVyLXNpZGUpIGFjdGl2aXR5IGRldGVjdGlvbiBpc1xuICBkaXNhYmxlZC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQWN0aXZpdHlTdGFydCB7fVxuXG4vKiogTWFya3MgdGhlIGVuZCBvZiB1c2VyIGFjdGl2aXR5LlxuXG4gIFRoaXMgY2FuIG9ubHkgYmUgc2VudCBpZiBhdXRvbWF0aWMgKGkuZS4gc2VydmVyLXNpZGUpIGFjdGl2aXR5IGRldGVjdGlvbiBpc1xuICBkaXNhYmxlZC5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQWN0aXZpdHlFbmQge31cblxuLyoqIFVzZXIgaW5wdXQgdGhhdCBpcyBzZW50IGluIHJlYWwgdGltZS5cblxuICBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIGBMaXZlQ2xpZW50Q29udGVudGAgaW4gYSBmZXcgd2F5czpcblxuICAgIC0gQ2FuIGJlIHNlbnQgY29udGludW91c2x5IHdpdGhvdXQgaW50ZXJydXB0aW9uIHRvIG1vZGVsIGdlbmVyYXRpb24uXG4gICAgLSBJZiB0aGVyZSBpcyBhIG5lZWQgdG8gbWl4IGRhdGEgaW50ZXJsZWF2ZWQgYWNyb3NzIHRoZVxuICAgICAgYExpdmVDbGllbnRDb250ZW50YCBhbmQgdGhlIGBMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dGAsIHNlcnZlciBhdHRlbXB0cyB0b1xuICAgICAgb3B0aW1pemUgZm9yIGJlc3QgcmVzcG9uc2UsIGJ1dCB0aGVyZSBhcmUgbm8gZ3VhcmFudGVlcy5cbiAgICAtIEVuZCBvZiB0dXJuIGlzIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCwgYnV0IGlzIHJhdGhlciBkZXJpdmVkIGZyb20gdXNlclxuICAgICAgYWN0aXZpdHkgKGZvciBleGFtcGxlLCBlbmQgb2Ygc3BlZWNoKS5cbiAgICAtIEV2ZW4gYmVmb3JlIHRoZSBlbmQgb2YgdHVybiwgdGhlIGRhdGEgaXMgcHJvY2Vzc2VkIGluY3JlbWVudGFsbHlcbiAgICAgIHRvIG9wdGltaXplIGZvciBhIGZhc3Qgc3RhcnQgb2YgdGhlIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgIC0gSXMgYWx3YXlzIGFzc3VtZWQgdG8gYmUgdGhlIHVzZXIncyBpbnB1dCAoY2Fubm90IGJlIHVzZWQgdG8gcG9wdWxhdGVcbiAgICAgIGNvbnZlcnNhdGlvbiBoaXN0b3J5KS5cbiAgICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZUNsaWVudFJlYWx0aW1lSW5wdXQge1xuICAvKiogSW5saW5lZCBieXRlcyBkYXRhIGZvciBtZWRpYSBpbnB1dC4gKi9cbiAgbWVkaWFDaHVua3M/OiBCbG9iW107XG4gIC8qKiBNYXJrcyB0aGUgc3RhcnQgb2YgdXNlciBhY3Rpdml0eS4gKi9cbiAgYWN0aXZpdHlTdGFydD86IEFjdGl2aXR5U3RhcnQ7XG4gIC8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuICovXG4gIGFjdGl2aXR5RW5kPzogQWN0aXZpdHlFbmQ7XG59XG5cbi8qKiBDbGllbnQgZ2VuZXJhdGVkIHJlc3BvbnNlIHRvIGEgYFRvb2xDYWxsYCByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG5cbiAgSW5kaXZpZHVhbCBgRnVuY3Rpb25SZXNwb25zZWAgb2JqZWN0cyBhcmUgbWF0Y2hlZCB0byB0aGUgcmVzcGVjdGl2ZVxuICBgRnVuY3Rpb25DYWxsYCBvYmplY3RzIGJ5IHRoZSBgaWRgIGZpZWxkLlxuXG4gIE5vdGUgdGhhdCBpbiB0aGUgdW5hcnkgYW5kIHNlcnZlci1zdHJlYW1pbmcgR2VuZXJhdGVDb250ZW50IEFQSXMgZnVuY3Rpb25cbiAgY2FsbGluZyBoYXBwZW5zIGJ5IGV4Y2hhbmdpbmcgdGhlIGBDb250ZW50YCBwYXJ0cywgd2hpbGUgaW4gdGhlIGJpZGlcbiAgR2VuZXJhdGVDb250ZW50IEFQSXMgZnVuY3Rpb24gY2FsbGluZyBoYXBwZW5zIG92ZXIgdGhpcyBkZWRpY2F0ZWQgc2V0IG9mXG4gIG1lc3NhZ2VzLlxuICAgKi9cbmV4cG9ydCBjbGFzcyBMaXZlQ2xpZW50VG9vbFJlc3BvbnNlIHtcbiAgLyoqIFRoZSByZXNwb25zZSB0byB0aGUgZnVuY3Rpb24gY2FsbHMuICovXG4gIGZ1bmN0aW9uUmVzcG9uc2VzPzogRnVuY3Rpb25SZXNwb25zZVtdO1xufVxuXG4vKiogTWVzc2FnZXMgc2VudCBieSB0aGUgY2xpZW50IGluIHRoZSBBUEkgY2FsbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50TWVzc2FnZSB7XG4gIC8qKiBNZXNzYWdlIHRvIGJlIHNlbnQgYnkgdGhlIHN5c3RlbSB3aGVuIGNvbm5lY3RpbmcgdG8gdGhlIEFQSS4gU0RLIHVzZXJzIHNob3VsZCBub3Qgc2VuZCB0aGlzIG1lc3NhZ2UuICovXG4gIHNldHVwPzogTGl2ZUNsaWVudFNldHVwO1xuICAvKiogSW5jcmVtZW50YWwgdXBkYXRlIG9mIHRoZSBjdXJyZW50IGNvbnZlcnNhdGlvbiBkZWxpdmVyZWQgZnJvbSB0aGUgY2xpZW50LiAqL1xuICBjbGllbnRDb250ZW50PzogTGl2ZUNsaWVudENvbnRlbnQ7XG4gIC8qKiBVc2VyIGlucHV0IHRoYXQgaXMgc2VudCBpbiByZWFsIHRpbWUuICovXG4gIHJlYWx0aW1lSW5wdXQ/OiBMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dDtcbiAgLyoqIFJlc3BvbnNlIHRvIGEgYFRvb2xDYWxsTWVzc2FnZWAgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLiAqL1xuICB0b29sUmVzcG9uc2U/OiBMaXZlQ2xpZW50VG9vbFJlc3BvbnNlO1xufVxuXG4vKiogVGhlIGF1ZGlvIHRyYW5zY3JpcHRpb24gY29uZmlndXJhdGlvbiBpbiBTZXR1cC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBdWRpb1RyYW5zY3JpcHRpb25Db25maWcge31cblxuLyoqIFNlc3Npb24gY29uZmlnIGZvciB0aGUgQVBJIGNvbm5lY3Rpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZUNvbm5lY3RDb25maWcge1xuICAvKiogVGhlIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbiBmb3IgdGhlIHNlc3Npb24uICovXG4gIGdlbmVyYXRpb25Db25maWc/OiBHZW5lcmF0aW9uQ29uZmlnO1xuICAvKiogVGhlIHJlcXVlc3RlZCBtb2RhbGl0aWVzIG9mIHRoZSByZXNwb25zZS4gUmVwcmVzZW50cyB0aGUgc2V0IG9mXG4gICAgICBtb2RhbGl0aWVzIHRoYXQgdGhlIG1vZGVsIGNhbiByZXR1cm4uIERlZmF1bHRzIHRvIEFVRElPIGlmIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgKi9cbiAgcmVzcG9uc2VNb2RhbGl0aWVzPzogTW9kYWxpdHlbXTtcbiAgLyoqIFRoZSBzcGVlY2ggZ2VuZXJhdGlvbiBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgc3BlZWNoQ29uZmlnPzogU3BlZWNoQ29uZmlnO1xuICAvKiogVGhlIHVzZXIgcHJvdmlkZWQgc3lzdGVtIGluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsLlxuICAgICAgTm90ZTogb25seSB0ZXh0IHNob3VsZCBiZSB1c2VkIGluIHBhcnRzIGFuZCBjb250ZW50IGluIGVhY2ggcGFydCB3aWxsIGJlXG4gICAgICBpbiBhIHNlcGFyYXRlIHBhcmFncmFwaC4gKi9cbiAgc3lzdGVtSW5zdHJ1Y3Rpb24/OiBDb250ZW50O1xuICAvKiogQSBsaXN0IG9mIGBUb29sc2AgdGhlIG1vZGVsIG1heSB1c2UgdG8gZ2VuZXJhdGUgdGhlIG5leHQgcmVzcG9uc2UuXG5cbiAgICAgIEEgYFRvb2xgIGlzIGEgcGllY2Ugb2YgY29kZSB0aGF0IGVuYWJsZXMgdGhlIHN5c3RlbSB0byBpbnRlcmFjdCB3aXRoXG4gICAgICBleHRlcm5hbCBzeXN0ZW1zIHRvIHBlcmZvcm0gYW4gYWN0aW9uLCBvciBzZXQgb2YgYWN0aW9ucywgb3V0c2lkZSBvZlxuICAgICAga25vd2xlZGdlIGFuZCBzY29wZSBvZiB0aGUgbW9kZWwuICovXG4gIHRvb2xzPzogVG9vbExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyZXMgc2Vzc2lvbiByZXN1bXB0aW9uIG1lY2hhbmlzbS5cblxuSWYgaW5jbHVkZWQgdGhlIHNlcnZlciB3aWxsIHNlbmQgU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgbWVzc2FnZXMuICovXG4gIHNlc3Npb25SZXN1bXB0aW9uPzogU2Vzc2lvblJlc3VtcHRpb25Db25maWc7XG4gIC8qKiBDb25maWd1cmVzIHRoZSByZWFsdGltZSBpbnB1dCBiZWhhdmlvciBpbiBCaWRpR2VuZXJhdGVDb250ZW50LiAqL1xuICByZWFsdGltZUlucHV0Q29uZmlnPzogUmVhbHRpbWVJbnB1dENvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgY29udGV4dCB3aW5kb3cgY29tcHJlc3Npb24gbWVjaGFuaXNtLlxuXG4gICAgICBJZiBpbmNsdWRlZCwgc2VydmVyIHdpbGwgY29tcHJlc3MgY29udGV4dCB3aW5kb3cgdG8gZml0IGludG8gZ2l2ZW4gbGVuZ3RoLiAqL1xuICBjb250ZXh0V2luZG93Q29tcHJlc3Npb24/OiBDb250ZXh0V2luZG93Q29tcHJlc3Npb25Db25maWc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjb25uZWN0aW5nIHRvIHRoZSBsaXZlIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ29ubmVjdFBhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBjYWxsYmFja3MgKi9cbiAgY2FsbGJhY2tzOiBMaXZlQ2FsbGJhY2tzO1xuICAvKiogT3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbmZpZz86IExpdmVDb25uZWN0Q29uZmlnO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgaW5pdGlhbGl6aW5nIGEgbmV3IGNoYXQgc2Vzc2lvbi5cblxuICBUaGVzZSBwYXJhbWV0ZXJzIGFyZSB1c2VkIHdoZW4gY3JlYXRpbmcgYSBjaGF0IHNlc3Npb24gd2l0aCB0aGVcbiAgYGNoYXRzLmNyZWF0ZSgpYCBtZXRob2QuXG4gICAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUNoYXRQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0byB1c2UgZm9yIHRoZSBjaGF0IHNlc3Npb24uXG5cbiAgICAgIEZvciBleGFtcGxlOiAnZ2VtaW5pLTIuMC1mbGFzaCcsICdnZW1pbmktMS41LXBybycsIGV0Yy4gU2VlIGdlbWluaSBBUElcbiAgICAgIGRvY3MgdG8gZmluZCB0aGUgYXZhaWxhYmxlIG1vZGVscy5cbiAgICAgICAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogQ29uZmlnIGZvciB0aGUgZW50aXJlIGNoYXQgc2Vzc2lvbi5cblxuICAgICAgVGhpcyBjb25maWcgYXBwbGllcyB0byBhbGwgcmVxdWVzdHMgd2l0aGluIHRoZSBzZXNzaW9uXG4gICAgICB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBhIHBlci1yZXF1ZXN0IGBjb25maWdgIGluIGBTZW5kTWVzc2FnZVBhcmFtZXRlcnNgLlxuICAgICAgICovXG4gIGNvbmZpZz86IEdlbmVyYXRlQ29udGVudENvbmZpZztcbiAgLyoqIFRoZSBpbml0aWFsIGNvbnZlcnNhdGlvbiBoaXN0b3J5IGZvciB0aGUgY2hhdCBzZXNzaW9uLlxuXG4gICAgICBUaGlzIGFsbG93cyB5b3UgdG8gc3RhcnQgdGhlIGNoYXQgd2l0aCBhIHByZS1leGlzdGluZyBoaXN0b3J5LiBUaGUgaGlzdG9yeVxuICAgICAgbXVzdCBiZSBhIGxpc3Qgb2YgYENvbnRlbnRgIGFsdGVybmF0aW5nIGJldHdlZW4gJ3VzZXInIGFuZCAnbW9kZWwnIHJvbGVzLlxuICAgICAgSXQgc2hvdWxkIHN0YXJ0IHdpdGggYSAndXNlcicgbWVzc2FnZS5cbiAgICAgICAqL1xuICBoaXN0b3J5PzogQ29udGVudFtdO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3Igc2VuZGluZyBhIG1lc3NhZ2Ugd2l0aGluIGEgY2hhdCBzZXNzaW9uLlxuXG4gIFRoZXNlIHBhcmFtZXRlcnMgYXJlIHVzZWQgd2l0aCB0aGUgYGNoYXQuc2VuZE1lc3NhZ2UoKWAgbWV0aG9kLlxuICAgKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTZW5kTWVzc2FnZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIG1lc3NhZ2UgdG8gc2VuZCB0byB0aGUgbW9kZWwuXG5cbiAgICAgIFRoZSBTREsgd2lsbCBjb21iaW5lIGFsbCBwYXJ0cyBpbnRvIGEgc2luZ2xlICd1c2VyJyBjb250ZW50IHRvIHNlbmQgdG9cbiAgICAgIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICBtZXNzYWdlOiBQYXJ0TGlzdFVuaW9uO1xuICAvKiogIENvbmZpZyBmb3IgdGhpcyBzcGVjaWZpYyByZXF1ZXN0LlxuXG4gICAgICBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBwZXItcmVxdWVzdCBjb25maWcgZG9lcyBub3QgY2hhbmdlIHRoZSBjaGF0IGxldmVsXG4gICAgICBjb25maWcsIG5vciBpbmhlcml0IGZyb20gaXQuIElmIHlvdSBpbnRlbmQgdG8gdXNlIHNvbWUgdmFsdWVzIGZyb20gdGhlXG4gICAgICBjaGF0J3MgZGVmYXVsdCBjb25maWcsIHlvdSBtdXN0IGV4cGxpY2l0bHkgY29weSB0aGVtIGludG8gdGhpcyBwZXItcmVxdWVzdFxuICAgICAgY29uZmlnLlxuICAgICAgICovXG4gIGNvbmZpZz86IEdlbmVyYXRlQ29udGVudENvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgY2xpZW50IGNvbnRlbnQgdG8gdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXRlcnMge1xuICAvKiogQ2xpZW50IGNvbnRlbnQgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgdHVybnM/OiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBjb250ZW50IGdlbmVyYXRpb24gc2hvdWxkIHN0YXJ0IHdpdGhcbiAgdGhlIGN1cnJlbnRseSBhY2N1bXVsYXRlZCBwcm9tcHQuIE90aGVyd2lzZSwgdGhlIHNlcnZlciB3aWxsIGF3YWl0XG4gIGFkZGl0aW9uYWwgbWVzc2FnZXMgYmVmb3JlIHN0YXJ0aW5nIGdlbmVyYXRpb24uICovXG4gIHR1cm5Db21wbGV0ZT86IGJvb2xlYW47XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBzZW5kaW5nIHJlYWx0aW1lIGlucHV0IHRvIHRoZSBsaXZlIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VuZFJlYWx0aW1lSW5wdXRQYXJhbWV0ZXJzIHtcbiAgLyoqIFJlYWx0aW1lIGlucHV0IHRvIHNlbmQgdG8gdGhlIHNlc3Npb24uICovXG4gIG1lZGlhOiBCbG9iO1xuICAvKiogTWFya3MgdGhlIHN0YXJ0IG9mIHVzZXIgYWN0aXZpdHkuICovXG4gIGFjdGl2aXR5U3RhcnQ/OiBBY3Rpdml0eVN0YXJ0O1xuICAvKiogTWFya3MgdGhlIGVuZCBvZiB1c2VyIGFjdGl2aXR5LiAqL1xuICBhY3Rpdml0eUVuZD86IEFjdGl2aXR5RW5kO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3Igc2VuZGluZyB0b29sIHJlc3BvbnNlcyB0byB0aGUgbGl2ZSBBUEkuICovXG5leHBvcnQgY2xhc3MgTGl2ZVNlbmRUb29sUmVzcG9uc2VQYXJhbWV0ZXJzIHtcbiAgLyoqIFRvb2wgcmVzcG9uc2VzIHRvIHNlbmQgdG8gdGhlIHNlc3Npb24uICovXG4gIGZ1bmN0aW9uUmVzcG9uc2VzOiBGdW5jdGlvblJlc3BvbnNlW10gfCBGdW5jdGlvblJlc3BvbnNlID0gW107XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG1ldGhvZCBvZiB0aGUgb3BlcmF0aW9ucyBtb2R1bGUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgT3BlcmF0aW9uR2V0UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgb3BlcmF0aW9uIHRvIGJlIHJldHJpZXZlZC4gKi9cbiAgb3BlcmF0aW9uOiBHZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogR2V0T3BlcmF0aW9uQ29uZmlnO1xufVxuXG5leHBvcnQgdHlwZSBQYXJ0VW5pb24gPSBQYXJ0IHwgc3RyaW5nO1xuXG5leHBvcnQgdHlwZSBQYXJ0TGlzdFVuaW9uID0gUGFydFVuaW9uW10gfCBQYXJ0VW5pb247XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRVbmlvbiA9IENvbnRlbnQgfCBQYXJ0VW5pb25bXSB8IFBhcnRVbmlvbjtcblxuZXhwb3J0IHR5cGUgQ29udGVudExpc3RVbmlvbiA9IENvbnRlbnRVbmlvbltdIHwgQ29udGVudFVuaW9uO1xuXG5leHBvcnQgdHlwZSBTY2hlbWFVbmlvbiA9IFNjaGVtYTtcblxuZXhwb3J0IHR5cGUgU3BlZWNoQ29uZmlnVW5pb24gPSBTcGVlY2hDb25maWcgfCBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIFRvb2xMaXN0VW5pb24gPSBUb29sW107XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19jYWNoZXNfY29udmVydGVycyc7XG5pbXBvcnQge1BhZ2VkSXRlbSwgUGFnZXJ9IGZyb20gJy4vcGFnZXJzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgQ2FjaGVzIGV4dGVuZHMgQmFzZU1vZHVsZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIGNhY2hlZCBjb250ZW50IGNvbmZpZ3VyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIHBhZ2luYXRlZCByZXN1bHRzIG9mIHRoZSBsaXN0IG9mIGNhY2hlZCBjb250ZW50cy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgY2FjaGVkQ29udGVudHMgPSBhd2FpdCBhaS5jYWNoZXMubGlzdCh7Y29uZmlnOiB7J3BhZ2VTaXplJzogMn19KTtcbiAgICogZm9yIChjb25zdCBjYWNoZWRDb250ZW50IG9mIGNhY2hlZENvbnRlbnRzKSB7XG4gICAqICAgY29uc29sZS5sb2coY2FjaGVkQ29udGVudCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBsaXN0ID0gYXN5bmMgKFxuICAgIHBhcmFtczogdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVycyA9IHt9LFxuICApOiBQcm9taXNlPFBhZ2VyPHR5cGVzLkNhY2hlZENvbnRlbnQ+PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQYWdlcjx0eXBlcy5DYWNoZWRDb250ZW50PihcbiAgICAgIFBhZ2VkSXRlbS5QQUdFRF9JVEVNX0NBQ0hFRF9DT05URU5UUyxcbiAgICAgICh4OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzKSA9PiB0aGlzLmxpc3RJbnRlcm5hbCh4KSxcbiAgICAgIGF3YWl0IHRoaXMubGlzdEludGVybmFsKHBhcmFtcyksXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNhY2hlZCBjb250ZW50cyByZXNvdXJjZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogQ29udGV4dCBjYWNoaW5nIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBzcGVjaWZpYyBtb2RlbHMuIFNlZSBbR2VtaW5pXG4gICAqIERldmVsb3BlciBBUEkgcmVmZXJlbmNlXSAoaHR0cHM6Ly9haS5nb29nbGUuZGV2L2dlbWluaS1hcGkvZG9jcy9jYWNoaW5nP2xhbmc9bm9kZS9jb250ZXh0LWNhYylcbiAgICogYW5kIFtWZXJ0ZXggQUkgcmVmZXJlbmNlXSAoaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvY29udGV4dC1jYWNoZS9jb250ZXh0LWNhY2hlLW92ZXJ2aWV3I3N1cHBvcnRlZF9tb2RlbHMpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBjcmVhdGUgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgY3JlYXRlZCBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgY29udGVudHMgPSAuLi47IC8vIEluaXRpYWxpemUgdGhlIGNvbnRlbnQgdG8gY2FjaGUuXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkuY2FjaGVzLmNyZWF0ZSh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMS41LWZsYXNoJyxcbiAgICogICBjb25maWc6IHtcbiAgICogICAgJ2NvbnRlbnRzJzogY29udGVudHMsXG4gICAqICAgICdkaXNwbGF5TmFtZSc6ICd0ZXN0IGNhY2hlJyxcbiAgICogICAgJ3N5c3RlbUluc3RydWN0aW9uJzogJ1doYXQgaXMgdGhlIHN1bSBvZiB0aGUgdHdvIHBkZnM/JyxcbiAgICogICAgJ3R0bCc6ICc4NjQwMHMnLFxuICAgKiAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjcmVhdGUoXG4gICAgcGFyYW1zOiB0eXBlcy5DcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnY2FjaGVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY2FjaGVkQ29udGVudEZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQ2FjaGVkQ29udGVudDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdjYWNoZWRDb250ZW50cycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjYWNoZWQgY29udGVudCBjb25maWd1cmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGNhY2hlZCBjb250ZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCBhaS5jYWNoZXMuZ2V0KHtuYW1lOiAnZ2VtaW5pLTEuNS1mbGFzaCd9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBnZXQoXG4gICAgcGFyYW1zOiB0eXBlcy5HZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY2FjaGVkQ29udGVudEZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQ2FjaGVkQ29udGVudDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZGVsZXRlIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGVtcHR5IHJlc3BvbnNlIHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmNhY2hlcy5kZWxldGUoe25hbWU6ICdnZW1pbmktMS41LWZsYXNoJ30pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGRlbGV0ZShcbiAgICBwYXJhbXM6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleCgpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBjYWNoZWQgY29udGVudCBjb25maWd1cmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgdXBkYXRlIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIHVwZGF0ZWQgY2FjaGVkIGNvbnRlbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkuY2FjaGVzLnVwZGF0ZSh7XG4gICAqICAgbmFtZTogJ2dlbWluaS0xLjUtZmxhc2gnLFxuICAgKiAgIGNvbmZpZzogeyd0dGwnOiAnNzYwMHMnfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyB1cGRhdGUoXG4gICAgcGFyYW1zOiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy51cGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jYWNoZWRDb250ZW50RnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLnVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY2FjaGVkQ29udGVudEZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnY2FjaGVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnY2FjaGVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi9fdHJhbnNmb3JtZXJzJztcbmltcG9ydCB7TW9kZWxzfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlc3BvbnNlIGlzIHZhbGlkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRSZXNwb25zZShyZXNwb25zZTogdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UpOiBib29sZWFuIHtcbiAgaWYgKHJlc3BvbnNlLmNhbmRpZGF0ZXMgPT0gdW5kZWZpbmVkIHx8IHJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbnRlbnQgPSByZXNwb25zZS5jYW5kaWRhdGVzWzBdPy5jb250ZW50O1xuICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBpc1ZhbGlkQ29udGVudChjb250ZW50KTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZENvbnRlbnQoY29udGVudDogdHlwZXMuQ29udGVudCk6IGJvb2xlYW4ge1xuICBpZiAoY29udGVudC5wYXJ0cyA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQucGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgcGFydCBvZiBjb250ZW50LnBhcnRzKSB7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCB8fCBPYmplY3Qua2V5cyhwYXJ0KS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHBhcnQudGV4dCAhPT0gdW5kZWZpbmVkICYmIHBhcnQudGV4dCA9PT0gJycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBoaXN0b3J5IGNvbnRhaW5zIHRoZSBjb3JyZWN0IHJvbGVzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBFeHBlY3RzIHRoZSBoaXN0b3J5IHRvIHN0YXJ0IHdpdGggYSB1c2VyIHR1cm4gYW5kIHRoZW4gYWx0ZXJuYXRlIGJldHdlZW5cbiAqIHVzZXIgYW5kIG1vZGVsIHR1cm5zLlxuICpcbiAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGhpc3RvcnkgZG9lcyBub3Qgc3RhcnQgd2l0aCBhIHVzZXIgdHVybi5cbiAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGhpc3RvcnkgY29udGFpbnMgYW4gaW52YWxpZCByb2xlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUhpc3RvcnkoaGlzdG9yeTogdHlwZXMuQ29udGVudFtdKSB7XG4gIC8vIEVtcHR5IGhpc3RvcnkgaXMgdmFsaWQuXG4gIGlmIChoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaGlzdG9yeVswXS5yb2xlICE9PSAndXNlcicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0hpc3RvcnkgbXVzdCBzdGFydCB3aXRoIGEgdXNlciB0dXJuLicpO1xuICB9XG4gIGZvciAoY29uc3QgY29udGVudCBvZiBoaXN0b3J5KSB7XG4gICAgaWYgKGNvbnRlbnQucm9sZSAhPT0gJ3VzZXInICYmIGNvbnRlbnQucm9sZSAhPT0gJ21vZGVsJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSb2xlIG11c3QgYmUgdXNlciBvciBtb2RlbCwgYnV0IGdvdCAke2NvbnRlbnQucm9sZX0uYCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGN1cmF0ZWQgKHZhbGlkKSBoaXN0b3J5IGZyb20gYSBjb21wcmVoZW5zaXZlIGhpc3RvcnkuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSBtb2RlbCBtYXkgc29tZXRpbWVzIGdlbmVyYXRlIGludmFsaWQgb3IgZW1wdHkgY29udGVudHMoZS5nLiwgZHVlIHRvIHNhZnR5XG4gKiBmaWx0ZXJzIG9yIHJlY2l0YXRpb24pLiBFeHRyYWN0aW5nIHZhbGlkIHR1cm5zIGZyb20gdGhlIGhpc3RvcnlcbiAqIGVuc3VyZXMgdGhhdCBzdWJzZXF1ZW50IHJlcXVlc3RzIGNvdWxkIGJlIGFjY3BldGVkIGJ5IHRoZSBtb2RlbC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEN1cmF0ZWRIaXN0b3J5KFxuICBjb21wcmVoZW5zaXZlSGlzdG9yeTogdHlwZXMuQ29udGVudFtdLFxuKTogdHlwZXMuQ29udGVudFtdIHtcbiAgaWYgKGNvbXByZWhlbnNpdmVIaXN0b3J5ID09PSB1bmRlZmluZWQgfHwgY29tcHJlaGVuc2l2ZUhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGN1cmF0ZWRIaXN0b3J5OiB0eXBlcy5Db250ZW50W10gPSBbXTtcbiAgY29uc3QgbGVuZ3RoID0gY29tcHJlaGVuc2l2ZUhpc3RvcnkubGVuZ3RoO1xuICBsZXQgaSA9IDA7XG4gIGxldCB1c2VySW5wdXQgPSBjb21wcmVoZW5zaXZlSGlzdG9yeVswXTtcbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICBpZiAoY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICB1c2VySW5wdXQgPSBjb21wcmVoZW5zaXZlSGlzdG9yeVtpXTtcbiAgICAgIGkrKztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbW9kZWxPdXRwdXQ6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuICAgICAgd2hpbGUgKGkgPCBsZW5ndGggJiYgY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0ucm9sZSA9PT0gJ21vZGVsJykge1xuICAgICAgICBtb2RlbE91dHB1dC5wdXNoKGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldKTtcbiAgICAgICAgaWYgKGlzVmFsaWQgJiYgIWlzVmFsaWRDb250ZW50KGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldKSkge1xuICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICBjdXJhdGVkSGlzdG9yeS5wdXNoKHVzZXJJbnB1dCk7XG4gICAgICAgIGN1cmF0ZWRIaXN0b3J5LnB1c2goLi4ubW9kZWxPdXRwdXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY3VyYXRlZEhpc3Rvcnk7XG59XG5cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHRvIGNyZWF0ZSBhIGNoYXQgc2Vzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXRzIHtcbiAgcHJpdmF0ZSByZWFkb25seSBtb2RlbHNNb2R1bGU6IE1vZGVscztcbiAgcHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbHNNb2R1bGU6IE1vZGVscywgYXBpQ2xpZW50OiBBcGlDbGllbnQpIHtcbiAgICB0aGlzLm1vZGVsc01vZHVsZSA9IG1vZGVsc01vZHVsZTtcbiAgICB0aGlzLmFwaUNsaWVudCA9IGFwaUNsaWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNoYXQgc2Vzc2lvbi5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGNvbmZpZyBpbiB0aGUgcGFyYW1zIHdpbGwgYmUgdXNlZCBmb3IgYWxsIHJlcXVlc3RzIHdpdGhpbiB0aGUgY2hhdFxuICAgKiBzZXNzaW9uIHVubGVzcyBvdmVycmlkZGVuIGJ5IGEgcGVyLXJlcXVlc3QgYGNvbmZpZ2AgaW5cbiAgICogQHNlZSB7QGxpbmsgdHlwZXMuU2VuZE1lc3NhZ2VQYXJhbWV0ZXJzI2NvbmZpZ30uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBQYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIGNoYXQgc2Vzc2lvbi5cbiAgICogQHJldHVybnMgQSBuZXcgY2hhdCBzZXNzaW9uLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjaGF0ID0gYWkuY2hhdHMuY3JlYXRlKHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICB0ZW1wZXJhdHVyZTogMC41LFxuICAgKiAgICAgbWF4T3V0cHV0VG9rZW5zOiAxMDI0LFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY3JlYXRlKHBhcmFtczogdHlwZXMuQ3JlYXRlQ2hhdFBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gbmV3IENoYXQoXG4gICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgIHRoaXMubW9kZWxzTW9kdWxlLFxuICAgICAgcGFyYW1zLm1vZGVsLFxuICAgICAgcGFyYW1zLmNvbmZpZyxcbiAgICAgIHBhcmFtcy5oaXN0b3J5LFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGF0IHNlc3Npb24gdGhhdCBlbmFibGVzIHNlbmRpbmcgbWVzc2FnZXMgdG8gdGhlIG1vZGVsIHdpdGggcHJldmlvdXNcbiAqIGNvbnZlcnNhdGlvbiBjb250ZXh0LlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGUgc2Vzc2lvbiBtYWludGFpbnMgYWxsIHRoZSB0dXJucyBiZXR3ZWVuIHVzZXIgYW5kIG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhdCB7XG4gIC8vIEEgcHJvbWlzZSB0byByZXByZXNlbnQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1lc3NhZ2UgYmVpbmcgc2VudCB0byB0aGVcbiAgLy8gbW9kZWwuXG4gIHByaXZhdGUgc2VuZFByb21pc2U6IFByb21pc2U8dm9pZD4gPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbW9kZWxzTW9kdWxlOiBNb2RlbHMsXG4gICAgcHJpdmF0ZSByZWFkb25seSBtb2RlbDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRDb25maWcgPSB7fSxcbiAgICBwcml2YXRlIGhpc3Rvcnk6IHR5cGVzLkNvbnRlbnRbXSA9IFtdLFxuICApIHtcbiAgICB2YWxpZGF0ZUhpc3RvcnkoaGlzdG9yeSk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBtb2RlbCBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIG1lc3NhZ2UgdG8gYmUgcHJvY2Vzc2VkIGJlZm9yZVxuICAgKiBzZW5kaW5nIHRoZSBuZXh0IG1lc3NhZ2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIENoYXQjc2VuZE1lc3NhZ2VTdHJlYW19IGZvciBzdHJlYW1pbmcgbWV0aG9kLlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcGFyYW1ldGVycyBmb3Igc2VuZGluZyBtZXNzYWdlcyB3aXRoaW4gYSBjaGF0IHNlc3Npb24uXG4gICAqIEByZXR1cm5zIFRoZSBtb2RlbCdzIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjaGF0ID0gYWkuY2hhdHMuY3JlYXRlKHttb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnfSk7XG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZSh7XG4gICAqICAgbWVzc2FnZTogJ1doeSBpcyB0aGUgc2t5IGJsdWU/J1xuICAgKiB9KTtcbiAgICogY29uc29sZS5sb2cocmVzcG9uc2UudGV4dCk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgc2VuZE1lc3NhZ2UoXG4gICAgcGFyYW1zOiB0eXBlcy5TZW5kTWVzc2FnZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+IHtcbiAgICBhd2FpdCB0aGlzLnNlbmRQcm9taXNlO1xuICAgIGNvbnN0IGlucHV0Q29udGVudCA9IHQudENvbnRlbnQodGhpcy5hcGlDbGllbnQsIHBhcmFtcy5tZXNzYWdlKTtcbiAgICBjb25zdCByZXNwb25zZVByb21pc2UgPSB0aGlzLm1vZGVsc01vZHVsZS5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICBjb250ZW50czogdGhpcy5nZXRIaXN0b3J5KHRydWUpLmNvbmNhdChpbnB1dENvbnRlbnQpLFxuICAgICAgY29uZmlnOiBwYXJhbXMuY29uZmlnID8/IHRoaXMuY29uZmlnLFxuICAgIH0pO1xuICAgIHRoaXMuc2VuZFByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZVByb21pc2U7XG4gICAgICBjb25zdCBvdXRwdXRDb250ZW50ID0gcmVzcG9uc2UuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50O1xuICAgICAgY29uc3QgbW9kZWxPdXRwdXQgPSBvdXRwdXRDb250ZW50ID8gW291dHB1dENvbnRlbnRdIDogW107XG4gICAgICB0aGlzLnJlY29yZEhpc3RvcnkoaW5wdXRDb250ZW50LCBtb2RlbE91dHB1dCk7XG4gICAgICByZXR1cm47XG4gICAgfSkoKTtcbiAgICBhd2FpdCB0aGlzLnNlbmRQcm9taXNlO1xuICAgIHJldHVybiByZXNwb25zZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBtb2RlbCBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UgaW4gY2h1bmtzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIG1ldGhvZCB3aWxsIHdhaXQgZm9yIHRoZSBwcmV2aW91cyBtZXNzYWdlIHRvIGJlIHByb2Nlc3NlZCBiZWZvcmVcbiAgICogc2VuZGluZyB0aGUgbmV4dCBtZXNzYWdlLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBDaGF0I3NlbmRNZXNzYWdlfSBmb3Igbm9uLXN0cmVhbWluZyBtZXRob2QuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwYXJhbWV0ZXJzIGZvciBzZW5kaW5nIHRoZSBtZXNzYWdlLlxuICAgKiBAcmV0dXJuIFRoZSBtb2RlbCdzIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjaGF0ID0gYWkuY2hhdHMuY3JlYXRlKHttb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnfSk7XG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZVN0cmVhbSh7XG4gICAqICAgbWVzc2FnZTogJ1doeSBpcyB0aGUgc2t5IGJsdWU/J1xuICAgKiB9KTtcbiAgICogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXNwb25zZSkge1xuICAgKiAgIGNvbnNvbGUubG9nKGNodW5rLnRleHQpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgc2VuZE1lc3NhZ2VTdHJlYW0oXG4gICAgcGFyYW1zOiB0eXBlcy5TZW5kTWVzc2FnZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+PiB7XG4gICAgYXdhaXQgdGhpcy5zZW5kUHJvbWlzZTtcbiAgICBjb25zdCBpbnB1dENvbnRlbnQgPSB0LnRDb250ZW50KHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMubWVzc2FnZSk7XG4gICAgY29uc3Qgc3RyZWFtUmVzcG9uc2UgPSB0aGlzLm1vZGVsc01vZHVsZS5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0oe1xuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICBjb250ZW50czogdGhpcy5nZXRIaXN0b3J5KHRydWUpLmNvbmNhdChpbnB1dENvbnRlbnQpLFxuICAgICAgY29uZmlnOiBwYXJhbXMuY29uZmlnID8/IHRoaXMuY29uZmlnLFxuICAgIH0pO1xuICAgIHRoaXMuc2VuZFByb21pc2UgPSBzdHJlYW1SZXNwb25zZS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdHJlYW1SZXNwb25zZTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2Nlc3NTdHJlYW1SZXNwb25zZShyZXNwb25zZSwgaW5wdXRDb250ZW50KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNoYXQgaGlzdG9yeS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGhpc3RvcnkgaXMgYSBsaXN0IG9mIGNvbnRlbnRzIGFsdGVybmF0aW5nIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gICAqXG4gICAqIFRoZXJlIGFyZSB0d28gdHlwZXMgb2YgaGlzdG9yeTpcbiAgICogLSBUaGUgYGN1cmF0ZWQgaGlzdG9yeWAgY29udGFpbnMgb25seSB0aGUgdmFsaWQgdHVybnMgYmV0d2VlbiB1c2VyIGFuZFxuICAgKiBtb2RlbCwgd2hpY2ggd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgc3Vic2VxdWVudCByZXF1ZXN0cyBzZW50IHRvIHRoZSBtb2RlbC5cbiAgICogLSBUaGUgYGNvbXByZWhlbnNpdmUgaGlzdG9yeWAgY29udGFpbnMgYWxsIHR1cm5zLCBpbmNsdWRpbmcgaW52YWxpZCBvclxuICAgKiAgIGVtcHR5IG1vZGVsIG91dHB1dHMsIHByb3ZpZGluZyBhIGNvbXBsZXRlIHJlY29yZCBvZiB0aGUgaGlzdG9yeS5cbiAgICpcbiAgICogVGhlIGhpc3RvcnkgaXMgdXBkYXRlZCBhZnRlciByZWNlaXZpbmcgdGhlIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLFxuICAgKiBmb3Igc3RyZWFtaW5nIHJlc3BvbnNlLCBpdCBtZWFucyByZWNlaXZpbmcgdGhlIGxhc3QgY2h1bmsgb2YgdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBUaGUgYGNvbXByZWhlbnNpdmUgaGlzdG9yeWAgaXMgcmV0dXJuZWQgYnkgZGVmYXVsdC4gVG8gZ2V0IHRoZSBgY3VyYXRlZFxuICAgKiBoaXN0b3J5YCwgc2V0IHRoZSBgY3VyYXRlZGAgcGFyYW1ldGVyIHRvIGB0cnVlYC5cbiAgICpcbiAgICogQHBhcmFtIGN1cmF0ZWQgLSB3aGV0aGVyIHRvIHJldHVybiB0aGUgY3VyYXRlZCBoaXN0b3J5IG9yIHRoZSBjb21wcmVoZW5zaXZlXG4gICAqICAgICBoaXN0b3J5LlxuICAgKiBAcmV0dXJuIEhpc3RvcnkgY29udGVudHMgYWx0ZXJuYXRpbmcgYmV0d2VlbiB1c2VyIGFuZCBtb2RlbCBmb3IgdGhlIGVudGlyZVxuICAgKiAgICAgY2hhdCBzZXNzaW9uLlxuICAgKi9cbiAgZ2V0SGlzdG9yeShjdXJhdGVkOiBib29sZWFuID0gZmFsc2UpOiB0eXBlcy5Db250ZW50W10ge1xuICAgIHJldHVybiBjdXJhdGVkID8gZXh0cmFjdEN1cmF0ZWRIaXN0b3J5KHRoaXMuaGlzdG9yeSkgOiB0aGlzLmhpc3Rvcnk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jICpwcm9jZXNzU3RyZWFtUmVzcG9uc2UoXG4gICAgc3RyZWFtUmVzcG9uc2U6IEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPixcbiAgICBpbnB1dENvbnRlbnQ6IHR5cGVzLkNvbnRlbnQsXG4gICkge1xuICAgIGNvbnN0IG91dHB1dENvbnRlbnQ6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtUmVzcG9uc2UpIHtcbiAgICAgIGlmIChpc1ZhbGlkUmVzcG9uc2UoY2h1bmspKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ7XG4gICAgICAgIGlmIChjb250ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBvdXRwdXRDb250ZW50LnB1c2goY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHlpZWxkIGNodW5rO1xuICAgIH1cbiAgICB0aGlzLnJlY29yZEhpc3RvcnkoaW5wdXRDb250ZW50LCBvdXRwdXRDb250ZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVjb3JkSGlzdG9yeShcbiAgICB1c2VySW5wdXQ6IHR5cGVzLkNvbnRlbnQsXG4gICAgbW9kZWxPdXRwdXQ6IHR5cGVzLkNvbnRlbnRbXSxcbiAgKSB7XG4gICAgbGV0IG91dHB1dENvbnRlbnRzOiB0eXBlcy5Db250ZW50W10gPSBbXTtcbiAgICBpZiAoXG4gICAgICBtb2RlbE91dHB1dC5sZW5ndGggPiAwICYmXG4gICAgICBtb2RlbE91dHB1dC5ldmVyeSgoY29udGVudCkgPT4gY29udGVudC5yb2xlID09PSAnbW9kZWwnKVxuICAgICkge1xuICAgICAgb3V0cHV0Q29udGVudHMgPSBtb2RlbE91dHB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXBwZW5kcyBhbiBlbXB0eSBjb250ZW50IHdoZW4gbW9kZWwgcmV0dXJucyBlbXB0eSByZXNwb25zZSwgc28gdGhhdCB0aGVcbiAgICAgIC8vIGhpc3RvcnkgaXMgYWx3YXlzIGFsdGVybmF0aW5nIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gICAgICBvdXRwdXRDb250ZW50cy5wdXNoKHtcbiAgICAgICAgcm9sZTogJ21vZGVsJyxcbiAgICAgICAgcGFydHM6IFtdLFxuICAgICAgfSBhcyB0eXBlcy5Db250ZW50KTtcbiAgICB9XG4gICAgdGhpcy5oaXN0b3J5LnB1c2godXNlcklucHV0KTtcbiAgICB0aGlzLmhpc3RvcnkucHVzaCguLi5vdXRwdXRDb250ZW50cyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vX2NvbW1vbic7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4uL190cmFuc2Zvcm1lcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbGlzdEZpbGVzQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdEZpbGVzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgbGlzdEZpbGVzQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZVN0YXR1c1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GaWxlU3RhdHVzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RldGFpbHMnXSk7XG4gIGlmIChmcm9tRGV0YWlscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RldGFpbHMnXSwgZnJvbURldGFpbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1lc3NhZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXNzYWdlJ10pO1xuICBpZiAoZnJvbU1lc3NhZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXNzYWdlJ10sIGZyb21NZXNzYWdlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29kZSddKTtcbiAgaWYgKGZyb21Db2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZSddLCBmcm9tQ29kZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxlVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZpbGUsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2l6ZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2l6ZUJ5dGVzJ10pO1xuICBpZiAoZnJvbVNpemVCeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NpemVCeXRlcyddLCBmcm9tU2l6ZUJ5dGVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DcmVhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY3JlYXRlVGltZSddKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJhdGlvblRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleHBpcmF0aW9uVGltZScsXG4gIF0pO1xuICBpZiAoZnJvbUV4cGlyYXRpb25UaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhwaXJhdGlvblRpbWUnXSwgZnJvbUV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2hhMjU2SGFzaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NoYTI1Nkhhc2gnXSk7XG4gIGlmIChmcm9tU2hhMjU2SGFzaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NoYTI1Nkhhc2gnXSwgZnJvbVNoYTI1Nkhhc2gpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VyaSddKTtcbiAgaWYgKGZyb21VcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmknXSwgZnJvbVVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG93bmxvYWRVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb3dubG9hZFVyaSddKTtcbiAgaWYgKGZyb21Eb3dubG9hZFVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rvd25sb2FkVXJpJ10sIGZyb21Eb3dubG9hZFVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzdGF0ZSddKTtcbiAgaWYgKGZyb21TdGF0ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0YXRlJ10sIGZyb21TdGF0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU291cmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc291cmNlJ10pO1xuICBpZiAoZnJvbVNvdXJjZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NvdXJjZSddLCBmcm9tU291cmNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZXJyb3InXSxcbiAgICAgIGZpbGVTdGF0dXNUb01sZGV2KGFwaUNsaWVudCwgZnJvbUVycm9yKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlRmlsZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GaWxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZSddKTtcbiAgaWYgKGZyb21GaWxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZSddLCBmaWxlVG9NbGRldihhcGlDbGllbnQsIGZyb21GaWxlKSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldEZpbGVQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnZmlsZSddLFxuICAgICAgdC50RmlsZU5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlRmlsZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdmaWxlJ10sXG4gICAgICB0LnRGaWxlTmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxlU3RhdHVzRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZVN0YXR1cyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbURldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXRhaWxzJ10pO1xuICBpZiAoZnJvbURldGFpbHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXRhaWxzJ10sIGZyb21EZXRhaWxzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXNzYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWVzc2FnZSddKTtcbiAgaWYgKGZyb21NZXNzYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVzc2FnZSddLCBmcm9tTWVzc2FnZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvZGUnXSk7XG4gIGlmIChmcm9tQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGUnXSwgZnJvbUNvZGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZpbGUsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2l6ZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2l6ZUJ5dGVzJ10pO1xuICBpZiAoZnJvbVNpemVCeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NpemVCeXRlcyddLCBmcm9tU2l6ZUJ5dGVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DcmVhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY3JlYXRlVGltZSddKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJhdGlvblRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleHBpcmF0aW9uVGltZScsXG4gIF0pO1xuICBpZiAoZnJvbUV4cGlyYXRpb25UaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhwaXJhdGlvblRpbWUnXSwgZnJvbUV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2hhMjU2SGFzaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NoYTI1Nkhhc2gnXSk7XG4gIGlmIChmcm9tU2hhMjU2SGFzaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NoYTI1Nkhhc2gnXSwgZnJvbVNoYTI1Nkhhc2gpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VyaSddKTtcbiAgaWYgKGZyb21VcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmknXSwgZnJvbVVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG93bmxvYWRVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb3dubG9hZFVyaSddKTtcbiAgaWYgKGZyb21Eb3dubG9hZFVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rvd25sb2FkVXJpJ10sIGZyb21Eb3dubG9hZFVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzdGF0ZSddKTtcbiAgaWYgKGZyb21TdGF0ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0YXRlJ10sIGZyb21TdGF0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU291cmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc291cmNlJ10pO1xuICBpZiAoZnJvbVNvdXJjZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NvdXJjZSddLCBmcm9tU291cmNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZXJyb3InXSxcbiAgICAgIGZpbGVTdGF0dXNGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tRXJyb3IpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0RmlsZXNSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlcyddKTtcbiAgaWYgKGZyb21GaWxlcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUZpbGVzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmaWxlcyddLFxuICAgICAgICBmcm9tRmlsZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZpbGVGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZXMnXSwgZnJvbUZpbGVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaWxlUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21IdHRwSGVhZGVycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2h0dHBIZWFkZXJzJ10pO1xuICBpZiAoZnJvbUh0dHBIZWFkZXJzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaHR0cEhlYWRlcnMnXSwgZnJvbUh0dHBIZWFkZXJzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUZpbGVSZXNwb25zZUZyb21NbGRldigpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHtCYXNlTW9kdWxlfSBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0ICogYXMgY29udmVydGVycyBmcm9tICcuL2NvbnZlcnRlcnMvX2ZpbGVzX2NvbnZlcnRlcnMnO1xuaW1wb3J0IHtQYWdlZEl0ZW0sIFBhZ2VyfSBmcm9tICcuL3BhZ2Vycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQmFzZU1vZHVsZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIGFsbCBjdXJyZW50IHByb2plY3QgZmlsZXMgZnJvbSB0aGUgc2VydmljZS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgbGlzdCByZXF1ZXN0XG4gICAqIEByZXR1cm4gVGhlIHBhZ2luYXRlZCByZXN1bHRzIG9mIHRoZSBsaXN0IG9mIGZpbGVzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIFRoZSBmb2xsb3dpbmcgY29kZSBwcmludHMgdGhlIG5hbWVzIG9mIGFsbCBmaWxlcyBmcm9tIHRoZSBzZXJ2aWNlLCB0aGVcbiAgICogc2l6ZSBvZiBlYWNoIHBhZ2UgaXMgMTAuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGxpc3RSZXNwb25zZSA9IGF3YWl0IGFpLmZpbGVzLmxpc3Qoe2NvbmZpZzogeydwYWdlU2l6ZSc6IDEwfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2YgbGlzdFJlc3BvbnNlKSB7XG4gICAqICAgY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGxpc3QgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzID0ge30sXG4gICk6IFByb21pc2U8UGFnZXI8dHlwZXMuRmlsZT4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLkZpbGU+KFxuICAgICAgUGFnZWRJdGVtLlBBR0VEX0lURU1fRklMRVMsXG4gICAgICAoeDogdHlwZXMuTGlzdEZpbGVzUGFyYW1ldGVycykgPT4gdGhpcy5saXN0SW50ZXJuYWwoeCksXG4gICAgICBhd2FpdCB0aGlzLmxpc3RJbnRlcm5hbChwYXJhbXMpLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwbG9hZHMgYSBmaWxlIGFzeW5jaHJvbm91c2x5IHRvIHRoZSBHZW1pbmkgQVBJLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIGluIFZlcnRleCBBSS5cbiAgICogU3VwcG9ydGVkIHVwbG9hZCBzb3VyY2VzOlxuICAgKiAtIE5vZGUuanM6IEZpbGUgcGF0aCAoc3RyaW5nKSBvciBCbG9iIG9iamVjdC5cbiAgICogLSBCcm93c2VyOiBCbG9iIG9iamVjdCAoZS5nLiwgRmlsZSkuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSBgbWltZVR5cGVgIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIGBjb25maWdgIHBhcmFtZXRlci4gSWYgb21pdHRlZDpcbiAgICogIC0gRm9yIGZpbGUgcGF0aCAoc3RyaW5nKSBpbnB1dHMsIHRoZSBgbWltZVR5cGVgIHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGVcbiAgICogICAgIGZpbGUgZXh0ZW5zaW9uLlxuICAgKiAgLSBGb3IgQmxvYiBvYmplY3QgaW5wdXRzLCB0aGUgYG1pbWVUeXBlYCB3aWxsIGJlIHNldCB0byB0aGUgQmxvYidzIGB0eXBlYFxuICAgKiAgICAgcHJvcGVydHkuXG4gICAqIFNvbWV4IGVhbXBsZXMgZm9yIGZpbGUgZXh0ZW5zaW9uIHRvIG1pbWVUeXBlIG1hcHBpbmc6XG4gICAqIC50eHQgLT4gdGV4dC9wbGFpblxuICAgKiAuanNvbiAtPiBhcHBsaWNhdGlvbi9qc29uXG4gICAqIC5qcGcgIC0+IGltYWdlL2pwZWdcbiAgICogLnBuZyAtPiBpbWFnZS9wbmdcbiAgICogLm1wMyAtPiBhdWRpby9tcGVnXG4gICAqIC5tcDQgLT4gdmlkZW8vbXA0XG4gICAqXG4gICAqIFRoaXMgc2VjdGlvbiBjYW4gY29udGFpbiBtdWx0aXBsZSBwYXJhZ3JhcGhzIGFuZCBjb2RlIGV4YW1wbGVzLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyBzcGVjaWZpZWQgaW4gdGhlXG4gICAqICAgICAgICBgdHlwZXMuVXBsb2FkRmlsZVBhcmFtZXRlcnNgIGludGVyZmFjZS5cbiAgICogICAgICAgICBAc2VlIHtAbGluayB0eXBlcy5VcGxvYWRGaWxlUGFyYW1ldGVycyNjb25maWd9IGZvciB0aGUgb3B0aW9uYWxcbiAgICogICAgICAgICBjb25maWcgaW4gdGhlIHBhcmFtZXRlcnMuXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBgdHlwZXMuRmlsZWAgb2JqZWN0LlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIGNhbGxlZCBvbiBhIFZlcnRleCBBSSBjbGllbnQuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlIGBtaW1lVHlwZWAgaXMgbm90IHByb3ZpZGVkIGFuZCBjYW4gbm90IGJlIGluZmVycmVkLFxuICAgKiB0aGUgYG1pbWVUeXBlYCBjYW4gYmUgcHJvdmlkZWQgaW4gdGhlIGBwYXJhbXMuY29uZmlnYCBwYXJhbWV0ZXIuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3Igb2NjdXJzIGlmIGEgc3VpdGFibGUgdXBsb2FkIGxvY2F0aW9uIGNhbm5vdCBiZSBlc3RhYmxpc2hlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogVGhlIGZvbGxvd2luZyBjb2RlIHVwbG9hZHMgYSBmaWxlIHRvIEdlbWluaSBBUEkuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGZpbGUgPSBhd2FpdCBhaS5maWxlcy51cGxvYWQoe2ZpbGU6ICdmaWxlLnR4dCcsIGNvbmZpZzoge1xuICAgKiAgIG1pbWVUeXBlOiAndGV4dC9wbGFpbicsXG4gICAqIH19KTtcbiAgICogY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyB1cGxvYWQocGFyYW1zOiB0eXBlcy5VcGxvYWRGaWxlUGFyYW1ldGVycyk6IFByb21pc2U8dHlwZXMuRmlsZT4ge1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1ZlcnRleCBBSSBkb2VzIG5vdCBzdXBwb3J0IHVwbG9hZGluZyBmaWxlcy4gWW91IGNhbiBzaGFyZSBmaWxlcyB0aHJvdWdoIGEgR0NTIGJ1Y2tldC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcGlDbGllbnRcbiAgICAgIC51cGxvYWRGaWxlKHBhcmFtcy5maWxlLCBwYXJhbXMuY29uZmlnKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBjb252ZXJ0ZXJzLmZpbGVGcm9tTWxkZXYodGhpcy5hcGlDbGllbnQsIHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIGZpbGUgYXMgdHlwZXMuRmlsZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0RmlsZXNQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcCgnZmlsZXMnLCBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdEZpbGVzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGlzdEZpbGVzUmVzcG9uc2VGcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5MaXN0RmlsZXNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlRmlsZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAndXBsb2FkL3YxYmV0YS9maWxlcycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNyZWF0ZUZpbGVSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBmaWxlIGluZm9ybWF0aW9uIGZyb20gdGhlIHNlcnZpY2UuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCByZXF1ZXN0XG4gICAqIEByZXR1cm4gVGhlIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHlwZXMuRmlsZSBvYmplY3QgcmVxdWVzdGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjb25maWc6IEdldEZpbGVQYXJhbWV0ZXJzID0ge1xuICAgKiAgIG5hbWU6IGZpbGVOYW1lLFxuICAgKiB9O1xuICAgKiBmaWxlID0gYXdhaXQgYWkuZmlsZXMuZ2V0KGNvbmZpZyk7XG4gICAqIGNvbnNvbGUubG9nKGZpbGUubmFtZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZ2V0KHBhcmFtczogdHlwZXMuR2V0RmlsZVBhcmFtZXRlcnMpOiBQcm9taXNlPHR5cGVzLkZpbGU+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuRmlsZT47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0RmlsZVBhcmFtZXRlcnNUb01sZGV2KHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdmaWxlcy97ZmlsZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRmlsZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5maWxlRnJvbU1sZGV2KHRoaXMuYXBpQ2xpZW50LCBhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuRmlsZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgcmVtb3RlbHkgc3RvcmVkIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGRlbGV0ZSByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBEZWxldGVGaWxlUmVzcG9uc2UsIHRoZSByZXNwb25zZSBmb3IgdGhlIGRlbGV0ZSBtZXRob2QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkZWxldGVzIGFuIGV4YW1wbGUgZmlsZSBuYW1lZCBcImZpbGVzL21laG96cHhmODc3ZFwiLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCBhaS5maWxlcy5kZWxldGUoe25hbWU6IGZpbGUubmFtZX0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGRlbGV0ZShcbiAgICBwYXJhbXM6IHR5cGVzLkRlbGV0ZUZpbGVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUZpbGVSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmRlbGV0ZUZpbGVQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2ZpbGVzL3tmaWxlfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmRlbGV0ZUZpbGVSZXNwb25zZUZyb21NbGRldigpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRGVsZXRlRmlsZVJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50JztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0VG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZpZGVvTWV0YWRhdGEgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0VG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJ0cyddLCBmcm9tUGFydHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlbWFUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2NoZW1hLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdleGFtcGxlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGF0dGVybiddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXR0ZXJuIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVmYXVsdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZWZhdWx0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4TGVuZ3RoJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21heExlbmd0aCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkxlbmd0aCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5MZW5ndGggcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5Qcm9wZXJ0aWVzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pblByb3BlcnRpZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhQcm9wZXJ0aWVzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21heFByb3BlcnRpZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BbnlPZiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FueU9mJ10pO1xuICBpZiAoZnJvbUFueU9mICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYW55T2YnXSwgZnJvbUFueU9mKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbnVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW51bSddKTtcbiAgaWYgKGZyb21FbnVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW51bSddLCBmcm9tRW51bSk7XG4gIH1cblxuICBjb25zdCBmcm9tRm9ybWF0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZm9ybWF0J10pO1xuICBpZiAoZnJvbUZvcm1hdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Zvcm1hdCddLCBmcm9tRm9ybWF0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2l0ZW1zJ10pO1xuICBpZiAoZnJvbUl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaXRlbXMnXSwgZnJvbUl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhJdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21heEl0ZW1zJ10pO1xuICBpZiAoZnJvbU1heEl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4SXRlbXMnXSwgZnJvbU1heEl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhpbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4aW11bSddKTtcbiAgaWYgKGZyb21NYXhpbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4aW11bSddLCBmcm9tTWF4aW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluSXRlbXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5JdGVtcyddKTtcbiAgaWYgKGZyb21NaW5JdGVtcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbkl0ZW1zJ10sIGZyb21NaW5JdGVtcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWluaW11bSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbmltdW0nXSk7XG4gIGlmIChmcm9tTWluaW11bSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbmltdW0nXSwgZnJvbU1pbmltdW0pO1xuICB9XG5cbiAgY29uc3QgZnJvbU51bGxhYmxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbnVsbGFibGUnXSk7XG4gIGlmIChmcm9tTnVsbGFibGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydudWxsYWJsZSddLCBmcm9tTnVsbGFibGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9wZXJ0aWVzJ10pO1xuICBpZiAoZnJvbVByb3BlcnRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9wZXJ0aWVzJ10sIGZyb21Qcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9wZXJ0eU9yZGVyaW5nID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvcGVydHlPcmRlcmluZycsXG4gIF0pO1xuICBpZiAoZnJvbVByb3BlcnR5T3JkZXJpbmcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9wZXJ0eU9yZGVyaW5nJ10sIGZyb21Qcm9wZXJ0eU9yZGVyaW5nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXF1aXJlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JlcXVpcmVkJ10pO1xuICBpZiAoZnJvbVJlcXVpcmVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVxdWlyZWQnXSwgZnJvbVJlcXVpcmVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaXRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpdGxlJ10pO1xuICBpZiAoZnJvbVRpdGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGl0bGUnXSwgZnJvbVRpdGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHlwZSddKTtcbiAgaWYgKGZyb21UeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHlwZSddLCBmcm9tVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZldHlTZXR0aW5nVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eVNldHRpbmcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRob2QnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2F0ZWdvcnkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYXRlZ29yeSddKTtcbiAgaWYgKGZyb21DYXRlZ29yeSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhdGVnb3J5J10sIGZyb21DYXRlZ29yeSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhyZXNob2xkJ10pO1xuICBpZiAoZnJvbVRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RocmVzaG9sZCddLCBmcm9tVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25EZWNsYXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jlc3BvbnNlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJhbWV0ZXJzJ10pO1xuICBpZiAoZnJvbVBhcmFtZXRlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJhbWV0ZXJzJ10sIGZyb21QYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFRvTWxkZXYoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkR5bmFtaWNSZXRyaWV2YWxDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRHluYW1pY1RocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNUaHJlc2hvbGQnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZHluYW1pY1RocmVzaG9sZCddLCBmcm9tRHluYW1pY1RocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hSZXRyaWV2YWxUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R5bmFtaWNSZXRyaWV2YWxDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZHluYW1pY1JldHJpZXZhbENvbmZpZyddLFxuICAgICAgZHluYW1pY1JldHJpZXZhbENvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLFxuICAgICAgICBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmV0cmlldmFsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddLCBnb29nbGVTZWFyY2hUb01sZGV2KCkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9NbGRldihhcGlDbGllbnQsIGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsaW5nQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGUnXSk7XG4gIGlmIChmcm9tTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGUnXSwgZnJvbU1vZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnLFxuICBdKTtcbiAgaWYgKGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJ10sXG4gICAgICBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyddLFxuICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVidWlsdFZvaWNlQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlByZWJ1aWx0Vm9pY2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Wb2ljZU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2b2ljZU5hbWUnXSk7XG4gIGlmIChmcm9tVm9pY2VOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndm9pY2VOYW1lJ10sIGZyb21Wb2ljZU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdm9pY2VDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVm9pY2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QcmVidWlsdFZvaWNlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlYnVpbHRWb2ljZUNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVByZWJ1aWx0Vm9pY2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwcmVidWlsdFZvaWNlQ29uZmlnJ10sXG4gICAgICBwcmVidWlsdFZvaWNlQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21QcmVidWlsdFZvaWNlQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BlZWNoQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNwZWVjaENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZvaWNlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndm9pY2VDb25maWcnXSk7XG4gIGlmIChmcm9tVm9pY2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2b2ljZUNvbmZpZyddLFxuICAgICAgdm9pY2VDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbVZvaWNlQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhpbmtpbmdDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVGhpbmtpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbmNsdWRlVGhvdWdodHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlVGhvdWdodHMnLFxuICBdKTtcbiAgaWYgKGZyb21JbmNsdWRlVGhvdWdodHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbmNsdWRlVGhvdWdodHMnXSwgZnJvbUluY2x1ZGVUaG91Z2h0cyk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhpbmtpbmdCdWRnZXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aGlua2luZ0J1ZGdldCcsXG4gIF0pO1xuICBpZiAoZnJvbVRoaW5raW5nQnVkZ2V0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhpbmtpbmdCdWRnZXQnXSwgZnJvbVRoaW5raW5nQnVkZ2V0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgdC50Q29udGVudChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGVtcGVyYXR1cmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZW1wZXJhdHVyZSddKTtcbiAgaWYgKGZyb21UZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10sIGZyb21UZW1wZXJhdHVyZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wUCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcFAnXSk7XG4gIGlmIChmcm9tVG9wUCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RvcFAnXSwgZnJvbVRvcFApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcEsgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BLJ10pO1xuICBpZiAoZnJvbVRvcEsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BLJ10sIGZyb21Ub3BLKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYW5kaWRhdGVDb3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhbmRpZGF0ZUNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FuZGlkYXRlQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYW5kaWRhdGVDb3VudCddLCBmcm9tQ2FuZGlkYXRlQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heE91dHB1dFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heE91dHB1dFRva2VucycsXG4gIF0pO1xuICBpZiAoZnJvbU1heE91dHB1dFRva2VucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heE91dHB1dFRva2VucyddLCBmcm9tTWF4T3V0cHV0VG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdG9wU2VxdWVuY2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3RvcFNlcXVlbmNlcycsXG4gIF0pO1xuICBpZiAoZnJvbVN0b3BTZXF1ZW5jZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzdG9wU2VxdWVuY2VzJ10sIGZyb21TdG9wU2VxdWVuY2VzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUxvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VMb2dwcm9icycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZUxvZ3Byb2JzJ10sIGZyb21SZXNwb25zZUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xvZ3Byb2JzJ10pO1xuICBpZiAoZnJvbUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbG9ncHJvYnMnXSwgZnJvbUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QcmVzZW5jZVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVzZW5jZVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21QcmVzZW5jZVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcmVzZW5jZVBlbmFsdHknXSwgZnJvbVByZXNlbmNlUGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tRnJlcXVlbmN5UGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2ZyZXF1ZW5jeVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21GcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnJlcXVlbmN5UGVuYWx0eSddLCBmcm9tRnJlcXVlbmN5UGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1pbWVUeXBlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlTWltZVR5cGUnXSwgZnJvbVJlc3BvbnNlTWltZVR5cGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VTY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVNjaGVtYSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlU2NoZW1hJ10sXG4gICAgICBzY2hlbWFUb01sZGV2KGFwaUNsaWVudCwgdC50U2NoZW1hKGFwaUNsaWVudCwgZnJvbVJlc3BvbnNlU2NoZW1hKSksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb3V0aW5nQ29uZmlnJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JvdXRpbmdDb25maWcgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlTZXR0aW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eVNldHRpbmdzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2FmZXR5U2V0dGluZ3MgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21TYWZldHlTZXR0aW5ncykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3NhZmV0eVNldHRpbmdzJ10sXG4gICAgICAgIGZyb21TYWZldHlTZXR0aW5ncy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gc2FmZXR5U2V0dGluZ1RvTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzYWZldHlTZXR0aW5ncyddLFxuICAgICAgICBmcm9tU2FmZXR5U2V0dGluZ3MsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tVG9vbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWyd0b29scyddLFxuICAgICAgICB0LnRUb29scyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50VG9vbHMoYXBpQ2xpZW50LCBmcm9tVG9vbHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2xUb01sZGV2KGFwaUNsaWVudCwgdC50VG9vbChhcGlDbGllbnQsIGl0ZW0pKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3Rvb2xzJ10sXG4gICAgICAgIHQudFRvb2xzKGFwaUNsaWVudCwgZnJvbVRvb2xzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndG9vbENvbmZpZyddLFxuICAgICAgdG9vbENvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tVG9vbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGFiZWxzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21DYWNoZWRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnQnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbUNhY2hlZENvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzcGVlY2hDb25maWcnXSxcbiAgICAgIHNwZWVjaENvbmZpZ1RvTWxkZXYoXG4gICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgdC50U3BlZWNoQ29uZmlnKGFwaUNsaWVudCwgZnJvbVNwZWVjaENvbmZpZyksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXVkaW9UaW1lc3RhbXAnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXVkaW9UaW1lc3RhbXAgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tVGhpbmtpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0aGlua2luZ0NvbmZpZyddLFxuICAgICAgdGhpbmtpbmdDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbVRoaW5raW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21Db250ZW50cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY29udGVudHMnXSxcbiAgICAgICAgdC50Q29udGVudHMoXG4gICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZyddLFxuICAgICAgZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50Q29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRhc2tUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGFza1R5cGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGFza1R5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncmVxdWVzdHNbXScsICd0YXNrVHlwZSddLFxuICAgICAgZnJvbVRhc2tUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGl0bGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aXRsZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UaXRsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydyZXF1ZXN0c1tdJywgJ3RpdGxlJ10sIGZyb21UaXRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXREaW1lbnNpb25hbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3JlcXVlc3RzW10nLCAnb3V0cHV0RGltZW5zaW9uYWxpdHknXSxcbiAgICAgIGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pbWVUeXBlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXV0b1RydW5jYXRlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2F1dG9UcnVuY2F0ZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ2NvbnRlbnQnXSxcbiAgICAgIHQudENvbnRlbnRzRm9yRW1iZWQoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgZW1iZWRDb250ZW50Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsRm9yRW1iZWRDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWxGb3JFbWJlZENvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbEZvckVtYmVkQ29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzQ29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0R2NzVXJpJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ291dHB1dEdjc1VyaSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25lZ2F0aXZlUHJvbXB0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25lZ2F0aXZlUHJvbXB0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVtYmVyT2ZJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdudW1iZXJPZkltYWdlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU51bWJlck9mSW1hZ2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlQ291bnQnXSxcbiAgICAgIGZyb21OdW1iZXJPZkltYWdlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhc3BlY3RSYXRpbyddLFxuICAgICAgZnJvbUFzcGVjdFJhdGlvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tR3VpZGFuY2VTY2FsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2d1aWRhbmNlU2NhbGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21HdWlkYW5jZVNjYWxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZ3VpZGFuY2VTY2FsZSddLFxuICAgICAgZnJvbUd1aWRhbmNlU2NhbGUsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlZWQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlGaWx0ZXJMZXZlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eUZpbHRlckxldmVsJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYWZldHlTZXR0aW5nJ10sXG4gICAgICBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QZXJzb25HZW5lcmF0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGVyc29uR2VuZXJhdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBlcnNvbkdlbmVyYXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdwZXJzb25HZW5lcmF0aW9uJ10sXG4gICAgICBmcm9tUGVyc29uR2VuZXJhdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2luY2x1ZGVTYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmNsdWRlUmFpUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVJhaVJlYXNvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVSYWlSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdpbmNsdWRlUmFpUmVhc29uJ10sXG4gICAgICBmcm9tSW5jbHVkZVJhaVJlYXNvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhbmd1YWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFuZ3VhZ2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGFuZ3VhZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdsYW5ndWFnZSddLFxuICAgICAgZnJvbUxhbmd1YWdlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0TWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dE1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnb3V0cHV0T3B0aW9ucycsICdtaW1lVHlwZSddLFxuICAgICAgZnJvbU91dHB1dE1pbWVUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnb3V0cHV0T3B0aW9ucycsICdjb21wcmVzc2lvblF1YWxpdHknXSxcbiAgICAgIGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhZGRXYXRlcm1hcmsnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYWRkV2F0ZXJtYXJrIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5oYW5jZVByb21wdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbmhhbmNlUHJvbXB0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGdlbmVyYXRlSW1hZ2VzQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWxQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldE1vZGVsUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb25maWcnXSwgZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc0NvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db3VudFRva2Vuc0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N5c3RlbUluc3RydWN0aW9uJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24gcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndG9vbHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnZW5lcmF0aW9uQ29uZmlnJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnZ2VuZXJhdGlvbkNvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50VG9rZW5zUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db3VudFRva2Vuc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGNvdW50VG9rZW5zQ29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbWFnZVRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbWFnZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnY3NVcmkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2VCeXRlcyddKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYnl0ZXNCYXNlNjRFbmNvZGVkJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21JbWFnZUJ5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OdW1iZXJPZlZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ251bWJlck9mVmlkZW9zJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTnVtYmVyT2ZWaWRlb3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYW1wbGVDb3VudCddLFxuICAgICAgZnJvbU51bWJlck9mVmlkZW9zLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0R2NzVXJpJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ291dHB1dEdjc1VyaSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZwcyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmcHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EdXJhdGlvblNlY29uZHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkdXJhdGlvblNlY29uZHMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdkdXJhdGlvblNlY29uZHMnXSxcbiAgICAgIGZyb21EdXJhdGlvblNlY29uZHMsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlZWQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXNwZWN0UmF0aW8nXSxcbiAgICAgIGZyb21Bc3BlY3RSYXRpbyxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc29sdXRpb24nXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVzb2x1dGlvbiBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHVic3ViVG9waWMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHVic3ViVG9waWMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZWdhdGl2ZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25lZ2F0aXZlUHJvbXB0JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTmVnYXRpdmVQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICduZWdhdGl2ZVByb21wdCddLFxuICAgICAgZnJvbU5lZ2F0aXZlUHJvbXB0LFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5oYW5jZVByb21wdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbmhhbmNlUHJvbXB0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2UnXSk7XG4gIGlmIChmcm9tSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAnaW1hZ2UnXSxcbiAgICAgIGltYWdlVG9NbGRldihhcGlDbGllbnQsIGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc0NvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYXJ0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcnRzJ10pO1xuICBpZiAoZnJvbVBhcnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tUGFydHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3BhcnRzJ10sXG4gICAgICAgIGZyb21QYXJ0cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gcGFydFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVtYVRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuU2NoZW1hLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRXhhbXBsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4YW1wbGUnXSk7XG4gIGlmIChmcm9tRXhhbXBsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4YW1wbGUnXSwgZnJvbUV4YW1wbGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhdHRlcm4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXR0ZXJuJ10pO1xuICBpZiAoZnJvbVBhdHRlcm4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXR0ZXJuJ10sIGZyb21QYXR0ZXJuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZWZhdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVmYXVsdCddKTtcbiAgaWYgKGZyb21EZWZhdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVmYXVsdCddLCBmcm9tRGVmYXVsdCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4TGVuZ3RoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4TGVuZ3RoJ10pO1xuICBpZiAoZnJvbU1heExlbmd0aCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heExlbmd0aCddLCBmcm9tTWF4TGVuZ3RoKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5MZW5ndGggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW5MZW5ndGgnXSk7XG4gIGlmIChmcm9tTWluTGVuZ3RoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluTGVuZ3RoJ10sIGZyb21NaW5MZW5ndGgpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pblByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtaW5Qcm9wZXJ0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tTWluUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pblByb3BlcnRpZXMnXSwgZnJvbU1pblByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heFByb3BlcnRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhQcm9wZXJ0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4UHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21heFByb3BlcnRpZXMnXSwgZnJvbU1heFByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFueU9mID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYW55T2YnXSk7XG4gIGlmIChmcm9tQW55T2YgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhbnlPZiddLCBmcm9tQW55T2YpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVudW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbnVtJ10pO1xuICBpZiAoZnJvbUVudW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbnVtJ10sIGZyb21FbnVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Gb3JtYXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmb3JtYXQnXSk7XG4gIGlmIChmcm9tRm9ybWF0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZm9ybWF0J10sIGZyb21Gb3JtYXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaXRlbXMnXSk7XG4gIGlmIChmcm9tSXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpdGVtcyddLCBmcm9tSXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heEl0ZW1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWF4SXRlbXMnXSk7XG4gIGlmIChmcm9tTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhJdGVtcyddLCBmcm9tTWF4SXRlbXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heGltdW0gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXhpbXVtJ10pO1xuICBpZiAoZnJvbU1heGltdW0gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhpbXVtJ10sIGZyb21NYXhpbXVtKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5JdGVtcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbkl0ZW1zJ10pO1xuICBpZiAoZnJvbU1pbkl0ZW1zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluSXRlbXMnXSwgZnJvbU1pbkl0ZW1zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW5pbXVtID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWluaW11bSddKTtcbiAgaWYgKGZyb21NaW5pbXVtICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWluaW11bSddLCBmcm9tTWluaW11bSk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVsbGFibGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydudWxsYWJsZSddKTtcbiAgaWYgKGZyb21OdWxsYWJsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ251bGxhYmxlJ10sIGZyb21OdWxsYWJsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvcGVydGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSk7XG4gIGlmIChmcm9tUHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnRpZXMnXSwgZnJvbVByb3BlcnRpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb3BlcnR5T3JkZXJpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9wZXJ0eU9yZGVyaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvcGVydHlPcmRlcmluZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb3BlcnR5T3JkZXJpbmcnXSwgZnJvbVByb3BlcnR5T3JkZXJpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlcXVpcmVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVxdWlyZWQnXSk7XG4gIGlmIChmcm9tUmVxdWlyZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXF1aXJlZCddLCBmcm9tUmVxdWlyZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpdGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGl0bGUnXSk7XG4gIGlmIChmcm9tVGl0bGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0eXBlJ10pO1xuICBpZiAoZnJvbVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0eXBlJ10sIGZyb21UeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmV0eVNldHRpbmdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eVNldHRpbmcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21NZXRob2QgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRob2QnXSk7XG4gIGlmIChmcm9tTWV0aG9kICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0aG9kJ10sIGZyb21NZXRob2QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhdGVnb3J5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY2F0ZWdvcnknXSk7XG4gIGlmIChmcm9tQ2F0ZWdvcnkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYXRlZ29yeSddLCBmcm9tQ2F0ZWdvcnkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RocmVzaG9sZCddKTtcbiAgaWYgKGZyb21UaHJlc2hvbGQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aHJlc2hvbGQnXSwgZnJvbVRocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkRlY2xhcmF0aW9uVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkRlY2xhcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBzY2hlbWFUb1ZlcnRleChhcGlDbGllbnQsIGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFyYW1ldGVycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSk7XG4gIGlmIChmcm9tUGFyYW1ldGVycyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSwgZnJvbVBhcmFtZXRlcnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlU2VhcmNoVG9WZXJ0ZXgoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EeW5hbWljUmV0cmlldmFsQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGUnXSk7XG4gIGlmIChmcm9tTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGUnXSwgZnJvbU1vZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUR5bmFtaWNUaHJlc2hvbGQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkeW5hbWljVGhyZXNob2xkJyxcbiAgXSk7XG4gIGlmIChmcm9tRHluYW1pY1RocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2R5bmFtaWNUaHJlc2hvbGQnXSwgZnJvbUR5bmFtaWNUaHJlc2hvbGQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlU2VhcmNoUmV0cmlldmFsVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVTZWFyY2hSZXRyaWV2YWwsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EeW5hbWljUmV0cmlldmFsQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZHluYW1pY1JldHJpZXZhbENvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUR5bmFtaWNSZXRyaWV2YWxDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydkeW5hbWljUmV0cmlldmFsQ29uZmlnJ10sXG4gICAgICBkeW5hbWljUmV0cmlldmFsQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tRHluYW1pY1JldHJpZXZhbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlRvb2wsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSxcbiAgICAgICAgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbkRlY2xhcmF0aW9uVG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJ10sXG4gICAgICAgIGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JldHJpZXZhbCddKTtcbiAgaWYgKGZyb21SZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXRyaWV2YWwnXSwgZnJvbVJldHJpZXZhbCk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddLCBnb29nbGVTZWFyY2hUb1ZlcnRleCgpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnb29nbGVTZWFyY2hSZXRyaWV2YWwnLFxuICBdKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVTZWFyY2hSZXRyaWV2YWwnXSxcbiAgICAgIGdvb2dsZVNlYXJjaFJldHJpZXZhbFRvVmVydGV4KGFwaUNsaWVudCwgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb2RlRXhlY3V0aW9uJ10sIGZyb21Db2RlRXhlY3V0aW9uKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsaW5nQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGUnXSk7XG4gIGlmIChmcm9tTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGUnXSwgZnJvbU1vZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnLFxuICBdKTtcbiAgaWYgKGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJ10sXG4gICAgICBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlRvb2xDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkNhbGxpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGxpbmdDb25maWcnXSxcbiAgICAgIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZWJ1aWx0Vm9pY2VDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlByZWJ1aWx0Vm9pY2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Wb2ljZU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2b2ljZU5hbWUnXSk7XG4gIGlmIChmcm9tVm9pY2VOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndm9pY2VOYW1lJ10sIGZyb21Wb2ljZU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdm9pY2VDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZvaWNlQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJlYnVpbHRWb2ljZUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWJ1aWx0Vm9pY2VDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVidWlsdFZvaWNlQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncHJlYnVpbHRWb2ljZUNvbmZpZyddLFxuICAgICAgcHJlYnVpbHRWb2ljZUNvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbVByZWJ1aWx0Vm9pY2VDb25maWcpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGVlY2hDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNwZWVjaENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZvaWNlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndm9pY2VDb25maWcnXSk7XG4gIGlmIChmcm9tVm9pY2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2b2ljZUNvbmZpZyddLFxuICAgICAgdm9pY2VDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Wb2ljZUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRoaW5raW5nQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5UaGlua2luZ0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVUaG91Z2h0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVUaG91Z2h0cycsXG4gIF0pO1xuICBpZiAoZnJvbUluY2x1ZGVUaG91Z2h0cyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luY2x1ZGVUaG91Z2h0cyddLCBmcm9tSW5jbHVkZVRob3VnaHRzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0J1ZGdldCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQnVkZ2V0JyxcbiAgXSk7XG4gIGlmIChmcm9tVGhpbmtpbmdCdWRnZXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aGlua2luZ0J1ZGdldCddLCBmcm9tVGhpbmtpbmdCdWRnZXQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIHQudENvbnRlbnQoYXBpQ2xpZW50LCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24pKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZW1wZXJhdHVyZSddLCBmcm9tVGVtcGVyYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAoZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BQJ10sIGZyb21Ub3BQKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BLID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wSyddKTtcbiAgaWYgKGZyb21Ub3BLICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wSyddLCBmcm9tVG9wSyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZUNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlQ291bnQnXSwgZnJvbUNhbmRpZGF0ZUNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhPdXRwdXRUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhPdXRwdXRUb2tlbnMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhPdXRwdXRUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhPdXRwdXRUb2tlbnMnXSwgZnJvbU1heE91dHB1dFRva2Vucyk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RvcFNlcXVlbmNlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N0b3BTZXF1ZW5jZXMnLFxuICBdKTtcbiAgaWYgKGZyb21TdG9wU2VxdWVuY2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RvcFNlcXVlbmNlcyddLCBmcm9tU3RvcFNlcXVlbmNlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VMb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTG9ncHJvYnMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VMb2dwcm9icyddLCBmcm9tUmVzcG9uc2VMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsb2dwcm9icyddKTtcbiAgaWYgKGZyb21Mb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzJ10sIGZyb21Mb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlc2VuY2VQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlc2VuY2VQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlc2VuY2VQZW5hbHR5J10sIGZyb21QcmVzZW5jZVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZyZXF1ZW5jeVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmcmVxdWVuY3lQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tRnJlcXVlbmN5UGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZyZXF1ZW5jeVBlbmFsdHknXSwgZnJvbUZyZXF1ZW5jeVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAoZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZU1pbWVUeXBlJ10sIGZyb21SZXNwb25zZU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VTY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZVNjaGVtYSddLFxuICAgICAgc2NoZW1hVG9WZXJ0ZXgoYXBpQ2xpZW50LCB0LnRTY2hlbWEoYXBpQ2xpZW50LCBmcm9tUmVzcG9uc2VTY2hlbWEpKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJvdXRpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyb3V0aW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tUm91dGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JvdXRpbmdDb25maWcnXSwgZnJvbVJvdXRpbmdDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eVNldHRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5U2V0dGluZ3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlTZXR0aW5ncyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVNhZmV0eVNldHRpbmdzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnc2FmZXR5U2V0dGluZ3MnXSxcbiAgICAgICAgZnJvbVNhZmV0eVNldHRpbmdzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBzYWZldHlTZXR0aW5nVG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzYWZldHlTZXR0aW5ncyddLFxuICAgICAgICBmcm9tU2FmZXR5U2V0dGluZ3MsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tVG9vbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWyd0b29scyddLFxuICAgICAgICB0LnRUb29scyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50VG9vbHMoYXBpQ2xpZW50LCBmcm9tVG9vbHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleChhcGlDbGllbnQsIHQudFRvb2woYXBpQ2xpZW50LCBpdGVtKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWyd0b29scyddLFxuICAgICAgICB0LnRUb29scyhhcGlDbGllbnQsIGZyb21Ub29scyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENvbmZpZyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3Rvb2xDb25maWcnXSxcbiAgICAgIHRvb2xDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhYmVscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYWJlbHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnbGFiZWxzJ10sIGZyb21MYWJlbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYWNoZWRDb250ZW50JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ2FjaGVkQ29udGVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydjYWNoZWRDb250ZW50J10sXG4gICAgICB0LnRDYWNoZWRDb250ZW50TmFtZShhcGlDbGllbnQsIGZyb21DYWNoZWRDb250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTW9kYWxpdGllcycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTW9kYWxpdGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlTW9kYWxpdGllcyddLFxuICAgICAgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1lZGlhUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21lZGlhUmVzb2x1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbU1lZGlhUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhUmVzb2x1dGlvbiddLCBmcm9tTWVkaWFSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcGVlY2hDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzcGVlY2hDb25maWcnXSk7XG4gIGlmIChmcm9tU3BlZWNoQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3BlZWNoQ29uZmlnJ10sXG4gICAgICBzcGVlY2hDb25maWdUb1ZlcnRleChcbiAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICB0LnRTcGVlY2hDb25maWcoYXBpQ2xpZW50LCBmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdWRpb1RpbWVzdGFtcCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2F1ZGlvVGltZXN0YW1wJyxcbiAgXSk7XG4gIGlmIChmcm9tQXVkaW9UaW1lc3RhbXAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhdWRpb1RpbWVzdGFtcCddLCBmcm9tQXVkaW9UaW1lc3RhbXApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21UaGlua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3RoaW5raW5nQ29uZmlnJ10sXG4gICAgICB0aGlua2luZ0NvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbVRoaW5raW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tQ29udGVudHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKFxuICAgICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NvbnRlbnRzJ10sXG4gICAgICAgIHQudENvbnRlbnRzKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBnZW5lcmF0ZUNvbnRlbnRDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UYXNrVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rhc2tUeXBlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRhc2tUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ3Rhc2tfdHlwZSddLFxuICAgICAgZnJvbVRhc2tUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGl0bGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aXRsZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UaXRsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydpbnN0YW5jZXNbXScsICd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0RGltZW5zaW9uYWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dERpbWVuc2lvbmFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ21pbWVUeXBlJ10sXG4gICAgICBmcm9tTWltZVR5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdXRvVHJ1bmNhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdXRvVHJ1bmNhdGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXV0b1RydW5jYXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXV0b1RydW5jYXRlJ10sXG4gICAgICBmcm9tQXV0b1RydW5jYXRlLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbXScsICdjb250ZW50J10sXG4gICAgICB0LnRDb250ZW50c0ZvckVtYmVkKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGVtYmVkQ29udGVudENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlc0NvbmZpZ1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21PdXRwdXRHY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRHY3NVcmknXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0R2NzVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc3RvcmFnZVVyaSddLFxuICAgICAgZnJvbU91dHB1dEdjc1VyaSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU5lZ2F0aXZlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmVnYXRpdmVQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OZWdhdGl2ZVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ25lZ2F0aXZlUHJvbXB0J10sXG4gICAgICBmcm9tTmVnYXRpdmVQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OdW1iZXJPZkltYWdlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ251bWJlck9mSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTnVtYmVyT2ZJbWFnZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYW1wbGVDb3VudCddLFxuICAgICAgZnJvbU51bWJlck9mSW1hZ2VzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQXNwZWN0UmF0aW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhc3BlY3RSYXRpbyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Bc3BlY3RSYXRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2FzcGVjdFJhdGlvJ10sXG4gICAgICBmcm9tQXNwZWN0UmF0aW8sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HdWlkYW5jZVNjYWxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ3VpZGFuY2VTY2FsZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUd1aWRhbmNlU2NhbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdndWlkYW5jZVNjYWxlJ10sXG4gICAgICBmcm9tR3VpZGFuY2VTY2FsZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsncGFyYW1ldGVycycsICdzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlGaWx0ZXJMZXZlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eUZpbHRlckxldmVsJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYWZldHlTZXR0aW5nJ10sXG4gICAgICBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QZXJzb25HZW5lcmF0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGVyc29uR2VuZXJhdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBlcnNvbkdlbmVyYXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdwZXJzb25HZW5lcmF0aW9uJ10sXG4gICAgICBmcm9tUGVyc29uR2VuZXJhdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2luY2x1ZGVTYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmNsdWRlUmFpUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVJhaVJlYXNvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVSYWlSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdpbmNsdWRlUmFpUmVhc29uJ10sXG4gICAgICBmcm9tSW5jbHVkZVJhaVJlYXNvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhbmd1YWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFuZ3VhZ2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGFuZ3VhZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdsYW5ndWFnZSddLFxuICAgICAgZnJvbUxhbmd1YWdlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0TWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dE1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnb3V0cHV0T3B0aW9ucycsICdtaW1lVHlwZSddLFxuICAgICAgZnJvbU91dHB1dE1pbWVUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnb3V0cHV0T3B0aW9ucycsICdjb21wcmVzc2lvblF1YWxpdHknXSxcbiAgICAgIGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BZGRXYXRlcm1hcmsgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhZGRXYXRlcm1hcmsnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQWRkV2F0ZXJtYXJrICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYWRkV2F0ZXJtYXJrJ10sXG4gICAgICBmcm9tQWRkV2F0ZXJtYXJrLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5oYW5jZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuaGFuY2VQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmhhbmNlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZW5oYW5jZVByb21wdCddLFxuICAgICAgZnJvbUVuaGFuY2VQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGdlbmVyYXRlSW1hZ2VzQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVsUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0TW9kZWxQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbmZpZyddLCBmcm9tQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50VG9rZW5zQ29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db3VudFRva2Vuc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvVmVydGV4KGFwaUNsaWVudCwgdC50Q29udGVudChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29scyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVRvb2xzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsndG9vbHMnXSxcbiAgICAgICAgZnJvbVRvb2xzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sVG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3Rvb2xzJ10sIGZyb21Ub29scyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRpb25Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR2VuZXJhdGlvbkNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBmcm9tR2VuZXJhdGlvbkNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db3VudFRva2Vuc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBjb3VudFRva2Vuc0NvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9rZW5zUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29tcHV0ZVRva2Vuc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNvbnRlbnRzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhcbiAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgdC50Q29udGVudHMoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjb250ZW50cyddLFxuICAgICAgICB0LnRDb250ZW50cyhhcGlDbGllbnQsIGZyb21Db250ZW50cyksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tR2NzVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2VCeXRlcyddKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYnl0ZXNCYXNlNjRFbmNvZGVkJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21JbWFnZUJ5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTnVtYmVyT2ZWaWRlb3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdudW1iZXJPZlZpZGVvcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU51bWJlck9mVmlkZW9zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlQ291bnQnXSxcbiAgICAgIGZyb21OdW1iZXJPZlZpZGVvcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dEdjc1VyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRHY3NVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzdG9yYWdlVXJpJ10sXG4gICAgICBmcm9tT3V0cHV0R2NzVXJpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRnBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnBzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUZwcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydwYXJhbWV0ZXJzJywgJ2ZwcyddLCBmcm9tRnBzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EdXJhdGlvblNlY29uZHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkdXJhdGlvblNlY29uZHMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdkdXJhdGlvblNlY29uZHMnXSxcbiAgICAgIGZyb21EdXJhdGlvblNlY29uZHMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZWVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TZWVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3BhcmFtZXRlcnMnLCAnc2VlZCddLCBmcm9tU2VlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXNwZWN0UmF0aW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhc3BlY3RSYXRpbyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Bc3BlY3RSYXRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2FzcGVjdFJhdGlvJ10sXG4gICAgICBmcm9tQXNwZWN0UmF0aW8sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzb2x1dGlvbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21SZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncmVzb2x1dGlvbiddLFxuICAgICAgZnJvbVJlc29sdXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QZXJzb25HZW5lcmF0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGVyc29uR2VuZXJhdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBlcnNvbkdlbmVyYXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdwZXJzb25HZW5lcmF0aW9uJ10sXG4gICAgICBmcm9tUGVyc29uR2VuZXJhdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVB1YnN1YlRvcGljID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHVic3ViVG9waWMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUHVic3ViVG9waWMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdwdWJzdWJUb3BpYyddLFxuICAgICAgZnJvbVB1YnN1YlRvcGljLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTmVnYXRpdmVQcm9tcHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZWdhdGl2ZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU5lZ2F0aXZlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbmVnYXRpdmVQcm9tcHQnXSxcbiAgICAgIGZyb21OZWdhdGl2ZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuaGFuY2VQcm9tcHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmhhbmNlUHJvbXB0JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRW5oYW5jZVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2VuaGFuY2VQcm9tcHQnXSxcbiAgICAgIGZyb21FbmhhbmNlUHJvbXB0LFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9tcHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9tcHQnXSk7XG4gIGlmIChmcm9tUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5zdGFuY2VzWzBdJywgJ3Byb21wdCddLCBmcm9tUHJvbXB0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ2ltYWdlJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGFwaUNsaWVudCwgZnJvbUltYWdlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zQ29uZmlnVG9WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5QYXJ0LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGhvdWdodCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rob3VnaHQnXSk7XG4gIGlmIChmcm9tVGhvdWdodCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rob3VnaHQnXSwgZnJvbVRob3VnaHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uUmVzdWx0JyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvZGVFeGVjdXRpb25SZXN1bHQnXSxcbiAgICAgIGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhlY3V0YWJsZUNvZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleGVjdXRhYmxlQ29kZScsXG4gIF0pO1xuICBpZiAoZnJvbUV4ZWN1dGFibGVDb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhlY3V0YWJsZUNvZGUnXSwgZnJvbUV4ZWN1dGFibGVDb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVEYXRhJ10pO1xuICBpZiAoZnJvbUZpbGVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZURhdGEnXSwgZnJvbUZpbGVEYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkNhbGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmdW5jdGlvbkNhbGwnXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10sIGZyb21GdW5jdGlvbkNhbGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvblJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uUmVzcG9uc2UnXSwgZnJvbUZ1bmN0aW9uUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbmxpbmVEYXRhJ10pO1xuICBpZiAoZnJvbUlubGluZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbmxpbmVEYXRhJ10sIGZyb21JbmxpbmVEYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGV4dCddKTtcbiAgaWYgKGZyb21UZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGV4dCddLCBmcm9tVGV4dCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50RnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0RnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcnRzJ10sIGZyb21QYXJ0cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNpdGF0aW9uTWV0YWRhdGFGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DaXRhdGlvbk1ldGFkYXRhLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ2l0YXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY2l0YXRpb25Tb3VyY2VzJ10pO1xuICBpZiAoZnJvbUNpdGF0aW9ucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NpdGF0aW9ucyddLCBmcm9tQ2l0YXRpb25zKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmRpZGF0ZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNhbmRpZGF0ZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50J10pO1xuICBpZiAoZnJvbUNvbnRlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZW50J10sXG4gICAgICBjb250ZW50RnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbUNvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2l0YXRpb25NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NpdGF0aW9uTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21DaXRhdGlvbk1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY2l0YXRpb25NZXRhZGF0YSddLFxuICAgICAgY2l0YXRpb25NZXRhZGF0YUZyb21NbGRldihhcGlDbGllbnQsIGZyb21DaXRhdGlvbk1ldGFkYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b2tlbkNvdW50J10pO1xuICBpZiAoZnJvbVRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b2tlbkNvdW50J10sIGZyb21Ub2tlbkNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaW5pc2hSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaW5pc2hSZWFzb24nXSk7XG4gIGlmIChmcm9tRmluaXNoUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmluaXNoUmVhc29uJ10sIGZyb21GaW5pc2hSZWFzb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUF2Z0xvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXZnTG9ncHJvYnMnXSk7XG4gIGlmIChmcm9tQXZnTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhdmdMb2dwcm9icyddLCBmcm9tQXZnTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdyb3VuZGluZ01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ3JvdW5kaW5nTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Hcm91bmRpbmdNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dyb3VuZGluZ01ldGFkYXRhJ10sXG4gICAgICBmcm9tR3JvdW5kaW5nTWV0YWRhdGEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmRleCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2luZGV4J10pO1xuICBpZiAoZnJvbUluZGV4ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5kZXgnXSwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2dwcm9ic1Jlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xvZ3Byb2JzUmVzdWx0JyxcbiAgXSk7XG4gIGlmIChmcm9tTG9ncHJvYnNSZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsb2dwcm9ic1Jlc3VsdCddLCBmcm9tTG9ncHJvYnNSZXN1bHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eVJhdGluZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlSYXRpbmdzJyxcbiAgXSk7XG4gIGlmIChmcm9tU2FmZXR5UmF0aW5ncyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NhZmV0eVJhdGluZ3MnXSwgZnJvbVNhZmV0eVJhdGluZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNhbmRpZGF0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYW5kaWRhdGVzJ10pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZXMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21DYW5kaWRhdGVzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYW5kaWRhdGVzJ10sXG4gICAgICAgIGZyb21DYW5kaWRhdGVzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlcyddLCBmcm9tQ2FuZGlkYXRlcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsVmVyc2lvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsVmVyc2lvbiddKTtcbiAgaWYgKGZyb21Nb2RlbFZlcnNpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbFZlcnNpb24nXSwgZnJvbU1vZGVsVmVyc2lvbik7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0RmVlZGJhY2sgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRGZWVkYmFjaycsXG4gIF0pO1xuICBpZiAoZnJvbVByb21wdEZlZWRiYWNrICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvbXB0RmVlZGJhY2snXSwgZnJvbVByb21wdEZlZWRiYWNrKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Vc2FnZU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndXNhZ2VNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1c2FnZU1ldGFkYXRhJ10sIGZyb21Vc2FnZU1ldGFkYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRFbWJlZGRpbmdTdGF0aXN0aWNzRnJvbU1sZGV2KCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudEVtYmVkZGluZ0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnRFbWJlZGRpbmcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WYWx1ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2YWx1ZXMnXSk7XG4gIGlmIChmcm9tVmFsdWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmFsdWVzJ10sIGZyb21WYWx1ZXMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50TWV0YWRhdGFGcm9tTWxkZXYoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRW1iZWRkaW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VtYmVkZGluZ3MnXSk7XG4gIGlmIChmcm9tRW1iZWRkaW5ncyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUVtYmVkZGluZ3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2VtYmVkZGluZ3MnXSxcbiAgICAgICAgZnJvbUVtYmVkZGluZ3MubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnRFbWJlZGRpbmdGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW1iZWRkaW5ncyddLCBmcm9tRW1iZWRkaW5ncyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydtZXRhZGF0YSddLFxuICAgICAgZW1iZWRDb250ZW50TWV0YWRhdGFGcm9tTWxkZXYoKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbWFnZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUltYWdlQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdieXRlc0Jhc2U2NEVuY29kZWQnLFxuICBdKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2VCeXRlcyddLFxuICAgICAgdC50Qnl0ZXMoYXBpQ2xpZW50LCBmcm9tSW1hZ2VCeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmV0eUF0dHJpYnV0ZXNGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TYWZldHlBdHRyaWJ1dGVzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ2F0ZWdvcmllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eUF0dHJpYnV0ZXMnLFxuICAgICdjYXRlZ29yaWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2F0ZWdvcmllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhdGVnb3JpZXMnXSwgZnJvbUNhdGVnb3JpZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNjb3JlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eUF0dHJpYnV0ZXMnLFxuICAgICdzY29yZXMnLFxuICBdKTtcbiAgaWYgKGZyb21TY29yZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzY29yZXMnXSwgZnJvbVNjb3Jlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudFR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50VHlwZSddKTtcbiAgaWYgKGZyb21Db250ZW50VHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbnRlbnRUeXBlJ10sIGZyb21Db250ZW50VHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZWRJbWFnZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZEltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ltYWdlJ10sXG4gICAgICBpbWFnZUZyb21NbGRldihhcGlDbGllbnQsIGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlGaWx0ZXJlZFJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaUZpbHRlcmVkUmVhc29uJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpRmlsdGVyZWRSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlGaWx0ZXJlZFJlYXNvbiddLFxuICAgICAgZnJvbVJhaUZpbHRlcmVkUmVhc29uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVNhZmV0eUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBzYWZldHlBdHRyaWJ1dGVzRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVNhZmV0eUF0dHJpYnV0ZXMpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZEltYWdlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWRpY3Rpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGVkSW1hZ2VzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tR2VuZXJhdGVkSW1hZ2VzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydnZW5lcmF0ZWRJbWFnZXMnXSxcbiAgICAgICAgZnJvbUdlbmVyYXRlZEltYWdlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkSW1hZ2VGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkSW1hZ2VzJ10sIGZyb21HZW5lcmF0ZWRJbWFnZXMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Qb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMnLFxuICBdKTtcbiAgaWYgKGZyb21Qb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIHNhZmV0eUF0dHJpYnV0ZXNGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kcG9pbnRGcm9tTWxkZXYoKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dW5lZE1vZGVsSW5mb0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmVkTW9kZWxJbmZvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQmFzZU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmFzZU1vZGVsJ10pO1xuICBpZiAoZnJvbUJhc2VNb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Jhc2VNb2RlbCddLCBmcm9tQmFzZU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DcmVhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY3JlYXRlVGltZSddKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVXBkYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tVXBkYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSwgZnJvbVVwZGF0ZVRpbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9kZWxGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Nb2RlbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WZXJzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmVyc2lvbiddKTtcbiAgaWYgKGZyb21WZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmVyc2lvbiddLCBmcm9tVmVyc2lvbik7XG4gIH1cblxuICBjb25zdCBmcm9tVHVuZWRNb2RlbEluZm8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21UdW5lZE1vZGVsSW5mbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3R1bmVkTW9kZWxJbmZvJ10sXG4gICAgICB0dW5lZE1vZGVsSW5mb0Zyb21NbGRldihhcGlDbGllbnQsIGZyb21UdW5lZE1vZGVsSW5mbyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnB1dFRva2VuTGltaXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbnB1dFRva2VuTGltaXQnLFxuICBdKTtcbiAgaWYgKGZyb21JbnB1dFRva2VuTGltaXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnB1dFRva2VuTGltaXQnXSwgZnJvbUlucHV0VG9rZW5MaW1pdCk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0VG9rZW5MaW1pdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dFRva2VuTGltaXQnLFxuICBdKTtcbiAgaWYgKGZyb21PdXRwdXRUb2tlbkxpbWl0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnb3V0cHV0VG9rZW5MaW1pdCddLCBmcm9tT3V0cHV0VG9rZW5MaW1pdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3VwcG9ydGVkQWN0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N1cHBvcnRlZEdlbmVyYXRpb25NZXRob2RzJyxcbiAgXSk7XG4gIGlmIChmcm9tU3VwcG9ydGVkQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N1cHBvcnRlZEFjdGlvbnMnXSwgZnJvbVN1cHBvcnRlZEFjdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvdGFsVG9rZW5zJ10pO1xuICBpZiAoZnJvbVRvdGFsVG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbnMnXSwgZnJvbVRvdGFsVG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjYWNoZWRDb250ZW50VG9rZW5Db3VudCddLFxuICAgICAgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nLCAndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW8nLFxuICAgICdlbmNvZGVkVmlkZW8nLFxuICBdKTtcbiAgaWYgKGZyb21WaWRlb0J5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW9CeXRlcyddLFxuICAgICAgdC50Qnl0ZXMoYXBpQ2xpZW50LCBmcm9tVmlkZW9CeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuY29kaW5nJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW8nXSxcbiAgICAgIHZpZGVvRnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbVZpZGVvKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRWaWRlb3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0ZWRTYW1wbGVzJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGVkVmlkZW9zICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tR2VuZXJhdGVkVmlkZW9zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydnZW5lcmF0ZWRWaWRlb3MnXSxcbiAgICAgICAgZnJvbUdlbmVyYXRlZFZpZGVvcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkVmlkZW9Gcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIGZyb21HZW5lcmF0ZWRWaWRlb3MpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvbmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb25lJ10pO1xuICBpZiAoZnJvbURvbmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb25lJ10sIGZyb21Eb25lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXJyb3InXSwgZnJvbUVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlJyxcbiAgICAnZ2VuZXJhdGVWaWRlb1Jlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihhcGlDbGllbnQsIGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZScsXG4gICAgJ2dlbmVyYXRlVmlkZW9SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3VsdCddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihhcGlDbGllbnQsIGZyb21SZXN1bHQpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0RnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlBhcnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlRGF0YSddLCBmcm9tRmlsZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkNhbGwnXSwgZnJvbUZ1bmN0aW9uQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZURhdGEnXSwgZnJvbUlubGluZURhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhcnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydHMnXSk7XG4gIGlmIChmcm9tUGFydHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21QYXJ0cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncGFydHMnXSxcbiAgICAgICAgZnJvbVBhcnRzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBwYXJ0RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJ0cyddLCBmcm9tUGFydHMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaXRhdGlvbk1ldGFkYXRhRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNpdGF0aW9uTWV0YWRhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DaXRhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjaXRhdGlvbnMnXSk7XG4gIGlmIChmcm9tQ2l0YXRpb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2l0YXRpb25zJ10sIGZyb21DaXRhdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuZGlkYXRlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNhbmRpZGF0ZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50J10pO1xuICBpZiAoZnJvbUNvbnRlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZW50J10sXG4gICAgICBjb250ZW50RnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21Db250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9uTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjaXRhdGlvbk1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2l0YXRpb25NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NpdGF0aW9uTWV0YWRhdGEnXSxcbiAgICAgIGNpdGF0aW9uTWV0YWRhdGFGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbUNpdGF0aW9uTWV0YWRhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRmluaXNoTWVzc2FnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2ZpbmlzaE1lc3NhZ2UnLFxuICBdKTtcbiAgaWYgKGZyb21GaW5pc2hNZXNzYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmluaXNoTWVzc2FnZSddLCBmcm9tRmluaXNoTWVzc2FnZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmluaXNoUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmluaXNoUmVhc29uJ10pO1xuICBpZiAoZnJvbUZpbmlzaFJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbmlzaFJlYXNvbiddLCBmcm9tRmluaXNoUmVhc29uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdmdMb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F2Z0xvZ3Byb2JzJ10pO1xuICBpZiAoZnJvbUF2Z0xvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXZnTG9ncHJvYnMnXSwgZnJvbUF2Z0xvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hcm91bmRpbmdNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dyb3VuZGluZ01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tR3JvdW5kaW5nTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydncm91bmRpbmdNZXRhZGF0YSddLFxuICAgICAgZnJvbUdyb3VuZGluZ01ldGFkYXRhLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5kZXggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbmRleCddKTtcbiAgaWYgKGZyb21JbmRleCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luZGV4J10sIGZyb21JbmRleCk7XG4gIH1cblxuICBjb25zdCBmcm9tTG9ncHJvYnNSZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdsb2dwcm9ic1Jlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUxvZ3Byb2JzUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbG9ncHJvYnNSZXN1bHQnXSwgZnJvbUxvZ3Byb2JzUmVzdWx0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlSYXRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5UmF0aW5ncycsXG4gIF0pO1xuICBpZiAoZnJvbVNhZmV0eVJhdGluZ3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzYWZldHlSYXRpbmdzJ10sIGZyb21TYWZldHlSYXRpbmdzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhbmRpZGF0ZXMnXSk7XG4gIGlmIChmcm9tQ2FuZGlkYXRlcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhbmRpZGF0ZXMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NhbmRpZGF0ZXMnXSxcbiAgICAgICAgZnJvbUNhbmRpZGF0ZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlcyddLCBmcm9tQ2FuZGlkYXRlcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUlkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2VJZCddKTtcbiAgaWYgKGZyb21SZXNwb25zZUlkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VJZCddLCBmcm9tUmVzcG9uc2VJZCk7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWxWZXJzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWxWZXJzaW9uJ10pO1xuICBpZiAoZnJvbU1vZGVsVmVyc2lvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGVsVmVyc2lvbiddLCBmcm9tTW9kZWxWZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9tcHRGZWVkYmFjayA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdEZlZWRiYWNrJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0RmVlZGJhY2sgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9tcHRGZWVkYmFjayddLCBmcm9tUHJvbXB0RmVlZGJhY2spO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VzYWdlTWV0YWRhdGEnXSwgZnJvbVVzYWdlTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3NGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3MsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UcnVuY2F0ZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0cnVuY2F0ZWQnXSk7XG4gIGlmIChmcm9tVHJ1bmNhdGVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHJ1bmNhdGVkJ10sIGZyb21UcnVuY2F0ZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b2tlbl9jb3VudCddKTtcbiAgaWYgKGZyb21Ub2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9rZW5Db3VudCddLCBmcm9tVG9rZW5Db3VudCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50RW1iZWRkaW5nRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnRFbWJlZGRpbmcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WYWx1ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2YWx1ZXMnXSk7XG4gIGlmIChmcm9tVmFsdWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmFsdWVzJ10sIGZyb21WYWx1ZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0YXRpc3RpY3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzdGF0aXN0aWNzJ10pO1xuICBpZiAoZnJvbVN0YXRpc3RpY3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzdGF0aXN0aWNzJ10sXG4gICAgICBjb250ZW50RW1iZWRkaW5nU3RhdGlzdGljc0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tU3RhdGlzdGljcyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudE1ldGFkYXRhRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudE1ldGFkYXRhLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQmlsbGFibGVDaGFyYWN0ZXJDb3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2JpbGxhYmxlQ2hhcmFjdGVyQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21CaWxsYWJsZUNoYXJhY3RlckNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYmlsbGFibGVDaGFyYWN0ZXJDb3VudCddLFxuICAgICAgZnJvbUJpbGxhYmxlQ2hhcmFjdGVyQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRW1iZWRkaW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWRpY3Rpb25zW10nLFxuICAgICdlbWJlZGRpbmdzJyxcbiAgXSk7XG4gIGlmIChmcm9tRW1iZWRkaW5ncyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUVtYmVkZGluZ3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2VtYmVkZGluZ3MnXSxcbiAgICAgICAgZnJvbUVtYmVkZGluZ3MubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnRFbWJlZGRpbmdGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VtYmVkZGluZ3MnXSwgZnJvbUVtYmVkZGluZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbWV0YWRhdGEnXSxcbiAgICAgIGVtYmVkQ29udGVudE1ldGFkYXRhRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21NZXRhZGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tR2NzVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYnl0ZXNCYXNlNjRFbmNvZGVkJyxcbiAgXSk7XG4gIGlmIChmcm9tSW1hZ2VCeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ltYWdlQnl0ZXMnXSxcbiAgICAgIHQudEJ5dGVzKGFwaUNsaWVudCwgZnJvbUltYWdlQnl0ZXMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZldHlBdHRyaWJ1dGVzRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eUF0dHJpYnV0ZXMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DYXRlZ29yaWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ2NhdGVnb3JpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21DYXRlZ29yaWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2F0ZWdvcmllcyddLCBmcm9tQ2F0ZWdvcmllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2NvcmVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ3Njb3JlcycsXG4gIF0pO1xuICBpZiAoZnJvbVNjb3JlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Njb3JlcyddLCBmcm9tU2NvcmVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50VHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRUeXBlJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udGVudFR5cGUnXSwgZnJvbUNvbnRlbnRUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZEltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ltYWdlJ10sXG4gICAgICBpbWFnZUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tSW1hZ2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpRmlsdGVyZWRSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlGaWx0ZXJlZFJlYXNvbicsXG4gIF0pO1xuICBpZiAoZnJvbVJhaUZpbHRlcmVkUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpRmlsdGVyZWRSZWFzb24nXSxcbiAgICAgIGZyb21SYWlGaWx0ZXJlZFJlYXNvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21TYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgc2FmZXR5QXR0cmlidXRlc0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tU2FmZXR5QXR0cmlidXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmhhbmNlZFByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21FbmhhbmNlZFByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuaGFuY2VkUHJvbXB0J10sIGZyb21FbmhhbmNlZFByb21wdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVkaWN0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRlZEltYWdlcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUdlbmVyYXRlZEltYWdlcykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZ2VuZXJhdGVkSW1hZ2VzJ10sXG4gICAgICAgIGZyb21HZW5lcmF0ZWRJbWFnZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRJbWFnZXMnXSwgZnJvbUdlbmVyYXRlZEltYWdlcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAoZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgc2FmZXR5QXR0cmlidXRlc0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kcG9pbnRGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW5kcG9pbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5kcG9pbnQnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlcGxveWVkTW9kZWxJZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2RlcGxveWVkTW9kZWxJZCcsXG4gIF0pO1xuICBpZiAoZnJvbURlcGxveWVkTW9kZWxJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RlcGxveWVkTW9kZWxJZCddLCBmcm9tRGVwbG95ZWRNb2RlbElkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1bmVkTW9kZWxJbmZvRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmVkTW9kZWxJbmZvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQmFzZU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbGFiZWxzJyxcbiAgICAnZ29vZ2xlLXZlcnRleC1sbG0tdHVuaW5nLWJhc2UtbW9kZWwtaWQnLFxuICBdKTtcbiAgaWYgKGZyb21CYXNlTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydiYXNlTW9kZWwnXSwgZnJvbUJhc2VNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGVsRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLk1vZGVsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2ZXJzaW9uSWQnXSk7XG4gIGlmIChmcm9tVmVyc2lvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZlcnNpb24nXSwgZnJvbVZlcnNpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuZHBvaW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RlcGxveWVkTW9kZWxzJ10pO1xuICBpZiAoZnJvbUVuZHBvaW50cyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUVuZHBvaW50cykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZW5kcG9pbnRzJ10sXG4gICAgICAgIGZyb21FbmRwb2ludHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVuZHBvaW50RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmRwb2ludHMnXSwgZnJvbUVuZHBvaW50cyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUxhYmVscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKTtcbiAgaWYgKGZyb21MYWJlbHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsYWJlbHMnXSwgZnJvbUxhYmVscyk7XG4gIH1cblxuICBjb25zdCBmcm9tVHVuZWRNb2RlbEluZm8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21UdW5lZE1vZGVsSW5mbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3R1bmVkTW9kZWxJbmZvJ10sXG4gICAgICB0dW5lZE1vZGVsSW5mb0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tVHVuZWRNb2RlbEluZm8pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvdGFsVG9rZW5zJ10pO1xuICBpZiAoZnJvbVRvdGFsVG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbnMnXSwgZnJvbVRvdGFsVG9rZW5zKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUb2tlbnNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Ub2tlbnNJbmZvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9rZW5zSW5mbyddKTtcbiAgaWYgKGZyb21Ub2tlbnNJbmZvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9rZW5zSW5mbyddLCBmcm9tVG9rZW5zSW5mbyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5WaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKTtcbiAgaWYgKGZyb21VcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmknXSwgZnJvbVVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tVmlkZW9CeXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2J5dGVzQmFzZTY0RW5jb2RlZCcsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlb0J5dGVzJ10sXG4gICAgICB0LnRCeXRlcyhhcGlDbGllbnQsIGZyb21WaWRlb0J5dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkVmlkZW9Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW8nXSxcbiAgICAgIHZpZGVvRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21WaWRlbyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvcyddKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21HZW5lcmF0ZWRWaWRlb3MpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2dlbmVyYXRlZFZpZGVvcyddLFxuICAgICAgICBmcm9tR2VuZXJhdGVkVmlkZW9zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBnZW5lcmF0ZWRWaWRlb0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIGZyb21HZW5lcmF0ZWRWaWRlb3MpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXN1bHQnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KGFwaUNsaWVudCwgZnJvbVJlc3VsdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vX2NvbW1vbic7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBjb250ZW50RnJvbU1sZGV2LFxuICBjb250ZW50RnJvbVZlcnRleCxcbiAgY29udGVudFRvTWxkZXYsXG4gIGNvbnRlbnRUb1ZlcnRleCxcbiAgdG9vbFRvTWxkZXYsXG4gIHRvb2xUb1ZlcnRleCxcbn0gZnJvbSAnLi9fbW9kZWxzX2NvbnZlcnRlcnMnO1xuXG4vKipcbiAqIENvbnZlcnRlcnMgZm9yIGxpdmUgY2xpZW50LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlQ29ubmVjdFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzLFxuKTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2Uge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPT0gdW5kZWZpbmVkICYmIGZyb21Db25maWcgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2V0dXAnXSxcbiAgICAgIGxpdmVDb25uZWN0Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NldHVwJywgJ21vZGVsJ10sIGZyb21Nb2RlbCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlQ29ubmVjdFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVDb25uZWN0UGFyYW1ldGVycyxcbik6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ29uZmlnICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NldHVwJ10sXG4gICAgICBsaXZlQ29ubmVjdENvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2V0dXAnLCAnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVTZXJ2ZXJNZXNzYWdlRnJvbU1sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2UsXG4pOiB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZSB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZXR1cENvbXBsZXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2V0dXBDb21wbGV0ZScsXG4gIF0pO1xuICBpZiAoZnJvbVNldHVwQ29tcGxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZXR1cENvbXBsZXRlJ10sIGZyb21TZXR1cENvbXBsZXRlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZXJ2ZXJDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2VydmVyQ29udGVudCcsXG4gIF0pO1xuICBpZiAoZnJvbVNlcnZlckNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VydmVyQ29udGVudCAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXJ2ZXJDb250ZW50J10sXG4gICAgICBsaXZlU2VydmVyQ29udGVudEZyb21NbGRldihhcGlDbGllbnQsIGZyb21TZXJ2ZXJDb250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENhbGwnXSk7XG4gIGlmIChmcm9tVG9vbENhbGwgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENhbGwgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbENhbGwnXSxcbiAgICAgIGxpdmVTZXJ2ZXJUb29sQ2FsbEZyb21NbGRldihhcGlDbGllbnQsIGZyb21Ub29sQ2FsbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rvb2xDYWxsQ2FuY2VsbGF0aW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbiAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbENhbGxDYW5jZWxsYXRpb24nXSxcbiAgICAgIGxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbkZyb21NbGRldihcbiAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVXNhZ2VNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VzYWdlTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Vc2FnZU1ldGFkYXRhICE9IHVuZGVmaW5lZCAmJiBmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3VzYWdlTWV0YWRhdGEnXSxcbiAgICAgIHVzYWdlTWV0YWRhdGFGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tVXNhZ2VNZXRhZGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb0F3YXkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb0F3YXknXSk7XG4gIGlmIChmcm9tR29Bd2F5ICE9PSB1bmRlZmluZWQgJiYgZnJvbUdvQXdheSAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb0F3YXknXSxcbiAgICAgIGxpdmVTZXJ2ZXJHb0F3YXlGcm9tTWxkZXYoZnJvbUdvQXdheSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nlc3Npb25SZXN1bXB0aW9uVXBkYXRlJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2Vzc2lvblJlc3VtcHRpb25VcGRhdGUnXSxcbiAgICAgIGxpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZUZyb21NbGRldihmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlU2VydmVyTWVzc2FnZUZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZSxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNldHVwQ29tcGxldGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXR1cENvbXBsZXRlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2V0dXBDb21wbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NldHVwQ29tcGxldGUnXSwgZnJvbVNldHVwQ29tcGxldGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlcnZlckNvbnRlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXJ2ZXJDb250ZW50JyxcbiAgXSk7XG4gIGlmIChmcm9tU2VydmVyQ29udGVudCAhPT0gdW5kZWZpbmVkICYmIGZyb21TZXJ2ZXJDb250ZW50ICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NlcnZlckNvbnRlbnQnXSxcbiAgICAgIGxpdmVTZXJ2ZXJDb250ZW50RnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21TZXJ2ZXJDb250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENhbGwnXSk7XG4gIGlmIChmcm9tVG9vbENhbGwgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENhbGwgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbENhbGwnXSxcbiAgICAgIGxpdmVTZXJ2ZXJUb29sQ2FsbEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tVG9vbENhbGwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b29sQ2FsbENhbmNlbGxhdGlvbicsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbVRvb2xDYWxsQ2FuY2VsbGF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24gIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Rvb2xDYWxsQ2FuY2VsbGF0aW9uJ10sXG4gICAgICBsaXZlU2VydmVyVG9vbENhbGxDYW5jZWxsYXRpb25Gcm9tVmVydGV4KFxuICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbixcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb0F3YXkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb0F3YXknXSk7XG4gIGlmIChmcm9tR29Bd2F5ICE9PSB1bmRlZmluZWQgJiYgZnJvbUdvQXdheSAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb0F3YXknXSxcbiAgICAgIGxpdmVTZXJ2ZXJHb0F3YXlGcm9tVmVydGV4KGZyb21Hb0F3YXkpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvblVwZGF0ZScsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbVNlc3Npb25SZXN1bXB0aW9uVXBkYXRlICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Nlc3Npb25SZXN1bXB0aW9uVXBkYXRlJ10sXG4gICAgICBsaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGVGcm9tVmVydGV4KGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Vc2FnZU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndXNhZ2VNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVzYWdlTWV0YWRhdGEgIT0gdW5kZWZpbmVkICYmIGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndXNhZ2VNZXRhZGF0YSddLFxuICAgICAgdXNhZ2VNZXRhZGF0YUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tVXNhZ2VNZXRhZGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gc2xpZGluZ1dpbmRvd1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNsaWRpbmdXaW5kb3csXG4pOiB0eXBlcy5TbGlkaW5nV2luZG93IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRhcmdldFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RhcmdldFRva2VucyddKTtcbiAgaWYgKGZyb21UYXJnZXRUb2tlbnMgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGFyZ2V0VG9rZW5zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RhcmdldFRva2VucyddLCBmcm9tVGFyZ2V0VG9rZW5zKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gc2xpZGluZ1dpbmRvd1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TbGlkaW5nV2luZG93LFxuKTogdHlwZXMuU2xpZGluZ1dpbmRvdyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UYXJnZXRUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0YXJnZXRUb2tlbnMnXSk7XG4gIGlmIChmcm9tVGFyZ2V0VG9rZW5zICE9PSB1bmRlZmluZWQgJiYgZnJvbVRhcmdldFRva2VucyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0YXJnZXRUb2tlbnMnXSwgZnJvbVRhcmdldFRva2Vucyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGNvbnRleHRXaW5kb3dDb21wcmVzc2lvblRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZyxcbik6IHR5cGVzLkNvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UcmlnZ2VyVG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndHJpZ2dlclRva2VucycsXG4gIF0pO1xuICBpZiAoZnJvbVRyaWdnZXJUb2tlbnMgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHJpZ2dlclRva2VucyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0cmlnZ2VyVG9rZW5zJ10sIGZyb21UcmlnZ2VyVG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TbGlkaW5nV2luZG93ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2xpZGluZ1dpbmRvdycsXG4gIF0pO1xuICBpZiAoZnJvbVNsaWRpbmdXaW5kb3cgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2xpZGluZ1dpbmRvdyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzbGlkaW5nV2luZG93J10sXG4gICAgICBzbGlkaW5nV2luZG93VG9NbGRldihmcm9tU2xpZGluZ1dpbmRvdyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gY29udGV4dFdpbmRvd0NvbXByZXNzaW9uVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZyxcbik6IHR5cGVzLkNvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UcmlnZ2VyVG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndHJpZ2dlclRva2VucycsXG4gIF0pO1xuICBpZiAoZnJvbVRyaWdnZXJUb2tlbnMgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHJpZ2dlclRva2VucyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0cmlnZ2VyVG9rZW5zJ10sIGZyb21UcmlnZ2VyVG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TbGlkaW5nV2luZG93ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2xpZGluZ1dpbmRvdycsXG4gIF0pO1xuICBpZiAoZnJvbVNsaWRpbmdXaW5kb3cgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2xpZGluZ1dpbmRvdyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzbGlkaW5nV2luZG93J10sXG4gICAgICBzbGlkaW5nV2luZG93VG9WZXJ0ZXgoZnJvbVNsaWRpbmdXaW5kb3cpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24sXG4pOiB0eXBlcy5BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EaXNhYmxlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc2FibGVkJ10pO1xuICBpZiAoZnJvbURpc2FibGVkICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc2FibGVkICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc2FibGVkJ10sIGZyb21EaXNhYmxlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5JyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHknXSxcbiAgICAgIGZyb21TdGFydE9mU3BlZWNoU2Vuc2l0aXZpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5kT2ZTcGVlY2hTZW5zaXRpdml0eScsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbUVuZE9mU3BlZWNoU2Vuc2l0aXZpdHkgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlbmRPZlNwZWVjaFNlbnNpdGl2aXR5J10sXG4gICAgICBmcm9tRW5kT2ZTcGVlY2hTZW5zaXRpdml0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZWZpeFBhZGRpbmdNcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZWZpeFBhZGRpbmdNcycsXG4gIF0pO1xuICBpZiAoZnJvbVByZWZpeFBhZGRpbmdNcyAhPT0gdW5kZWZpbmVkICYmIGZyb21QcmVmaXhQYWRkaW5nTXMgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlZml4UGFkZGluZ01zJ10sIGZyb21QcmVmaXhQYWRkaW5nTXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNpbGVuY2VEdXJhdGlvbk1zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2lsZW5jZUR1cmF0aW9uTXMnLFxuICBdKTtcbiAgaWYgKGZyb21TaWxlbmNlRHVyYXRpb25NcyAhPT0gdW5kZWZpbmVkICYmIGZyb21TaWxlbmNlRHVyYXRpb25NcyAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzaWxlbmNlRHVyYXRpb25NcyddLFxuICAgICAgZnJvbVNpbGVuY2VEdXJhdGlvbk1zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uLFxuKTogdHlwZXMuQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRGlzYWJsZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNhYmxlZCddKTtcbiAgaWYgKGZyb21EaXNhYmxlZCAhPT0gdW5kZWZpbmVkICYmIGZyb21EaXNhYmxlZCAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaXNhYmxlZCddLCBmcm9tRGlzYWJsZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eScsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbVN0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eSAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbVN0YXJ0T2ZTcGVlY2hTZW5zaXRpdml0eSAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5J10sXG4gICAgICBmcm9tU3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5kT2ZTcGVlY2hTZW5zaXRpdml0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuZE9mU3BlZWNoU2Vuc2l0aXZpdHknLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21FbmRPZlNwZWVjaFNlbnNpdGl2aXR5ICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tRW5kT2ZTcGVlY2hTZW5zaXRpdml0eSAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZW5kT2ZTcGVlY2hTZW5zaXRpdml0eSddLFxuICAgICAgZnJvbUVuZE9mU3BlZWNoU2Vuc2l0aXZpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QcmVmaXhQYWRkaW5nTXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVmaXhQYWRkaW5nTXMnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVmaXhQYWRkaW5nTXMgIT09IHVuZGVmaW5lZCAmJiBmcm9tUHJlZml4UGFkZGluZ01zICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ByZWZpeFBhZGRpbmdNcyddLCBmcm9tUHJlZml4UGFkZGluZ01zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TaWxlbmNlRHVyYXRpb25NcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NpbGVuY2VEdXJhdGlvbk1zJyxcbiAgXSk7XG4gIGlmIChmcm9tU2lsZW5jZUR1cmF0aW9uTXMgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2lsZW5jZUR1cmF0aW9uTXMgIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2lsZW5jZUR1cmF0aW9uTXMnXSxcbiAgICAgIGZyb21TaWxlbmNlRHVyYXRpb25NcyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiByZWFsdGltZUlucHV0Q29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuUmVhbHRpbWVJbnB1dENvbmZpZyxcbik6IHR5cGVzLlJlYWx0aW1lSW5wdXRDb25maWcge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbicsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbUF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24gIT09IG51bGxcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2F1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uJ10sXG4gICAgICBhdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvblRvTWxkZXYoZnJvbUF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5SGFuZGxpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhY3Rpdml0eUhhbmRsaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlIYW5kbGluZyAhPT0gdW5kZWZpbmVkICYmIGZyb21BY3Rpdml0eUhhbmRsaW5nICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FjdGl2aXR5SGFuZGxpbmcnXSwgZnJvbUFjdGl2aXR5SGFuZGxpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1cm5Db3ZlcmFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R1cm5Db3ZlcmFnZSddKTtcbiAgaWYgKGZyb21UdXJuQ292ZXJhZ2UgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHVybkNvdmVyYWdlICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R1cm5Db3ZlcmFnZSddLCBmcm9tVHVybkNvdmVyYWdlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gcmVhbHRpbWVJbnB1dENvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5SZWFsdGltZUlucHV0Q29uZmlnLFxuKTogdHlwZXMuUmVhbHRpbWVJbnB1dENvbmZpZyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2F1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tQXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21BdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbiAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24nXSxcbiAgICAgIGF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uVG9WZXJ0ZXgoZnJvbUF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5SGFuZGxpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhY3Rpdml0eUhhbmRsaW5nJyxcbiAgXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlIYW5kbGluZyAhPT0gdW5kZWZpbmVkICYmIGZyb21BY3Rpdml0eUhhbmRsaW5nICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FjdGl2aXR5SGFuZGxpbmcnXSwgZnJvbUFjdGl2aXR5SGFuZGxpbmcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1cm5Db3ZlcmFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R1cm5Db3ZlcmFnZSddKTtcbiAgaWYgKGZyb21UdXJuQ292ZXJhZ2UgIT09IHVuZGVmaW5lZCAmJiBmcm9tVHVybkNvdmVyYWdlICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R1cm5Db3ZlcmFnZSddLCBmcm9tVHVybkNvdmVyYWdlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZUNvbm5lY3RDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RDb25maWcsXG4pOiB0eXBlcy5MaXZlQ2xpZW50U2V0dXAge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2VuZXJhdGlvbkNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRpb25Db25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0aW9uQ29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGlvbkNvbmZpZyddLCBmcm9tR2VuZXJhdGlvbkNvbmZpZyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZycsICdyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcGVlY2hDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzcGVlY2hDb25maWcnXSk7XG4gIGlmIChmcm9tU3BlZWNoQ29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZycsICdzcGVlY2hDb25maWcnXSxcbiAgICAgIGZyb21TcGVlY2hDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChcbiAgICBmcm9tVG9vbHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21Ub29scyAhPT0gbnVsbCAmJlxuICAgIEFycmF5LmlzQXJyYXkoZnJvbVRvb2xzKVxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbHMnXSxcbiAgICAgIGZyb21Ub29scy5tYXAoKGl0ZW06IHR5cGVzLlRvb2wpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlc3Npb25SZXN1bXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2Vzc2lvblJlc3VtcHRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21TZXNzaW9uUmVzdW1wdGlvbiAhPT0gdW5kZWZpbmVkICYmIGZyb21TZXNzaW9uUmVzdW1wdGlvbiAhPT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXNzaW9uUmVzdW1wdGlvbiddLFxuICAgICAgbGl2ZUNsaWVudFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnVG9NbGRldihmcm9tU2Vzc2lvblJlc3VtcHRpb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29udGV4dFdpbmRvd0NvbXByZXNzaW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZXh0V2luZG93Q29tcHJlc3Npb24nXSxcbiAgICAgIGNvbnRleHRXaW5kb3dDb21wcmVzc2lvblRvTWxkZXYoZnJvbUNvbnRleHRXaW5kb3dDb21wcmVzc2lvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0Q29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dENvbmZpZycsXG4gIF0pO1xuICBpZiAoXG4gICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT09IHVuZGVmaW5lZCAmJlxuICAgIGZyb21SZWFsdGltZUlucHV0Q29uZmlnICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZWFsdGltZUlucHV0Q29uZmlnJ10sXG4gICAgICByZWFsdGltZUlucHV0Q29uZmlnVG9NbGRldihmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZUNvbm5lY3RDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVDb25uZWN0Q29uZmlnLFxuKTogdHlwZXMuTGl2ZUNsaWVudFNldHVwIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRpb25Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGlvbkNvbmZpZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRpb25Db25maWcnXSwgZnJvbUdlbmVyYXRpb25Db25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTW9kYWxpdGllcycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTW9kYWxpdGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dlbmVyYXRpb25Db25maWcnLCAncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2V0IGRlZmF1bHQgdG8gQVVESU8gdG8gYWxpZ24gd2l0aCBNTERldiBBUEkuXG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dlbmVyYXRpb25Db25maWcnLCAncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBbJ0FVRElPJ10sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcGVlY2hDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzcGVlY2hDb25maWcnXSk7XG4gIGlmIChmcm9tU3BlZWNoQ29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZycsICdzcGVlY2hDb25maWcnXSxcbiAgICAgIGZyb21TcGVlY2hDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb1ZlcnRleChhcGlDbGllbnQsIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAoXG4gICAgZnJvbVRvb2xzICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tVG9vbHMgIT09IG51bGwgJiZcbiAgICBBcnJheS5pc0FycmF5KGZyb21Ub29scylcbiAgKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Rvb2xzJ10sXG4gICAgICBmcm9tVG9vbHMubWFwKChpdGVtOiB0eXBlcy5Ub29sKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sVG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Nlc3Npb25SZXN1bXB0aW9uJ10sXG4gICAgICBsaXZlQ2xpZW50U2Vzc2lvblJlc3VtcHRpb25Db25maWdUb1ZlcnRleChmcm9tU2Vzc2lvblJlc3VtcHRpb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29udGV4dFdpbmRvd0NvbXByZXNzaW9uJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uICE9PSBudWxsXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZXh0V2luZG93Q29tcHJlc3Npb24nXSxcbiAgICAgIGNvbnRleHRXaW5kb3dDb21wcmVzc2lvblRvVmVydGV4KGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JlYWx0aW1lSW5wdXRDb25maWcnLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21SZWFsdGltZUlucHV0Q29uZmlnICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyAhPT0gbnVsbFxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVhbHRpbWVJbnB1dENvbmZpZyddLFxuICAgICAgcmVhbHRpbWVJbnB1dENvbmZpZ1RvVmVydGV4KGZyb21SZWFsdGltZUlucHV0Q29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyQ29udGVudEZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJDb250ZW50LFxuKTogdHlwZXMuTGl2ZVNlcnZlckNvbnRlbnQge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWxUdXJuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWxUdXJuJ10pO1xuICBpZiAoZnJvbU1vZGVsVHVybiAhPT0gdW5kZWZpbmVkICYmIGZyb21Nb2RlbFR1cm4gIT09IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbW9kZWxUdXJuJ10sXG4gICAgICBjb250ZW50RnJvbU1sZGV2KGFwaUNsaWVudCwgZnJvbU1vZGVsVHVybiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdXJuQ29tcGxldGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0dXJuQ29tcGxldGUnXSk7XG4gIGlmIChmcm9tVHVybkNvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVybkNvbXBsZXRlJ10sIGZyb21UdXJuQ29tcGxldGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUludGVycnVwdGVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW50ZXJydXB0ZWQnXSk7XG4gIGlmIChmcm9tSW50ZXJydXB0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnRlcnJ1cHRlZCddLCBmcm9tSW50ZXJydXB0ZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRpb25Db21wbGV0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRpb25Db21wbGV0ZScsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRpb25Db21wbGV0ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dlbmVyYXRpb25Db21wbGV0ZSddLFxuICAgICAgZnJvbUdlbmVyYXRpb25Db21wbGV0ZSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyQ29udGVudEZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyQ29udGVudCxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJDb250ZW50IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsVHVybiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsVHVybiddKTtcbiAgaWYgKGZyb21Nb2RlbFR1cm4gIT09IHVuZGVmaW5lZCAmJiBmcm9tTW9kZWxUdXJuICE9PSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ21vZGVsVHVybiddLFxuICAgICAgY29udGVudEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tTW9kZWxUdXJuKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1cm5Db21wbGV0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R1cm5Db21wbGV0ZSddKTtcbiAgaWYgKGZyb21UdXJuQ29tcGxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0dXJuQ29tcGxldGUnXSwgZnJvbVR1cm5Db21wbGV0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW50ZXJydXB0ZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbnRlcnJ1cHRlZCddKTtcbiAgaWYgKGZyb21JbnRlcnJ1cHRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ludGVycnVwdGVkJ10sIGZyb21JbnRlcnJ1cHRlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGlvbkNvbXBsZXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbXBsZXRlJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGlvbkNvbXBsZXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbXBsZXRlJ10sXG4gICAgICBmcm9tR2VuZXJhdGlvbkNvbXBsZXRlLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBmdW5jdGlvbkNhbGxGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGwsXG4pOiB0eXBlcy5GdW5jdGlvbkNhbGwge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpZCddKTtcbiAgaWYgKGZyb21JZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lkJ10sIGZyb21JZCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXJncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FyZ3MnXSk7XG4gIGlmIChmcm9tQXJncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FyZ3MnXSwgZnJvbUFyZ3MpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gZnVuY3Rpb25DYWxsRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbCxcbik6IHR5cGVzLkZ1bmN0aW9uQ2FsbCB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21BcmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXJncyddKTtcbiAgaWYgKGZyb21BcmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXJncyddLCBmcm9tQXJncyk7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyVG9vbENhbGxGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGwsXG4pOiB0eXBlcy5MaXZlU2VydmVyVG9vbENhbGwge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbHMnLFxuICBdKTtcbiAgaWYgKFxuICAgIGZyb21GdW5jdGlvbkNhbGxzICE9PSB1bmRlZmluZWQgJiZcbiAgICBmcm9tRnVuY3Rpb25DYWxscyAhPT0gbnVsbCAmJlxuICAgIEFycmF5LmlzQXJyYXkoZnJvbUZ1bmN0aW9uQ2FsbHMpXG4gICkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGxzJ10sXG4gICAgICBmcm9tRnVuY3Rpb25DYWxscy5tYXAoKGl0ZW06IHR5cGVzLkZ1bmN0aW9uQ2FsbCkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25DYWxsRnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyVG9vbENhbGxGcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsLFxuKTogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkNhbGxzJyxcbiAgXSk7XG4gIGlmIChcbiAgICBmcm9tRnVuY3Rpb25DYWxscyAhPT0gdW5kZWZpbmVkICYmXG4gICAgZnJvbUZ1bmN0aW9uQ2FsbHMgIT09IG51bGwgJiZcbiAgICBBcnJheS5pc0FycmF5KGZyb21GdW5jdGlvbkNhbGxzKVxuICApIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxscyddLFxuICAgICAgZnJvbUZ1bmN0aW9uQ2FsbHMubWFwKChpdGVtOiB0eXBlcy5GdW5jdGlvbkNhbGwpID0+IHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uQ2FsbEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbkZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbixcbik6IHR5cGVzLkxpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JZHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpZHMnXSk7XG4gIGlmIChmcm9tSWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaWRzJ10sIGZyb21JZHMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyVG9vbENhbGxDYW5jZWxsYXRpb25Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uLFxuKTogdHlwZXMuTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUlkcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lkcyddKTtcbiAgaWYgKGZyb21JZHMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpZHMnXSwgZnJvbUlkcyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJHb0F3YXlGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJHb0F3YXksXG4pOiB0eXBlcy5MaXZlU2VydmVyR29Bd2F5IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRpbWVMZWZ0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGltZUxlZnQnXSk7XG4gIGlmIChmcm9tVGltZUxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aW1lTGVmdCddLCBmcm9tVGltZUxlZnQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5mdW5jdGlvbiBsaXZlU2VydmVyR29Bd2F5RnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlckdvQXdheSxcbik6IHR5cGVzLkxpdmVTZXJ2ZXJHb0F3YXkge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGltZUxlZnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aW1lTGVmdCddKTtcbiAgaWYgKGZyb21UaW1lTGVmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpbWVMZWZ0J10sIGZyb21UaW1lTGVmdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVTZXJ2ZXJTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlLFxuKTogdHlwZXMuTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5ld0hhbmRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25ld0hhbmRsZSddKTtcbiAgaWYgKGZyb21OZXdIYW5kbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXdIYW5kbGUnXSwgZnJvbU5ld0hhbmRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzdW1hYmxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzdW1hYmxlJ10pO1xuICBpZiAoZnJvbVJlc3VtYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3VtYWJsZSddLCBmcm9tUmVzdW1hYmxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdsYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgnLFxuICBdKTtcbiAgaWYgKGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydsYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgnXSxcbiAgICAgIGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlLFxuKTogdHlwZXMuTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5ld0hhbmRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25ld0hhbmRsZSddKTtcbiAgaWYgKGZyb21OZXdIYW5kbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXdIYW5kbGUnXSwgZnJvbU5ld0hhbmRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzdW1hYmxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzdW1hYmxlJ10pO1xuICBpZiAoZnJvbVJlc3VtYWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3VtYWJsZSddLCBmcm9tUmVzdW1hYmxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdsYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgnLFxuICBdKTtcbiAgaWYgKGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydsYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgnXSxcbiAgICAgIGZyb21MYXN0Q29uc3VtZWRDbGllbnRNZXNzYWdlSW5kZXgsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZnVuY3Rpb24gbGl2ZUNsaWVudFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuU2Vzc2lvblJlc3VtcHRpb25Db25maWcsXG4pOiB0eXBlcy5TZXNzaW9uUmVzdW1wdGlvbkNvbmZpZyB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21IYW5kbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydoYW5kbGUnXSk7XG4gIGlmIChmcm9tSGFuZGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaGFuZGxlJ10sIGZyb21IYW5kbGUpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RyYW5zcGFyZW50J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RyYW5zcGFyZW50IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGxpdmVDbGllbnRTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TZXNzaW9uUmVzdW1wdGlvbkNvbmZpZyxcbik6IHR5cGVzLlNlc3Npb25SZXN1bXB0aW9uQ29uZmlnIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUhhbmRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2hhbmRsZSddKTtcbiAgaWYgKGZyb21IYW5kbGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydoYW5kbGUnXSwgZnJvbUhhbmRsZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVHJhbnNwYXJlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0cmFuc3BhcmVudCddKTtcbiAgaWYgKGZyb21UcmFuc3BhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RyYW5zcGFyZW50J10sIGZyb21UcmFuc3BhcmVudCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RhbGl0eVRva2VuQ291bnRGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Nb2RhbGl0eVRva2VuQ291bnQsXG4pOiB0eXBlcy5Nb2RhbGl0eVRva2VuQ291bnQge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kYWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RhbGl0eSddKTtcbiAgaWYgKGZyb21Nb2RhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGFsaXR5J10sIGZyb21Nb2RhbGl0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSk7XG4gIGlmIChmcm9tVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSwgZnJvbVRva2VuQ291bnQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNhZ2VNZXRhZGF0YUZyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVzYWdlTWV0YWRhdGEsXG4pOiB0eXBlcy5Vc2FnZU1ldGFkYXRhIHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVByb21wdFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdFRva2VuQ291bnQnXSwgZnJvbVByb21wdFRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZVRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZVRva2VuQ291bnQnXSxcbiAgICAgIGZyb21SZXNwb25zZVRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sVXNlUHJvbXB0VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rvb2xVc2VQcm9tcHRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVG9vbFVzZVByb21wdFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sVXNlUHJvbXB0VG9rZW5Db3VudCddLFxuICAgICAgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhvdWdodHNUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhvdWdodHNUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVGhvdWdodHNUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndGhvdWdodHNUb2tlbkNvdW50J10sXG4gICAgICBmcm9tVGhvdWdodHNUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG90YWxUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG90YWxUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVG90YWxUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbkNvdW50J10sIGZyb21Ub3RhbFRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdFRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRUb2tlbnNEZXRhaWxzJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVByb21wdFRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Byb21wdFRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVByb21wdFRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlVG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlVG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlVG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUNhY2hlVG9rZW5zRGV0YWlscykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY2FjaGVUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21DYWNoZVRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21NbGRldihhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnY2FjaGVUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21DYWNoZVRva2Vuc0RldGFpbHMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZVRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Jlc3BvbnNlVG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RhbGl0eVRva2VuQ291bnRGcm9tTWxkZXYoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Jlc3BvbnNlVG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWyd0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGFsaXR5VG9rZW5Db3VudEZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Nb2RhbGl0eVRva2VuQ291bnQsXG4pOiB0eXBlcy5Nb2RhbGl0eVRva2VuQ291bnQge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kYWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RhbGl0eSddKTtcbiAgaWYgKGZyb21Nb2RhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGFsaXR5J10sIGZyb21Nb2RhbGl0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSk7XG4gIGlmIChmcm9tVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSwgZnJvbVRva2VuQ291bnQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNhZ2VNZXRhZGF0YUZyb21WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Vc2FnZU1ldGFkYXRhLFxuKTogdHlwZXMuVXNhZ2VNZXRhZGF0YSB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Qcm9tcHRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvbXB0VG9rZW5Db3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVByb21wdFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcm9tcHRUb2tlbkNvdW50J10sIGZyb21Qcm9tcHRUb2tlbkNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjYWNoZWRDb250ZW50VG9rZW5Db3VudCddLFxuICAgICAgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlc1Rva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZVRva2VuQ291bnQnXSxcbiAgICAgIGZyb21SZXNwb25zZVRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sVXNlUHJvbXB0VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rvb2xVc2VQcm9tcHRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVG9vbFVzZVByb21wdFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sVXNlUHJvbXB0VG9rZW5Db3VudCddLFxuICAgICAgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhvdWdodHNUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhvdWdodHNUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVGhvdWdodHNUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndGhvdWdodHNUb2tlbkNvdW50J10sXG4gICAgICBmcm9tVGhvdWdodHNUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG90YWxUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG90YWxUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tVG90YWxUb2tlbkNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbkNvdW50J10sIGZyb21Ub3RhbFRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdFRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRUb2tlbnNEZXRhaWxzJyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVByb21wdFRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Byb21wdFRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVByb21wdFRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Byb21wdFRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVByb21wdFRva2Vuc0RldGFpbHMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZVRva2Vuc0RldGFpbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYWNoZVRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZVRva2Vuc0RldGFpbHMgIT0gbnVsbCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZyb21DYWNoZVRva2Vuc0RldGFpbHMpKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ2NhY2hlVG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tQ2FjaGVUb2tlbnNEZXRhaWxzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtb2RhbGl0eVRva2VuQ291bnRGcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydjYWNoZVRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbUNhY2hlVG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWyd0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgICBmcm9tVG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG1vZGFsaXR5VG9rZW5Db3VudEZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHRvT2JqZWN0LFxuICAgICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhbmRpZGF0ZXNUb2tlbnNEZXRhaWxzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydyZXNwb25zZVRva2Vuc0RldGFpbHMnXSxcbiAgICAgICAgZnJvbVJlc3BvbnNlVG9rZW5zRGV0YWlscy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gbW9kYWxpdHlUb2tlbkNvdW50RnJvbVZlcnRleChhcGlDbGllbnQsIGl0ZW0pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsncmVzcG9uc2VUb2tlbnNEZXRhaWxzJ10sXG4gICAgICAgIGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZyb21UcmFmZmljVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RyYWZmaWNUeXBlJ10pO1xuICBpZiAoZnJvbVRyYWZmaWNUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHJhZmZpY1R5cGUnXSwgZnJvbVRyYWZmaWNUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogTGl2ZSBjbGllbnQuXG4gKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50JztcbmltcG9ydCB7QXV0aH0gZnJvbSAnLi9fYXV0aCc7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4vX3RyYW5zZm9ybWVycyc7XG5pbXBvcnQge1dlYlNvY2tldCwgV2ViU29ja2V0Q2FsbGJhY2tzLCBXZWJTb2NrZXRGYWN0b3J5fSBmcm9tICcuL193ZWJzb2NrZXQnO1xuaW1wb3J0ICogYXMgY29udmVydGVycyBmcm9tICcuL2NvbnZlcnRlcnMvX2xpdmVfY29udmVydGVycyc7XG5pbXBvcnQge2NvbnRlbnRUb01sZGV2LCBjb250ZW50VG9WZXJ0ZXh9IGZyb20gJy4vY29udmVydGVycy9fbW9kZWxzX2NvbnZlcnRlcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEZVTkNUSU9OX1JFU1BPTlNFX1JFUVVJUkVTX0lEID1cbiAgJ0Z1bmN0aW9uUmVzcG9uc2UgcmVxdWVzdCBtdXN0IGhhdmUgYW4gYGlkYCBmaWVsZCBmcm9tIHRoZSByZXNwb25zZSBvZiBhIFRvb2xDYWxsLkZ1bmN0aW9uYWxDYWxscyBpbiBHb29nbGUgQUkuJztcblxuLyoqXG4gKiBIYW5kbGVzIGluY29taW5nIG1lc3NhZ2VzIGZyb20gdGhlIFdlYlNvY2tldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcGFyc2luZyBpbmNvbWluZyBtZXNzYWdlcywgdHJhbnNmb3JtaW5nIHRoZW1cbiAqIGludG8gTGl2ZVNlcnZlck1lc3NhZ2VzLCBhbmQgdGhlbiBjYWxsaW5nIHRoZSBvbm1lc3NhZ2UgY2FsbGJhY2suIE5vdGUgdGhhdFxuICogdGhlIGZpcnN0IG1lc3NhZ2Ugd2hpY2ggaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIGlzIGEgc2V0dXBDb21wbGV0ZVxuICogbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gYXBpQ2xpZW50IFRoZSBBcGlDbGllbnQgaW5zdGFuY2UuXG4gKiBAcGFyYW0gb25tZXNzYWdlIFRoZSB1c2VyLXByb3ZpZGVkIG9ubWVzc2FnZSBjYWxsYmFjayAoaWYgYW55KS5cbiAqIEBwYXJhbSBldmVudCBUaGUgTWVzc2FnZUV2ZW50IGZyb20gdGhlIFdlYlNvY2tldC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlV2ViU29ja2V0TWVzc2FnZShcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9ubWVzc2FnZTogKG1zZzogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2UpID0+IHZvaWQsXG4gIGV2ZW50OiBNZXNzYWdlRXZlbnQsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgbGV0IHNlcnZlck1lc3NhZ2U6IHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlO1xuICBsZXQgZGF0YTogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2U7XG4gIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKGF3YWl0IGV2ZW50LmRhdGEudGV4dCgpKSBhcyB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKSBhcyB0eXBlcy5MaXZlU2VydmVyTWVzc2FnZTtcbiAgfVxuICBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIHNlcnZlck1lc3NhZ2UgPSBjb252ZXJ0ZXJzLmxpdmVTZXJ2ZXJNZXNzYWdlRnJvbVZlcnRleChhcGlDbGllbnQsIGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHNlcnZlck1lc3NhZ2UgPSBjb252ZXJ0ZXJzLmxpdmVTZXJ2ZXJNZXNzYWdlRnJvbU1sZGV2KGFwaUNsaWVudCwgZGF0YSk7XG4gIH1cblxuICBvbm1lc3NhZ2Uoc2VydmVyTWVzc2FnZSk7XG59XG5cbi8qKlxuICAgTGl2ZSBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGxpdmUgaW50ZXJhY3Rpb24gd2l0aCB0aGVcbiAgIEdlbmVyYXRpdmUgTGFuZ3VhZ2UgQVBJLiBJdCBlbWJlZHMgQXBpQ2xpZW50IGZvciBnZW5lcmFsIEFQSSBzZXR0aW5ncy5cblxuICAgQGV4cGVyaW1lbnRhbFxuICAqL1xuZXhwb3J0IGNsYXNzIExpdmUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdlYlNvY2tldEZhY3Rvcnk6IFdlYlNvY2tldEZhY3RvcnksXG4gICkge31cblxuICAvKipcbiAgICAgRXN0YWJsaXNoZXMgYSBjb25uZWN0aW9uIHRvIHRoZSBzcGVjaWZpZWQgbW9kZWwgd2l0aCB0aGUgZ2l2ZW5cbiAgICAgY29uZmlndXJhdGlvbiBhbmQgcmV0dXJucyBhIFNlc3Npb24gb2JqZWN0IHJlcHJlc2VudGluZyB0aGF0IGNvbm5lY3Rpb24uXG5cbiAgICAgQGV4cGVyaW1lbnRhbFxuXG4gICAgIEByZW1hcmtzXG4gICAgIElmIHVzaW5nIHRoZSBHZW1pbmkgQVBJLCBMaXZlIGlzIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBiZWhpbmQgQVBJXG4gICAgIHZlcnNpb24gYHYxYWxwaGFgLiBFbnN1cmUgdGhhdCB0aGUgQVBJIHZlcnNpb24gaXMgc2V0IHRvIGB2MWFscGhhYCB3aGVuXG4gICAgIGluaXRpYWxpemluZyB0aGUgU0RLIGlmIHJlbHlpbmcgb24gdGhlIEdlbWluaSBBUEkuXG5cbiAgICAgQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uIHRvIHRoZSBtb2RlbC5cbiAgICAgQHJldHVybiBBIGxpdmUgc2Vzc2lvbi5cblxuICAgICBAZXhhbXBsZVxuICAgICBgYGB0c1xuICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYWkubGl2ZS5jb25uZWN0KHtcbiAgICAgICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gtZXhwJyxcbiAgICAgICBjb25maWc6IHtcbiAgICAgICAgIHJlc3BvbnNlTW9kYWxpdGllczogW01vZGFsaXR5LkFVRElPXSxcbiAgICAgICB9LFxuICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgb25vcGVuOiAoKSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gdGhlIHNvY2tldC4nKTtcbiAgICAgICAgIH0sXG4gICAgICAgICBvbm1lc3NhZ2U6IChlOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyOiAlc1xcbicsIGRlYnVnKGUuZGF0YSkpO1xuICAgICAgICAgfSxcbiAgICAgICAgIG9uZXJyb3I6IChlOiBFcnJvckV2ZW50KSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBvY2N1cnJlZDogJXNcXG4nLCBkZWJ1ZyhlLmVycm9yKSk7XG4gICAgICAgICB9LFxuICAgICAgICAgb25jbG9zZTogKGU6IENsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gY2xvc2VkLicpO1xuICAgICAgICAgfSxcbiAgICAgICB9LFxuICAgICB9KTtcbiAgICAgYGBgXG4gICAgKi9cbiAgYXN5bmMgY29ubmVjdChwYXJhbXM6IHR5cGVzLkxpdmVDb25uZWN0UGFyYW1ldGVycyk6IFByb21pc2U8U2Vzc2lvbj4ge1xuICAgIGNvbnN0IHdlYnNvY2tldEJhc2VVcmwgPSB0aGlzLmFwaUNsaWVudC5nZXRXZWJzb2NrZXRCYXNlVXJsKCk7XG4gICAgY29uc3QgYXBpVmVyc2lvbiA9IHRoaXMuYXBpQ2xpZW50LmdldEFwaVZlcnNpb24oKTtcbiAgICBsZXQgdXJsOiBzdHJpbmc7XG4gICAgY29uc3QgaGVhZGVycyA9IG1hcFRvSGVhZGVycyh0aGlzLmFwaUNsaWVudC5nZXREZWZhdWx0SGVhZGVycygpKTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB1cmwgPSBgJHt3ZWJzb2NrZXRCYXNlVXJsfS93cy9nb29nbGUuY2xvdWQuYWlwbGF0Zm9ybS4ke1xuICAgICAgICBhcGlWZXJzaW9uXG4gICAgICB9LkxsbUJpZGlTZXJ2aWNlL0JpZGlHZW5lcmF0ZUNvbnRlbnRgO1xuICAgICAgYXdhaXQgdGhpcy5hdXRoLmFkZEF1dGhIZWFkZXJzKGhlYWRlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcGlLZXkgPSB0aGlzLmFwaUNsaWVudC5nZXRBcGlLZXkoKTtcbiAgICAgIHVybCA9IGAke3dlYnNvY2tldEJhc2VVcmx9L3dzL2dvb2dsZS5haS5nZW5lcmF0aXZlbGFuZ3VhZ2UuJHtcbiAgICAgICAgYXBpVmVyc2lvblxuICAgICAgfS5HZW5lcmF0aXZlU2VydmljZS5CaWRpR2VuZXJhdGVDb250ZW50P2tleT0ke2FwaUtleX1gO1xuICAgIH1cblxuICAgIGxldCBvbm9wZW5SZXNvbHZlOiAodmFsdWU6IHVua25vd24pID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgICBjb25zdCBvbm9wZW5Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCkgPT4ge1xuICAgICAgb25vcGVuUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjYWxsYmFja3M6IHR5cGVzLkxpdmVDYWxsYmFja3MgPSBwYXJhbXMuY2FsbGJhY2tzO1xuXG4gICAgY29uc3Qgb25vcGVuQXdhaXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2tzPy5vbm9wZW4/LigpO1xuICAgICAgb25vcGVuUmVzb2x2ZSh7fSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwaUNsaWVudCA9IHRoaXMuYXBpQ2xpZW50O1xuXG4gICAgY29uc3Qgd2Vic29ja2V0Q2FsbGJhY2tzOiBXZWJTb2NrZXRDYWxsYmFja3MgPSB7XG4gICAgICBvbm9wZW46IG9ub3BlbkF3YWl0ZWRDYWxsYmFjayxcbiAgICAgIG9ubWVzc2FnZTogKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgdm9pZCBoYW5kbGVXZWJTb2NrZXRNZXNzYWdlKGFwaUNsaWVudCwgY2FsbGJhY2tzLm9ubWVzc2FnZSwgZXZlbnQpO1xuICAgICAgfSxcbiAgICAgIG9uZXJyb3I6XG4gICAgICAgIGNhbGxiYWNrcz8ub25lcnJvciA/P1xuICAgICAgICBmdW5jdGlvbiAoZTogRXJyb3JFdmVudCkge1xuICAgICAgICAgIHZvaWQgZTtcbiAgICAgICAgfSxcbiAgICAgIG9uY2xvc2U6XG4gICAgICAgIGNhbGxiYWNrcz8ub25jbG9zZSA/P1xuICAgICAgICBmdW5jdGlvbiAoZTogQ2xvc2VFdmVudCkge1xuICAgICAgICAgIHZvaWQgZTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgY29ubiA9IHRoaXMud2ViU29ja2V0RmFjdG9yeS5jcmVhdGUoXG4gICAgICB1cmwsXG4gICAgICBoZWFkZXJzVG9NYXAoaGVhZGVycyksXG4gICAgICB3ZWJzb2NrZXRDYWxsYmFja3MsXG4gICAgKTtcbiAgICBjb25uLmNvbm5lY3QoKTtcbiAgICAvLyBXYWl0IGZvciB0aGUgd2Vic29ja2V0IHRvIG9wZW4gYmVmb3JlIHNlbmRpbmcgcmVxdWVzdHMuXG4gICAgYXdhaXQgb25vcGVuUHJvbWlzZTtcblxuICAgIGxldCB0cmFuc2Zvcm1lZE1vZGVsID0gdC50TW9kZWwodGhpcy5hcGlDbGllbnQsIHBhcmFtcy5tb2RlbCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpICYmXG4gICAgICB0cmFuc2Zvcm1lZE1vZGVsLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvJylcbiAgICApIHtcbiAgICAgIGNvbnN0IHByb2plY3QgPSB0aGlzLmFwaUNsaWVudC5nZXRQcm9qZWN0KCk7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuYXBpQ2xpZW50LmdldExvY2F0aW9uKCk7XG4gICAgICB0cmFuc2Zvcm1lZE1vZGVsID1cbiAgICAgICAgYHByb2plY3RzLyR7cHJvamVjdH0vbG9jYXRpb25zLyR7bG9jYXRpb259L2AgKyB0cmFuc2Zvcm1lZE1vZGVsO1xuICAgIH1cblxuICAgIGxldCBjbGllbnRNZXNzYWdlOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSA9IHt9O1xuICAgIGNvbnN0IGxpdmVDb25uZWN0UGFyYW1ldGVyczogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzID0ge1xuICAgICAgbW9kZWw6IHRyYW5zZm9ybWVkTW9kZWwsXG4gICAgICBjb25maWc6IHBhcmFtcy5jb25maWcsXG4gICAgICBjYWxsYmFja3M6IHBhcmFtcy5jYWxsYmFja3MsXG4gICAgfTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjbGllbnRNZXNzYWdlID0gY29udmVydGVycy5saXZlQ29ubmVjdFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIGxpdmVDb25uZWN0UGFyYW1ldGVycyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsaWVudE1lc3NhZ2UgPSBjb252ZXJ0ZXJzLmxpdmVDb25uZWN0UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBsaXZlQ29ubmVjdFBhcmFtZXRlcnMsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICAgIHJldHVybiBuZXcgU2Vzc2lvbihjb25uLCB0aGlzLmFwaUNsaWVudCk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdExpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXJ0ZXJzOiB0eXBlcy5MaXZlU2VuZENsaWVudENvbnRlbnRQYXJhbWV0ZXJzID1cbiAge1xuICAgIHR1cm5Db21wbGV0ZTogdHJ1ZSxcbiAgfTtcblxuLyoqXG4gICBSZXByZXNlbnRzIGEgY29ubmVjdGlvbiB0byB0aGUgQVBJLlxuXG4gICBAZXhwZXJpbWVudGFsXG4gICovXG5leHBvcnQgY2xhc3MgU2Vzc2lvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IGNvbm46IFdlYlNvY2tldCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApIHt9XG5cbiAgcHJpdmF0ZSB0TGl2ZUNsaWVudENvbnRlbnQoXG4gICAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcGFyYW1zOiB0eXBlcy5MaXZlU2VuZENsaWVudENvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSB7XG4gICAgaWYgKHBhcmFtcy50dXJucyAhPT0gbnVsbCAmJiBwYXJhbXMudHVybnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGNvbnRlbnRzOiB0eXBlcy5Db250ZW50W10gPSBbXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnRlbnRzID0gdC50Q29udGVudHMoXG4gICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgIHBhcmFtcy50dXJucyBhcyB0eXBlcy5Db250ZW50TGlzdFVuaW9uLFxuICAgICAgICApO1xuICAgICAgICBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgICAgIGNvbnRlbnRzID0gY29udGVudHMubWFwKChpdGVtKSA9PiBjb250ZW50VG9WZXJ0ZXgoYXBpQ2xpZW50LCBpdGVtKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudHMgPSBjb250ZW50cy5tYXAoKGl0ZW0pID0+IGNvbnRlbnRUb01sZGV2KGFwaUNsaWVudCwgaXRlbSkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGYWlsZWQgdG8gcGFyc2UgY2xpZW50IGNvbnRlbnQgXCJ0dXJuc1wiLCB0eXBlOiAnJHt0eXBlb2YgcGFyYW1zLnR1cm5zfSdgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xpZW50Q29udGVudDoge3R1cm5zOiBjb250ZW50cywgdHVybkNvbXBsZXRlOiBwYXJhbXMudHVybkNvbXBsZXRlfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudENvbnRlbnQ6IHt0dXJuQ29tcGxldGU6IHBhcmFtcy50dXJuQ29tcGxldGV9LFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHRMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dChcbiAgICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgICBwYXJhbXM6IHR5cGVzLkxpdmVTZW5kUmVhbHRpbWVJbnB1dFBhcmFtZXRlcnMsXG4gICk6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlIHtcbiAgICBsZXQgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPSB7fTtcbiAgICBpZiAoISgnbWVkaWEnIGluIHBhcmFtcykgfHwgIXBhcmFtcy5tZWRpYSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGNvbnZlcnQgcmVhbHRpbWUgaW5wdXQgXCJtZWRpYVwiLCB0eXBlOiAnJHt0eXBlb2YgcGFyYW1zLm1lZGlhfSdgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dFxuICAgIGNsaWVudE1lc3NhZ2UgPSB7XG4gICAgICByZWFsdGltZUlucHV0OiB7XG4gICAgICAgIG1lZGlhQ2h1bmtzOiBbcGFyYW1zLm1lZGlhXSxcbiAgICAgICAgYWN0aXZpdHlTdGFydDogcGFyYW1zLmFjdGl2aXR5U3RhcnQsXG4gICAgICAgIGFjdGl2aXR5RW5kOiBwYXJhbXMuYWN0aXZpdHlFbmQsXG4gICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGNsaWVudE1lc3NhZ2U7XG4gIH1cblxuICBwcml2YXRlIHRMaXZlQ2xpZW50dFRvb2xSZXNwb25zZShcbiAgICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgICBwYXJhbXM6IHR5cGVzLkxpdmVTZW5kVG9vbFJlc3BvbnNlUGFyYW1ldGVycyxcbiAgKTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2Uge1xuICAgIGxldCBmdW5jdGlvblJlc3BvbnNlczogdHlwZXMuRnVuY3Rpb25SZXNwb25zZVtdID0gW107XG5cbiAgICBpZiAocGFyYW1zLmZ1bmN0aW9uUmVzcG9uc2VzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZnVuY3Rpb25SZXNwb25zZXMgaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcy5mdW5jdGlvblJlc3BvbnNlcykpIHtcbiAgICAgIGZ1bmN0aW9uUmVzcG9uc2VzID0gW3BhcmFtcy5mdW5jdGlvblJlc3BvbnNlc107XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmN0aW9uUmVzcG9uc2VzID0gcGFyYW1zLmZ1bmN0aW9uUmVzcG9uc2VzO1xuICAgIH1cblxuICAgIGlmIChmdW5jdGlvblJlc3BvbnNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZnVuY3Rpb25SZXNwb25zZXMgaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBmdW5jdGlvblJlc3BvbnNlIG9mIGZ1bmN0aW9uUmVzcG9uc2VzKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBmdW5jdGlvblJlc3BvbnNlICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICBmdW5jdGlvblJlc3BvbnNlID09PSBudWxsIHx8XG4gICAgICAgICEoJ25hbWUnIGluIGZ1bmN0aW9uUmVzcG9uc2UpIHx8XG4gICAgICAgICEoJ3Jlc3BvbnNlJyBpbiBmdW5jdGlvblJlc3BvbnNlKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ291bGQgbm90IHBhcnNlIGZ1bmN0aW9uIHJlc3BvbnNlLCB0eXBlICcke3R5cGVvZiBmdW5jdGlvblJlc3BvbnNlfScuYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICghYXBpQ2xpZW50LmlzVmVydGV4QUkoKSAmJiAhKCdpZCcgaW4gZnVuY3Rpb25SZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEZVTkNUSU9OX1JFU1BPTlNFX1JFUVVJUkVTX0lEKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbGllbnRNZXNzYWdlOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSA9IHtcbiAgICAgIHRvb2xSZXNwb25zZToge2Z1bmN0aW9uUmVzcG9uc2VzOiBmdW5jdGlvblJlc3BvbnNlc30sXG4gICAgfTtcbiAgICByZXR1cm4gY2xpZW50TWVzc2FnZTtcbiAgfVxuXG4gIC8qKlxuICAgIFNlbmQgYSBtZXNzYWdlIG92ZXIgdGhlIGVzdGFibGlzaGVkIGNvbm5lY3Rpb24uXG5cbiAgICBAcGFyYW0gcGFyYW1zIC0gQ29udGFpbnMgdHdvICoqb3B0aW9uYWwqKiBwcm9wZXJ0aWVzLCBgdHVybnNgIGFuZFxuICAgICAgICBgdHVybkNvbXBsZXRlYC5cblxuICAgICAgLSBgdHVybnNgIHdpbGwgYmUgY29udmVydGVkIHRvIGEgYENvbnRlbnRbXWBcbiAgICAgIC0gYHR1cm5Db21wbGV0ZTogdHJ1ZWAgW2RlZmF1bHRdIGluZGljYXRlcyB0aGF0IHlvdSBhcmUgZG9uZSBzZW5kaW5nXG4gICAgICAgIGNvbnRlbnQgYW5kIGV4cGVjdCBhIHJlc3BvbnNlLiBJZiBgdHVybkNvbXBsZXRlOiBmYWxzZWAsIHRoZSBzZXJ2ZXJcbiAgICAgICAgd2lsbCB3YWl0IGZvciBhZGRpdGlvbmFsIG1lc3NhZ2VzIGJlZm9yZSBzdGFydGluZyBnZW5lcmF0aW9uLlxuXG4gICAgQGV4cGVyaW1lbnRhbFxuXG4gICAgQHJlbWFya3NcbiAgICBUaGVyZSBhcmUgdHdvIHdheXMgdG8gc2VuZCBtZXNzYWdlcyB0byB0aGUgbGl2ZSBBUEk6XG4gICAgYHNlbmRDbGllbnRDb250ZW50YCBhbmQgYHNlbmRSZWFsdGltZUlucHV0YC5cblxuICAgIGBzZW5kQ2xpZW50Q29udGVudGAgbWVzc2FnZXMgYXJlIGFkZGVkIHRvIHRoZSBtb2RlbCBjb250ZXh0ICoqaW4gb3JkZXIqKi5cbiAgICBIYXZpbmcgYSBjb252ZXJzYXRpb24gdXNpbmcgYHNlbmRDbGllbnRDb250ZW50YCBtZXNzYWdlcyBpcyByb3VnaGx5XG4gICAgZXF1aXZhbGVudCB0byB1c2luZyB0aGUgYENoYXQuc2VuZE1lc3NhZ2VTdHJlYW1gLCBleGNlcHQgdGhhdCB0aGUgc3RhdGUgb2ZcbiAgICB0aGUgYGNoYXRgIGhpc3RvcnkgaXMgc3RvcmVkIG9uIHRoZSBBUEkgc2VydmVyIGluc3RlYWQgb2YgbG9jYWxseS5cblxuICAgIEJlY2F1c2Ugb2YgYHNlbmRDbGllbnRDb250ZW50YCdzIG9yZGVyIGd1YXJhbnRlZSwgdGhlIG1vZGVsIGNhbm5vdCByZXNwb25zXG4gICAgYXMgcXVpY2tseSB0byBgc2VuZENsaWVudENvbnRlbnRgIG1lc3NhZ2VzIGFzIHRvIGBzZW5kUmVhbHRpbWVJbnB1dGBcbiAgICBtZXNzYWdlcy4gVGhpcyBtYWtlcyB0aGUgYmlnZ2VzdCBkaWZmZXJlbmNlIHdoZW4gc2VuZGluZyBvYmplY3RzIHRoYXQgaGF2ZVxuICAgIHNpZ25pZmljYW50IHByZXByb2Nlc3NpbmcgdGltZSAodHlwaWNhbGx5IGltYWdlcykuXG5cbiAgICBUaGUgYHNlbmRDbGllbnRDb250ZW50YCBtZXNzYWdlIHNlbmRzIGEgYENvbnRlbnRbXWBcbiAgICB3aGljaCBoYXMgbW9yZSBvcHRpb25zIHRoYW4gdGhlIGBCbG9iYCBzZW50IGJ5IGBzZW5kUmVhbHRpbWVJbnB1dGAuXG5cbiAgICBTbyB0aGUgbWFpbiB1c2UtY2FzZXMgZm9yIGBzZW5kQ2xpZW50Q29udGVudGAgb3ZlciBgc2VuZFJlYWx0aW1lSW5wdXRgIGFyZTpcblxuICAgIC0gU2VuZGluZyBhbnl0aGluZyB0aGF0IGNhbid0IGJlIHJlcHJlc2VudGVkIGFzIGEgYEJsb2JgICh0ZXh0LFxuICAgIGBzZW5kQ2xpZW50Q29udGVudCh7dHVybnM9XCJIZWxsbz9cIn1gKSkuXG4gICAgLSBNYW5hZ2luZyB0dXJucyB3aGVuIG5vdCB1c2luZyBhdWRpbyBpbnB1dCBhbmQgdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uLlxuICAgICAgKGBzZW5kQ2xpZW50Q29udGVudCh7dHVybkNvbXBsZXRlOnRydWV9KWAgb3IgdGhlIHNob3J0IGZvcm1cbiAgICBgc2VuZENsaWVudENvbnRlbnQoKWApXG4gICAgLSBQcmVmaWxsaW5nIGEgY29udmVyc2F0aW9uIGNvbnRleHRcbiAgICAgIGBgYFxuICAgICAgc2VuZENsaWVudENvbnRlbnQoe1xuICAgICAgICAgIHR1cm5zOiBbXG4gICAgICAgICAgICBDb250ZW50KHtyb2xlOnVzZXIsIHBhcnRzOi4uLn0pLFxuICAgICAgICAgICAgQ29udGVudCh7cm9sZTp1c2VyLCBwYXJ0czouLi59KSxcbiAgICAgICAgICAgIC4uLlxuICAgICAgICAgIF1cbiAgICAgIH0pXG4gICAgICBgYGBcbiAgICBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBzZW5kQ2xpZW50Q29udGVudChwYXJhbXM6IHR5cGVzLkxpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXRlcnMpIHtcbiAgICBwYXJhbXMgPSB7XG4gICAgICAuLi5kZWZhdWx0TGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1lcnRlcnMsXG4gICAgICAuLi5wYXJhbXMsXG4gICAgfTtcblxuICAgIGNvbnN0IGNsaWVudE1lc3NhZ2U6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlID0gdGhpcy50TGl2ZUNsaWVudENvbnRlbnQoXG4gICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICAgIHRoaXMuY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGNsaWVudE1lc3NhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgIFNlbmQgYSByZWFsdGltZSBtZXNzYWdlIG92ZXIgdGhlIGVzdGFibGlzaGVkIGNvbm5lY3Rpb24uXG5cbiAgICBAcGFyYW0gcGFyYW1zIC0gQ29udGFpbnMgb25lIHByb3BlcnR5LCBgbWVkaWFgLlxuXG4gICAgICAtIGBtZWRpYWAgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBgQmxvYmBcblxuICAgIEBleHBlcmltZW50YWxcblxuICAgIEByZW1hcmtzXG4gICAgVXNlIGBzZW5kUmVhbHRpbWVJbnB1dGAgZm9yIHJlYWx0aW1lIGF1ZGlvIGNodW5rcyBhbmQgdmlkZW8gZnJhbWVzIChpbWFnZXMpLlxuXG4gICAgV2l0aCBgc2VuZFJlYWx0aW1lSW5wdXRgIHRoZSBhcGkgd2lsbCByZXNwb25kIHRvIGF1ZGlvIGF1dG9tYXRpY2FsbHlcbiAgICBiYXNlZCBvbiB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24gKFZBRCkuXG5cbiAgICBgc2VuZFJlYWx0aW1lSW5wdXRgIGlzIG9wdGltaXplZCBmb3IgcmVzcG9uc2l2bmVzcyBhdCB0aGUgZXhwZW5zZSBvZlxuICAgIGRldGVybWluaXN0aWMgb3JkZXJpbmcgZ3VhcmFudGVlcy4gQXVkaW8gYW5kIHZpZGVvIHRva2VucyBhcmUgdG8gdGhlXG4gICAgY29udGV4dCB3aGVuIHRoZXkgYmVjb21lIGF2YWlsYWJsZS5cblxuICAgIE5vdGU6IFRoZSBDYWxsIHNpZ25hdHVyZSBleHBlY3RzIGEgYEJsb2JgIG9iamVjdCwgYnV0IG9ubHkgYSBzdWJzZXRcbiAgICBvZiBhdWRpbyBhbmQgaW1hZ2UgbWltZXR5cGVzIGFyZSBhbGxvd2VkLlxuICAgKi9cbiAgc2VuZFJlYWx0aW1lSW5wdXQocGFyYW1zOiB0eXBlcy5MaXZlU2VuZFJlYWx0aW1lSW5wdXRQYXJhbWV0ZXJzKSB7XG4gICAgaWYgKHBhcmFtcy5tZWRpYSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lZGlhIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudE1lc3NhZ2U6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlID1cbiAgICAgIHRoaXMudExpdmVDbGllbnRSZWFsdGltZUlucHV0KHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMpO1xuICAgIHRoaXMuY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGNsaWVudE1lc3NhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgIFNlbmQgYSBmdW5jdGlvbiByZXNwb25zZSBtZXNzYWdlIG92ZXIgdGhlIGVzdGFibGlzaGVkIGNvbm5lY3Rpb24uXG5cbiAgICBAcGFyYW0gcGFyYW1zIC0gQ29udGFpbnMgcHJvcGVydHkgYGZ1bmN0aW9uUmVzcG9uc2VzYC5cblxuICAgICAgLSBgZnVuY3Rpb25SZXNwb25zZXNgIHdpbGwgYmUgY29udmVydGVkIHRvIGEgYGZ1bmN0aW9uUmVzcG9uc2VzW11gXG5cbiAgICBAcmVtYXJrc1xuICAgIFVzZSBgc2VuZEZ1bmN0aW9uUmVzcG9uc2VgIHRvIHJlcGx5IHRvIGBMaXZlU2VydmVyVG9vbENhbGxgIGZyb20gdGhlIHNlcnZlci5cblxuICAgIFVzZSB7QGxpbmsgdHlwZXMuTGl2ZUNvbm5lY3RDb25maWcjdG9vbHN9IHRvIGNvbmZpZ3VyZSB0aGUgY2FsbGFibGUgZnVuY3Rpb25zLlxuXG4gICAgQGV4cGVyaW1lbnRhbFxuICAgKi9cbiAgc2VuZFRvb2xSZXNwb25zZShwYXJhbXM6IHR5cGVzLkxpdmVTZW5kVG9vbFJlc3BvbnNlUGFyYW1ldGVycykge1xuICAgIGlmIChwYXJhbXMuZnVuY3Rpb25SZXNwb25zZXMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sIHJlc3BvbnNlIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsaWVudE1lc3NhZ2U6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlID1cbiAgICAgIHRoaXMudExpdmVDbGllbnR0VG9vbFJlc3BvbnNlKHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMpO1xuICAgIHRoaXMuY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGNsaWVudE1lc3NhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgICBUZXJtaW5hdGVzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi5cblxuICAgICBAZXhwZXJpbWVudGFsXG5cbiAgICAgQGV4YW1wbGVcbiAgICAgYGBgdHNcbiAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGFpLmxpdmUuY29ubmVjdCh7XG4gICAgICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoLWV4cCcsXG4gICAgICAgY29uZmlnOiB7XG4gICAgICAgICByZXNwb25zZU1vZGFsaXRpZXM6IFtNb2RhbGl0eS5BVURJT10sXG4gICAgICAgfVxuICAgICB9KTtcblxuICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgIGBgYFxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5jb25uLmNsb3NlKCk7XG4gIH1cbn1cblxuLy8gQ29udmVydHMgYW4gaGVhZGVycyBvYmplY3QgdG8gYSBcIm1hcFwiIG9iamVjdCBhcyBleHBlY3RlZCBieSB0aGUgV2ViU29ja2V0XG4vLyBjb25zdHJ1Y3Rvci4gV2UgdXNlIHRoaXMgYXMgdGhlIEF1dGggaW50ZXJmYWNlIHdvcmtzIHdpdGggSGVhZGVycyBvYmplY3RzXG4vLyB3aGlsZSB0aGUgV2ViU29ja2V0IGNvbnN0cnVjdG9yIHRha2VzIGEgbWFwLlxuZnVuY3Rpb24gaGVhZGVyc1RvTWFwKGhlYWRlcnM6IEhlYWRlcnMpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3QgaGVhZGVyTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGhlYWRlck1hcFtrZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gaGVhZGVyTWFwO1xufVxuXG4vLyBDb252ZXJ0cyBhIFwibWFwXCIgb2JqZWN0IHRvIGEgaGVhZGVycyBvYmplY3QuIFdlIHVzZSB0aGlzIGFzIHRoZSBBdXRoXG4vLyBpbnRlcmZhY2Ugd29ya3Mgd2l0aCBIZWFkZXJzIG9iamVjdHMgd2hpbGUgdGhlIEFQSSBjbGllbnQgZGVmYXVsdCBoZWFkZXJzXG4vLyByZXR1cm5zIGEgbWFwLlxuZnVuY3Rpb24gbWFwVG9IZWFkZXJzKG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IEhlYWRlcnMge1xuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobWFwKSkge1xuICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbic7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbic7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fbW9kZWxzX2NvbnZlcnRlcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYW4gQVBJIHJlcXVlc3QgdG8gZ2VuZXJhdGUgY29udGVudCB3aXRoIGEgZ2l2ZW4gbW9kZWwuXG4gICAqXG4gICAqIEZvciB0aGUgYG1vZGVsYCBwYXJhbWV0ZXIsIHN1cHBvcnRlZCBmb3JtYXRzIGZvciBWZXJ0ZXggQUkgQVBJIGluY2x1ZGU6XG4gICAqIC0gVGhlIEdlbWluaSBtb2RlbCBJRCwgZm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBmdWxsIHJlc291cmNlIG5hbWUgc3RhcnRzIHdpdGggJ3Byb2plY3RzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3Byb2plY3RzL215LXByb2plY3QtaWQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBwYXJ0aWFsIHJlc291cmNlIG5hbWUgd2l0aCAncHVibGlzaGVycy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCcgb3JcbiAgICogICdwdWJsaXNoZXJzL21ldGEvbW9kZWxzL2xsYW1hLTMuMS00MDViLWluc3RydWN0LW1hYXMnXG4gICAqIC0gYC9gIHNlcGFyYXRlZCBwdWJsaXNoZXIgYW5kIG1vZGVsIG5hbWUsIGZvciBleGFtcGxlOlxuICAgKiAnZ29vZ2xlL2dlbWluaS0yLjAtZmxhc2gnIG9yICdtZXRhL2xsYW1hLTMuMS00MDViLWluc3RydWN0LW1hYXMnXG4gICAqXG4gICAqIEZvciB0aGUgYG1vZGVsYCBwYXJhbWV0ZXIsIHN1cHBvcnRlZCBmb3JtYXRzIGZvciBHZW1pbmkgQVBJIGluY2x1ZGU6XG4gICAqIC0gVGhlIEdlbWluaSBtb2RlbCBJRCwgZm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBtb2RlbCBuYW1lIHN0YXJ0cyB3aXRoICdtb2RlbHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAnbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gRm9yIHR1bmVkIG1vZGVscywgdGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ3R1bmVkTW9kZWxzLycsXG4gICAqIGZvciBleGFtcGxlOlxuICAgKiAndHVuZWRNb2RlbHMvMTIzNDU2Nzg5MDEyMzQ1Njc4OSdcbiAgICpcbiAgICogU29tZSBtb2RlbHMgc3VwcG9ydCBtdWx0aW1vZGFsIGlucHV0IGFuZCBvdXRwdXQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBjb250ZW50LlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIGdlbmVyYXRpbmcgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOiAnd2h5IGlzIHRoZSBza3kgYmx1ZT8nLFxuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgY2FuZGlkYXRlQ291bnQ6IDIsXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgKiBgYGBcbiAgICovXG4gIGdlbmVyYXRlQ29udGVudCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZW5lcmF0ZUNvbnRlbnRJbnRlcm5hbChwYXJhbXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYWtlcyBhbiBBUEkgcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50IHdpdGggYSBnaXZlbiBtb2RlbCBhbmQgeWllbGRzIHRoZVxuICAgKiByZXNwb25zZSBpbiBjaHVua3MuXG4gICAqXG4gICAqIEZvciB0aGUgYG1vZGVsYCBwYXJhbWV0ZXIsIHN1cHBvcnRlZCBmb3JtYXRzIGZvciBWZXJ0ZXggQUkgQVBJIGluY2x1ZGU6XG4gICAqIC0gVGhlIEdlbWluaSBtb2RlbCBJRCwgZm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBmdWxsIHJlc291cmNlIG5hbWUgc3RhcnRzIHdpdGggJ3Byb2plY3RzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3Byb2plY3RzL215LXByb2plY3QtaWQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBwYXJ0aWFsIHJlc291cmNlIG5hbWUgd2l0aCAncHVibGlzaGVycy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCcgb3JcbiAgICogICdwdWJsaXNoZXJzL21ldGEvbW9kZWxzL2xsYW1hLTMuMS00MDViLWluc3RydWN0LW1hYXMnXG4gICAqIC0gYC9gIHNlcGFyYXRlZCBwdWJsaXNoZXIgYW5kIG1vZGVsIG5hbWUsIGZvciBleGFtcGxlOlxuICAgKiAnZ29vZ2xlL2dlbWluaS0yLjAtZmxhc2gnIG9yICdtZXRhL2xsYW1hLTMuMS00MDViLWluc3RydWN0LW1hYXMnXG4gICAqXG4gICAqIEZvciB0aGUgYG1vZGVsYCBwYXJhbWV0ZXIsIHN1cHBvcnRlZCBmb3JtYXRzIGZvciBHZW1pbmkgQVBJIGluY2x1ZGU6XG4gICAqIC0gVGhlIEdlbWluaSBtb2RlbCBJRCwgZm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAtIFRoZSBtb2RlbCBuYW1lIHN0YXJ0cyB3aXRoICdtb2RlbHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAnbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gRm9yIHR1bmVkIG1vZGVscywgdGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ3R1bmVkTW9kZWxzLycsXG4gICAqIGZvciBleGFtcGxlOlxuICAgKiAgJ3R1bmVkTW9kZWxzLzEyMzQ1Njc4OTAxMjM0NTY3ODknXG4gICAqXG4gICAqIFNvbWUgbW9kZWxzIHN1cHBvcnQgbXVsdGltb2RhbCBpbnB1dCBhbmQgb3V0cHV0LlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGdlbmVyYXRpbmcgY29udGVudCB3aXRoIHN0cmVhbWluZyByZXNwb25zZS5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSBnZW5lcmF0aW5nIGNvbnRlbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudFN0cmVhbSh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogICBjb250ZW50czogJ3doeSBpcyB0aGUgc2t5IGJsdWU/JyxcbiAgICogICBjb25maWc6IHtcbiAgICogICAgIG1heE91dHB1dFRva2VuczogMjAwLFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVzcG9uc2UpIHtcbiAgICogICBjb25zb2xlLmxvZyhjaHVuayk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBnZW5lcmF0ZUNvbnRlbnRTdHJlYW0gPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdlbmVyYXRlQ29udGVudFN0cmVhbUludGVybmFsKHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBpbWFnZSBiYXNlZCBvbiBhIHRleHQgZGVzY3JpcHRpb24gYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBtb2RlbCAtIFRoZSBtb2RlbCB0byB1c2UuXG4gICAqIEBwYXJhbSBwcm9tcHQgLSBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIGltYWdlIHRvIGdlbmVyYXRlLlxuICAgKiBAcGFyYW0gW2NvbmZpZ10gLSBUaGUgY29uZmlnIGZvciBpbWFnZSBnZW5lcmF0aW9uLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5nZW5lcmF0ZUltYWdlcyh7XG4gICAqICBtb2RlbDogJ2ltYWdlbi0zLjAtZ2VuZXJhdGUtMDAyJyxcbiAgICogIHByb21wdDogJ1JvYm90IGhvbGRpbmcgYSByZWQgc2thdGVib2FyZCcsXG4gICAqICBjb25maWc6IHtcbiAgICogICAgbnVtYmVyT2ZJbWFnZXM6IDEsXG4gICAqICAgIGluY2x1ZGVSYWlSZWFzb246IHRydWUsXG4gICAqICB9LFxuICAgKiB9KTtcbiAgICogY29uc29sZS5sb2cocmVzcG9uc2U/LmdlbmVyYXRlZEltYWdlcz8uWzBdPy5pbWFnZT8uaW1hZ2VCeXRlcyk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2VuZXJhdGVJbWFnZXMgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdlbmVyYXRlSW1hZ2VzSW50ZXJuYWwocGFyYW1zKS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcztcbiAgICAgIGNvbnN0IGdlbmVyYXRlZEltYWdlcyA9IFtdO1xuXG4gICAgICBpZiAoYXBpUmVzcG9uc2U/LmdlbmVyYXRlZEltYWdlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGdlbmVyYXRlZEltYWdlIG9mIGFwaVJlc3BvbnNlLmdlbmVyYXRlZEltYWdlcykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGdlbmVyYXRlZEltYWdlICYmXG4gICAgICAgICAgICBnZW5lcmF0ZWRJbWFnZT8uc2FmZXR5QXR0cmlidXRlcyAmJlxuICAgICAgICAgICAgZ2VuZXJhdGVkSW1hZ2U/LnNhZmV0eUF0dHJpYnV0ZXM/LmNvbnRlbnRUeXBlID09PSAnUG9zaXRpdmUgUHJvbXB0J1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzID0gZ2VuZXJhdGVkSW1hZ2U/LnNhZmV0eUF0dHJpYnV0ZXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZEltYWdlcy5wdXNoKGdlbmVyYXRlZEltYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCByZXNwb25zZTogdHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZTtcblxuICAgICAgaWYgKHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcykge1xuICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICBnZW5lcmF0ZWRJbWFnZXM6IGdlbmVyYXRlZEltYWdlcyxcbiAgICAgICAgICBwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXM6IHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgIGdlbmVyYXRlZEltYWdlczogZ2VuZXJhdGVkSW1hZ2VzLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVDb250ZW50SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpnZW5lcmF0ZUNvbnRlbnQnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Z2VuZXJhdGVDb250ZW50JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVDb250ZW50U3RyZWFtSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnN0cmVhbUdlbmVyYXRlQ29udGVudD9hbHQ9c3NlJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIGNvbnN0IGFwaUNsaWVudCA9IHRoaXMuYXBpQ2xpZW50O1xuICAgICAgcmVzcG9uc2UgPSBhcGlDbGllbnQucmVxdWVzdFN0cmVhbSh7XG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgfSkgYXMgUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihhc3luYyBmdW5jdGlvbiogKFxuICAgICAgICBhcGlSZXNwb25zZTogQXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+LFxuICAgICAgKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXBpUmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgoXG4gICAgICAgICAgICBhcGlDbGllbnQsXG4gICAgICAgICAgICBjaHVuayxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgICB5aWVsZCB0eXBlZFJlc3A7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06c3RyZWFtR2VuZXJhdGVDb250ZW50P2FsdD1zc2UnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgY29uc3QgYXBpQ2xpZW50ID0gdGhpcy5hcGlDbGllbnQ7XG4gICAgICByZXNwb25zZSA9IGFwaUNsaWVudC5yZXF1ZXN0U3RyZWFtKHtcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICB9KSBhcyBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKGFzeW5jIGZ1bmN0aW9uKiAoXG4gICAgICAgIGFwaVJlc3BvbnNlOiBBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4sXG4gICAgICApIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBhcGlSZXNwb25zZSkge1xuICAgICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICAgICAgYXBpQ2xpZW50LFxuICAgICAgICAgICAgY2h1bmssXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgICAgeWllbGQgdHlwZWRSZXNwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBlbWJlZGRpbmdzIGZvciB0aGUgZ2l2ZW4gY29udGVudHMuIE9ubHkgdGV4dCBpcyBzdXBwb3J0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZW1iZWRkaW5nIGNvbnRlbnRzLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmVtYmVkQ29udGVudCh7XG4gICAqICBtb2RlbDogJ3RleHQtZW1iZWRkaW5nLTAwNCcsXG4gICAqICBjb250ZW50czogW1xuICAgKiAgICAnV2hhdCBpcyB5b3VyIG5hbWU/JyxcbiAgICogICAgJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBjb2xvcj8nLFxuICAgKiAgXSxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBvdXRwdXREaW1lbnNpb25hbGl0eTogNjQsXG4gICAqICB9LFxuICAgKiB9KTtcbiAgICogY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGVtYmVkQ29udGVudChcbiAgICBwYXJhbXM6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5lbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5lbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06YmF0Y2hFbWJlZENvbnRlbnRzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5lbWJlZENvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4gaW1hZ2UgYmFzZWQgb24gYSB0ZXh0IGRlc2NyaXB0aW9uIGFuZCBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGdlbmVyYXRpbmcgaW1hZ2VzLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmdlbmVyYXRlSW1hZ2VzKHtcbiAgICogIG1vZGVsOiAnaW1hZ2VuLTMuMC1nZW5lcmF0ZS0wMDInLFxuICAgKiAgcHJvbXB0OiAnUm9ib3QgaG9sZGluZyBhIHJlZCBza2F0ZWJvYXJkJyxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBudW1iZXJPZkltYWdlczogMSxcbiAgICogICAgaW5jbHVkZVJhaVJlYXNvbjogdHJ1ZSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlSW1hZ2VzSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tTWxkZXYoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIGluZm9ybWF0aW9uIGFib3V0IGEgbW9kZWwgYnkgbmFtZS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgbW9kZWxJbmZvID0gYXdhaXQgYWkubW9kZWxzLmdldCh7bW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJ30pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGdldChwYXJhbXM6IHR5cGVzLkdldE1vZGVsUGFyYW1ldGVycyk6IFByb21pc2U8dHlwZXMuTW9kZWw+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTW9kZWw+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Nb2RlbD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5tb2RlbEZyb21WZXJ0ZXgodGhpcy5hcGlDbGllbnQsIGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5Nb2RlbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb01sZGV2KHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTW9kZWw+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubW9kZWxGcm9tTWxkZXYodGhpcy5hcGlDbGllbnQsIGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5Nb2RlbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGdpdmVuIGNvbnRlbnRzLiBNdWx0aW1vZGFsIGlucHV0IGlzXG4gICAqIHN1cHBvcnRlZCBmb3IgR2VtaW5pIG1vZGVscy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjb3VudGluZyB0b2tlbnMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuY291bnRUb2tlbnMoe1xuICAgKiAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogIGNvbnRlbnRzOiAnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZy4nXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY291bnRUb2tlbnMoXG4gICAgcGFyYW1zOiB0eXBlcy5Db3VudFRva2Vuc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OmNvdW50VG9rZW5zJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Y291bnRUb2tlbnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY291bnRUb2tlbnNSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgbGlzdCBvZiBjb250ZW50cywgcmV0dXJucyBhIGNvcnJlc3BvbmRpbmcgVG9rZW5zSW5mbyBjb250YWluaW5nXG4gICAqIHRoZSBsaXN0IG9mIHRva2VucyBhbmQgbGlzdCBvZiB0b2tlbiBpZHMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNvbXB1dGluZyB0b2tlbnMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuY29tcHV0ZVRva2Vucyh7XG4gICAqICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgY29udGVudHM6ICdXaGF0IGlzIHlvdXIgbmFtZT8nXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY29tcHV0ZVRva2VucyhcbiAgICBwYXJhbXM6IHR5cGVzLkNvbXB1dGVUb2tlbnNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2U+O1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jb21wdXRlVG9rZW5zUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpjb21wdXRlVG9rZW5zJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY29tcHV0ZVRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgVmVydGV4IEFJLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgR2VuZXJhdGVzIHZpZGVvcyBiYXNlZCBvbiBhIHRleHQgZGVzY3JpcHRpb24gYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyB2aWRlb3MuXG4gICAqIEByZXR1cm4gQSBQcm9taXNlPEdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiB3aGljaCBhbGxvd3MgeW91IHRvIHRyYWNrIHRoZSBwcm9ncmVzcyBhbmQgZXZlbnR1YWxseSByZXRyaWV2ZSB0aGUgZ2VuZXJhdGVkIHZpZGVvcyB1c2luZyB0aGUgb3BlcmF0aW9ucy5nZXQgbWV0aG9kLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBvcGVyYXRpb24gPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVWaWRlb3Moe1xuICAgKiAgbW9kZWw6ICd2ZW8tMi4wLWdlbmVyYXRlLTAwMScsXG4gICAqICBwcm9tcHQ6ICdBIG5lb24gaG9sb2dyYW0gb2YgYSBjYXQgZHJpdmluZyBhdCB0b3Agc3BlZWQnLFxuICAgKiAgY29uZmlnOiB7XG4gICAqICAgIG51bWJlck9mVmlkZW9zOiAxXG4gICAqIH0pO1xuICAgKlxuICAgKiB3aGlsZSAoIW9wZXJhdGlvbi5kb25lKSB7XG4gICAqICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDAwKSk7XG4gICAqICAgb3BlcmF0aW9uID0gYXdhaXQgYWkub3BlcmF0aW9ucy5nZXRWaWRlb3NPcGVyYXRpb24oe29wZXJhdGlvbjogb3BlcmF0aW9ufSk7XG4gICAqIH1cbiAgICpcbiAgICogY29uc29sZS5sb2cob3BlcmF0aW9uLnJlc3BvbnNlPy5nZW5lcmF0ZWRWaWRlb3M/LlswXT8udmlkZW8/LnVyaSk7XG4gICAqIGBgYFxuICAgKi9cblxuICBhc3luYyBnZW5lcmF0ZVZpZGVvcyhcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlVmlkZW9zUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj47XG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0TG9uZ1J1bm5pbmcnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0TG9uZ1J1bm5pbmcnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2KFxuICAgICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICAgIGFwaVJlc3BvbnNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24nO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fdHJhbnNmb3JtZXJzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wZXJhdGlvblBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU9wZXJhdGlvbk5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tT3BlcmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnb3BlcmF0aW9uTmFtZSddLFxuICAgICAgZnJvbU9wZXJhdGlvbk5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU9wZXJhdGlvbk5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tT3BlcmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnb3BlcmF0aW9uTmFtZSddLFxuICAgICAgZnJvbU9wZXJhdGlvbk5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hQcmVkaWN0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRmV0Y2hQcmVkaWN0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU9wZXJhdGlvbk5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tT3BlcmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ29wZXJhdGlvbk5hbWUnXSwgZnJvbU9wZXJhdGlvbk5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc291cmNlTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc291cmNlTmFtZSddKTtcbiAgaWYgKGZyb21SZXNvdXJjZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydfdXJsJywgJ3Jlc291cmNlTmFtZSddLCBmcm9tUmVzb3VyY2VOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29uZmlnJ10sIGZyb21Db25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlkZW9Gcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5WaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvJywgJ3VyaSddKTtcbiAgaWYgKGZyb21VcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmknXSwgZnJvbVVyaSk7XG4gIH1cblxuICBjb25zdCBmcm9tVmlkZW9CeXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ZpZGVvJyxcbiAgICAnZW5jb2RlZFZpZGVvJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9CeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZpZGVvQnl0ZXMnXSxcbiAgICAgIHQudEJ5dGVzKGFwaUNsaWVudCwgZnJvbVZpZGVvQnl0ZXMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmNvZGluZyddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZWRWaWRlb0Zyb21NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZFZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVmlkZW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21WaWRlbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZpZGVvJ10sXG4gICAgICB2aWRlb0Zyb21NbGRldihhcGlDbGllbnQsIGZyb21WaWRlbyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2VuZXJhdGVkVmlkZW9zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGVkU2FtcGxlcycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRlZFZpZGVvcyAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZnJvbUdlbmVyYXRlZFZpZGVvcykpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgdG9PYmplY3QsXG4gICAgICAgIFsnZ2VuZXJhdGVkVmlkZW9zJ10sXG4gICAgICAgIGZyb21HZW5lcmF0ZWRWaWRlb3MubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRlZFZpZGVvcyddLCBmcm9tR2VuZXJhdGVkVmlkZW9zKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZENvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZENvdW50J10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkUmVhc29ucycsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZScsXG4gICAgJ2dlbmVyYXRlVmlkZW9SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tUmVzcG9uc2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2UnLFxuICAgICdnZW5lcmF0ZVZpZGVvUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXN1bHQnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tTWxkZXYoYXBpQ2xpZW50LCBmcm9tUmVzdWx0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlkZW9Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21VcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnY3NVcmknXSk7XG4gIGlmIChmcm9tVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJpJ10sIGZyb21VcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdieXRlc0Jhc2U2NEVuY29kZWQnLFxuICBdKTtcbiAgaWYgKGZyb21WaWRlb0J5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndmlkZW9CeXRlcyddLFxuICAgICAgdC50Qnl0ZXMoYXBpQ2xpZW50LCBmcm9tVmlkZW9CeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZFZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVmlkZW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21WaWRlbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZpZGVvJ10sXG4gICAgICB2aWRlb0Zyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tVmlkZW8pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRWaWRlb3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlb3MnXSk7XG4gIGlmIChmcm9tR2VuZXJhdGVkVmlkZW9zICE9IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmcm9tR2VuZXJhdGVkVmlkZW9zKSkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgWydnZW5lcmF0ZWRWaWRlb3MnXSxcbiAgICAgICAgZnJvbUdlbmVyYXRlZFZpZGVvcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkVmlkZW9Gcm9tVmVydGV4KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRlZFZpZGVvcyddLCBmcm9tR2VuZXJhdGVkVmlkZW9zKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZENvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZENvdW50J10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkUmVhc29ucycsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21ldGFkYXRhJ10sIGZyb21NZXRhZGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9uZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvbmUnXSk7XG4gIGlmIChmcm9tRG9uZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvbmUnXSwgZnJvbURvbmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlcnJvciddLCBmcm9tRXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21WZXJ0ZXgoYXBpQ2xpZW50LCBmcm9tUmVzcG9uc2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzdWx0J10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChhcGlDbGllbnQsIGZyb21SZXN1bHQpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudCc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19vcGVyYXRpb25zX2NvbnZlcnRlcnMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBPcGVyYXRpb25zIGV4dGVuZHMgQmFzZU1vZHVsZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN0YXR1cyBvZiBhIGxvbmctcnVubmluZyBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG9wZXJhdGlvbiByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSB1cGRhdGVkIE9wZXJhdGlvbiBvYmplY3QsIHdpdGggdGhlIGxhdGVzdCBzdGF0dXMgb3IgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgZ2V0VmlkZW9zT3BlcmF0aW9uKFxuICAgIHBhcmFtZXRlcnM6IHR5cGVzLk9wZXJhdGlvbkdldFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+IHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBwYXJhbWV0ZXJzLm9wZXJhdGlvbjtcbiAgICBjb25zdCBjb25maWcgPSBwYXJhbWV0ZXJzLmNvbmZpZztcblxuICAgIGlmIChvcGVyYXRpb24ubmFtZSA9PT0gdW5kZWZpbmVkIHx8IG9wZXJhdGlvbi5uYW1lID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVyYXRpb24gbmFtZSBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCByZXNvdXJjZU5hbWUgPSBvcGVyYXRpb24ubmFtZS5zcGxpdCgnL29wZXJhdGlvbnMvJylbMF07XG4gICAgICB2YXIgaHR0cE9wdGlvbnM6IHR5cGVzLkh0dHBPcHRpb25zIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoY29uZmlnICYmICdodHRwT3B0aW9ucycgaW4gY29uZmlnKSB7XG4gICAgICAgIGh0dHBPcHRpb25zID0gY29uZmlnLmh0dHBPcHRpb25zO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mZXRjaFByZWRpY3RWaWRlb3NPcGVyYXRpb25JbnRlcm5hbCh7XG4gICAgICAgIG9wZXJhdGlvbk5hbWU6IG9wZXJhdGlvbi5uYW1lLFxuICAgICAgICByZXNvdXJjZU5hbWU6IHJlc291cmNlTmFtZSxcbiAgICAgICAgY29uZmlnOiB7aHR0cE9wdGlvbnM6IGh0dHBPcHRpb25zfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRWaWRlb3NPcGVyYXRpb25JbnRlcm5hbCh7XG4gICAgICAgIG9wZXJhdGlvbk5hbWU6IG9wZXJhdGlvbi5uYW1lLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0VmlkZW9zT3BlcmF0aW9uSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZXRPcGVyYXRpb25QYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne29wZXJhdGlvbk5hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleChcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tvcGVyYXRpb25OYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldihcbiAgICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hQcmVkaWN0VmlkZW9zT3BlcmF0aW9uSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5GZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZmV0Y2hQcmVkaWN0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne3Jlc291cmNlTmFtZX06ZmV0Y2hQcmVkaWN0T3BlcmF0aW9uJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5Wydjb25maWcnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgoXG4gICAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgICAgYXBpUmVzcG9uc2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb247XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgVmVydGV4IEFJLicpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBdXRofSBmcm9tICcuL19hdXRoJztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL19jb21tb24nO1xuaW1wb3J0IHtVcGxvYWRlcn0gZnJvbSAnLi9fdXBsb2FkZXInO1xuaW1wb3J0IHtGaWxlLCBIdHRwT3B0aW9ucywgSHR0cFJlc3BvbnNlLCBVcGxvYWRGaWxlQ29uZmlnfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQ09OVEVOVF9UWVBFX0hFQURFUiA9ICdDb250ZW50LVR5cGUnO1xuY29uc3QgU0VSVkVSX1RJTUVPVVRfSEVBREVSID0gJ1gtU2VydmVyLVRpbWVvdXQnO1xuY29uc3QgVVNFUl9BR0VOVF9IRUFERVIgPSAnVXNlci1BZ2VudCc7XG5jb25zdCBHT09HTEVfQVBJX0NMSUVOVF9IRUFERVIgPSAneC1nb29nLWFwaS1jbGllbnQnO1xuZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzAuOC4wJzsgLy8geC1yZWxlYXNlLXBsZWFzZS12ZXJzaW9uXG5jb25zdCBMSUJSQVJZX0xBQkVMID0gYGdvb2dsZS1nZW5haS1zZGsvJHtTREtfVkVSU0lPTn1gO1xuY29uc3QgVkVSVEVYX0FJX0FQSV9ERUZBVUxUX1ZFUlNJT04gPSAndjFiZXRhMSc7XG5jb25zdCBHT09HTEVfQUlfQVBJX0RFRkFVTFRfVkVSU0lPTiA9ICd2MWJldGEnO1xuY29uc3QgcmVzcG9uc2VMaW5lUkUgPSAvXmRhdGE6ICguKikoPzpcXG5cXG58XFxyXFxyfFxcclxcblxcclxcbikvO1xuXG4vKipcbiAqIENsaWVudCBlcnJvcnMgcmFpc2VkIGJ5IHRoZSBHZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGFja1RyYWNlPzogc3RyaW5nKSB7XG4gICAgaWYgKHN0YWNrVHJhY2UpIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UsIHtjYXVzZTogc3RhY2tUcmFjZX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlcihtZXNzYWdlLCB7Y2F1c2U6IG5ldyBFcnJvcigpLnN0YWNrfSk7XG4gICAgfVxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5uYW1lID0gJ0NsaWVudEVycm9yJztcbiAgfVxufVxuXG4vKipcbiAqIFNlcnZlciBlcnJvcnMgcmFpc2VkIGJ5IHRoZSBHZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBzdGFja1RyYWNlPzogc3RyaW5nKSB7XG4gICAgaWYgKHN0YWNrVHJhY2UpIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UsIHtjYXVzZTogc3RhY2tUcmFjZX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlcihtZXNzYWdlLCB7Y2F1c2U6IG5ldyBFcnJvcigpLnN0YWNrfSk7XG4gICAgfVxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5uYW1lID0gJ1NlcnZlckVycm9yJztcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgQXBpQ2xpZW50LiBUaGUgQXBpQ2xpZW50IHVzZXMgdGhlIHBhcmFtZXRlcnNcbiAqIGZvciBhdXRoZW50aWNhdGlvbiBwdXJwb3NlcyBhcyB3ZWxsIGFzIHRvIGluZmVyIGlmIFNESyBzaG91bGQgc2VuZCB0aGVcbiAqIHJlcXVlc3QgdG8gVmVydGV4IEFJIG9yIEdlbWluaSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBpQ2xpZW50SW5pdE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIG9iamVjdCB1c2VkIGZvciBhZGRpbmcgYXV0aGVudGljYXRpb24gaGVhZGVycyB0byBBUEkgcmVxdWVzdHMuXG4gICAqL1xuICBhdXRoOiBBdXRoO1xuICAvKipcbiAgICogVGhlIHVwbG9hZGVyIHRvIHVzZSBmb3IgdXBsb2FkaW5nIGZpbGVzLiBUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIGZvclxuICAgKiBjcmVhdGluZyBhIGNsaWVudCwgd2lsbCBiZSBzZXQgdGhyb3VnaCB0aGUgTm9kZV9jbGllbnQgb3IgV2ViX2NsaWVudC5cbiAgICovXG4gIHVwbG9hZGVyOiBVcGxvYWRlcjtcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBUaGUgR29vZ2xlIENsb3VkIHByb2plY3QgSUQgZm9yIFZlcnRleCBBSSB1c2Vycy5cbiAgICogSXQgaXMgbm90IHRoZSBudW1lcmljIHByb2plY3QgbmFtZS5cbiAgICogSWYgbm90IHByb3ZpZGVkLCBTREsgd2lsbCB0cnkgdG8gcmVzb2x2ZSBpdCBmcm9tIHJ1bnRpbWUgZW52aXJvbm1lbnQuXG4gICAqL1xuICBwcm9qZWN0Pzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwuIFRoZSBHb29nbGUgQ2xvdWQgcHJvamVjdCBsb2NhdGlvbiBmb3IgVmVydGV4IEFJIHVzZXJzLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIFNESyB3aWxsIHRyeSB0byByZXNvbHZlIGl0IGZyb20gcnVudGltZSBlbnZpcm9ubWVudC5cbiAgICovXG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIEFQSSBLZXkuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIEdlbWluaSBBUEkgdXNlcnMuXG4gICAqL1xuICBhcGlLZXk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gU2V0IHRvIHRydWUgaWYgeW91IGludGVuZCB0byBjYWxsIFZlcnRleCBBSSBlbmRwb2ludHMuXG4gICAqIElmIHVuc2V0LCBkZWZhdWx0IFNESyBiZWhhdmlvciBpcyB0byBjYWxsIEdlbWluaSBBUEkuXG4gICAqL1xuICB2ZXJ0ZXhhaT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gVGhlIEFQSSB2ZXJzaW9uIGZvciB0aGUgZW5kcG9pbnQuXG4gICAqIElmIHVuc2V0LCBTREsgd2lsbCBjaG9vc2UgYSBkZWZhdWx0IGFwaSB2ZXJzaW9uLlxuICAgKi9cbiAgYXBpVmVyc2lvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBBIHNldCBvZiBjdXN0b21pemFibGUgY29uZmlndXJhdGlvbiBmb3IgSFRUUCByZXF1ZXN0cy5cbiAgICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gQW4gZXh0cmEgc3RyaW5nIHRvIGFwcGVuZCBhdCB0aGUgZW5kIG9mIHRoZSBVc2VyLUFnZW50IGhlYWRlci5cbiAgICpcbiAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBlLmcgc3BlY2lmeSB0aGUgcnVudGltZSBhbmQgaXRzIHZlcnNpb24uXG4gICAqL1xuICB1c2VyQWdlbnRFeHRyYT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gc2VuZCBhIHJlcXVlc3QgdG8gYW4gQVBJIGVuZHBvaW50LlxuICogVGhpcyBpbnRlcmZhY2UgZGVmaW5lcyB0aGUgc3RydWN0dXJlIGZvciBjb25zdHJ1Y3RpbmcgYW5kIGV4ZWN1dGluZyBIVFRQXG4gKiByZXF1ZXN0cy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBVUkwgcGF0aCBmcm9tIHRoZSBtb2R1bGVzLCB0aGlzIHBhdGggaXMgYXBwZW5kZWQgdG8gdGhlIGJhc2UgQVBJIFVSTCB0b1xuICAgKiBmb3JtIHRoZSBjb21wbGV0ZSByZXF1ZXN0IFVSTC5cbiAgICpcbiAgICogSWYgeW91IHdpc2ggdG8gc2V0IGZ1bGwgVVJMLCB1c2UgaHR0cE9wdGlvbnMuYmFzZVVybCBpbnN0ZWFkLiBFeGFtcGxlIHRvXG4gICAqIHNldCBmdWxsIFVSTCBpbiB0aGUgcmVxdWVzdDpcbiAgICpcbiAgICogY29uc3QgcmVxdWVzdDogSHR0cFJlcXVlc3QgPSB7XG4gICAqICAgcGF0aDogJycsXG4gICAqICAgaHR0cE9wdGlvbnM6IHtcbiAgICogICAgIGJhc2VVcmw6ICdodHRwczovLzxjdXN0b20tZnVsbC11cmw+JyxcbiAgICogICAgIGFwaVZlcnNpb246ICcnLFxuICAgKiAgIH0sXG4gICAqICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAqIH07XG4gICAqXG4gICAqIFRoZSByZXN1bHQgVVJMIHdpbGwgYmU6IGh0dHBzOi8vPGN1c3RvbS1mdWxsLXVybD5cbiAgICpcbiAgICovXG4gIHBhdGg6IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIHJlcXVlc3QgVVJMLlxuICAgKi9cbiAgcXVlcnlQYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKipcbiAgICogT3B0aW9uYWwgcmVxdWVzdCBib2R5IGluIGpzb24gc3RyaW5nIG9yIEJsb2IgZm9ybWF0LCBHRVQgcmVxdWVzdCBkb2Vzbid0XG4gICAqIG5lZWQgYSByZXF1ZXN0IGJvZHkuXG4gICAqL1xuICBib2R5Pzogc3RyaW5nIHwgQmxvYjtcbiAgLyoqXG4gICAqIFRoZSBIVFRQIG1ldGhvZCB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGh0dHBNZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BBVENIJyB8ICdERUxFVEUnO1xuICAvKipcbiAgICogT3B0aW9uYWwgc2V0IG9mIGN1c3RvbWl6YWJsZSBjb25maWd1cmF0aW9uIGZvciBIVFRQIHJlcXVlc3RzLlxuICAgKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbn1cblxuLyoqXG4gKiBUaGUgQXBpQ2xpZW50IGNsYXNzIGlzIHVzZWQgdG8gc2VuZCByZXF1ZXN0cyB0byB0aGUgR2VtaW5pIEFQSSBvciBWZXJ0ZXggQUlcbiAqIGVuZHBvaW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFwaUNsaWVudCB7XG4gIHJlYWRvbmx5IGNsaWVudE9wdGlvbnM6IEFwaUNsaWVudEluaXRPcHRpb25zO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IEFwaUNsaWVudEluaXRPcHRpb25zKSB7XG4gICAgdGhpcy5jbGllbnRPcHRpb25zID0ge1xuICAgICAgLi4ub3B0cyxcbiAgICAgIHByb2plY3Q6IG9wdHMucHJvamVjdCxcbiAgICAgIGxvY2F0aW9uOiBvcHRzLmxvY2F0aW9uLFxuICAgICAgYXBpS2V5OiBvcHRzLmFwaUtleSxcbiAgICAgIHZlcnRleGFpOiBvcHRzLnZlcnRleGFpLFxuICAgIH07XG5cbiAgICBjb25zdCBpbml0SHR0cE9wdGlvbnM6IEh0dHBPcHRpb25zID0ge307XG5cbiAgICBpZiAodGhpcy5jbGllbnRPcHRpb25zLnZlcnRleGFpKSB7XG4gICAgICBpbml0SHR0cE9wdGlvbnMuYXBpVmVyc2lvbiA9XG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5hcGlWZXJzaW9uID8/IFZFUlRFWF9BSV9BUElfREVGQVVMVF9WRVJTSU9OO1xuICAgICAgLy8gQXNzdW1lIHRoYXQgcHJvai9hcGkga2V5IHZhbGlkYXRpb24gb2NjdXJzIGJlZm9yZSB0aGV5IGFyZSBwYXNzZWQgaW4uXG4gICAgICBpZiAodGhpcy5nZXRQcm9qZWN0KCkgfHwgdGhpcy5nZXRMb2NhdGlvbigpKSB7XG4gICAgICAgIGluaXRIdHRwT3B0aW9ucy5iYXNlVXJsID0gYGh0dHBzOi8vJHt0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb259LWFpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20vYDtcbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmFwaUtleSA9IHVuZGVmaW5lZDsgLy8gdW5zZXQgQVBJIGtleS5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluaXRIdHRwT3B0aW9ucy5iYXNlVXJsID0gYGh0dHBzOi8vYWlwbGF0Zm9ybS5nb29nbGVhcGlzLmNvbS9gO1xuICAgICAgICB0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdCA9IHVuZGVmaW5lZDsgLy8gdW5zZXQgcHJvamVjdC5cbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9uID0gdW5kZWZpbmVkOyAvLyB1bnNldCBsb2NhdGlvbi5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdEh0dHBPcHRpb25zLmFwaVZlcnNpb24gPVxuICAgICAgICB0aGlzLmNsaWVudE9wdGlvbnMuYXBpVmVyc2lvbiA/PyBHT09HTEVfQUlfQVBJX0RFRkFVTFRfVkVSU0lPTjtcbiAgICAgIGluaXRIdHRwT3B0aW9ucy5iYXNlVXJsID0gYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL2A7XG4gICAgfVxuXG4gICAgaW5pdEh0dHBPcHRpb25zLmhlYWRlcnMgPSB0aGlzLmdldERlZmF1bHRIZWFkZXJzKCk7XG5cbiAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMgPSBpbml0SHR0cE9wdGlvbnM7XG5cbiAgICBpZiAob3B0cy5odHRwT3B0aW9ucykge1xuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zID0gdGhpcy5wYXRjaEh0dHBPcHRpb25zKFxuICAgICAgICBpbml0SHR0cE9wdGlvbnMsXG4gICAgICAgIG9wdHMuaHR0cE9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlzVmVydGV4QUkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy52ZXJ0ZXhhaSA/PyBmYWxzZTtcbiAgfVxuXG4gIGdldFByb2plY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5wcm9qZWN0O1xuICB9XG5cbiAgZ2V0TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5sb2NhdGlvbjtcbiAgfVxuXG4gIGdldEFwaVZlcnNpb24oKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYXBpVmVyc2lvbiAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmFwaVZlcnNpb247XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQVBJIHZlcnNpb24gaXMgbm90IHNldC4nKTtcbiAgfVxuXG4gIGdldEJhc2VVcmwoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYmFzZVVybCAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmJhc2VVcmw7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQmFzZSBVUkwgaXMgbm90IHNldC4nKTtcbiAgfVxuXG4gIGdldFJlcXVlc3RVcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVxdWVzdFVybEludGVybmFsKHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyk7XG4gIH1cblxuICBnZXRIZWFkZXJzKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyAmJlxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5oZWFkZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hlYWRlcnMgYXJlIG5vdCBzZXQuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRSZXF1ZXN0VXJsSW50ZXJuYWwoaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucykge1xuICAgIGlmIChcbiAgICAgICFodHRwT3B0aW9ucyB8fFxuICAgICAgaHR0cE9wdGlvbnMuYmFzZVVybCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBodHRwT3B0aW9ucy5hcGlWZXJzaW9uID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSFRUUCBvcHRpb25zIGFyZSBub3QgY29ycmVjdGx5IHNldC4nKTtcbiAgICB9XG4gICAgY29uc3QgYmFzZVVybCA9IGh0dHBPcHRpb25zLmJhc2VVcmwuZW5kc1dpdGgoJy8nKVxuICAgICAgPyBodHRwT3B0aW9ucy5iYXNlVXJsLnNsaWNlKDAsIC0xKVxuICAgICAgOiBodHRwT3B0aW9ucy5iYXNlVXJsO1xuICAgIGNvbnN0IHVybEVsZW1lbnQ6IEFycmF5PHN0cmluZz4gPSBbYmFzZVVybF07XG4gICAgaWYgKGh0dHBPcHRpb25zLmFwaVZlcnNpb24gJiYgaHR0cE9wdGlvbnMuYXBpVmVyc2lvbiAhPT0gJycpIHtcbiAgICAgIHVybEVsZW1lbnQucHVzaChodHRwT3B0aW9ucy5hcGlWZXJzaW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybEVsZW1lbnQuam9pbignLycpO1xuICB9XG5cbiAgZ2V0QmFzZVJlc291cmNlUGF0aCgpIHtcbiAgICByZXR1cm4gYHByb2plY3RzLyR7dGhpcy5jbGllbnRPcHRpb25zLnByb2plY3R9L2xvY2F0aW9ucy8ke1xuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9uXG4gICAgfWA7XG4gIH1cblxuICBnZXRBcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5hcGlLZXk7XG4gIH1cblxuICBnZXRXZWJzb2NrZXRCYXNlVXJsKCkge1xuICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmdldEJhc2VVcmwoKTtcbiAgICBjb25zdCB1cmxQYXJ0cyA9IG5ldyBVUkwoYmFzZVVybCk7XG4gICAgdXJsUGFydHMucHJvdG9jb2wgPSAnd3NzJztcbiAgICByZXR1cm4gdXJsUGFydHMudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHNldEJhc2VVcmwodXJsOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zKSB7XG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYmFzZVVybCA9IHVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIG9wdGlvbnMgYXJlIG5vdCBjb3JyZWN0bHkgc2V0LicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29uc3RydWN0VXJsKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBodHRwT3B0aW9uczogSHR0cE9wdGlvbnMsXG4gICAgcHJlcGVuZFByb2plY3RMb2NhdGlvbjogYm9vbGVhbixcbiAgKTogVVJMIHtcbiAgICBjb25zdCB1cmxFbGVtZW50OiBBcnJheTxzdHJpbmc+ID0gW3RoaXMuZ2V0UmVxdWVzdFVybEludGVybmFsKGh0dHBPcHRpb25zKV07XG4gICAgaWYgKHByZXBlbmRQcm9qZWN0TG9jYXRpb24pIHtcbiAgICAgIHVybEVsZW1lbnQucHVzaCh0aGlzLmdldEJhc2VSZXNvdXJjZVBhdGgoKSk7XG4gICAgfVxuICAgIGlmIChwYXRoICE9PSAnJykge1xuICAgICAgdXJsRWxlbWVudC5wdXNoKHBhdGgpO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3VybEVsZW1lbnQuam9pbignLycpfWApO1xuXG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkUHJlcGVuZFZlcnRleFByb2plY3RQYXRoKHJlcXVlc3Q6IEh0dHBSZXF1ZXN0KTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2xpZW50T3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNsaWVudE9wdGlvbnMudmVydGV4YWkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlcXVlc3QucGF0aC5zdGFydHNXaXRoKCdwcm9qZWN0cy8nKSkge1xuICAgICAgLy8gQXNzdW1lIHRoZSBwYXRoIGFscmVhZHkgc3RhcnRzIHdpdGhcbiAgICAgIC8vIGBwcm9qZWN0cy88cHJvamVjdD4vbG9jYXRpb24vPGxvY2F0aW9uPmAuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHJlcXVlc3QuaHR0cE1ldGhvZCA9PT0gJ0dFVCcgJiZcbiAgICAgIHJlcXVlc3QucGF0aC5zdGFydHNXaXRoKCdwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMnKVxuICAgICkge1xuICAgICAgLy8gVGhlc2UgcGF0aHMgYXJlIHVzZWQgYnkgVmVydGV4J3MgbW9kZWxzLmdldCBhbmQgbW9kZWxzLmxpc3RcbiAgICAgIC8vIGNhbGxzLiBGb3IgYmFzZSBtb2RlbHMgVmVydGV4IGRvZXMgbm90IGFjY2VwdCBhIHByb2plY3QvbG9jYXRpb25cbiAgICAgIC8vIHByZWZpeCAoZm9yIHR1bmVkIG1vZGVsIHRoZSBwcmVmaXggaXMgcmVxdWlyZWQpLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3QocmVxdWVzdDogSHR0cFJlcXVlc3QpOiBQcm9taXNlPEh0dHBSZXNwb25zZT4ge1xuICAgIGxldCBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMhO1xuICAgIGlmIChyZXF1ZXN0Lmh0dHBPcHRpb25zKSB7XG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLnBhdGNoSHR0cE9wdGlvbnMoXG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyEsXG4gICAgICAgIHJlcXVlc3QuaHR0cE9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXBlbmRQcm9qZWN0TG9jYXRpb24gPSB0aGlzLnNob3VsZFByZXBlbmRWZXJ0ZXhQcm9qZWN0UGF0aChyZXF1ZXN0KTtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmNvbnN0cnVjdFVybChcbiAgICAgIHJlcXVlc3QucGF0aCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICAgIHByZXBlbmRQcm9qZWN0TG9jYXRpb24sXG4gICAgKTtcbiAgICBpZiAocmVxdWVzdC5xdWVyeVBhcmFtcykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVxdWVzdC5xdWVyeVBhcmFtcykpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCA9IHt9O1xuICAgIGlmIChyZXF1ZXN0Lmh0dHBNZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICBpZiAocmVxdWVzdC5ib2R5ICYmIHJlcXVlc3QuYm9keSAhPT0gJ3t9Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVlc3QgYm9keSBzaG91bGQgYmUgZW1wdHkgZm9yIEdFVCByZXF1ZXN0LCBidXQgZ290IG5vbiBlbXB0eSByZXF1ZXN0IGJvZHknLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0SW5pdC5ib2R5ID0gcmVxdWVzdC5ib2R5O1xuICAgIH1cbiAgICByZXF1ZXN0SW5pdCA9IGF3YWl0IHRoaXMuaW5jbHVkZUV4dHJhSHR0cE9wdGlvbnNUb1JlcXVlc3RJbml0KFxuICAgICAgcmVxdWVzdEluaXQsXG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy51bmFyeUFwaUNhbGwodXJsLCByZXF1ZXN0SW5pdCwgcmVxdWVzdC5odHRwTWV0aG9kKTtcbiAgfVxuXG4gIHByaXZhdGUgcGF0Y2hIdHRwT3B0aW9ucyhcbiAgICBiYXNlSHR0cE9wdGlvbnM6IEh0dHBPcHRpb25zLFxuICAgIHJlcXVlc3RIdHRwT3B0aW9uczogSHR0cE9wdGlvbnMsXG4gICk6IEh0dHBPcHRpb25zIHtcbiAgICBjb25zdCBwYXRjaGVkSHR0cE9wdGlvbnMgPSBKU09OLnBhcnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoYmFzZUh0dHBPcHRpb25zKSxcbiAgICApIGFzIEh0dHBPcHRpb25zO1xuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVxdWVzdEh0dHBPcHRpb25zKSkge1xuICAgICAgLy8gUmVjb3JkcyBjb21waWxlIHRvIG9iamVjdHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTMjM0NVRTNzA1MzogRWxlbWVudCBpbXBsaWNpdGx5IGhhcyBhbiAnYW55JyB0eXBlXG4gICAgICAgIC8vIGJlY2F1c2UgZXhwcmVzc2lvbiBvZiB0eXBlICdzdHJpbmcnIGNhbid0IGJlIHVzZWQgdG8gaW5kZXggdHlwZVxuICAgICAgICAvLyAnSHR0cE9wdGlvbnMnLlxuICAgICAgICBwYXRjaGVkSHR0cE9wdGlvbnNba2V5XSA9IHsuLi5wYXRjaGVkSHR0cE9wdGlvbnNba2V5XSwgLi4udmFsdWV9O1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFMyMzQ1VFM3MDUzOiBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGVcbiAgICAgICAgLy8gYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlXG4gICAgICAgIC8vICdIdHRwT3B0aW9ucycuXG4gICAgICAgIHBhdGNoZWRIdHRwT3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXRjaGVkSHR0cE9wdGlvbnM7XG4gIH1cblxuICBhc3luYyByZXF1ZXN0U3RyZWFtKFxuICAgIHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LFxuICAgIC8vIFRPRE86IGIvNDA3MDU5NDMwIC0gUmVwbGFjZSB3aXRoIEh0dHBSZXNwb25zZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGxldCBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMhO1xuICAgIGlmIChyZXF1ZXN0Lmh0dHBPcHRpb25zKSB7XG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLnBhdGNoSHR0cE9wdGlvbnMoXG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyEsXG4gICAgICAgIHJlcXVlc3QuaHR0cE9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXBlbmRQcm9qZWN0TG9jYXRpb24gPSB0aGlzLnNob3VsZFByZXBlbmRWZXJ0ZXhQcm9qZWN0UGF0aChyZXF1ZXN0KTtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmNvbnN0cnVjdFVybChcbiAgICAgIHJlcXVlc3QucGF0aCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICAgIHByZXBlbmRQcm9qZWN0TG9jYXRpb24sXG4gICAgKTtcbiAgICBpZiAoIXVybC5zZWFyY2hQYXJhbXMuaGFzKCdhbHQnKSB8fCB1cmwuc2VhcmNoUGFyYW1zLmdldCgnYWx0JykgIT09ICdzc2UnKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnYWx0JywgJ3NzZScpO1xuICAgIH1cbiAgICBsZXQgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge307XG4gICAgcmVxdWVzdEluaXQuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICByZXF1ZXN0SW5pdCA9IGF3YWl0IHRoaXMuaW5jbHVkZUV4dHJhSHR0cE9wdGlvbnNUb1JlcXVlc3RJbml0KFxuICAgICAgcmVxdWVzdEluaXQsXG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1BcGlDYWxsKHVybCwgcmVxdWVzdEluaXQsIHJlcXVlc3QuaHR0cE1ldGhvZCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluY2x1ZGVFeHRyYUh0dHBPcHRpb25zVG9SZXF1ZXN0SW5pdChcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICAgaHR0cE9wdGlvbnM6IEh0dHBPcHRpb25zLFxuICApOiBQcm9taXNlPFJlcXVlc3RJbml0PiB7XG4gICAgaWYgKGh0dHBPcHRpb25zICYmIGh0dHBPcHRpb25zLnRpbWVvdXQgJiYgaHR0cE9wdGlvbnMudGltZW91dCA+IDApIHtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgpLCBodHRwT3B0aW9ucy50aW1lb3V0KTtcbiAgICAgIHJlcXVlc3RJbml0LnNpZ25hbCA9IHNpZ25hbDtcbiAgICB9XG4gICAgcmVxdWVzdEluaXQuaGVhZGVycyA9IGF3YWl0IHRoaXMuZ2V0SGVhZGVyc0ludGVybmFsKGh0dHBPcHRpb25zKTtcbiAgICByZXR1cm4gcmVxdWVzdEluaXQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHVuYXJ5QXBpQ2FsbChcbiAgICB1cmw6IFVSTCxcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICAgaHR0cE1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURScsXG4gICk6IFByb21pc2U8SHR0cFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuYXBpQ2FsbCh1cmwudG9TdHJpbmcoKSwge1xuICAgICAgLi4ucmVxdWVzdEluaXQsXG4gICAgICBtZXRob2Q6IGh0dHBNZXRob2QsXG4gICAgfSlcbiAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aHJvd0Vycm9ySWZOb3RPSyhyZXNwb25zZSk7XG4gICAgICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN0cmVhbUFwaUNhbGwoXG4gICAgdXJsOiBVUkwsXG4gICAgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0LFxuICAgIGh0dHBNZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BBVENIJyB8ICdERUxFVEUnLFxuICAgIC8vIFRPRE86IGIvNDA3MDU5NDMwIC0gUmVwbGFjZSB3aXRoIEh0dHBSZXNwb25zZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICApOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPGFueT4+IHtcbiAgICByZXR1cm4gdGhpcy5hcGlDYWxsKHVybC50b1N0cmluZygpLCB7XG4gICAgICAuLi5yZXF1ZXN0SW5pdCxcbiAgICAgIG1ldGhvZDogaHR0cE1ldGhvZCxcbiAgICB9KVxuICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGF3YWl0IHRocm93RXJyb3JJZk5vdE9LKHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1N0cmVhbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyAqcHJvY2Vzc1N0cmVhbVJlc3BvbnNlKFxuICAgIHJlc3BvbnNlOiBSZXNwb25zZSxcbiAgICAvLyBUT0RPOiBiLzQwNzA1OTQzMCAtIFJlcGxhY2Ugd2l0aCBIdHRwUmVzcG9uc2UuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogQXN5bmNHZW5lcmF0b3I8YW55PiB7XG4gICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2U/LmJvZHk/LmdldFJlYWRlcigpO1xuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04Jyk7XG4gICAgaWYgKCFyZWFkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVzcG9uc2UgYm9keSBpcyBlbXB0eScpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsZXQgYnVmZmVyID0gJyc7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29tcGxldGUgSlNPTiBzZWdtZW50IGF0IHRoZSBlbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmtTdHJpbmcgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSk7XG4gICAgICAgIGJ1ZmZlciArPSBjaHVua1N0cmluZztcbiAgICAgICAgbGV0IG1hdGNoID0gYnVmZmVyLm1hdGNoKHJlc3BvbnNlTGluZVJFKTtcbiAgICAgICAgd2hpbGUgKG1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQ2h1bmtTdHJpbmcgPSBtYXRjaFsxXTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2h1bmtEYXRhID0gSlNPTi5wYXJzZShwcm9jZXNzZWRDaHVua1N0cmluZyk7XG4gICAgICAgICAgICB5aWVsZCBjaHVua0RhdGE7XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1hdGNoID0gYnVmZmVyLm1hdGNoKHJlc3BvbnNlTGluZVJFKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBleGNlcHRpb24gcGFyc2luZyBzdHJlYW0gY2h1bmsgJHtwcm9jZXNzZWRDaHVua1N0cmluZ30uICR7ZX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYXN5bmMgYXBpQ2FsbChcbiAgICB1cmw6IHN0cmluZyxcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCByZXF1ZXN0SW5pdCkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZXhjZXB0aW9uICR7ZX0gc2VuZGluZyByZXF1ZXN0YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXREZWZhdWx0SGVhZGVycygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICBjb25zdCB2ZXJzaW9uSGVhZGVyVmFsdWUgPVxuICAgICAgTElCUkFSWV9MQUJFTCArICcgJyArIHRoaXMuY2xpZW50T3B0aW9ucy51c2VyQWdlbnRFeHRyYTtcblxuICAgIGhlYWRlcnNbVVNFUl9BR0VOVF9IRUFERVJdID0gdmVyc2lvbkhlYWRlclZhbHVlO1xuICAgIGhlYWRlcnNbR09PR0xFX0FQSV9DTElFTlRfSEVBREVSXSA9IHZlcnNpb25IZWFkZXJWYWx1ZTtcbiAgICBoZWFkZXJzW0NPTlRFTlRfVFlQRV9IRUFERVJdID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEhlYWRlcnNJbnRlcm5hbChcbiAgICBodHRwT3B0aW9uczogSHR0cE9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8SGVhZGVycz4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGlmIChodHRwT3B0aW9ucyAmJiBodHRwT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhodHRwT3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIEFwcGVuZCBhIHRpbWVvdXQgaGVhZGVyIGlmIGl0IGlzIHNldCwgbm90ZSB0aGF0IHRoZSB0aW1lb3V0IG9wdGlvbiBpc1xuICAgICAgLy8gaW4gbWlsbGlzZWNvbmRzIGJ1dCB0aGUgaGVhZGVyIGlzIGluIHNlY29uZHMuXG4gICAgICBpZiAoaHR0cE9wdGlvbnMudGltZW91dCAmJiBodHRwT3B0aW9ucy50aW1lb3V0ID4gMCkge1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICBTRVJWRVJfVElNRU9VVF9IRUFERVIsXG4gICAgICAgICAgU3RyaW5nKE1hdGguY2VpbChodHRwT3B0aW9ucy50aW1lb3V0IC8gMTAwMCkpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLmNsaWVudE9wdGlvbnMuYXV0aC5hZGRBdXRoSGVhZGVycyhoZWFkZXJzKTtcbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWRzIGEgZmlsZSBhc3luY2hyb25vdXNseSB1c2luZyBHZW1pbmkgQVBJIG9ubHksIHRoaXMgaXMgbm90IHN1cHBvcnRlZFxuICAgKiBpbiBWZXJ0ZXggQUkuXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlIFRoZSBzdHJpbmcgcGF0aCB0byB0aGUgZmlsZSB0byBiZSB1cGxvYWRlZCBvciBhIEJsb2Igb2JqZWN0LlxuICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIHBhcmFtZXRlcnMgc3BlY2lmaWVkIGluIHRoZSBgVXBsb2FkRmlsZUNvbmZpZ2BcbiAgICogICAgIGludGVyZmFjZS4gQHNlZSB7QGxpbmsgVXBsb2FkRmlsZUNvbmZpZ31cbiAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGBGaWxlYCBvYmplY3QuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgY2FsbGVkIG9uIGEgVmVydGV4IEFJIGNsaWVudC5cbiAgICogQHRocm93cyBBbiBlcnJvciBpZiB0aGUgYG1pbWVUeXBlYCBpcyBub3QgcHJvdmlkZWQgYW5kIGNhbiBub3QgYmUgaW5mZXJyZWQsXG4gICAqL1xuICBhc3luYyB1cGxvYWRGaWxlKFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgY29uZmlnPzogVXBsb2FkRmlsZUNvbmZpZyxcbiAgKTogUHJvbWlzZTxGaWxlPiB7XG4gICAgY29uc3QgZmlsZVRvVXBsb2FkOiBGaWxlID0ge307XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICBmaWxlVG9VcGxvYWQubWltZVR5cGUgPSBjb25maWcubWltZVR5cGU7XG4gICAgICBmaWxlVG9VcGxvYWQubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgICAgZmlsZVRvVXBsb2FkLmRpc3BsYXlOYW1lID0gY29uZmlnLmRpc3BsYXlOYW1lO1xuICAgIH1cblxuICAgIGlmIChmaWxlVG9VcGxvYWQubmFtZSAmJiAhZmlsZVRvVXBsb2FkLm5hbWUuc3RhcnRzV2l0aCgnZmlsZXMvJykpIHtcbiAgICAgIGZpbGVUb1VwbG9hZC5uYW1lID0gYGZpbGVzLyR7ZmlsZVRvVXBsb2FkLm5hbWV9YDtcbiAgICB9XG5cbiAgICBjb25zdCB1cGxvYWRlciA9IHRoaXMuY2xpZW50T3B0aW9ucy51cGxvYWRlcjtcbiAgICBjb25zdCBmaWxlU3RhdCA9IGF3YWl0IHVwbG9hZGVyLnN0YXQoZmlsZSk7XG4gICAgZmlsZVRvVXBsb2FkLnNpemVCeXRlcyA9IFN0cmluZyhmaWxlU3RhdC5zaXplKTtcbiAgICBjb25zdCBtaW1lVHlwZSA9IGNvbmZpZz8ubWltZVR5cGUgPz8gZmlsZVN0YXQudHlwZTtcbiAgICBpZiAobWltZVR5cGUgPT09IHVuZGVmaW5lZCB8fCBtaW1lVHlwZSA9PT0gJycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0NhbiBub3QgZGV0ZXJtaW5lIG1pbWVUeXBlLiBQbGVhc2UgcHJvdmlkZSBtaW1lVHlwZSBpbiB0aGUgY29uZmlnLicsXG4gICAgICApO1xuICAgIH1cbiAgICBmaWxlVG9VcGxvYWQubWltZVR5cGUgPSBtaW1lVHlwZTtcblxuICAgIGNvbnN0IHVwbG9hZFVybCA9IGF3YWl0IHRoaXMuZmV0Y2hVcGxvYWRVcmwoZmlsZVRvVXBsb2FkLCBjb25maWcpO1xuICAgIHJldHVybiB1cGxvYWRlci51cGxvYWQoZmlsZSwgdXBsb2FkVXJsLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hVcGxvYWRVcmwoXG4gICAgZmlsZTogRmlsZSxcbiAgICBjb25maWc/OiBVcGxvYWRGaWxlQ29uZmlnLFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCBodHRwT3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fTtcbiAgICBpZiAoY29uZmlnPy5odHRwT3B0aW9ucykge1xuICAgICAgaHR0cE9wdGlvbnMgPSBjb25maWcuaHR0cE9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh0dHBPcHRpb25zID0ge1xuICAgICAgICBhcGlWZXJzaW9uOiAnJywgLy8gYXBpLXZlcnNpb24gaXMgc2V0IGluIHRoZSBwYXRoLlxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1Qcm90b2NvbCc6ICdyZXN1bWFibGUnLFxuICAgICAgICAgICdYLUdvb2ctVXBsb2FkLUNvbW1hbmQnOiAnc3RhcnQnLFxuICAgICAgICAgICdYLUdvb2ctVXBsb2FkLUhlYWRlci1Db250ZW50LUxlbmd0aCc6IGAke2ZpbGUuc2l6ZUJ5dGVzfWAsXG4gICAgICAgICAgJ1gtR29vZy1VcGxvYWQtSGVhZGVyLUNvbnRlbnQtVHlwZSc6IGAke2ZpbGUubWltZVR5cGV9YCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgRmlsZT4gPSB7XG4gICAgICAnZmlsZSc6IGZpbGUsXG4gICAgfTtcbiAgICBjb25zdCBodHRwUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgcGF0aDogY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3VwbG9hZC92MWJldGEvZmlsZXMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICBodHRwT3B0aW9ucyxcbiAgICB9KTtcblxuICAgIGlmICghaHR0cFJlc3BvbnNlIHx8ICFodHRwUmVzcG9uc2U/LmhlYWRlcnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1NlcnZlciBkaWQgbm90IHJldHVybiBhbiBIdHRwUmVzcG9uc2Ugb3IgdGhlIHJldHVybmVkIEh0dHBSZXNwb25zZSBkaWQgbm90IGhhdmUgaGVhZGVycy4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGxvYWRVcmw6IHN0cmluZyB8IHVuZGVmaW5lZCA9XG4gICAgICBodHRwUmVzcG9uc2U/LmhlYWRlcnM/LlsneC1nb29nLXVwbG9hZC11cmwnXTtcbiAgICBpZiAodXBsb2FkVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgdXBsb2FkIHVybC4gU2VydmVyIGRpZCBub3QgcmV0dXJuIHRoZSB4LWdvb2dsZS11cGxvYWQtdXJsIGluIHRoZSBoZWFkZXJzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB1cGxvYWRVcmw7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gdGhyb3dFcnJvcklmTm90T0socmVzcG9uc2U6IFJlc3BvbnNlIHwgdW5kZWZpbmVkKSB7XG4gIGlmIChyZXNwb25zZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFNlcnZlckVycm9yKCdyZXNwb25zZSBpcyB1bmRlZmluZWQnKTtcbiAgfVxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3Qgc3RhdHVzOiBudW1iZXIgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgY29uc3Qgc3RhdHVzVGV4dDogc3RyaW5nID0gcmVzcG9uc2Uuc3RhdHVzVGV4dDtcbiAgICBsZXQgZXJyb3JCb2R5OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBpZiAocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpPy5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICBlcnJvckJvZHkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm9keSA9IHtcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBtZXNzYWdlOiAnZXhjZXB0aW9uIHBhcnNpbmcgcmVzcG9uc2UnLFxuICAgICAgICAgIGNvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgZ290IHN0YXR1czogJHtzdGF0dXN9ICR7c3RhdHVzVGV4dH0uICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICBlcnJvckJvZHksXG4gICAgKX1gO1xuICAgIGlmIChzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDUwMCkge1xuICAgICAgY29uc3QgY2xpZW50RXJyb3IgPSBuZXcgQ2xpZW50RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRocm93IGNsaWVudEVycm9yO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzID49IDUwMCAmJiBzdGF0dXMgPCA2MDApIHtcbiAgICAgIGNvbnN0IHNlcnZlckVycm9yID0gbmV3IFNlcnZlckVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB0aHJvdyBzZXJ2ZXJFcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0IHtGaWxlU3RhdCwgVXBsb2FkZXJ9IGZyb20gJy4uL191cGxvYWRlcic7XG5pbXBvcnQge0ZpbGUsIEh0dHBSZXNwb25zZX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQge2Nyb3NzRXJyb3J9IGZyb20gJy4vX2Nyb3NzX2Vycm9yJztcblxuZXhwb3J0IGNvbnN0IE1BWF9DSFVOS19TSVpFID0gMTAyNCAqIDEwMjQgKiA4OyAvLyBieXRlc1xuZXhwb3J0IGNsYXNzIENyb3NzVXBsb2FkZXIgaW1wbGVtZW50cyBVcGxvYWRlciB7XG4gIGFzeW5jIHVwbG9hZChcbiAgICBmaWxlOiBzdHJpbmcgfCBCbG9iLFxuICAgIHVwbG9hZFVybDogc3RyaW5nLFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApOiBQcm9taXNlPEZpbGU+IHtcbiAgICBpZiAodHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBjcm9zc0Vycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1cGxvYWRCbG9iKGZpbGUsIHVwbG9hZFVybCwgYXBpQ2xpZW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzdGF0KGZpbGU6IHN0cmluZyB8IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgY3Jvc3NFcnJvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0QmxvYlN0YXQoZmlsZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRCbG9iKFxuICBmaWxlOiBCbG9iLFxuICB1cGxvYWRVcmw6IHN0cmluZyxcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4pOiBQcm9taXNlPEZpbGU+IHtcbiAgbGV0IGZpbGVTaXplID0gMDtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGxldCByZXNwb25zZTogSHR0cFJlc3BvbnNlID0gbmV3IEh0dHBSZXNwb25zZShuZXcgUmVzcG9uc2UoKSk7XG4gIGxldCB1cGxvYWRDb21tYW5kID0gJ3VwbG9hZCc7XG4gIGZpbGVTaXplID0gZmlsZS5zaXplO1xuICB3aGlsZSAob2Zmc2V0IDwgZmlsZVNpemUpIHtcbiAgICBjb25zdCBjaHVua1NpemUgPSBNYXRoLm1pbihNQVhfQ0hVTktfU0laRSwgZmlsZVNpemUgLSBvZmZzZXQpO1xuICAgIGNvbnN0IGNodW5rID0gZmlsZS5zbGljZShvZmZzZXQsIG9mZnNldCArIGNodW5rU2l6ZSk7XG4gICAgaWYgKG9mZnNldCArIGNodW5rU2l6ZSA+PSBmaWxlU2l6ZSkge1xuICAgICAgdXBsb2FkQ29tbWFuZCArPSAnLCBmaW5hbGl6ZSc7XG4gICAgfVxuICAgIHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnJlcXVlc3Qoe1xuICAgICAgcGF0aDogJycsXG4gICAgICBib2R5OiBjaHVuayxcbiAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgIGh0dHBPcHRpb25zOiB7XG4gICAgICAgIGFwaVZlcnNpb246ICcnLFxuICAgICAgICBiYXNlVXJsOiB1cGxvYWRVcmwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1Db21tYW5kJzogdXBsb2FkQ29tbWFuZCxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1PZmZzZXQnOiBTdHJpbmcob2Zmc2V0KSxcbiAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBTdHJpbmcoY2h1bmtTaXplKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgb2Zmc2V0ICs9IGNodW5rU2l6ZTtcbiAgICAvLyBUaGUgYHgtZ29vZy11cGxvYWQtc3RhdHVzYCBoZWFkZXIgZmllbGQgY2FuIGJlIGBhY3RpdmVgLCBgZmluYWxgIGFuZFxuICAgIC8vYGNhbmNlbGxlZGAgaW4gcmVzcG9zbmUuXG4gICAgaWYgKHJlc3BvbnNlPy5oZWFkZXJzPy5bJ3gtZ29vZy11cGxvYWQtc3RhdHVzJ10gIT09ICdhY3RpdmUnKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETyhiLzQwMTM5MTQzMCkgSW52ZXN0aWdhdGUgd2h5IHRoZSB1cGxvYWQgc3RhdHVzIGlzIG5vdCBmaW5hbGl6ZWRcbiAgICAvLyBldmVuIHRob3VnaCBhbGwgY29udGVudCBoYXMgYmVlbiB1cGxvYWRlZC5cbiAgICBpZiAoZmlsZVNpemUgPD0gb2Zmc2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdBbGwgY29udGVudCBoYXMgYmVlbiB1cGxvYWRlZCwgYnV0IHRoZSB1cGxvYWQgc3RhdHVzIGlzIG5vdCBmaW5hbGl6ZWQuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3BvbnNlSnNvbiA9IChhd2FpdCByZXNwb25zZT8uanNvbigpKSBhcyBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIEZpbGUgfCB1bmtub3duXG4gID47XG4gIGlmIChyZXNwb25zZT8uaGVhZGVycz8uWyd4LWdvb2ctdXBsb2FkLXN0YXR1cyddICE9PSAnZmluYWwnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBsb2FkIGZpbGU6IFVwbG9hZCBzdGF0dXMgaXMgbm90IGZpbmFsaXplZC4nKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2VKc29uWydmaWxlJ10gYXMgRmlsZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJsb2JTdGF0KGZpbGU6IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gIGNvbnN0IGZpbGVTdGF0OiBGaWxlU3RhdCA9IHtzaXplOiBmaWxlLnNpemUsIHR5cGU6IGZpbGUudHlwZX07XG4gIHJldHVybiBmaWxlU3RhdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQnO1xuaW1wb3J0IHtGaWxlU3RhdCwgVXBsb2FkZXJ9IGZyb20gJy4uL191cGxvYWRlcic7XG5pbXBvcnQge2dldEJsb2JTdGF0LCB1cGxvYWRCbG9ifSBmcm9tICcuLi9jcm9zcy9fY3Jvc3NfdXBsb2FkZXInO1xuaW1wb3J0IHtGaWxlfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyVXBsb2FkZXIgaW1wbGVtZW50cyBVcGxvYWRlciB7XG4gIGFzeW5jIHVwbG9hZChcbiAgICBmaWxlOiBzdHJpbmcgfCBCbG9iLFxuICAgIHVwbG9hZFVybDogc3RyaW5nLFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApOiBQcm9taXNlPEZpbGU+IHtcbiAgICBpZiAodHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgcGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdXBsb2FkZXIuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHVwbG9hZEJsb2IoZmlsZSwgdXBsb2FkVXJsLCBhcGlDbGllbnQpO1xuICB9XG5cbiAgYXN5bmMgc3RhdChmaWxlOiBzdHJpbmcgfCBCbG9iKTogUHJvbWlzZTxGaWxlU3RhdD4ge1xuICAgIGlmICh0eXBlb2YgZmlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBwYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB1cGxvYWRlci4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IGdldEJsb2JTdGF0KGZpbGUpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgV2ViU29ja2V0Q2FsbGJhY2tzLFxuICBXZWJTb2NrZXRGYWN0b3J5LFxuICBXZWJTb2NrZXQgYXMgV3MsXG59IGZyb20gJy4uL193ZWJzb2NrZXQnO1xuXG4vLyBUT0RPKChiLzQwMTI3MTA4Mik6IHJlLWVuYWJsZSBsaW50IG9uY2UgQnJvd3NlcldlYlNvY2tldEZhY3RvcnkgaXNcbi8vIGltcGxlbWVudGVkLlxuLyogIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuZXhwb3J0IGNsYXNzIEJyb3dzZXJXZWJTb2NrZXRGYWN0b3J5IGltcGxlbWVudHMgV2ViU29ja2V0RmFjdG9yeSB7XG4gIGNyZWF0ZShcbiAgICB1cmw6IHN0cmluZyxcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgIGNhbGxiYWNrczogV2ViU29ja2V0Q2FsbGJhY2tzLFxuICApOiBXcyB7XG4gICAgcmV0dXJuIG5ldyBCcm93c2VyV2ViU29ja2V0KHVybCwgaGVhZGVycywgY2FsbGJhY2tzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJvd3NlcldlYlNvY2tldCBpbXBsZW1lbnRzIFdzIHtcbiAgcHJpdmF0ZSB3cz86IFdlYlNvY2tldDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVybDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhbGxiYWNrczogV2ViU29ja2V0Q2FsbGJhY2tzLFxuICApIHt9XG5cbiAgY29ubmVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh0aGlzLnVybCk7XG5cbiAgICB0aGlzLndzLm9ub3BlbiA9IHRoaXMuY2FsbGJhY2tzLm9ub3BlbjtcbiAgICB0aGlzLndzLm9uZXJyb3IgPSB0aGlzLmNhbGxiYWNrcy5vbmVycm9yO1xuICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMuY2FsbGJhY2tzLm9uY2xvc2U7XG4gICAgdGhpcy53cy5vbm1lc3NhZ2UgPSB0aGlzLmNhbGxiYWNrcy5vbm1lc3NhZ2U7XG4gIH1cblxuICBzZW5kKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIGlmICh0aGlzLndzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLndzLnNlbmQobWVzc2FnZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy53cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgdGhpcy53cy5jbG9zZSgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0F1dGh9IGZyb20gJy4uL19hdXRoJztcblxuZXhwb3J0IGNvbnN0IEdPT0dMRV9BUElfS0VZX0hFQURFUiA9ICd4LWdvb2ctYXBpLWtleSc7XG4vLyBUT0RPKGIvMzk1MTIyNTMzKTogV2UgbmVlZCBhIHNlY3VyZSBjbGllbnQgc2lkZSBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20uXG5leHBvcnQgY2xhc3MgV2ViQXV0aCBpbXBsZW1lbnRzIEF1dGgge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUtleTogc3RyaW5nKSB7fVxuXG4gIGFzeW5jIGFkZEF1dGhIZWFkZXJzKGhlYWRlcnM6IEhlYWRlcnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoaGVhZGVycy5nZXQoR09PR0xFX0FQSV9LRVlfSEVBREVSKSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoZWFkZXJzLmFwcGVuZChHT09HTEVfQVBJX0tFWV9IRUFERVIsIHRoaXMuYXBpS2V5KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50JztcbmltcG9ydCB7Q2FjaGVzfSBmcm9tICcuLi9jYWNoZXMnO1xuaW1wb3J0IHtDaGF0c30gZnJvbSAnLi4vY2hhdHMnO1xuaW1wb3J0IHtHb29nbGVHZW5BSU9wdGlvbnN9IGZyb20gJy4uL2NsaWVudCc7XG5pbXBvcnQge0ZpbGVzfSBmcm9tICcuLi9maWxlcyc7XG5pbXBvcnQge0xpdmV9IGZyb20gJy4uL2xpdmUnO1xuaW1wb3J0IHtNb2RlbHN9IGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQge09wZXJhdGlvbnN9IGZyb20gJy4uL29wZXJhdGlvbnMnO1xuXG5pbXBvcnQge0Jyb3dzZXJVcGxvYWRlcn0gZnJvbSAnLi9fYnJvd3Nlcl91cGxvYWRlcic7XG5pbXBvcnQge0Jyb3dzZXJXZWJTb2NrZXRGYWN0b3J5fSBmcm9tICcuL19icm93c2VyX3dlYnNvY2tldCc7XG5pbXBvcnQge1dlYkF1dGh9IGZyb20gJy4vX3dlYl9hdXRoJztcblxuY29uc3QgTEFOR1VBR0VfTEFCRUxfUFJFRklYID0gJ2dsLW5vZGUvJztcblxuLyoqXG4gKiBUaGUgR29vZ2xlIEdlbkFJIFNESy5cbiAqXG4gKiBAcmVtYXJrc1xuICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBHZW5BSSBmZWF0dXJlcyB0aHJvdWdoIGVpdGhlciB0aGUge0BsaW5rXG4gKiBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvcmVmZXJlbmNlL3Jlc3QgfCBHZW1pbmkgQVBJfSBvclxuICogdGhlIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvcmVmZXJlbmNlL3Jlc3QgfCBWZXJ0ZXggQUlcbiAqIEFQSX0uXG4gKlxuICogVGhlIHtAbGluayBHb29nbGVHZW5BSU9wdGlvbnMudmVydGV4YWl9IHZhbHVlIGRldGVybWluZXMgd2hpY2ggb2YgdGhlIEFQSVxuICogc2VydmljZXMgdG8gdXNlLlxuICpcbiAqIFdoZW4gdXNpbmcgdGhlIEdlbWluaSBBUEksIGEge0BsaW5rIEdvb2dsZUdlbkFJT3B0aW9ucy5hcGlLZXl9IG11c3QgYWxzbyBiZVxuICogc2V0LiBXaGVuIHVzaW5nIFZlcnRleCBBSSwgY3VycmVudGx5IG9ubHkge0BsaW5rIEdvb2dsZUdlbkFJT3B0aW9ucy5hcGlLZXl9XG4gKiBpcyBzdXBwb3J0ZWQgdmlhIEV4cHJlc3MgbW9kZS4ge0BsaW5rIEdvb2dsZUdlbkFJT3B0aW9ucy5wcm9qZWN0fSBhbmQge0BsaW5rXG4gKiBHb29nbGVHZW5BSU9wdGlvbnMubG9jYXRpb259IHNob3VsZCBub3QgYmUgc2V0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBJbml0aWFsaXppbmcgdGhlIFNESyBmb3IgdXNpbmcgdGhlIEdlbWluaSBBUEk6XG4gKiBgYGB0c1xuICogaW1wb3J0IHtHb29nbGVHZW5BSX0gZnJvbSAnQGdvb2dsZS9nZW5haSc7XG4gKiBjb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7YXBpS2V5OiAnR0VNSU5JX0FQSV9LRVknfSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogSW5pdGlhbGl6aW5nIHRoZSBTREsgZm9yIHVzaW5nIHRoZSBWZXJ0ZXggQUkgQVBJOlxuICogYGBgdHNcbiAqIGltcG9ydCB7R29vZ2xlR2VuQUl9IGZyb20gJ0Bnb29nbGUvZ2VuYWknO1xuICogY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoe1xuICogICB2ZXJ0ZXhhaTogdHJ1ZSxcbiAqICAgcHJvamVjdDogJ1BST0pFQ1RfSUQnLFxuICogICBsb2NhdGlvbjogJ1BST0pFQ1RfTE9DQVRJT04nXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEdvb2dsZUdlbkFJIHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IGFwaUtleT86IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHZlcnRleGFpOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGFwaVZlcnNpb24/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1vZGVsczogTW9kZWxzO1xuICByZWFkb25seSBsaXZlOiBMaXZlO1xuICByZWFkb25seSBjaGF0czogQ2hhdHM7XG4gIHJlYWRvbmx5IGNhY2hlczogQ2FjaGVzO1xuICByZWFkb25seSBmaWxlczogRmlsZXM7XG4gIHJlYWRvbmx5IG9wZXJhdGlvbnM6IE9wZXJhdGlvbnM7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogR29vZ2xlR2VuQUlPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuYXBpS2V5ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQW4gQVBJIEtleSBtdXN0IGJlIHNldCB3aGVuIHJ1bm5pbmcgaW4gYSBicm93c2VyJyk7XG4gICAgfVxuICAgIC8vIFdlYiBjbGllbnQgb25seSBzdXBwb3J0cyBBUEkga2V5IG1vZGUgZm9yIFZlcnRleCBBSS5cbiAgICBpZiAob3B0aW9ucy5wcm9qZWN0IHx8IG9wdGlvbnMubG9jYXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1ZlcnRleCBBSSBwcm9qZWN0IGJhc2VkIGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gYnJvd3NlciBydW50aW1lcy4gUGxlYXNlIGRvIG5vdCBwcm92aWRlIGEgcHJvamVjdCBvciBsb2NhdGlvbi4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy52ZXJ0ZXhhaSA9IG9wdGlvbnMudmVydGV4YWkgPz8gZmFsc2U7XG5cbiAgICB0aGlzLmFwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgIHRoaXMuYXBpVmVyc2lvbiA9IG9wdGlvbnMuYXBpVmVyc2lvbjtcbiAgICBjb25zdCBhdXRoID0gbmV3IFdlYkF1dGgodGhpcy5hcGlLZXkpO1xuICAgIHRoaXMuYXBpQ2xpZW50ID0gbmV3IEFwaUNsaWVudCh7XG4gICAgICBhdXRoOiBhdXRoLFxuICAgICAgYXBpVmVyc2lvbjogdGhpcy5hcGlWZXJzaW9uLFxuICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgIHZlcnRleGFpOiB0aGlzLnZlcnRleGFpLFxuICAgICAgaHR0cE9wdGlvbnM6IG9wdGlvbnMuaHR0cE9wdGlvbnMsXG4gICAgICB1c2VyQWdlbnRFeHRyYTogTEFOR1VBR0VfTEFCRUxfUFJFRklYICsgJ3dlYicsXG4gICAgICB1cGxvYWRlcjogbmV3IEJyb3dzZXJVcGxvYWRlcigpLFxuICAgIH0pO1xuICAgIHRoaXMubW9kZWxzID0gbmV3IE1vZGVscyh0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5saXZlID0gbmV3IExpdmUodGhpcy5hcGlDbGllbnQsIGF1dGgsIG5ldyBCcm93c2VyV2ViU29ja2V0RmFjdG9yeSgpKTtcbiAgICB0aGlzLmNoYXRzID0gbmV3IENoYXRzKHRoaXMubW9kZWxzLCB0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5jYWNoZXMgPSBuZXcgQ2FjaGVzKHRoaXMuYXBpQ2xpZW50KTtcbiAgICB0aGlzLmZpbGVzID0gbmV3IEZpbGVzKHRoaXMuYXBpQ2xpZW50KTtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBuZXcgT3BlcmF0aW9ucyh0aGlzLmFwaUNsaWVudCk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBNb2RhbCwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcblxuZXhwb3J0IGNsYXNzIEF1ZGlvUmVjb3JkTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcHJpdmF0ZSBtZWRpYVJlY29yZGVyOiBNZWRpYVJlY29yZGVyIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjaHVua3M6IEJsb2JQYXJ0W10gPSBbXTtcbiAgICBwcml2YXRlIHJlc29sdmU6ICh2YWx1ZTogQmxvYiB8IFByb21pc2VMaWtlPEJsb2I+KSA9PiB2b2lkO1xuICAgIHByaXZhdGUgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaGFuZGxlQXVkaW9SZWNvcmRpbmc6IChhdWRpb0ZpbGU6IEJsb2IgfCBudWxsLCB0cmFuc2NyaWJlOiBib29sZWFuLCBrZWVwQXVkaW86IGJvb2xlYW4sIGluY2x1ZGVBdWRpb0ZpbGVMaW5rOiBib29sZWFuKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNSZWNvcmRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIHRpbWVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGludGVydmFsSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgZWxhcHNlZFRpbWU6IG51bWJlciA9IDA7IC8vIFRvIGtlZXAgdHJhY2sgb2YgdGhlIGVsYXBzZWQgdGltZVxuICAgIHByaXZhdGUgcmVkRG90OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGlzUmVzZXR0aW5nOiBib29sZWFuID0gZmFsc2U7IC8vIEZsYWcgdG8gdHJhY2sgcmVzZXQgc3RhdGVcbiAgICBwcml2YXRlIGtlZXBBdWRpb0NoZWNrYm94OiBIVE1MRWxlbWVudDsgLy8gQWRkIGEgcHJvcGVydHkgZm9yIHRoZSBjaGVja2JveFxuICAgIHByaXZhdGUgaW5jbHVkZUF1ZGlvRmlsZUxpbmtDaGVja2JveDogSFRNTEVsZW1lbnQ7IC8vIEFkZCBhIHByb3BlcnR5IGZvciB0aGUgY2hlY2tib3hcbiAgICBwcml2YXRlIHNldHRpbmdzOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IGFueSwgaGFuZGxlQXVkaW9SZWNvcmRpbmc6IChhdWRpb0ZpbGU6IEJsb2IgfCBudWxsLCB0cmFuc2NyaWJlOiBib29sZWFuLCBrZWVwQXVkaW86IGJvb2xlYW4sIGluY2x1ZGVBdWRpb0ZpbGVMaW5rOiBib29sZWFuKSA9PiB2b2lkLCBzZXR0aW5nczogYW55KSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQXVkaW9SZWNvcmRpbmcgPSBoYW5kbGVBdWRpb1JlY29yZGluZztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzOyAvLyBJbml0aWFsaXplIHNldHRpbmdzXG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCwgbW9kYWxFbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAoIWNvbnRlbnRFbCB8fCAhbW9kYWxFbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignY29udGVudEVsIG9yIG1vZGFsRWwgaXMgbnVsbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgaW5pdGlhbCByZWNvcmRpbmcgc3RhdGVcbiAgICAgICAgbW9kYWxFbC5hZGRDbGFzcygnc21hcnQtbWVtby1yZWNvcmRpbmcnKTtcblxuICAgICAgICAvLyBIZWFkZXIgYW5kIHRpbWVyIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBoZWFkZXJUaW1lckNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLWhlYWRlci10aW1lci1jb250YWluZXInIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBoZWFkZXJUaW1lckNvbnRhaW5lci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdSZWNvcmRpbmcuLi4nLCBjbHM6ICdzbWFydC1tZW1vLXJlY29yZGluZy1oZWFkZXInIH0pO1xuICAgICAgICB0aGlzLnRpbWVyID0gaGVhZGVyVGltZXJDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc21hcnQtbWVtby10aW1lcicsIHRleHQ6ICcwMDowMCcgfSk7XG5cbiAgICAgICAgLy8gQWRkIHNwZWNpZmljIGNsYXNzIHRvIG1vZGFsLWNvbnRlbnRcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKCdzbWFydC1tZW1vLWF1ZGlvLXJlY29yZC1tb2RhbC1jb250ZW50Jyk7XG5cbiAgICAgICAgLy8gUmVkIGRvdCBhbmltYXRpb24gY29udGFpbmVyXG4gICAgICAgIGNvbnN0IHJlZERvdENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLXJlZC1kb3QtY29udGFpbmVyJyB9KTtcbiAgICAgICAgdGhpcy5yZWREb3QgPSByZWREb3RDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc21hcnQtbWVtby1yZWQtZG90JyB9KTtcblxuICAgICAgICAvLyBDb250cm9sIGJ1dHRvbnMgZ3JvdXBcbiAgICAgICAgY29uc3QgY29udHJvbEdyb3VwV3JhcHBlciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLWNvbnRyb2wtZ3JvdXAtd3JhcHBlcicgfSk7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xHcm91cCA9IGNvbnRyb2xHcm91cFdyYXBwZXIuY3JlYXRlRGl2KHsgY2xzOiAnc21hcnQtbWVtby1tb2RhbC1idXR0b24tZ3JvdXAnIH0pO1xuICAgICAgICBjb25zdCBwbGF5UGF1c2VCdXR0b24gPSBjb250cm9sR3JvdXAuY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiAnc21hcnQtbWVtby1tb2RhbC1idXR0b24gc21hcnQtbWVtby1mbGV4JyB9KTtcbiAgICAgICAgY29uc3Qgc3RvcEJ1dHRvbiA9IGNvbnRyb2xHcm91cC5jcmVhdGVFbCgnYnV0dG9uJywgeyBjbHM6ICdzbWFydC1tZW1vLW1vZGFsLWJ1dHRvbiBzbWFydC1tZW1vLWZsZXgnIH0pO1xuXG4gICAgICAgIHNldEljb24ocGxheVBhdXNlQnV0dG9uLCAncGF1c2UnKTsgLy8gSW5pdGlhbGx5IHNldCB0byBwYXVzZVxuICAgICAgICBzZXRJY29uKHN0b3BCdXR0b24sICdzcXVhcmUnKTsgLy8gU3RvcCBpY29uXG5cbiAgICAgICAgc3RvcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvRmlsZSA9IGF3YWl0IHRoaXMuc3RvcFJlY29yZGluZygpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVBdWRpb1JlY29yZGluZyhhdWRpb0ZpbGUsIGZhbHNlLCAodGhpcy5rZWVwQXVkaW9DaGVja2JveCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkLCAodGhpcy5pbmNsdWRlQXVkaW9GaWxlTGlua0NoZWNrYm94IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbGF5UGF1c2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1JlY29yZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgICAgICBzZXRJY29uKHBsYXlQYXVzZUJ1dHRvbiwgJ2NpcmNsZScpO1xuICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9ICdQYXVzZWQnO1xuICAgICAgICAgICAgICAgIG1vZGFsRWwuYWRkQ2xhc3MoJ3NtYXJ0LW1lbW8tcGF1c2VkJyk7XG4gICAgICAgICAgICAgICAgbW9kYWxFbC5yZW1vdmVDbGFzcygnc21hcnQtbWVtby1yZWNvcmRpbmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWVPclN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICAgICAgc2V0SWNvbihwbGF5UGF1c2VCdXR0b24sICdwYXVzZScpO1xuICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9ICdSZWNvcmRpbmcuLi4nO1xuICAgICAgICAgICAgICAgIG1vZGFsRWwucmVtb3ZlQ2xhc3MoJ3NtYXJ0LW1lbW8tcGF1c2VkJyk7XG4gICAgICAgICAgICAgICAgbW9kYWxFbC5hZGRDbGFzcygnc21hcnQtbWVtby1yZWNvcmRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNSZWNvcmRpbmcgPSAhdGhpcy5pc1JlY29yZGluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNjcmliZUJ1dHRvbiA9IGNvbnRyb2xHcm91cFdyYXBwZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiAnc21hcnQtbWVtby1tb2RhbC1idXR0b24gc21hcnQtbWVtby1mdWxsLXdpZHRoLWJ1dHRvbiBzbWFydC1tZW1vLXRyYW5zY3JpYmUtYnV0dG9uJyB9KTtcblxuICAgICAgICB0cmFuc2NyaWJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXVkaW9GaWxlID0gYXdhaXQgdGhpcy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUF1ZGlvUmVjb3JkaW5nKGF1ZGlvRmlsZSwgdHJ1ZSwgKHRoaXMua2VlcEF1ZGlvQ2hlY2tib3ggYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCwgKHRoaXMuaW5jbHVkZUF1ZGlvRmlsZUxpbmtDaGVja2JveCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0SWNvbih0cmFuc2NyaWJlQnV0dG9uLCAnYm9vay1hdWRpbycpOyAvLyBJbml0aWFsbHkgc2V0IHRvIGJ1bGJcblxuICAgICAgICAvLyBBcHBlbmQgdGV4dCB0byB0aGUgYnV0dG9uXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnIFRyYW5zY3JpYmUnKTtcbiAgICAgICAgdHJhbnNjcmliZUJ1dHRvbi5hcHBlbmRDaGlsZChidXR0b25UZXh0KTtcblxuICAgICAgICAvLyBBZGQgbWFyZ2luLXJpZ2h0IHRvIHRoZSBTVkcgZWxlbWVudFxuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gdHJhbnNjcmliZUJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcblxuICAgICAgICBjb25zdCByZXNldEJ1dHRvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyBjbHM6ICdzbWFydC1tZW1vLW1vZGFsLWJ1dHRvbiBzbWFydC1tZW1vLWZ1bGwtd2lkdGgtYnV0dG9uIHNtYXJ0LW1lbW8tcmVzZXQtYnV0dG9uJywgdGV4dDogJ1Jlc3RhcnQnIH0pO1xuICAgICAgICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFyZFJlc2V0KCk7XG4gICAgICAgICAgICBzZXRJY29uKHBsYXlQYXVzZUJ1dHRvbiwgJ2NpcmNsZScpO1xuICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gJ1JlYWR5IHRvIFJlY29yZCc7XG4gICAgICAgICAgICB0aGlzLmlzUmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBtb2RhbEVsLmFkZENsYXNzKCdzbWFydC1tZW1vLXBhdXNlZCcpO1xuICAgICAgICAgICAgbW9kYWxFbC5yZW1vdmVDbGFzcygnc21hcnQtbWVtby1yZWNvcmRpbmcnKTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSByZWQgZG90IHN0b3BzIHB1bHNpbmdcbiAgICAgICAgICAgIHRoaXMucmVkRG90LmNsYXNzTGlzdC5yZW1vdmUoJ3NtYXJ0LW1lbW8tcHVsc2UtYW5pbWF0aW9uJyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZGQgdGhlIGNoZWNrYm94XG4gICAgICAgIGNvbnN0IGtlZXBBdWRpb0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLWtlZXAtYXVkaW8tY29udGFpbmVyJyB9KTtcbiAgICAgICAgdGhpcy5rZWVwQXVkaW9DaGVja2JveCA9IGtlZXBBdWRpb0NvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcsIGNsczogJ3NtYXJ0LW1lbW8ta2VlcC1hdWRpby1jaGVja2JveCcgfSk7XG4gICAgICAgICh0aGlzLmtlZXBBdWRpb0NoZWNrYm94IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQgPSB0aGlzLnNldHRpbmdzLmtlZXBBdWRpbyAvLyBTZXQgY2hlY2tlZCBiYXNlZCBvbiBzZXR0aW5ncztcbiAgICAgICAgY29uc3Qga2VlcEF1ZGlvTGFiZWwgPSBrZWVwQXVkaW9Db250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnS2VlcCBBdWRpbyBGaWxlJywgY2xzOiAnc21hcnQtbWVtby1rZWVwLWF1ZGlvLWxhYmVsJyB9KTtcbiAgICAgICAga2VlcEF1ZGlvTGFiZWwuaHRtbEZvciA9IHRoaXMua2VlcEF1ZGlvQ2hlY2tib3guaWQ7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBjaGVja2JveCBmb3IgaW5jbHVkaW5nIGF1ZGlvIGZpbGUgbGlua1xuICAgICAgICBjb25zdCBpbmNsdWRlQXVkaW9GaWxlTGlua0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdzbWFydC1tZW1vLWluY2x1ZGUtYXVkaW8tZmlsZS1saW5rLWNvbnRhaW5lcicgfSk7XG4gICAgICAgIHRoaXMuaW5jbHVkZUF1ZGlvRmlsZUxpbmtDaGVja2JveCA9IGluY2x1ZGVBdWRpb0ZpbGVMaW5rQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JywgY2xzOiAnc21hcnQtbWVtby1pbmNsdWRlLWF1ZGlvLWZpbGUtbGluay1jaGVja2JveCcgfSk7XG4gICAgICAgICh0aGlzLmluY2x1ZGVBdWRpb0ZpbGVMaW5rQ2hlY2tib3ggYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IHRoaXMuc2V0dGluZ3MuaW5jbHVkZUF1ZGlvRmlsZUxpbms7IC8vIFNldCBjaGVja2VkIGJhc2VkIG9uIHNldHRpbmdzXG4gICAgICAgIGNvbnN0IGluY2x1ZGVBdWRpb0ZpbGVMaW5rTGFiZWwgPSBpbmNsdWRlQXVkaW9GaWxlTGlua0NvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdJbmNsdWRlIEF1ZGlvIEZpbGUgTGluaycsIGNsczogJ3NtYXJ0LW1lbW8taW5jbHVkZS1hdWRpby1maWxlLWxpbmstbGFiZWwnIH0pO1xuICAgICAgICBpbmNsdWRlQXVkaW9GaWxlTGlua0xhYmVsLmh0bWxGb3IgPSB0aGlzLmluY2x1ZGVBdWRpb0ZpbGVMaW5rQ2hlY2tib3guaWQ7XG5cbiAgICAgICAgLy8gU3RhcnQgcmVjb3JkaW5nIGltbWVkaWF0ZWx5IHVwb24gb3BlbmluZyB0aGUgbW9kYWxcbiAgICAgICAgdGhpcy5zdGFydFJlY29yZGluZygpO1xuICAgICAgICB0aGlzLmlzUmVjb3JkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWREb3QuY2xhc3NMaXN0LmFkZCgnc21hcnQtbWVtby1wdWxzZS1hbmltYXRpb24nKTtcblxuICAgICAgICAvLyBCbHVyIGFueSBmb2N1c2VkIGVsZW1lbnRcbiAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pXG4gICAgICAgICAgICAudGhlbihzdHJlYW0gPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cE1lZGlhUmVjb3JkZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgdGhpcy5vbkRhdGFBdmFpbGFibGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY2Nlc3NpbmcgbWljcm9waG9uZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0dXBNZWRpYVJlY29yZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcignc3RvcCcsIHRoaXMub25TdG9wLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EYXRhQXZhaWxhYmxlKGV2ZW50OiBCbG9iRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXNldHRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGV2ZW50LmRhdGEpO1xuICAgIH1cblxuICAgIG9uU3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXNldHRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNSZXNldHRpbmcgPSBmYWxzZTsgLy8gUmVzZXQgdGhlIGZsYWcgYWZ0ZXIgcmVzZXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IodGhpcy5jaHVua3MsIHsgdHlwZTogJ2F1ZGlvL3dhdicgfSk7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZShibG9iKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Jlc29sdmUgZnVuY3Rpb24gaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhdXNlUmVjb3JkaW5nKCkge1xuICAgICAgICBpZiAodGhpcy5tZWRpYVJlY29yZGVyICYmIHRoaXMubWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgKz0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lOyAvLyBBY2N1bXVsYXRlIGVsYXBzZWQgdGltZVxuXG4gICAgICAgICAgICAvLyBFbnN1cmUgcmVkIGRvdCBzdG9wcyBwdWxzaW5nXG4gICAgICAgICAgICB0aGlzLnJlZERvdC5jbGFzc0xpc3QucmVtb3ZlKCdzbWFydC1tZW1vLXB1bHNlLWFuaW1hdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lT3JTdGFydFJlY29yZGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlciAmJiB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhdGUgPT09ICdwYXVzZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIucmVzdW1lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBSZXNldCBzdGFydCB0aW1lIHRvIG5vd1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcblxuICAgICAgICAvLyBFbnN1cmUgcmVkIGRvdCBzdGFydHMgcHVsc2luZ1xuICAgICAgICB0aGlzLnJlZERvdC5jbGFzc0xpc3QuYWRkKCdzbWFydC1tZW1vLXB1bHNlLWFuaW1hdGlvbicpO1xuICAgIH1cblxuICAgIGhhcmRSZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbnN0b3AgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSZXNldHRpbmcgPSB0cnVlOyAvLyBTZXQgdGhlIHJlc2V0IGZsYWdcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTsgLy8gQ2xlYXIgdGhlIGNodW5rc1xuICAgICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDsgLy8gUmVzZXQgZWxhcHNlZCB0aW1lXG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgICAgIHRoaXMudGltZXIudGV4dENvbnRlbnQgPSAnMDA6MDAnO1xuICAgICAgICAvLyBFbnN1cmUgcmVkIGRvdCBzdG9wcyBwdWxzaW5nXG4gICAgICAgIHRoaXMucmVkRG90LmNsYXNzTGlzdC5yZW1vdmUoJ3NtYXJ0LW1lbW8tcHVsc2UtYW5pbWF0aW9uJyk7IC8vIEVuc3VyZSBpdCdzIHJlbW92ZWQgb24gcmVzZXRcbiAgICB9XG5cbiAgICBzdG9wUmVjb3JkaW5nKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8QmxvYiB8IG51bGw+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhUmVjb3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcignc3RvcCcsIHRoaXMub25TdG9wLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhcnRUaW1lcigpIHtcbiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTsgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZUluU2Vjb25kcyA9IE1hdGguZmxvb3IodGhpcy5lbGFwc2VkVGltZSAvIDEwMDApICsgTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZWxhcHNlZFRpbWVJblNlY29uZHMgLyA2MCk7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gZWxhcHNlZFRpbWVJblNlY29uZHMgJSA2MDtcbiAgICAgICAgICAgIHRoaXMudGltZXIudGV4dENvbnRlbnQgPSBgJHt0aGlzLnBhZE51bWJlcihtaW51dGVzKX06JHt0aGlzLnBhZE51bWJlcihzZWNvbmRzKX1gO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICBzdG9wVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFkTnVtYmVyKG51bTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgfVxuXG5cbiAgICBvcGVuKCkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxCbG9iPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIFRGaWxlLCBURm9sZGVyLCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUZpbGUoYXBwOiBBcHAsIGF1ZGlvQmxvYjogQmxvYiwgZmlsZU5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKTogUHJvbWlzZTxURmlsZT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtub3JtYWxpemVkUGF0aH0vJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIGF3YWl0IGVuc3VyZURpcmVjdG9yeUV4aXN0cyhhcHAsIG5vcm1hbGl6ZWRQYXRoKTtcblxuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGF1ZGlvQmxvYi5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBjb25zdCB1aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBhcHAudmF1bHQuY3JlYXRlQmluYXJ5KGZpbGVQYXRoLCB1aW50OEFycmF5KTtcbiAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgY3JlYXRpb24gZmFpbGVkIGFuZCByZXR1cm5lZCBudWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGF1ZGlvIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZURpcmVjdG9yeUV4aXN0cyhhcHA6IEFwcCwgZm9sZGVyUGF0aDogc3RyaW5nKSB7XG4gICAgY29uc3QgcGFydHMgPSBmb2xkZXJQYXRoLnNwbGl0KCcvJyk7XG4gICAgbGV0IGN1cnJlbnRQYXRoID0gJyc7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgY3VycmVudFBhdGggPSBjdXJyZW50UGF0aCA/IGAke2N1cnJlbnRQYXRofS8ke3BhcnR9YCA6IHBhcnQ7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZm9sZGVyID0gYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFwcC52YXVsdC5jcmVhdGVGb2xkZXIoY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvbGRlciBhbHJlYWR5IGV4aXN0czogJHtjdXJyZW50UGF0aH1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2N1cnJlbnRQYXRofSBpcyBub3QgYSBmb2xkZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGb2xkZXIgYWxyZWFkeSBleGlzdHMnKSkge1xuICAgICAgICAgICAgICAgIC8vIEZvbGRlciBhbHJlYWR5IGV4aXN0cywgY29udGludWUgdG8gdGhlIG5leHQgcGFydFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBIYW5kbGVkIGV4aXN0aW5nIGZvbGRlcjogJHtjdXJyZW50UGF0aH1gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZW5zdXJpbmcgZGlyZWN0b3J5IGV4aXN0czogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQVlPOzs7SUNOTSxtQkFBVTtBQUFHO0FBRVYsU0FBQSxVQUNkLGdCQUNBLFVBQWlDO0FBR2pDLFFBQU0sUUFBUTtBQUdkLFNBQU8sZUFBZSxRQUFRLE9BQU8sQ0FB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QVMsb0JBQW9CLEVBQ2xELFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLHVCQUF1QjtBQUM1QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0g7QUFFRCxRQUFJLHlCQUFRLFdBQVcsRUFDdEIsUUFBUSwrQkFBK0IsRUFDdkMsUUFBUSxxRkFBcUYsRUFDN0YsWUFBWSxjQUFZO0FBQ3hCLGVBQVMsVUFBVSxVQUFVLFFBQVE7QUFDckMsZUFBUyxVQUFVLFdBQVcsVUFBVTtBQUN4QyxlQUFTLFNBQVMsS0FBSyxPQUFPLFNBQVMsd0JBQXdCO0FBQy9ELGVBQVMsU0FBUyxPQUFPLFVBQWdDO0FBQ3hELGFBQUssT0FBTyxTQUFTLDJCQUEyQjtBQUNoRCxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0YsQ0FBQztBQUVELFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLHlCQUF5QixFQUNqQyxRQUFRLHFHQUFxRyxFQUM3RztBQUFBLE1BQVEsVUFDUixLQUNFLGVBQWUsOEJBQThCLEVBQzdDLFNBQVMsS0FBSyxPQUFPLFNBQVMsZ0JBQWdCLEVBQzlDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLG1CQUFtQjtBQUN4QyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUVGO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJyZXNvdXJjZU5hbWUiLCAicGFydFRvTWxkZXYiLCAiY29tbW9uLmdldFZhbHVlQnlQYXRoIiwgImNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCIsICJjb250ZW50VG9NbGRldiIsICJmdW5jdGlvbkRlY2xhcmF0aW9uVG9NbGRldiIsICJnb29nbGVTZWFyY2hUb01sZGV2IiwgImR5bmFtaWNSZXRyaWV2YWxDb25maWdUb01sZGV2IiwgImdvb2dsZVNlYXJjaFJldHJpZXZhbFRvTWxkZXYiLCAidG9vbFRvTWxkZXYiLCAiZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldiIsICJ0b29sQ29uZmlnVG9NbGRldiIsICJ0LnRDb250ZW50cyIsICJ0LnRDb250ZW50IiwgInQudENhY2hlc01vZGVsIiwgInQudENhY2hlZENvbnRlbnROYW1lIiwgInBhcnRUb1ZlcnRleCIsICJjb250ZW50VG9WZXJ0ZXgiLCAic2NoZW1hVG9WZXJ0ZXgiLCAiZnVuY3Rpb25EZWNsYXJhdGlvblRvVmVydGV4IiwgImdvb2dsZVNlYXJjaFRvVmVydGV4IiwgImR5bmFtaWNSZXRyaWV2YWxDb25maWdUb1ZlcnRleCIsICJnb29nbGVTZWFyY2hSZXRyaWV2YWxUb1ZlcnRleCIsICJ0b29sVG9WZXJ0ZXgiLCAiZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9WZXJ0ZXgiLCAidG9vbENvbmZpZ1RvVmVydGV4IiwgIlBhZ2VkSXRlbSIsICJPdXRjb21lIiwgIkxhbmd1YWdlIiwgIlR5cGUiLCAiSGFybUNhdGVnb3J5IiwgIkhhcm1CbG9ja01ldGhvZCIsICJIYXJtQmxvY2tUaHJlc2hvbGQiLCAiTW9kZSIsICJGaW5pc2hSZWFzb24iLCAiSGFybVByb2JhYmlsaXR5IiwgIkhhcm1TZXZlcml0eSIsICJCbG9ja2VkUmVhc29uIiwgIlRyYWZmaWNUeXBlIiwgIk1vZGFsaXR5IiwgIk1lZGlhUmVzb2x1dGlvbiIsICJEeW5hbWljUmV0cmlldmFsQ29uZmlnTW9kZSIsICJGdW5jdGlvbkNhbGxpbmdDb25maWdNb2RlIiwgIlNhZmV0eUZpbHRlckxldmVsIiwgIlBlcnNvbkdlbmVyYXRpb24iLCAiSW1hZ2VQcm9tcHRMYW5ndWFnZSIsICJGaWxlU3RhdGUiLCAiRmlsZVNvdXJjZSIsICJNYXNrUmVmZXJlbmNlTW9kZSIsICJDb250cm9sUmVmZXJlbmNlVHlwZSIsICJTdWJqZWN0UmVmZXJlbmNlVHlwZSIsICJNZWRpYU1vZGFsaXR5IiwgIlN0YXJ0U2Vuc2l0aXZpdHkiLCAiRW5kU2Vuc2l0aXZpdHkiLCAiQWN0aXZpdHlIYW5kbGluZyIsICJUdXJuQ292ZXJhZ2UiLCAiZXhlY3V0YWJsZUNvZGUiLCAiY29kZUV4ZWN1dGlvblJlc3VsdCIsICJjb252ZXJ0ZXJzLmNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29tbW9uLmZvcm1hdE1hcCIsICJjb252ZXJ0ZXJzLmNhY2hlZENvbnRlbnRGcm9tVmVydGV4IiwgImNvbnZlcnRlcnMuY3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuY2FjaGVkQ29udGVudEZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2UiLCAiY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5kZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy51cGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMudXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21NbGRldiIsICJ0LnRDb250ZW50IiwgIl9hIiwgImNvbW1vbi5nZXRWYWx1ZUJ5UGF0aCIsICJjb21tb24uc2V0VmFsdWVCeVBhdGgiLCAidC50RmlsZU5hbWUiLCAiY29udmVydGVycy5maWxlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMubGlzdEZpbGVzUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29tbW9uLmZvcm1hdE1hcCIsICJjb252ZXJ0ZXJzLmxpc3RGaWxlc1Jlc3BvbnNlRnJvbU1sZGV2IiwgInR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMuY3JlYXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuY3JlYXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2IiwgInR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmdldEZpbGVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmRlbGV0ZUZpbGVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmRlbGV0ZUZpbGVSZXNwb25zZUZyb21NbGRldiIsICJ0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2UiLCAidC50U2NoZW1hIiwgInQudFRvb2xzIiwgInQudFRvb2wiLCAidC50Q2FjaGVkQ29udGVudE5hbWUiLCAidC50U3BlZWNoQ29uZmlnIiwgInQudE1vZGVsIiwgInQudENvbnRlbnRzIiwgInQudENvbnRlbnRzRm9yRW1iZWQiLCAidC50Qnl0ZXMiLCAidmlkZW9Gcm9tTWxkZXYiLCAiZ2VuZXJhdGVkVmlkZW9Gcm9tTWxkZXYiLCAiZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldiIsICJnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldiIsICJ2aWRlb0Zyb21WZXJ0ZXgiLCAiZ2VuZXJhdGVkVmlkZW9Gcm9tVmVydGV4IiwgImdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4IiwgImdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmxpdmVTZXJ2ZXJNZXNzYWdlRnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmxpdmVTZXJ2ZXJNZXNzYWdlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMubGl2ZUNvbm5lY3RQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5saXZlQ29ubmVjdFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlIiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UiLCAiY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmdldE1vZGVsUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMubW9kZWxGcm9tVmVydGV4IiwgImNvbnZlcnRlcnMuZ2V0TW9kZWxQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLm1vZGVsRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5jb3VudFRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5jb21wdXRlVG9rZW5zUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuY29tcHV0ZVRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2UiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldiIsICJyZXNvdXJjZU5hbWUiLCAiY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnNUb1ZlcnRleCIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
